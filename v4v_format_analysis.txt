V4V SCENARIO FILE FORMAT ANALYSIS
==================================

FILE STRUCTURE OVERVIEW
======================

Magic Number: 0x0C 0x0C (constant across all files)

HEADER STRUCTURE (0x00 - 0x80)
=============================

Offset  Size  Type       Description
------  ----  --------   -----------
0x00    2     WORD       Magic Number (0x0C 0x0C)
0x02    2     WORD       Padding/Reserved
0x04    1     BYTE       Padding
0x05    1     BYTE       Version/Type Field (varies 0-3)
0x06    1     BYTE       Difficulty/Type Field (varies 0-6)
0x07    1     BYTE       Padding

0x08    4     DWORD      Constant value (0x40066666 = float 2.05)

0x0C    4     DWORD      Field Value 1 (purpose varies by scenario type)
0x10    2     WORD       Value A (possibly related to map/units)
0x12    2     WORD       Value B (possibly related to map/units)
0x14    2     WORD       Value C (varies with scenario)
0x16    2     WORD       Value D (varies with scenario)

0x18    2     WORD       Flags/Data Type (00, 01, or 03 observed)
0x1A    2     WORD       Offset 1 (little-endian, points to data section)
0x1C    2     WORD       Data marker (01 observed)
0x1E    2     WORD       Offset 2 (little-endian, points to data section)

0x20    2     WORD       Constant (01 00 observed)
0x22    2     WORD       Map/Unit parameter 1
0x24    2     WORD       Map/Unit parameter 2
0x26    2     WORD       Constant (01 01 observed)
0x28    2     WORD       Constant (00 00 observed)
0x2A    2     WORD       Large value (unit count? or points value)

0x2C-0x6F      Reserved/Padding (mostly zeros)

0x70-0x7F      Data (01 01 01 patterns observed)


TEXT SECTIONS (0x80 - ~0x800)
============================

0x80    ~128+ bytes     Scenario briefing text 1 (null-terminated)
0x100   ~128+ bytes     Scenario briefing text 2 (null-terminated)  
0x180   ~128+ bytes     Scenario briefing text 3 (null-terminated)

(Continued with padding/null bytes until reaching structured data)


LOCATION/WAYPOINT DATA (starting ~0x880)
========================================

Each location record is 32 bytes:

Offset  Size  Type       Description
------  ----  --------   -----------
+0x00   2     WORD       Padding/Prefix
+0x02   2     WORD       X Coordinate (little-endian)
+0x04   2     WORD       Y Coordinate (little-endian)
+0x06   2     WORD       Unknown value (purpose TBD)
+0x08   1     BYTE       String Length or Type Marker
+0x09   N     STRING     Location name (null-terminated)
+0x0A+  Pad   PADDING    Padding to 32-byte boundary


EXAMPLE LOCATION RECORDS:
MGFIRST.SCN at 0x880:
  Record 1: 00 00 | 05 00 | 06 00 | 42 00 | 0a | "Zon" (padded)
  Record 2: 00 00 | 07 00 | 43 00 | 0a [marker] | "Driehoek" (padded)
  Record 3: 00 00 | 01 00 | 46 00 | 0a [marker] | "Best Bridge" (padded)

UBCAMP.SCN at 0x880:
  Record 1: 00 00 | 0e 00 | 1e 00 | 18 00 | 12 | "Cherbourg" (padded)
  Record 2: 00 00 | 38 00 | 44 00 | 0e | "Carentan" (padded)
  Record 3: 00 00 | 42 00 | 41 00 | 0e | "Isigny" (padded)


FILE SIZE CORRELATIONS
======================

File Size vs Header Values:

File           Size     Ver Type @10  @12  @14  @16  @2a
------         --------  -- ----  --- ---  --- ---  ----
MGFIRST.SCN    36,192     2  0    74  18   8   7     0
MGHELL.SCN     35,108     2  1    60  26   2   45    5
GJSBEACH.SCN   92,306     3  2    44  50   0   0    88
UBCAMP.SCN    132,878     0  5    90  69  54  55  1000
GJSCAMP.SCN   118,454     3  6    44  50   0   0   544
VLCAMP.SCN    134,440     1  6    76  54  40  40    27

Observation: @2a values appear to correlate with scenario complexity/unit count


DATA SECTIONS
=============

The offsets at 0x1A and 0x1E point to additional data sections:

MGFIRST.SCN:
  Offset 0x7ebe (32446): Data section (mostly zero-padded, size ~8 bytes)
  Offset 0x7ec6 (32454): Data section (mostly zero-padded, size ~8 bytes)

GJSBEACH.SCN:
  Offset 0x7c59 (31833): Active data section with structured records
  Offset 0x7c6f (31855): Active data section

UBCAMP.SCN:
  Offset 0x7c59 (31833): Active data section (repeated pattern c1 01 00 00)
  Offset 0x7cf3 (31987): Active data section

Map/Tile data appears to be stored later in the file, ending with repeated
patterns of 0xa0 0x00 bytes before EOF.

END OF FILE (last 512 bytes):
Contains data structured in 16-byte records, many containing 0xa0 markers.

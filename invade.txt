seg000:0000 ;
seg000:0000 ; ษอออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
seg000:0000 ; บ	    This file is generated by The Interactive Disassembler (IDA)	บ
seg000:0000 ; บ	    Copyright (c) 2010 by Hex-Rays SA, <support@hex-rays.com>		บ
seg000:0000 ; บ			     Licensed to: Freeware version			บ
seg000:0000 ; ศอออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ
seg000:0000 ;
seg000:0000 ; Input MD5	  : F2ED35FBA641F3C6DB7729C7BFBC78FC
seg000:0000
seg000:0000 ; File Name	  : C:\Users\bsturk\Downloads\INVADE.EXE
seg000:0000 ; Format	  : MS-DOS executable (EXE)
seg000:0000 ; Base Address: 0h Range: 0h-F281h Loaded length: F274h
seg000:0000 ; Entry Point : 1BD:2382
seg000:0000
seg000:0000		    .386
seg000:0000		    .model large
seg000:0000
seg000:0000 ; อออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออ
seg000:0000
seg000:0000 ; Segment type: Pure code
seg000:0000 seg000	    segment byte public	'CODE' use16
seg000:0000		    assume cs:seg000
seg000:0000		    assume es:nothing, ss:nothing, ds:nothing, fs:nothing, gs:nothing
seg000:0000 word_0	    dw 1BDh		    ; DATA XREF: seg002:1549o
seg000:0000					    ; sub_7FED+9r ...
seg000:0002 word_2	    dw 0		    ; DATA XREF: sub_7FED+Dr
seg000:0002					    ; seg002:6496w ...
seg000:0004 word_4	    dw 3FCh		    ; DATA XREF: sub_7FED+11r
seg000:0004					    ; seg002:6492w
seg000:0006		    db 4Eh, 0Fh, 48h, 0
seg000:000A		    dw 0
seg000:000C		    db 20h, 0
seg000:000E		    dw 0
seg000:0010 byte_10	    db 40h, 0, 1, 0	    ; DATA XREF: seg002:0389r
seg000:0010					    ; seg002:0749r ...
seg000:0014 word_14	    dw 0		    ; DATA XREF: sub_27B9+5r
seg000:0014					    ; sub_27CB+5r
seg000:0016		    db 26h, 0Dh, 18h, 0, 80h, 0Dh, 18h,	0, 0B2h, 0Dh
seg000:0020		    dw seg seg002
seg000:0022		    db 0DEh, 0Dh, 18h, 0
seg000:0026		    db 0
seg000:0027		    db 0
seg000:0028		    dw seg seg000
seg000:002A		    db 0D6h, 0Ah, 20h, 0
seg000:002E		    db 0
seg000:002F byte_2F	    db 0		    ; DATA XREF: sub_D735-B76Dr
seg000:002F					    ; seg002:0414r ...
seg000:0030		    dw 64h
seg000:0032		    db 7Ch, 9
seg000:0034 byte_34	    db 15h		    ; DATA XREF: sub_7F65:loc_7FC3r
seg000:0035 byte_35	    db 5 dup(0), 96h, 9, 20h, 3	dup(0),	1, 6 dup(0)
seg000:0035					    ; DATA XREF: seg002:07D6r
seg000:0035					    ; seg002:0B31r ...
seg000:0047 byte_47	    db 4		    ; DATA XREF: sub_36DA+D9r
seg000:0048		    db 2 dup(0), 20h, 0, 0A0h, 0, 1, 0,	8, 70h,	40h, 0,	1
seg000:0048		    db 5 dup(0)
seg000:005A word_5A	    dw 0		    ; DATA XREF: sub_3A6F+5Bw
seg000:005C		    db 44h, 4Fh, 53h, 2Fh, 34h,	47h, 2 dup(20h), 43h, 6Fh
seg000:005C		    db 70h, 79h, 72h, 69h, 67h,	68h, 74h, 20h, 28h, 43h
seg000:0070 byte_70	    db 29h, 20h, 52h, 61h, 74h,	69h, 6Fh, 6Eh
seg000:0070					    ; DATA XREF: sub_A9D9+42o
seg000:0078 byte_78	    db 61h, 6Ch		    ; DATA XREF: sub_A9D9+42o
seg000:007A word_7A	    dw 5320h		    ; DATA XREF: sub_A5AE:loc_A837r
seg000:007C		    db 79h, 73h, 74h, 65h, 6Dh,	73h, 2Ch, 20h
seg000:007C					    ; DATA XREF: seg003:459Er
seg000:007C					    ; seg003:loc_DF40r	...
seg000:0084 byte_84	    db 49h		    ; DATA XREF: sub_A86Er
seg000:0085 aNc_19871993    db 'nc. 1987 - 1993',0  ; DATA XREF: sub_DE60+Br
seg000:0085					    ; seg003:loc_DEAAr
seg000:0095 byte_95	    db 0, 87h, 0DBh, 6 dup(0) ;	DATA XREF: sub_BE00+227r
seg000:0095					    ; seg000:09A4o ...
seg000:009E byte_9E	    db 0		    ; DATA XREF: sub_A8D3r
seg000:009E					    ; sub_A9D9+13r
seg000:009F		    db 3 dup(0)
seg000:00A2		    dd 0
seg000:00A6		    dw 0
seg000:00A8		    db 2 dup(0)
seg000:00AA		    dw 0
seg000:00AC		    dd 0		    ; DATA XREF: sub_BBCB:loc_BC4Er
seg000:00AC					    ; sub_BE00+220r ...
seg000:00B0		    db 0Ch dup(0)
seg000:00BC word_BC	    dw 0		    ; DATA XREF: sub_323B+26w
seg000:00BE word_BE	    dw 0		    ; DATA XREF: sub_323B+16r
seg000:00BE					    ; sub_323B+2Bw
seg000:00C0		    db 2 dup(0), 18h, 2	dup(0),	86h, 4 dup(0), 18h, 2 dup(0)
seg000:00C0					    ; DATA XREF: sub_BE00:loc_BE3Fr
seg000:00C0					    ; sub_BE00+234r ...
seg000:00C0		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:00C0		    db 86h, 4 dup(0)
seg000:00E2 word_E2	    dw 18h		    ; DATA XREF: sub_2DBD+Ew
seg000:00E2					    ; sub_2DF2+10w ...
seg000:00E4 byte_E4	    db 0		    ; DATA XREF: sub_2DBD+14w
seg000:00E4					    ; sub_2DF2+17w ...
seg000:00E5		    db 86h
seg000:00E6 word_E6	    dw 0		    ; DATA XREF: sub_2DF2+35w
seg000:00E6					    ; sub_2DBD+17w ...
seg000:00E8		    db 2 dup(0), 18h, 2	dup(0),	86h, 4 dup(0), 18h, 2 dup(0)
seg000:00E8		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:00E8		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:00E8		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:00E8		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:00E8		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:00E8		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:00E8		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:00E8		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:00E8		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:00E8		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:00E8		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:00E8		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:00E8		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:00E8		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:00E8		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:00E8		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:00E8		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:00E8		    db 86h, 4 dup(0)
seg000:020A word_20A	    dw 18h		    ; DATA XREF: seg002:0E07r
seg000:020C		    db 0, 86h
seg000:020E word_20E	    dw 0		    ; DATA XREF: seg002:0E0Ar
seg000:020E					    ; seg002:0E12w
seg000:0210		    db 2 dup(0), 18h, 0
seg000:0214 byte_214	    db 0		    ; DATA XREF: seg003:45A5r
seg000:0214					    ; seg003:loc_DF25r
seg000:0215		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0215					    ; DATA XREF: seg003:1A26r
seg000:0215		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h
seg000:022E word_22E	    dw 0		    ; DATA XREF: sub_A1A9+6r
seg000:022E					    ; seg002:093Er ...
seg000:0230		    db 2 dup(0), 18h, 2	dup(0) ; DATA XREF: sub_8E60+40r
seg000:0235		    dw 86h
seg000:0237		    db 3 dup(0), 18h, 2	dup(0),	86h, 2 dup(0)
seg000:0237					    ; DATA XREF: seg003:1F8Cr
seg000:0240		    dw 0
seg000:0242		    db 18h, 2 dup(0), 86h, 2 dup(0)
seg000:0248 word_248	    dw 0		    ; DATA XREF: seg002:0E0Er
seg000:024A word_24A	    dw 18h		    ; DATA XREF: seg003:1D9Fr
seg000:024A					    ; seg003:1FD2r
seg000:024C word_24C	    dw 8600h		    ; DATA XREF: seg003:1DBBr
seg000:024E		    db 4 dup(0), 18h, 2	dup(0),	86h, 4 dup(0), 18h, 2 dup(0)
seg000:024E					    ; DATA XREF: seg003:1FC2r
seg000:024E					    ; seg002:7248r ...
seg000:024E		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:024E		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:024E		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:024E		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:024E		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:024E		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:024E		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:024E		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:024E		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:024E		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:024E		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:024E		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:024E		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:024E		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:024E		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:024E		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:024E		    db 86h, 4 dup(0)
seg000:0362		    dw 18h
seg000:0364		    db 0, 86h, 4 dup(0), 18h, 2	dup(0),	86h, 4 dup(0), 18h
seg000:0364		    db 2 dup(0), 86h, 4	dup(0),	18h, 2 dup(0), 86h, 4 dup(0)
seg000:0364		    db 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0)
seg000:0364		    db 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0)
seg000:0364		    db 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0)
seg000:0364		    db 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0)
seg000:0364		    db 18h, 2 dup(0), 86h, 0
seg000:03C7 byte_3C7	    db 0		    ; DATA XREF: sub_9832+20r
seg000:03C8		    db 2 dup(0), 18h, 2	dup(0),	86h, 4 dup(0), 18h, 2 dup(0)
seg000:03C8		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:03C8		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:03C8		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:03C8		    db 86h, 4 dup(0)
seg000:040A word_40A	    dw 18h		    ; DATA XREF: sub_AEC5:loc_AEEFr
seg000:040A					    ; sub_AEC5+4Fr
seg000:040C		    db 0, 86h
seg000:040E word_40E	    dw 0		    ; DATA XREF: sub_AEC5+31r
seg000:040E					    ; sub_AEC5+AEr
seg000:0410		    db 2 dup(0), 18h, 2	dup(0),	86h, 2 dup(0)
seg000:0410					    ; DATA XREF: seg002:0690w
seg000:0410					    ; seg002:06DDw
seg000:0418 dword_418	    dd 180000h		    ; DATA XREF: seg002:7B16r
seg000:0418					    ; sub_9786+10r ...
seg000:041C		    db 0, 86h, 4 dup(0), 18h, 2	dup(0),	86h, 4 dup(0)
seg000:042A word_42A	    dw 18h		    ; DATA XREF: sub_9786+22r
seg000:042A					    ; sub_9832-32r ...
seg000:042C dword_42C	    dd 8600h		    ; DATA XREF: sub_97B9+3Cw
seg000:042C					    ; sub_AEC5+F9r ...
seg000:0430		    db 2 dup(0), 18h, 2	dup(0)
seg000:0435 word_435	    dw 86h		    ; DATA XREF: sub_AEC5+16Bw
seg000:0435					    ; sub_AEC5+172r ...
seg000:0437		    db 3 dup(0), 18h, 2	dup(0),	86h, 4 dup(0), 18h, 2 dup(0)
seg000:0437		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0437		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0437		    db 86h, 0
seg000:0467 word_467	    dw 0		    ; DATA XREF: seg002:0684w
seg000:0467					    ; seg002:0760w ...
seg000:0469 word_469	    dw 1800h		    ; DATA XREF: seg002:068Bw
seg000:0469					    ; seg002:0767w ...
seg000:046B		    align 2
seg000:046C word_46C	    dw 8600h		    ; DATA XREF: sub_A5AE+7B5r
seg000:046C					    ; sub_A5AE+820r ...
seg000:046E word_46E	    dw 0		    ; DATA XREF: sub_A5AE+811r
seg000:0470		    db 2 dup(0), 18h, 2	dup(0),	86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:0470		    db 86h
seg000:086E		    db 4 dup(0), 18h, 2	dup(0),	86h, 4 dup(0), 18h, 2 dup(0)
seg000:086E		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:086E		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:086E		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:086E		    db 86h, 4 dup(0), 18h, 2 dup(0), 86h, 4 dup(0), 18h, 2 dup(0)
seg000:086E		    db 86h, 0Ah	dup(0)
seg000:08C8 byte_8C8	    db 9Fh, 4 dup(0), 93h   ; DATA XREF: sub_7FED+3Fr
seg000:08CE		    db 2 dup(0)
seg000:08D0 byte_8D0	    db 0FFh, 7,	3 dup(0), 93h ;	DATA XREF: seg002:loc_26A5w
seg000:08D0					    ; seg002:0ADBr ...
seg000:08D6		    align 4
seg000:08D8		    db 2 dup(0FFh), 3 dup(0), 9Bh, 2 dup(0), 2 dup(0FFh), 3 dup(0)
seg000:08D8		    db 93h, 12h	dup(0),	2 dup(0FFh), 3 dup(0), 93h, 2 dup(0)
seg000:08D8		    db 0FFh, 0Fh, 0, 4,	0, 93h,	2 dup(0), 2 dup(0FFh), 3 dup(0)
seg000:08D8		    db 93h, 2 dup(0), 0Fh, 4 dup(0), 93h, 2 dup(0), 67h, 4 dup(0)
seg000:08D8		    db 81h, 2 dup(0), 2	dup(0FFh), 3 dup(0), 93h, 2 dup(0)
seg000:08D8		    db 2 dup(0FFh), 3 dup(0), 82h, 2 dup(0)
seg000:0930 word_930	    dw 0FFFFh		    ; DATA XREF: sub_3AFE+8w
seg000:0932 word_932	    dw 0		    ; DATA XREF: sub_3AFE+1Dw
seg000:0934 byte_934	    db 0		    ; DATA XREF: sub_3AFE+20w
seg000:0935		    db 9Bh, 0
seg000:0937 byte_937	    db 0		    ; DATA XREF: sub_3AFE+24w
seg000:0938 byte_938	    db 3Ch dup(0), 0FFh, 2, 4 dup(0) ; DATA XREF: sub_36DA+72r
seg000:097A		    dw 2F4Ch
seg000:097C word_97C	    dw 2FFh		    ; DATA XREF: sub_36DA+12Bw
seg000:097C					    ; sub_380F+3r ...
seg000:097E word_97E	    dw 0		    ; DATA XREF: sub_36DA:loc_37FFw
seg000:0980		    db 0
seg000:0981		    db 0Bh dup(0)
seg000:098C		    dw seg seg000
seg000:098E byte_98E	    db 4 dup(0), 0C0h, 0    ; DATA XREF: sub_36DA+11r
seg000:098E					    ; sub_36DA+FBr ...
seg000:0994		    dw seg seg000
seg000:0996 word_996	    dw 0		    ; DATA XREF: seg002:0B9Br
seg000:0996					    ; seg002:0BAFw ...
seg000:0998		    db 20h, 3 dup(0), 20h, 3 dup(0)
seg000:09A0		    dw seg seg000
seg000:09A2		    align 4
seg000:09A4		    dd byte_95+3
seg000:09A8		    dd byte_F8A
seg000:09AC		    dd word_1026
seg000:09B0 byte_9B0	    db 80h, 0, 28h, 0	    ; DATA XREF: sub_AEC5+1AAr
seg000:09B4 seg_9B4	    dw seg seg000	    ; DATA XREF: seg002:2866r
seg000:09B6 seg_9B6	    dw seg seg002	    ; DATA XREF: seg002:0433r
seg000:09B6					    ; seg002:04B7r ...
seg000:09B8		    db 2 dup(0), 0B2h, 8, 9Fh, 0Ah, 0A4h, 0Ah
seg000:09C0		    dw 2FCh
seg000:09C2		    db 0B5h, 2,	22h, 3 dup(0), 1, 26h dup(0), 94h, 0Bh
seg000:09C2					    ; DATA XREF: seg002:loc_8076w
seg000:09C2					    ; seg002:107Ew
seg000:09F1		    dw seg seg002
seg000:09F3		    align 2
seg000:09F4		    db 2, 3 dup(0), 0FFh, 0CFh,	4 dup(0), 3Eh, 7, 70h, 0, 1
seg000:09F4					    ; DATA XREF: sub_36DA+D2r
seg000:09F4		    db 0, 7, 0,	0A0h, 7, 70h, 7	dup(0)
seg000:0A10 seg_A10	    dw seg seg003	    ; DATA XREF: sub_3A6F+20r
seg000:0A10					    ; sub_3A6F+2Dw ...
seg000:0A12 word_A12	    dw 0		    ; DATA XREF: sub_3A6F+8r
seg000:0A12					    ; sub_3AFE+Br
seg000:0A14 byte_A14	    db 2 dup(0)		    ; DATA XREF: sub_36DA+4Br
seg000:0A16		    dw 0FF00h
seg000:0A18		    db 3, 9 dup(0), 50h, 15h
seg000:0A24 seg_A24	    dw seg seg000	    ; DATA XREF: sub_A8D3:loc_A903r
seg000:0A26 word_A26	    dw 0		    ; DATA XREF: sub_A91C+26r
seg000:0A28		    db 54h dup(0), 44h,	4Fh, 53h, 31h, 36h, 4Dh, 2Eh, 33h
seg000:0A28					    ; DATA XREF: sub_C31D+6r
seg000:0A28		    db 38h, 36h, 18h dup(0), 3,	3 dup(0), 50h, 0, 4Eh, 3Bh
seg000:0A28		    db 4Eh, 3Bh
seg000:0AA8		    dd 0
seg000:0AAC byte_AAC	    db 0Dh, 0Ah, 2 dup(0), 30h,	31h, 32h, 33h, 34h, 35h, 36h
seg000:0AAC					    ; CODE XREF: sub_9D10+77J
seg000:0AAC		    db 37h, 38h, 39h, 41h, 42h,	43h, 44h, 45h, 46h, 2 dup(0)
seg000:0AC2		    dw 2422h
seg000:0AC4 aError	    db ' error: ',0         ; DATA XREF: sub_8087+2Fr
seg000:0ACD		    db ' ',27h,0
seg000:0AD0 byte_AD0	    db 27h, 0, 3Dh, 0, 20h, 0 ;	DATA XREF: sub_8087+35r
seg000:0AD6		    db	34h ; 4
seg000:0AD7		    db	2Eh ; .
seg000:0AD8		    db	34h ; 4
seg000:0AD9		    db	35h ; 5
seg000:0ADA		    db	  0
seg000:0ADB		    db	  0
seg000:0ADC		    dw 0
seg000:0ADE		    db	  0
seg000:0ADF		    db	  0
seg000:0AE0		    db	  0
seg000:0AE1		    db	  0
seg000:0AE2		    db	  0
seg000:0AE3		    db	  0
seg000:0AE4		    db	  0
seg000:0AE5		    db	  0
seg000:0AE6		    db	  0
seg000:0AE7		    db	  0
seg000:0AE8		    db	  0
seg000:0AE9		    db	  0
seg000:0AEA		    db	  0
seg000:0AEB		    db	  0
seg000:0AEC dword_AEC	    dd 0		    ; DATA XREF: sub_39C7+12r
seg000:0AEC					    ; sub_39C7+18r ...
seg000:0AF0 word_AF0	    dw 0FFFFh		    ; DATA XREF: seg002:1E50r
seg000:0AF0					    ; seg002:1E56r
seg000:0AF2 dword_AF2	    dd 703EA3h		    ; DATA XREF: seg002:1E99r
seg000:0AF6		    db	9Dh ; 
seg000:0AF7		    db	1Eh
seg000:0AF8		    db	18h
seg000:0AF9		    db	  0
seg000:0AFA word_AFA	    dw 0AFAh		    ; DATA XREF: seg002:1E8Ar
seg000:0AFA					    ; seg002:1E90w
seg000:0AFC		    db	  0
seg000:0AFD		    db	  0
seg000:0AFE		    db	  0
seg000:0AFF		    db	  0
seg000:0B00		    db	  0
seg000:0B01		    db	  0
seg000:0B02		    db	  0
seg000:0B03		    db	  0
seg000:0B04		    db	  0
seg000:0B05		    db	  0
seg000:0B06		    db	  0
seg000:0B07		    db	  0
seg000:0B08		    db	  0
seg000:0B09		    db	  0
seg000:0B0A		    db	  0
seg000:0B0B		    db	  0
seg000:0B0C		    db	  0
seg000:0B0D		    db	  0
seg000:0B0E		    db	  0
seg000:0B0F		    db	  0
seg000:0B10		    dw seg seg004
seg000:0B12
seg000:0B12 ;  S	U B R O	U T I N	E 
seg000:0B12
seg000:0B12 ; Attributes: bp-based frame
seg000:0B12
seg000:0B12 sub_B12	    proc far		    ; CODE XREF: sub_5414+20P
seg000:0B12					    ; sub_5556+62P ...
seg000:0B12
seg000:0B12 arg_0	    = word ptr	6
seg000:0B12
seg000:0B12		    push    bp
seg000:0B13		    mov	    bp,	sp
seg000:0B15		    mov	    al,	ds:9F5h
seg000:0B18		    or	    al,	ds:0E6Ah
seg000:0B1C		    jnz	    short loc_B5D
seg000:0B1E		    mov	    bx,	[bp+arg_0]
seg000:0B21		    mov	    ax,	ds:0CE6h
seg000:0B24		    sub	    ax,	ds:0CDEh
seg000:0B28
seg000:0B28 loc_B28:				    ; DATA XREF: sub_BBCB+20Ar
seg000:0B28		    sub	    ax,	bx
seg000:0B2A
seg000:0B2A loc_B2A:				    ; DATA XREF: sub_BBCB+20Dr
seg000:0B2A		    ja	    short loc_B5D
seg000:0B2C		    neg	    ax
seg000:0B2E		    add	    ax,	0Fh
seg000:0B31		    mov	    cl,	4
seg000:0B33		    shr	    ax,	cl
seg000:0B35		    mov	    dx,	ax
seg000:0B37		    mov	    cx,	ds:0B10h
seg000:0B3B		    inc	    cx
seg000:0B3C		    add	    ax,	cx
seg000:0B3E		    sub	    ax,	ds:0CECh
seg000:0B42		    xchg    ax,	bx
seg000:0B43		    mov	    ax,	[bp+4]
seg000:0B46		    sub	    cx,	ax
seg000:0B48		    shl	    cx,	1
seg000:0B4A		    shl	    cx,	1
seg000:0B4C		    shl	    cx,	1
seg000:0B4E		    shl	    cx,	1
seg000:0B50		    mov	    ah,	4Ah ; 'J'
seg000:0B52		    mov	    es,	word ptr ds:0CECh
seg000:0B56		    int	    21h		    ; DOS - 2+ - ADJUST	MEMORY BLOCK SIZE (SETBLOCK)
seg000:0B56					    ; ES = segment address of block to change
seg000:0B56					    ; BX = new size in paragraphs
seg000:0B58		    mov	    ax,	0
seg000:0B5B		    jnb	    short loc_B62
seg000:0B5D
seg000:0B5D loc_B5D:				    ; CODE XREF: sub_B12+Aj
seg000:0B5D					    ; sub_B12:loc_B2Aj	...
seg000:0B5D		    pop	    bp
seg000:0B5E		    sti
seg000:0B5F		    push    ss
seg000:0B60		    pop	    es
seg000:0B61		    retf
seg000:0B62 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg000:0B62
seg000:0B62 loc_B62:				    ; CODE XREF: sub_B12+49j
seg000:0B62		    mov	    ds:5Ah, bx
seg000:0B66		    add	    ds:0B10h, dx
seg000:0B6A		    mov	    ax,	dx
seg000:0B6C		    push    cx
seg000:0B6D		    mov	    cl,	4
seg000:0B6F		    shl	    ax,	cl
seg000:0B71		    pop	    cx
seg000:0B72		    add	    ds:0CE6h, ax
seg000:0B76		    mov	    ax,	[bp+4]
seg000:0B79		    mov	    ds,	ax
seg000:0B7B		    add	    ax,	dx
seg000:0B7D		    mov	    es,	ax	    ; DATA XREF: sub_A5AE+53w
seg000:0B7F		    push    si
seg000:0B80		    push    di
seg000:0B81		    mov	    si,	cx
seg000:0B83		    dec	    si
seg000:0B84		    dec	    si
seg000:0B85		    mov	    di,	si
seg000:0B87		    std
seg000:0B88		    cli
seg000:0B89		    shr	    cx,	1
seg000:0B8B		    rep	movsw
seg000:0B8D		    cld
seg000:0B8E		    push    ss
seg000:0B8F		    pop	    ds
seg000:0B90		    mov	    dx,	[bp+4]
seg000:0B93		    mov	    [bp+4], ax
seg000:0B96
seg000:0B96 loc_B96:				    ; DATA XREF: sub_27F8+67r
seg000:0B96					    ; sub_286F+18r ...
seg000:0B96		    mov	    es:28B9h, ax
seg000:0B9A		    mov	    ds:9F1h, ax
seg000:0B9D		    mov	    ds:9B6h, ax	    ; DATA XREF: sub_A5AE+12r
seg000:0B9D					    ; sub_A5AE+3Aw ...
seg000:0BA0		    mov	    ds:20h, ax
seg000:0BA3		    cmp	    word ptr ds:0A12h, 0
seg000:0BA8		    jnz	    short loc_BB2
seg000:0BAA		    mov	    cx,	ax
seg000:0BAC		    sub	    cx,	dx
seg000:0BAE		    add	    ds:0A10h, cx
seg000:0BB2
seg000:0BB2 loc_BB2:				    ; CODE XREF: sub_B12+96j
seg000:0BB2		    mov	    es,	word ptr ds:0CECh
seg000:0BB6
seg000:0BB6 loc_BB6:				    ; DATA XREF: seg002:0952r
seg000:0BB6					    ; seg002:7242r
seg000:0BB6		    cmp	    es:0Ch, dx
seg000:0BBB		    jnz	    short loc_BC1   ; DATA XREF: sub_24FC+1r
seg000:0BBD		    mov	    es:0Ch, ax	    ; DATA XREF: sub_2501+3r
seg000:0BC1
seg000:0BC1 loc_BC1:				    ; CODE XREF: sub_B12+A9j
seg000:0BC1		    xor	    bx,	bx
seg000:0BC3		    mov	    es,	bx
seg000:0BC5		    assume es:seg000
seg000:0BC5		    mov	    di,	0F8Ch
seg000:0BC8		    mov	    si,	1028h	    ; DATA XREF: sub_9D10+4Ew
seg000:0BCB		    mov	    cx,	27h ; '''   ; DATA XREF: sub_9D10+67w
seg000:0BCE
seg000:0BCE loc_BCE:				    ; CODE XREF: sub_B12+D5j
seg000:0BCE		    cmp	    [bx+di], dx
seg000:0BD0		    jnz	    short loc_BD4
seg000:0BD2		    mov	    [bx+di], ax
seg000:0BD4
seg000:0BD4 loc_BD4:				    ; CODE XREF: sub_B12+BEj
seg000:0BD4		    cmp	    [bx+si], dx
seg000:0BD6		    jnz	    short loc_BDA
seg000:0BD8		    mov	    [bx+si], ax
seg000:0BDA
seg000:0BDA loc_BDA:				    ; CODE XREF: sub_B12+C4j
seg000:0BDA		    cmp	    es:[bx+22h], dx
seg000:0BDE		    jnz	    short loc_BE4
seg000:0BE0		    mov	    es:[bx+22h], ax
seg000:0BE4
seg000:0BE4 loc_BE4:				    ; CODE XREF: sub_B12+CCj
seg000:0BE4		    add	    bx,	4
seg000:0BE7		    loop    loc_BCE
seg000:0BE9		    mov	    bl,	ds:34h
seg000:0BED		    cmp	    bl,	2Eh ; '.'
seg000:0BF0		    jbe	    short loc_C02
seg000:0BF2		    xor	    bh,	bh
seg000:0BF4		    shl	    bx,	1
seg000:0BF6		    shl	    bx,	1
seg000:0BF8		    cmp	    es:[bx+2], dx
seg000:0BFC		    jnz	    short loc_C02
seg000:0BFE		    mov	    es:[bx+2], ax
seg000:0C02
seg000:0C02 loc_C02:				    ; CODE XREF: sub_B12+DEj
seg000:0C02					    ; sub_B12+EAj
seg000:0C02		    push    ax
seg000:0C03		    pop	    es
seg000:0C04		    assume es:nothing
seg000:0C04		    mov	    es:12CAh, ax
seg000:0C08		    pop	    di
seg000:0C09		    pop	    si
seg000:0C0A		    jmp	    loc_B5D
seg000:0C0A sub_B12	    endp
seg000:0C0A
seg000:0C0A ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg000:0C0D		    align 2
seg000:0C0E		    db 78h, 0Fh	dup(0),	0FFh, 3	dup(0),	8, 0, 10h, 0, 18h
seg000:0C0E		    db 0, 20h, 0, 28h, 0, 30h, 0, 38h, 0, 40h, 0, 48h, 0, 50h
seg000:0C0E		    db 3 dup(0), 60h, 3	dup(0),	70h, 0,	78h, 0,	80h, 5 dup(0)
seg000:0C0E		    db 3, 0, 8,	5 dup(0), 45h, 2 dup(72h), 6Fh,	72h, 20h, 5Bh
seg000:0C0E		    db 33h, 35h, 5Dh, 3Ah, 20h,	0
seg000:0C5B aGeneralProtect db 'General Protection Fault',0 ; CODE XREF: seg002:0FE9J
seg000:0C74 aInvalidOpcode  db 'Invalid Opcode',0
seg000:0C83 aPageFault	    db 'Page Fault',0
seg000:0C8E		    db 55h
seg000:0C8F dword_C8F	    dd 7078656Eh	    ; DATA XREF: seg003:loc_B6A6w
seg000:0C8F					    ; sub_C226+5Cr ...
seg000:0C93 word_C93	    dw 6365h		    ; DATA XREF: seg003:1D9Bw
seg000:0C93					    ; sub_A9D9-4Fr ...
seg000:0C95		    db 74h
seg000:0C96 word_C96	    dw 6465h		    ; DATA XREF: sub_A9D9-6Cr
seg000:0C98		    db 20h, 49h, 6Eh, 74h
seg000:0C9C word_C9C	    dw 7265h		    ; DATA XREF: seg002:6BBBr
seg000:0C9C					    ; sub_B836+8r
seg000:0C9E word_C9E	    dw 7572h		    ; DATA XREF: seg002:6B7Dw
seg000:0C9E					    ; sub_A86E+8r ...
seg000:0CA0		    db 70h, 74h, 0, 20h, 69h, 6Eh, 20h,	0, 20h,	61h, 74h, 20h
seg000:0CAC word_CAC	    dw 3A00h		    ; DATA XREF: sub_A9D9-66r
seg000:0CAE		    db 0, 20h, 6Dh, 61h, 70h, 0
seg000:0CB4 byte_CB4	    db 63h		    ; DATA XREF: sub_A9D9-21r
seg000:0CB5		    db 6Fh, 64h, 65h, 0, 2 dup(73h), 0,	64h, 73h, 0, 65h, 73h
seg000:0CB5					    ; CODE XREF: seg002:loc_2BBEJ
seg000:0CB5					    ; DATA XREF: sub_307C+2r ...
seg000:0CB5		    db 0, 61h, 78h, 0, 62h, 78h, 0, 63h, 78h, 0, 64h, 78h
seg000:0CB5		    db 0, 73h, 70h, 0, 62h, 70h, 0, 73h, 69h, 0, 64h, 69h
seg000:0CB5		    db 3 dup(0)
seg000:0CDC word_CDC	    dw 0		    ; DATA XREF: start+19w
seg000:0CDE		    dw 1BCCh
seg000:0CE0		    dw seg seg000
seg000:0CE2		    align 4
seg000:0CE4		    db 0DEh, 0Ch
seg000:0CE6 word_CE6	    dw 0		    ; DATA XREF: start+15w
seg000:0CE8 word_CE8	    dw 0		    ; DATA XREF: sub_43B4+25w
seg000:0CEA		    align 4
seg000:0CEC word_CEC	    dw 0		    ; DATA XREF: sub_3A6F+56r
seg000:0CEC					    ; sub_3A6F:loc_3ADAr ...
seg000:0CEE word_CEE	    dw 0		    ; DATA XREF: start+4Aw
seg000:0CEE					    ; sub_4030+8w ...
seg000:0CF0 byte_CF0	    db 0		    ; CODE XREF: seg002:loc_2BC3J
seg000:0CF0					    ; DATA XREF: sub_43B4w
seg000:0CF1		    align 2
seg000:0CF2 word_CF2	    dw 0		    ; DATA XREF: start+73r
seg000:0CF2					    ; sub_4030+C3w
seg000:0CF4 word_CF4	    dw 0		    ; DATA XREF: start+6Fr
seg000:0CF4					    ; sub_4030+D6w
seg000:0CF6 word_CF6	    dw 0		    ; DATA XREF: start+6Br
seg000:0CF8 dword_CF8	    dd 81810000h	    ; DATA XREF: sub_4030+2Ew
seg000:0CF8					    ; sub_4030+E4r ...
seg000:0CFC		    db 81h, 2 dup(1), 0Fh dup(0), 5, 0
seg000:0D10 word_D10	    dw 0		    ; DATA XREF: sub_4030w
seg000:0D10					    ; sub_4030+18Ar
seg000:0D12		    db 0, 16h, 2 dup(2), 18h, 0Dh, 9, 3	dup(0Ch), 7, 8,	2 dup(16h)
seg000:0D12		    db 0FFh, 2,	0Dh, 12h, 2, 0FFh, 0Eh dup(0), 38h, 0Dh, 6 dup(0)
seg000:0D12		    db 4Eh, 0Dh, 2 dup(0), 54h,	0Dh, 2 dup(0), 68h, 0, 58h
seg000:0D12		    db 0, 18h, 2Ah, 2 dup(0), 18h, 7 dup(0), 0FFh, 7, 4	dup(0)
seg000:0D5A		    db 6 dup(0)
seg000:0D60 byte_D60	    db 10h dup(0), 80h,	0Bh dup(0), 20h, 3 dup(0)
seg000:0D60					    ; DATA XREF: sub_36DA+8w
seg000:0D60					    ; seg002:282Cr ...
seg000:0D80 byte_D80	    db 0		    ; DATA XREF: sub_AEC5+104w
seg000:0D80					    ; sub_AEC5+11Ew
seg000:0D81		    db 15h dup(0)
seg000:0D96 word_D96	    dw 0		    ; DATA XREF: sub_AE48+6r
seg000:0D96					    ; sub_AE9F+6r ...
seg000:0D98		    db 6 dup(0), 68h, 11h dup(0)
seg000:0DB0		    dd 0
seg000:0DB4 word_DB4	    dw 0		    ; DATA XREF: sub_AEC5+C6r
seg000:0DB4					    ; sub_AEC5+D5r
seg000:0DB6		    db 6 dup(0), 20h, 3	dup(0),	18h, 3 dup(0), 20h, 3 dup(0)
seg000:0DB6		    db 20h, 0Bh	dup(0),	68h, 5 dup(0), 68h, 0, 2 dup(0FFh)
seg000:0DB6		    db 3 dup(0), 93h, 0Ch dup(0)
seg000:0DEE		    dw 1
seg000:0DF0		    dw 0FF00h
seg000:0DF2		    dw 1
seg000:0DF4		    align 8
seg000:0DF8		    dw 0
seg000:0DFA		    db 5 dup(0)
seg000:0DFF		    db 0
seg000:0E00		    db 0, 70h, 61h, 67h, 65h, 73h, 20h,	61h, 2 dup(6Ch), 6Fh
seg000:0E00					    ; DATA XREF: seg003:45ADr
seg000:0E00					    ; seg003:45DCw ...
seg000:0E00		    db 63h, 0, 70h, 61h, 67h, 65h, 73h,	20h, 66h
seg000:0E14 word_E14	    dw 6572h		    ; DATA XREF: sub_E658+3r
seg000:0E16		    db 65h, 0, 44h, 4Fh, 53h, 2Fh, 31h,	36h, 4Dh, 0, 44h, 4Fh
seg000:0E16		    db 53h, 2Fh, 31h, 36h, 4Dh,	20h
seg000:0E28 dword_E28	    dd 746F7250h	    ; DATA XREF: sub_9786+Aw
seg000:0E28					    ; seg003:0C14r
seg000:0E2C		    db 65h, 63h
seg000:0E2E word_E2E	    dw 6574h		    ; DATA XREF: sub_8F34+49r
seg000:0E2E					    ; seg003:1A08r ...
seg000:0E30		    db 64h, 20h
seg000:0E32 word_E32	    dw 6F4Dh		    ; DATA XREF: seg002:7506r
seg000:0E34		    db 64h, 65h, 20h, 52h, 75h,	6Eh, 2Dh, 54h, 69h, 6Dh, 65h
seg000:0E34		    db 5 dup(20h), 56h
seg000:0E45 byte_E45	    db 65h		    ; DATA XREF: sub_90F2+68w
seg000:0E46		    db 72h, 73h, 69h, 6Fh
seg000:0E4A word_E4A	    dw 206Eh		    ; DATA XREF: sub_8E60+26w
seg000:0E4A					    ; sub_8F34+12r ...
seg000:0E4C byte_E4C	    db 2 dup(0), 52h, 55h, 4Eh,	2Eh, 43h, 4Fh, 4Dh, 0, 4Ch
seg000:0E4C					    ; DATA XREF: seg002:7262r
seg000:0E4C		    db 4Fh, 41h, 44h, 45h, 52h
seg000:0E5C word_E5C	    dw 2E33h		    ; DATA XREF: sub_9832+30r
seg000:0E5C					    ; sub_9832+61r
seg000:0E5E		    db 45h, 58h, 45h, 0, 2Eh, 45h, 58h,	50h, 0,	43h, 0,	1
seg000:0E6A		    db 0
seg000:0E6B		    align 2
seg000:0E6C dword_E6C	    dd 17F3h		    ; DATA XREF: sub_9832+7Ar
seg000:0E70		    dw 0FFFFh
seg000:0E72		    db 0
seg000:0E73 aVm_exp	    db '\VM.EXP',0
seg000:0E7B aVmd_exp	    db '\VMD.EXP',0
seg000:0E84 aDos16m	    db 'DOS16M=',0
seg000:0E8C aSwmode	    db 'SWMODE=',0
seg000:0E94 aInboard	    db 'INBOARD',0
seg000:0E9C aFast	    db 'FAST',0
seg000:0EA1 aVcpi	    db 'VCPI',0
seg000:0EA6 aDpmi	    db 'DPMI',0
seg000:0EAB aPs2	    db 'PS2',0
seg000:0EAF aPs2_0	    db 'PS/2',0
seg000:0EB4 aNovm	    db 'NOVM',0
seg000:0EB9 aA20	    db 'A20',0
seg000:0EBD aTstk	    db 'TSTK',0
seg000:0EC2 aDos16m_0	    db 'DOS16M=',0
seg000:0ECA word_ECA	    dw 400h		    ; DATA XREF: sub_7FD0+11w
seg000:0ECC		    dw 3C00h
seg000:0ECE word_ECE	    dw 4000h		    ; DATA XREF: sub_7FD0+18w
seg000:0ED0 byte_ED0	    db 1, 30h, 58h, 0	    ; DATA XREF: seg002:0B06r
seg000:0ED4		    dd 0
seg000:0ED8		    db 0, 5Ch, 56h, 4Dh, 2Eh, 0, 5Ch, 56h, 4Dh,	44h, 2Eh, 0
seg000:0ED8		    db 51h, 45h, 58h, 54h, 3 dup(58h), 30h, 2 dup(0), 56h
seg000:0ED8		    db 44h, 49h, 53h, 4Bh, 0
seg000:0EF4 aMicrosoftEmmCt db 'MICROSOFT EMM CTRL',0
seg000:0F07		    align 2
seg000:0F08		    db 0A5h, 0Fh, 0F0h,	5Ah, 43h, 4Fh, 4Dh, 50h, 0, 41h, 51h
seg000:0F08		    db 0, 45h, 2 dup(52h), 31h,	36h, 4Dh, 3Dh, 0, 2Eh, 45h
seg000:0F08		    db 54h, 58h, 0
seg000:0F21		    db 0
seg000:0F22		    dw 1BCCh
seg000:0F24 aRmsg	    db 'RMSG',0
seg000:0F29 aEssage	    db 'ESSAGE',0
seg000:0F30 aOntinue	    db 'ONTINUE',0
seg000:0F38 aNdmsg	    db 'NDMSG',0
seg000:0F3E		    db 2 dup(0), 0FCh, 23h, 0FCh, 23h, 0FCh, 23h, 4 dup(0)
seg000:0F4A		    dw seg seg004
seg000:0F4C		    db 2Eh dup(0)	    ; DATA XREF: seg002:0BBAr
seg000:0F7A word_F7A	    dw 0		    ; DATA XREF: seg002:0423w
seg000:0F7A					    ; seg002:0454r ...
seg000:0F7C byte_F7C	    db 8 dup(0)		    ; DATA XREF: seg002:041Fw
seg000:0F7C					    ; seg002:0450r ...
seg000:0F84 dword_F84	    dd 0		    ; DATA XREF: sub_7F65+44w
seg000:0F84					    ; sub_7F65+40w
seg000:0F88		    dw 0
seg000:0F8A byte_F8A	    db 9Ch dup(0)	    ; DATA XREF: seg000:09A8o
seg000:1026 word_1026	    dw 0		    ; DATA XREF: seg000:09ACo
seg000:1026					    ; sub_AEC5+12Ar ...
seg000:1028		    db 0B2h dup(0)
seg000:10DA byte_10DA	    db 18h dup(0)	    ; CODE XREF: sub_F184-C4A2J
seg000:10F2		    dd 0
seg000:10F6		    db 5Ah dup(0)
seg000:1150 word_1150	    dw 0		    ; DATA XREF: sub_286F+51r
seg000:1150					    ; sub_3011+4Er ...
seg000:1152 word_1152	    dw 0		    ; DATA XREF: sub_A5AE+2Br
seg000:1152					    ; sub_A628+Bw
seg000:1154		    db 9 dup(0)
seg000:115D byte_115D	    db 0		    ; DATA XREF: sub_A5AE:loc_A867w
seg000:115D					    ; sub_A86E+12w ...
seg000:115E		    db 18h dup(0)
seg000:1176 word_1176	    dw 0		    ; DATA XREF: sub_9832-Fw
seg000:1178		    db 2 dup(0)
seg000:117A dword_117A	    dd 0		    ; DATA XREF: sub_286F+Cw
seg000:117A					    ; sub_286F+2Fr ...
seg000:117E		    db 0
seg000:117F byte_117F	    db 0		    ; DATA XREF: sub_9720+2Dr
seg000:117F					    ; sub_9786+19r ...
seg000:1180 byte_1180	    db 0		    ; DATA XREF: sub_9832-21r
seg000:1180					    ; sub_9832r
seg000:1181		    align 2
seg000:1182		    db 0
seg000:1183		    db 3 dup(0)
seg000:1186		    db 0
seg000:1187		    db 4Bh dup(0)
seg000:11D2		    db 0
seg000:11D3		    align 2
seg000:11D4		    dw 0
seg000:11D6		    db 4 dup(0)		    ; DATA XREF: sub_36DA+2Dr
seg000:11D6					    ; sub_36DA+F1r
seg000:11DA		    dw 0
seg000:11DC		    dw 0
seg000:11DE		    align 4
seg000:11E0		    dw 0
seg000:11E2 word_11E2	    dw 0		    ; DATA XREF: seg003:1F70r
seg000:11E4 word_11E4	    dw 0		    ; DATA XREF: sub_380F+1Bw
seg000:11E6 word_11E6	    dw 0		    ; DATA XREF: sub_380F+18w
seg000:11E8 byte_11E8	    db 6 dup(0)		    ; CODE XREF: sub_A683+9J
seg000:11E8					    ; DATA XREF: sub_380F+10w ...
seg000:11EE		    dw 0
seg000:11F0 byte_11F0	    db 0		    ; DATA XREF: seg002:loc_440Fr
seg000:11F0					    ; seg002:loc_443Br
seg000:11F1		    db 0
seg000:11F2		    dw 0
seg000:11F4		    dw 0
seg000:11F6		    dw 0
seg000:11F8		    db 0Eh dup(0)
seg000:1206		    dw 0
seg000:1208		    db 6 dup(0)		    ; DATA XREF: sub_38E1+DAw
seg000:1208					    ; sub_38E1+DEr
seg000:120E		    dw 0
seg000:120E seg000	    ends
seg000:120E
seg001:0000 ; อออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออ
seg001:0000
seg001:0000 ; Segment type: Uninitialized
seg001:0000 seg001	    segment byte stack 'STACK' use16
seg001:0000		    assume cs:seg001
seg001:0000		    assume es:nothing, ss:nothing, ds:nothing, fs:nothing, gs:nothing
seg001:0000		    db 340h dup(0), 57h, 49h, 43h, 42h,	34h dup(0), 6Fh, 9 dup(0)
seg001:0000		    db 50h, 57h, 58h, 5Fh, 54h dup(0), 69h, 6Eh, 76h, 6Fh
seg001:0000		    db 6Ch, 75h, 6Eh, 74h, 61h,	72h, 79h, 20h, 73h, 77h, 69h
seg001:0000		    db 74h, 63h, 68h, 20h, 74h,	6Fh, 20h, 72h, 65h, 61h, 6Ch
seg001:0000		    db 20h, 6Dh, 6Fh, 64h, 65h,	0, 1, 0, 6Eh, 6Fh, 74h,	20h
seg001:0000		    db 65h, 6Eh, 6Fh, 75h, 67h,	68h, 20h, 65h, 78h, 74h, 65h
seg001:0000		    db 6Eh, 64h, 65h, 64h, 20h,	6Dh, 65h, 6Dh, 6Fh, 72h, 79h
seg001:0000		    db 0, 2, 0,	6Eh, 6Fh, 74h, 20h, 61h, 20h, 44h, 4Fh,	53h
seg001:0000		    db 2Fh, 31h, 36h, 4Dh, 20h,	65h, 78h, 65h, 63h, 75h, 74h
seg001:0000		    db 61h, 62h, 6Ch, 65h, 0, 3, 0, 6Eh, 6Fh, 20h, 44h,	4Fh
seg001:0000		    db 53h, 20h, 6Dh, 65h, 6Dh,	6Fh, 72h, 79h, 20h, 66h, 6Fh
seg001:0000		    db 72h, 20h, 74h, 72h, 61h,	6Eh, 73h, 70h, 61h, 72h, 65h
seg001:0000		    db 6Eh, 74h, 20h, 73h, 65h,	67h, 6Dh, 65h, 6Eh, 74h, 0
seg001:0000		    db 4, 0, 63h, 61h, 2 dup(6Eh), 6Fh,	74h, 20h, 6Dh, 61h
seg001:0000		    db 6Bh, 65h, 20h, 74h, 72h,	61h, 6Eh, 73h, 70h, 61h, 72h
seg001:0000		    db 65h, 6Eh, 74h, 20h, 73h,	65h, 67h, 6Dh, 65h, 6Eh, 74h
seg001:0000		    db 0, 5, 0,	74h, 2 dup(6Fh), 20h, 6Dh, 61h,	6Eh, 79h, 20h
seg001:0000		    db 74h, 72h, 61h, 6Eh, 73h,	70h, 61h, 72h, 65h, 6Eh, 74h
seg001:0000		    db 20h, 73h, 65h, 67h, 6Dh,	65h, 6Eh, 74h, 73h, 0, 6, 0
seg001:0000		    db 6Eh, 6Fh, 74h, 20h, 65h,	6Eh, 6Fh, 75h, 67h, 68h, 20h
seg001:0000		    db 6Dh, 65h, 6Dh, 6Fh, 72h,	79h, 20h, 74h, 6Fh, 20h, 6Ch
seg001:0000		    db 6Fh, 61h, 64h, 20h, 70h,	72h, 6Fh, 67h, 72h, 61h, 6Dh
seg001:0000		    db 0, 7, 0,	6Eh, 6Fh, 20h, 72h, 65h, 6Ch, 6Fh, 63h,	61h
seg001:0000		    db 74h, 69h, 6Fh, 6Eh, 20h,	73h, 65h, 67h, 6Dh, 65h, 6Eh
seg001:0000		    db 74h, 0, 8, 0, 63h, 61h, 2 dup(6Eh), 6Fh,	74h, 20h, 6Fh
seg001:0000		    db 70h, 65h, 6Eh, 20h, 66h,	69h, 6Ch, 65h, 0, 9, 0,	63h
seg001:0000		    db 61h, 2 dup(6Eh),	6Fh, 74h, 20h, 61h, 2 dup(6Ch),	6Fh
seg001:0000		    db 63h, 61h, 74h, 65h, 20h,	74h, 73h, 74h, 61h, 63h, 6Bh
seg001:0000		    db 0, 0Ah, 0, 63h, 61h, 2 dup(6Eh),	6Fh, 74h, 20h, 61h
seg001:0000		    db 2 dup(6Ch), 6Fh,	63h, 61h, 74h, 65h, 20h, 6Dh, 65h
seg001:0000		    db 6Dh, 6Fh, 72h, 79h, 20h,	66h, 6Fh, 72h, 20h, 47h, 44h
seg001:0000		    db 54h, 0, 0Bh, 0, 6Eh, 6Fh, 20h, 70h, 61h,	2 dup(73h)
seg001:0000		    db 75h, 70h, 20h, 73h, 74h,	61h, 63h, 6Bh, 20h, 73h, 65h
seg001:0000		    db 6Ch, 65h, 63h, 74h, 6Fh,	72h, 73h, 20h, 2 dup(2Dh)
seg001:0000		    db 20h, 47h, 44h, 54h, 20h,	74h, 2 dup(6Fh), 20h, 73h
seg001:0000		    db 6Dh, 61h, 2 dup(6Ch), 0,	0Ch, 0,	6Eh, 6Fh, 20h, 63h
seg001:0000		    db 6Fh, 6Eh, 74h, 72h, 6Fh,	6Ch, 20h, 70h, 72h, 6Fh, 67h
seg001:0000		    db 72h, 61h, 6Dh, 20h, 73h,	65h, 6Ch, 65h, 63h, 74h, 6Fh
seg001:0000		    db 72h, 73h, 20h, 2	dup(2Dh), 20h, 47h, 44h, 54h, 20h
seg001:0000		    db 74h, 2 dup(6Fh),	20h, 73h, 6Dh, 61h, 2 dup(6Ch),	0
seg001:0000		    db 0Dh, 0, 63h, 61h, 2 dup(6Eh), 6Fh, 74h, 20h, 61h, 2 dup(6Ch)
seg001:0000		    db 6Fh, 63h, 61h, 74h, 65h,	20h, 74h, 72h, 61h, 6Eh, 73h
seg001:0000		    db 66h, 65h, 72h, 20h, 62h,	75h, 2 dup(66h), 65h, 72h
seg001:0000		    db 0, 0Eh, 0, 70h, 72h, 65h, 6Dh, 61h, 74h,	75h, 72h, 65h
seg001:0000		    db 20h, 45h, 4Fh, 46h, 0, 0Fh, 0, 70h, 72h,	6Fh, 74h, 65h
seg001:0000		    db 63h, 74h, 65h, 64h, 20h,	6Dh, 6Fh, 64h, 65h, 20h, 61h
seg001:0000		    db 76h, 61h, 69h, 6Ch, 61h,	62h, 6Ch, 65h, 20h, 6Fh, 6Eh
seg001:0000		    db 6Ch, 79h, 20h, 77h, 69h,	74h, 68h, 20h, 33h, 38h, 36h
seg001:0000		    db 20h, 6Fh, 72h, 20h, 34h,	38h, 36h, 0, 10h, 0, 63h, 61h
seg001:0000		    db 2 dup(6Eh), 6Fh,	74h, 20h, 72h, 75h, 6Eh, 20h, 75h
seg001:0000		    db 6Eh, 64h, 65h, 72h, 20h,	4Fh, 53h, 2Fh, 32h, 0, 11h
seg001:0000		    db 0, 73h, 79h, 73h, 74h, 65h, 6Dh,	20h, 73h, 6Fh, 66h
seg001:0000		    db 74h, 77h, 61h, 72h, 65h,	20h, 64h, 6Fh, 65h, 73h, 20h
seg001:0000		    db 6Eh, 6Fh, 74h, 20h, 66h,	6Fh, 2 dup(6Ch), 6Fh, 77h
seg001:0000		    db 20h, 56h, 43h, 50h, 49h,	20h, 6Fh, 72h, 20h, 44h, 50h
seg001:0000		    db 4Dh, 49h, 20h, 73h, 70h,	65h, 63h, 69h, 66h, 69h, 63h
seg001:0000		    db 61h, 74h, 69h, 6Fh, 6Eh,	73h, 0,	12h, 0,	79h, 6Fh, 75h
seg001:0000		    db 20h, 6Dh, 75h, 73h, 74h,	20h, 73h, 70h, 65h, 63h, 69h
seg001:0000		    db 66h, 79h, 20h, 61h, 6Eh,	20h, 65h, 78h, 74h, 65h, 6Eh
seg001:0000		    db 64h, 65h, 64h, 20h, 6Dh,	65h, 6Dh, 6Fh, 72h, 79h, 20h
seg001:0000		    db 72h, 61h, 6Eh, 67h, 65h,	20h, 28h, 53h, 45h, 54h, 20h
seg001:0000		    db 44h, 4Fh, 53h, 31h, 36h,	4Dh, 3Dh, 20h, 29h, 0, 13h
seg001:0000		    db 0, 63h, 6Fh, 6Dh, 70h, 75h, 74h,	65h, 72h, 20h, 6Dh
seg001:0000		    db 75h, 73h, 74h, 20h, 62h,	65h, 20h, 41h, 54h, 2Dh, 20h
seg001:0000		    db 6Fh, 72h, 20h, 50h, 53h,	2Fh, 32h, 2Dh, 20h, 63h, 6Fh
seg001:0000		    db 6Dh, 70h, 61h, 74h, 69h,	62h, 6Ch, 65h, 0, 14h, 0, 75h
seg001:0000		    db 6Eh, 73h, 75h, 2	dup(70h), 6Fh, 72h, 74h, 65h, 64h
seg001:0000		    db 20h, 44h, 4Fh, 53h, 31h,	36h, 4Dh, 20h, 73h, 77h, 69h
seg001:0000		    db 74h, 63h, 68h, 6Dh, 6Fh,	64h, 65h, 20h, 63h, 68h, 6Fh
seg001:0000		    db 69h, 63h, 65h, 0, 15h, 0, 72h, 65h, 71h,	75h, 69h, 72h
seg001:0000		    db 65h, 73h, 20h, 44h, 4Fh,	53h, 20h, 33h, 2Eh, 30h, 20h
seg001:0000		    db 6Fh, 72h, 20h, 6Ch, 61h,	74h, 65h, 72h, 0, 16h, 0, 63h
seg001:0000		    db 61h, 2 dup(6Eh),	6Fh, 74h, 20h, 66h, 72h, 2 dup(65h)
seg001:0000		    db 20h, 6Dh, 65h, 6Dh, 6Fh,	72h, 79h, 0, 17h, 0, 6Eh, 6Fh
seg001:0000		    db 20h, 6Dh, 65h, 6Dh, 6Fh,	72h, 79h, 20h, 66h, 6Fh, 72h
seg001:0000		    db 20h, 56h, 43h, 50h, 49h,	20h, 70h, 61h, 67h, 65h, 20h
seg001:0000		    db 74h, 61h, 62h, 6Ch, 65h,	0, 18h,	0, 56h,	43h, 50h, 49h
seg001:0000		    db 20h, 70h, 61h, 67h, 65h,	20h, 74h, 61h, 62h, 6Ch, 65h
seg001:0000		    db 20h, 61h, 2 dup(64h), 72h, 65h, 2 dup(73h), 20h,	69h
seg001:0000		    db 6Eh, 63h, 6Fh, 2	dup(72h), 65h, 63h, 74h, 0, 19h, 0
seg001:0000		    db 63h, 61h, 2 dup(6Eh), 6Fh, 74h, 20h, 69h, 6Eh, 69h
seg001:0000		    db 74h, 69h, 61h, 6Ch, 69h,	7Ah, 65h, 20h, 56h, 43h, 50h
seg001:0000		    db 49h, 0, 1Ah, 0, 38h, 30h, 34h, 32h, 20h,	74h, 69h, 6Dh
seg001:0000		    db 65h, 6Fh, 75h, 74h, 0, 1Bh, 0, 65h, 78h,	74h, 65h, 6Eh
seg001:0000		    db 64h, 65h, 64h, 20h, 6Dh,	65h, 6Dh, 6Fh, 72h, 79h, 20h
seg001:0000		    db 69h, 73h, 20h, 63h, 6Fh,	6Eh, 66h, 69h, 67h, 75h, 72h
seg001:0000		    db 65h, 64h, 20h, 62h, 75h,	74h, 20h, 69h, 74h, 20h, 63h
seg001:0000		    db 61h, 2 dup(6Eh),	6Fh, 74h, 20h, 62h, 65h, 20h, 61h
seg001:0000		    db 2 dup(6Ch), 6Fh,	63h, 61h, 74h, 65h, 64h, 0, 1Ch, 0
seg001:0000		    db 6Dh, 65h, 6Dh, 6Fh, 72h,	79h, 20h, 65h, 2 dup(72h)
seg001:0000		    db 6Fh, 72h, 2Ch, 20h, 61h,	76h, 61h, 69h, 6Ch, 20h, 6Ch
seg001:0000		    db 2 dup(6Fh), 70h,	0, 1Dh,	0, 6Dh,	65h, 6Dh, 6Fh, 72h
seg001:0000		    db 79h, 20h, 65h, 2	dup(72h), 6Fh, 72h, 2Ch, 20h, 6Fh
seg001:0000		    db 75h, 74h, 20h, 6Fh, 66h,	20h, 72h, 61h, 6Eh, 67h, 65h
seg001:0000		    db 0, 1Eh, 0, 70h, 72h, 6Fh, 67h, 72h, 61h,	6Dh, 20h, 6Dh
seg001:0000		    db 75h, 73h, 74h, 20h, 62h,	65h, 20h, 62h, 75h, 69h, 6Ch
seg001:0000		    db 74h, 20h, 2Dh, 41h, 55h,	54h, 4Fh, 20h, 66h, 6Fh, 72h
seg001:0000		    db 20h, 44h, 50h, 4Dh, 49h,	0, 1Fh,	0, 70h,	72h, 6Fh, 74h
seg001:0000		    db 65h, 63h, 74h, 65h, 64h,	20h, 6Dh, 6Fh, 64h, 65h, 20h
seg001:0000		    db 61h, 6Ch, 72h, 65h, 61h,	64h, 79h, 20h, 69h, 6Eh, 20h
seg001:0000		    db 75h, 73h, 65h, 20h, 69h,	6Eh, 20h, 74h, 68h, 69h, 73h
seg001:0000		    db 20h, 44h, 50h, 4Dh, 49h,	20h, 76h, 69h, 72h, 74h, 75h
seg001:0000		    db 61h, 6Ch, 20h, 6Dh, 61h,	63h, 68h, 69h, 6Eh, 65h, 0
seg001:0000		    db 20h, 0, 44h, 50h, 4Dh, 49h, 20h,	68h, 6Fh, 73h, 74h
seg001:0000		    db 20h, 65h, 2 dup(72h), 6Fh, 72h, 20h, 28h, 70h, 6Fh
seg001:0000		    db 2 dup(73h), 69h,	62h, 6Ch, 79h, 20h, 69h, 6Eh, 73h
seg001:0000		    db 75h, 2 dup(66h),	69h, 63h, 69h, 65h, 6Eh, 74h, 20h
seg001:0000		    db 6Dh, 65h, 6Dh, 6Fh, 72h,	79h, 29h, 0, 21h, 0, 44h, 50h
seg001:0000		    db 4Dh, 49h, 20h, 68h, 6Fh,	73h, 74h, 20h, 65h, 2 dup(72h)
seg001:0000		    db 6Fh, 72h, 20h, 28h, 6Eh,	2 dup(65h), 64h, 20h, 36h
seg001:0000		    db 34h, 4Bh, 20h, 58h, 4Dh,	53h, 29h, 0, 22h, 0, 44h, 50h
seg001:0000		    db 4Dh, 49h, 20h, 68h, 6Fh,	73h, 74h, 20h, 65h, 2 dup(72h)
seg001:0000		    db 6Fh, 72h, 20h, 28h, 63h,	61h, 2 dup(6Eh), 6Fh, 74h
seg001:0000		    db 20h, 6Ch, 6Fh, 63h, 6Bh,	20h, 73h, 74h, 61h, 63h, 6Bh
seg001:0000		    db 29h, 0, 24h, 0, 54h, 68h, 65h, 20h, 44h,	4Fh, 53h, 31h
seg001:0000		    db 36h, 4Dh, 2Eh, 33h, 38h,	36h, 20h, 76h, 69h, 72h, 74h
seg001:0000		    db 75h, 61h, 6Ch, 20h, 64h,	65h, 76h, 69h, 63h, 65h, 20h
seg001:0000		    db 64h, 72h, 69h, 76h, 65h,	72h, 20h, 77h, 61h, 73h, 20h
seg001:0000		    db 6Eh, 65h, 76h, 65h, 72h,	20h, 6Ch, 6Fh, 61h, 64h, 65h
seg001:0000		    db 64h, 0, 25h, 0, 55h, 6Eh, 61h, 62h, 6Ch,	65h, 20h, 74h
seg001:0000		    db 6Fh, 20h, 72h, 65h, 73h,	65h, 72h, 76h, 65h, 20h, 73h
seg001:0000		    db 65h, 6Ch, 65h, 63h, 74h,	6Fh, 72h, 73h, 20h, 66h, 6Fh
seg001:0000		    db 72h, 20h, 44h, 4Fh, 53h,	31h, 36h, 4Dh, 2Eh, 33h, 38h
seg001:0000		    db 36h, 20h, 57h, 69h, 6Eh,	64h, 6Fh, 77h, 73h, 20h, 64h
seg001:0000		    db 72h, 69h, 76h, 65h, 72h,	0, 26h,	0, 43h,	61h, 2 dup(6Eh)
seg001:0000		    db 6Fh, 74h, 20h, 75h, 73h,	65h, 20h, 65h, 78h, 74h, 65h
seg001:0000		    db 6Eh, 64h, 65h, 64h, 20h,	6Dh, 65h, 6Dh, 6Fh, 72h, 79h
seg001:0000		    db 3Ah, 20h, 48h, 49h, 4Dh,	45h, 4Dh, 2Eh, 53h, 59h, 53h
seg001:0000		    db 20h, 6Eh, 6Fh, 74h, 20h,	76h, 65h, 72h, 73h, 69h, 6Fh
seg001:0000		    db 6Eh, 20h, 32h, 0, 27h, 0, 41h, 6Eh, 20h,	6Fh, 62h, 73h
seg001:0000		    db 6Fh, 6Ch, 65h, 74h, 65h,	20h, 76h, 65h, 72h, 73h, 69h
seg001:0000		    db 6Fh, 6Eh, 20h, 6Fh, 66h,	20h, 44h, 4Fh, 53h, 31h, 36h
seg001:0000		    db 4Dh, 2Eh, 33h, 38h, 36h,	20h, 77h, 61h, 73h, 20h, 6Ch
seg001:0000		    db 6Fh, 61h, 64h, 65h, 64h,	0, 28h,	0, 6Eh,	6Fh, 74h, 20h
seg001:0000		    db 65h, 6Eh, 6Fh, 75h, 67h,	68h, 20h, 61h, 76h, 61h, 69h
seg001:0000		    db 6Ch, 61h, 62h, 6Ch, 65h,	20h, 65h, 78h, 74h, 65h, 6Eh
seg001:0000		    db 64h, 65h, 64h, 20h, 6Dh,	65h, 6Dh, 6Fh, 72h, 79h, 20h
seg001:0000		    db 28h, 58h, 4Dh, 49h, 4Eh,	29h, 0,	2 dup(0FFh), 4 dup(0)
seg001:0000 seg001	    ends
seg001:0000
seg002:0000 ; อออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออ
seg002:0000
seg002:0000 ; Segment type: Pure code
seg002:0000 seg002	    segment byte public	'CODE' use16
seg002:0000		    assume cs:seg002
seg002:0000		    assume es:nothing, ss:nothing, ds:nothing, fs:nothing, gs:nothing
seg002:0000 seg_1BD0	    dw seg seg000	    ; DATA XREF: seg002:06CAr
seg002:0000					    ; sub_2C6B+23r ...
seg002:0002		    db 46h, 2, 66h, 0CFh, 2 dup(0), 2 dup(0FFh), 2 dup(0)
seg002:0002					    ; DATA XREF: seg002:1090w
seg002:0002					    ; seg002:1096w ...
seg002:000C dword_1BDC	    dd 0		    ; DATA XREF: sub_286F-A42w
seg002:000C					    ; sub_286F-A2Fr ...
seg002:0010		    db 9Ch, 8Ch, 0D1h, 8Bh, 0D4h, 2Eh, 8Eh, 16h, 2 dup(0)
seg002:0010		    db 36h, 8Bh, 26h, 50h, 0Fh,	51h, 52h, 0E8h,	44h, 0,	0A1h
seg002:0010		    db 0C2h, 10h, 8Bh, 16h, 0C4h, 10h, 59h, 17h, 8Bh, 0E1h
seg002:0010		    db 52h, 50h, 0CFh, 59h, 16h
seg002:0034		    db 1Fh
seg002:0035 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0035		    cmp	    byte ptr ds:2Eh, 0
seg002:003A		    jz	    short loc_1C30
seg002:003C		    call    sub_1C38
seg002:003F		    cmp	    byte ptr ds:10EFh, 0
seg002:0044		    jz	    short loc_1C30
seg002:0046		    xor	    ax,	ax
seg002:0048		    sub	    al,	ds:37h
seg002:004C		    sbb	    ah,	ah
seg002:004E		    and	    ah,	2
seg002:0051		    cmp	    byte ptr ds:2Eh, 2
seg002:0056		    jz	    short loc_1C33
seg002:0058		    or	    ah,	0DDh	    ; DATA XREF: sub_8D75+12w
seg002:005B		    cli
seg002:005C		    call    sub_27A1
seg002:005F		    sti
seg002:0060
seg002:0060 loc_1C30:				    ; CODE XREF: seg002:003Aj
seg002:0060					    ; seg002:0044j ...
seg002:0060		    call    sub_4000
seg002:0063
seg002:0063 loc_1C33:				    ; CODE XREF: seg002:0056j
seg002:0063		    call    sub_2793
seg002:0066		    jmp	    short loc_1C30
seg002:0068
seg002:0068 ;  S	U B R O	U T I N	E 
seg002:0068
seg002:0068
seg002:0068 sub_1C38	    proc near		    ; CODE XREF: seg002:003Cp
seg002:0068					    ; seg002:136Bp
seg002:0068		    cld
seg002:0069		    push    ss
seg002:006A		    pop	    ds
seg002:006B		    inc	    byte ptr ds:9F8h
seg002:006F		    jnz	    short loc_1CA2
seg002:0071		    push    0F8Ah
seg002:0074		    call    sub_2E68
seg002:0077		    pop	    cx
seg002:0078		    push    es
seg002:0079		    xor	    di,	di
seg002:007B		    mov	    cx,	200h
seg002:007E		    mov	    ax,	cs
seg002:0080		    mov	    bx,	ds:56h
seg002:0084		    mov	    dx,	ds:58h
seg002:0088
seg002:0088 loc_1C58:				    ; CODE XREF: sub_1C38+2Aj
seg002:0088					    ; sub_1C38+32j ...
seg002:0088		    jcxz    short loc_1C7E
seg002:008A		    repne scasw
seg002:008C		    jnz	    short loc_1C7E
seg002:008E		    test    di,	2
seg002:0092		    jnz	    short loc_1C58
seg002:0094		    cmp	    word ptr es:[di-4],	12CCh
seg002:009A		    jz	    short loc_1C58
seg002:009C		    cmp	    word ptr es:[di-4],	14D8h
seg002:00A2		    jz	    short loc_1C58
seg002:00A4		    mov	    es:[di-4], bx
seg002:00A8		    mov	    es:[di-2], dx
seg002:00AC		    jmp	    short loc_1C58
seg002:00AE ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:00AE
seg002:00AE loc_1C7E:				    ; CODE XREF: sub_1C38:loc_1C58j
seg002:00AE					    ; sub_1C38+24j
seg002:00AE		    pop	    es
seg002:00AF		    cmp	    byte ptr ds:0CDAh, 0
seg002:00B4		    jnz	    short loc_1C8D
seg002:00B6		    inc	    byte ptr ds:0CDAh
seg002:00BA		    call    sub_3011
seg002:00BD
seg002:00BD loc_1C8D:				    ; CODE XREF: sub_1C38+4Cj
seg002:00BD		    cmp	    word ptr ds:0A14h, 0
seg002:00C2		    jz	    short loc_1C97
seg002:00C4		    call    sub_3294
seg002:00C7
seg002:00C7 loc_1C97:				    ; CODE XREF: sub_1C38+5Aj
seg002:00C7		    cli
seg002:00C8		    call    sub_1D3C
seg002:00CB		    sti
seg002:00CC		    call    sub_36DA
seg002:00CF		    call    sub_2F7D
seg002:00D2
seg002:00D2 loc_1CA2:				    ; CODE XREF: sub_1C38+7j
seg002:00D2		    cmp	    byte ptr ds:2Eh, 0Bh
seg002:00D7		    jnz	    short loc_1CAE
seg002:00D9		    call    sub_47C3
seg002:00DC		    jmp	    short loc_1CE2
seg002:00DE ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:00DE
seg002:00DE loc_1CAE:				    ; CODE XREF: sub_1C38+6Fj
seg002:00DE		    test    byte ptr ds:47h, 80h
seg002:00E3		    jz	    short loc_1CC8
seg002:00E5		    mov	    ax,	0BFDEh
seg002:00E8		    mov	    bx,	0Ah
seg002:00EB		    call    near ptr byte_2AC4
seg002:00EE		    or	    ax,	ax
seg002:00F0		    jl	    short loc_1CC8
seg002:00F2		    mov	    word ptr ds:0ADCh, 0
seg002:00F8
seg002:00F8 loc_1CC8:				    ; CODE XREF: sub_1C38+7Bj
seg002:00F8					    ; sub_1C38+88j
seg002:00F8		    cmp	    byte ptr ds:2Eh, 2
seg002:00FD		    jle	    short loc_1CE2
seg002:00FF		    test    byte ptr ds:47h, 1
seg002:0104		    jz	    short loc_1CE2
seg002:0106		    cli
seg002:0107		    mov	    al,	0Fh
seg002:0109		    out	    70h, al	    ; CMOS Memory:
seg002:0109					    ; shutdown status byte
seg002:010B		    jmp	    short $+2
seg002:010D		    xor	    al,	al
seg002:010F		    out	    71h, al	    ; CMOS Memory:
seg002:010F					    ; used by real-time	clock
seg002:0111		    sti
seg002:0112
seg002:0112 loc_1CE2:				    ; CODE XREF: sub_1C38+74j
seg002:0112					    ; sub_1C38+95j ...
seg002:0112		    call    sub_39C7
seg002:0115		    mov	    es,	word ptr ds:0CECh
seg002:0119		    mov	    ax,	ds:9B8h
seg002:011C		    mov	    es:2Ch, ax
seg002:0120		    push    es
seg002:0121		    push    word ptr ds:120Ah
seg002:0125		    call    sub_38E1
seg002:0128		    pop	    cx
seg002:0129		    xor	    bx,	bx
seg002:012B		    mov	    es,	bx
seg002:012D		    assume es:seg000
seg002:012D		    test    byte ptr ds:47h, 80h
seg002:0132		    jz	    short loc_1D0F
seg002:0134		    mov	    ax,	0BFDEh
seg002:0137		    mov	    bx,	15h
seg002:013A		    mov	    cx,	5
seg002:013D		    int	    15h
seg002:013F
seg002:013F loc_1D0F:				    ; CODE XREF: sub_1C38+CAj
seg002:013F		    pop	    es
seg002:0140		    assume es:nothing
seg002:0140
seg002:0140 loc_1D10:				    ; CODE XREF: seg002:133Ap
seg002:0140		    cmp	    word ptr es:0Ah, 10h
seg002:0147		    jnz	    short loc_1D30
seg002:0149		    mov	    ax,	cs
seg002:014B		    cmp	    es:0Ch, ax
seg002:0150		    jnz	    short loc_1D30
seg002:0152		    mov	    ax,	ds:10C2h
seg002:0155		    mov	    es:0Ah, ax
seg002:0159		    mov	    ax,	ds:10C4h
seg002:015C		    mov	    es:0Ch, ax
seg002:0160
seg002:0160 loc_1D30:				    ; CODE XREF: sub_1C38+DFj
seg002:0160					    ; sub_1C38+E8j
seg002:0160		    cmp	    byte ptr ds:2Fh, 3
seg002:0165		    jb	    short locret_1D3B
seg002:0167		    mov	    eax, ds:10F2h
seg002:016B
seg002:016B locret_1D3B:			    ; CODE XREF: sub_1C38+FDj
seg002:016B		    retn
seg002:016B sub_1C38	    endp
seg002:016B
seg002:016C
seg002:016C ;  S	U B R O	U T I N	E 
seg002:016C
seg002:016C
seg002:016C sub_1D3C	    proc near		    ; CODE XREF: sub_1C38+60p
seg002:016C					    ; sub_36DA+52p ...
seg002:016C		    xor	    bx,	bx
seg002:016E		    mov	    dx,	0
seg002:0171		    mov	    cx,	100h
seg002:0174		    xor	    ax,	ax
seg002:0176
seg002:0176 loc_1D46:				    ; CODE XREF: sub_1D3C+24j
seg002:0176		    mov	    [bx+0C6h], ax
seg002:017A		    mov	    word ptr [bx+0C4h],	8E00h
seg002:0180		    mov	    word ptr [bx+0C2h],	70h ; 'p'
seg002:0186		    mov	    [bx+0C0h], dx
seg002:018A		    add	    dx,	4
seg002:018D		    add	    bx,	8
seg002:0190		    loop    loc_1D46
seg002:0192		    mov	    cx,	11h
seg002:0195		    mov	    dx,	4235h
seg002:0198		    xor	    bx,	bx
seg002:019A
seg002:019A loc_1D6A:				    ; CODE XREF: sub_1D3C+39j
seg002:019A		    mov	    [bx+0C0h], dx
seg002:019E		    add	    dx,	1Ch
seg002:01A2		    add	    bx,	8
seg002:01A5		    loop    loc_1D6A
seg002:01A7		    mov	    word ptr ds:128h, 1FB8h
seg002:01AD		    mov	    word ptr ds:1B8h, 84h ; ''
seg002:01B3		    mov	    word ptr ds:1C0h, 0C80h
seg002:01B9		    mov	    word ptr ds:1C2h, 18h
seg002:01BF		    mov	    word ptr ds:1C8h, 0C9Eh
seg002:01C5		    mov	    word ptr ds:1D8h, 5EBh
seg002:01CB		    mov	    word ptr ds:248h, 44D6h
seg002:01D1		    cmp	    byte ptr ds:2Eh, 0Bh
seg002:01D6		    jnz	    short loc_1DB4
seg002:01D8		    mov	    word ptr ds:3F8h, 2C83h
seg002:01DE		    mov	    word ptr ds:3FAh, 18h
seg002:01E4
seg002:01E4 loc_1DB4:				    ; CODE XREF: sub_1D3C+6Aj
seg002:01E4		    call    sub_3C51
seg002:01E7		    test    byte ptr ds:47h, 1
seg002:01EC		    jz	    short loc_1DE6
seg002:01EE		    mov	    word ptr ds:170h, 4FAh
seg002:01F4		    mov	    word ptr ds:1B0h, 0C7Ch
seg002:01FA		    mov	    word ptr ds:1B2h, 18h
seg002:0200		    mov	    bl,	ds:51h
seg002:0204		    or	    bl,	bl
seg002:0206		    jz	    short loc_1DE6
seg002:0208		    add	    bl,	5
seg002:020B		    xor	    bh,	bh
seg002:020D		    shl	    bx,	3
seg002:0210		    mov	    word ptr [bx+0C0h],	556h
seg002:0216
seg002:0216 loc_1DE6:				    ; CODE XREF: sub_1D3C+80j
seg002:0216					    ; sub_1D3C+9Aj
seg002:0216		    cmp	    byte ptr ds:3Eh, 0
seg002:021B		    jz	    short locret_1E15
seg002:021D		    fninit
seg002:021F		    mov	    bx,	ds:0F82h
seg002:0223		    or	    bx,	bx
seg002:0225		    jz	    short loc_1DF9
seg002:0227		    fnsave  byte ptr [bx]
seg002:0229
seg002:0229 loc_1DF9:				    ; CODE XREF: sub_1D3C+B9j
seg002:0229		    mov	    byte ptr cs:sub_24FC, 9Bh ;	''
seg002:022F		    mov	    byte ptr cs:sub_2501, 9Bh ;	''
seg002:0235		    mov	    al,	ds:2Eh
seg002:0238		    or	    al,	al
seg002:023A		    jz	    short loc_1E12
seg002:023C		    cmp	    al,	0Bh
seg002:023E		    jz	    short loc_1E12
seg002:0240		    clts
seg002:0242
seg002:0242 loc_1E12:				    ; CODE XREF: sub_1D3C+CEj
seg002:0242					    ; sub_1D3C+D2j
seg002:0242		    fsetpm
seg002:0245
seg002:0245 locret_1E15:			    ; CODE XREF: sub_1D3C+AFj
seg002:0245		    retn
seg002:0245 sub_1D3C	    endp
seg002:0245
seg002:0246
seg002:0246 ;  S	U B R O	U T I N	E 
seg002:0246
seg002:0246
seg002:0246 sub_1E16	    proc near		    ; CODE XREF: sub_286F:loc_1E21p
seg002:0246		    call    sub_28E5
seg002:0249		    call    word ptr ds:97Ah
seg002:024D		    call    sub_28DC
seg002:0250		    retn
seg002:0250 sub_1E16	    endp
seg002:0250
seg002:0251 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0251 ; START OF FUNCTION	CHUNK FOR sub_286F
seg002:0251
seg002:0251 loc_1E21:				    ; CODE XREF: sub_286F+6Aj
seg002:0251					    ; sub_7E4F+73j
seg002:0251		    call    sub_1E16
seg002:0254		    mov	    sp,	ds:996h
seg002:0258		    mov	    bp,	sp
seg002:025A		    mov	    di,	[bp+0Eh]
seg002:025D		    mov	    word ptr cs:dword_1BDC, di
seg002:0262		    mov	    ax,	[bp+2]
seg002:0265		    mov	    word ptr cs:dword_1BDC+2, ax
seg002:0269		    call    sub_1E60
seg002:026C		    lea	    si,	[bp+1Eh]
seg002:026F		    cld
seg002:0270		    les	    di,	cs:dword_1BDC
seg002:0275		    movsd
seg002:0277		    movsd
seg002:0279		    movsd
seg002:027B		    pop	    word ptr ds:996h
seg002:027F		    inc	    sp
seg002:0280		    inc	    sp
seg002:0281		    pop	    ds
seg002:0282		    pop	    es
seg002:0283		    popa
seg002:0284		    mov	    ss,	word ptr cs:dword_1BDC+2
seg002:0289		    mov	    sp,	word ptr cs:dword_1BDC
seg002:028E		    iretd
seg002:028E ; END OF FUNCTION CHUNK FOR	sub_286F
seg002:0290
seg002:0290 ;  S	U B R O	U T I N	E 
seg002:0290
seg002:0290
seg002:0290 sub_1E60	    proc near		    ; CODE XREF: sub_286F-A36p
seg002:0290					    ; seg002:0FBDp ...
seg002:0290		    mov	    dx,	20h ; ' '
seg002:0290 sub_1E60	    endp
seg002:0290
seg002:0293
seg002:0293 loc_1E63:				    ; CODE XREF: sub_2982+Fp
seg002:0293		    pusha
seg002:0294		    call    word ptr ds:9C0h
seg002:0298		    mov	    ss,	dx
seg002:029A		    assume ss:nothing
seg002:029A		    mov	    dx,	20h ; ' '
seg002:029D		    mov	    ds,	dx
seg002:029F		    assume ds:nothing
seg002:029F		    mov	    es,	dx
seg002:02A1		    assume es:nothing
seg002:02A1		    mov	    ax,	68h ; 'h'
seg002:02A1 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:02A4		    db 0Fh, 0, 0D0h, 0Fh, 1, 0E0h, 0Bh,	6, 40h,	0, 0Fh,	1
seg002:02A4		    db 0F0h, 0FFh, 26h,	0C2h, 9, 61h, 0C3h, 60h, 0FFh, 16h
seg002:02A4		    db 0C0h, 9,	0B8h, 20h, 0, 8Eh, 0D8h, 8Eh, 0C0h, 0Fh, 1
seg002:02A4		    db 0E0h, 0Bh, 6, 40h, 0, 0Fh, 1, 0F0h, 8Bh,	36h, 52h, 0Fh
seg002:02A4		    db 83h, 0E6h, 38h, 3, 36h, 54h, 0Fh, 83h, 6, 52h, 0Fh
seg002:02A4		    db 8, 0B8h,	8, 0, 8Eh, 0D8h, 89h, 7Ch, 2, 88h, 54h,	4
seg002:02A4		    db 32h, 0F6h, 88h, 74h, 7, 8Eh, 0D6h, 0B8h,	68h, 0,	0Fh
seg002:02A4		    db 0, 0D0h,	6, 1Fh,	61h, 0C3h, 90h,	2 dup(0), 2Eh, 8Fh
seg002:02A4		    db 6, 0FAh,	2, 0FAh, 9Ch, 58h, 80h,	0E4h, 0Fh, 50h,	0Eh
seg002:02A4		    db 0E8h, 0B4h, 0Eh,	0E8h, 0FEh, 8, 88h, 0Eh, 35h, 0, 0B8h
seg002:02A4		    db 34h, 3, 0FFh, 16h, 0BAh,	9, 0Fh,	1, 0E0h, 0Ch, 1
seg002:031F byte_1EEF	    db 3Eh		    ; DATA XREF: sub_7E20+10w
seg002:0320		    db 0Fh, 1, 16h, 74h, 9, 0Fh, 1, 1Eh, 0D0h, 8, 0Fh, 1, 0F0h
seg002:0320		    db 0EAh, 34h, 3, 18h, 0, 87h, 0DBh,	0E9h, 41h, 26h,	2Eh
seg002:0320		    db 0FFh, 26h, 0FAh,	2, 57h,	0BFh, 56h, 0Fh,	0BEh, 67h
seg002:0320		    db 4, 33h, 0DBh, 8Eh, 0DBh,	0BBh
seg002:0348		    dw seg seg000
seg002:034A ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:034A		    mov	    es,	bx
seg002:034C		    assume es:nothing
seg002:034C		    movsw
seg002:034D		    movsw
seg002:034E		    mov	    [si-4], ax
seg002:0351		    mov	    [si-2], cx
seg002:0354		    mov	    si,	3E0h
seg002:0357		    mov	    cx,	10h
seg002:035A		    rep	movsw
seg002:035C		    mov	    ds,	bx
seg002:035E		    assume ds:nothing
seg002:035E		    pop	    di
seg002:035F		    retn
seg002:0360
seg002:0360 ;  S	U B R O	U T I N	E 
seg002:0360
seg002:0360
seg002:0360 sub_1F30	    proc near		    ; CODE XREF: seg002:0B21p
seg002:0360					    ; seg002:0B40p
seg002:0360		    xor	    bx,	bx
seg002:0362		    mov	    es,	bx
seg002:0364		    assume es:seg000
seg002:0364		    mov	    bx,	seg seg000
seg002:0367		    mov	    ds,	bx
seg002:0369		    assume ds:seg000
seg002:0369		    mov	    si,	0F56h
seg002:036C		    mov	    di,	467h
seg002:036F		    cld
seg002:0370		    movsw
seg002:0371		    movsw
seg002:0372		    mov	    di,	3E0h
seg002:0375		    mov	    cx,	10h
seg002:0378		    rep	movsw
seg002:037A		    mov	    es,	bx
seg002:037C		    retn
seg002:037C sub_1F30	    endp
seg002:037C
seg002:037D ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:037D		    cmp	    [bx+di], cl
seg002:037F		    cmp	    ax,	0B009h
seg002:0382		    push    cs
seg002:0383		    out	    37h, al
seg002:0385		    xor	    ax,	ax
seg002:0387		    out	    0F2h, al
seg002:0389		    mov	    cx,	word ptr byte_10
seg002:038D		    nop
seg002:038E
seg002:038E loc_1F5E:				    ; CODE XREF: seg002:loc_1F5Ej
seg002:038E		    loop    loc_1F5E
seg002:0390		    mov	    es,	ax
seg002:0392		    mov	    word ptr es:byte_3C8+3Eh, ds
seg002:0397		    mov	    word ptr es:byte_3C8+3Ch, 9EFh
seg002:039E		    mov	    al,	0Ah
seg002:03A0		    out	    37h, al
seg002:03A2		    retn
seg002:03A2 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:03A3		    db 0D7h, 9,	0DCh, 9, 33h, 0C0h, 8Eh, 0C0h, 26h, 0C7h, 6
seg002:03A3		    db 0FCh, 3,	94h, 0Bh, 26h, 8Ch, 0Eh, 0FEh, 3, 8Bh, 1Eh
seg002:03A3		    db 82h, 0Fh, 0Bh, 0DBh, 74h, 4, 9Bh, 0DDh, 27h, 9Bh, 0Fh
seg002:03A3		    db 1, 0E0h,	0Bh, 6,	40h, 0,	0Fh, 1,	0F0h, 0B0h, 0A0h, 0E6h
seg002:03A3		    db 20h, 0C3h
seg002:03D2 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:03D2 ; START OF FUNCTION	CHUNK FOR sub_D735
seg002:03D2
seg002:03D2 loc_1FA2:				    ; CODE XREF: sub_D735+30J
seg002:03D2		    push    cs
seg002:03D3		    add	    al,	13h
seg002:03D5		    add	    al,	33h ; '3'
seg002:03D7		    ror	    byte ptr [bp+26C0h], 0C7h
seg002:03DC		    push    es
seg002:03DD		    pusha
seg002:03DE		    add	    [si+260Bh],	dx
seg002:03E2		    mov	    word ptr byte_E8+7Ah, cs
seg002:03E6		    smsw    ax
seg002:03E9		    or	    ax,	word ptr byte_35+0Bh
seg002:03ED		    lmsw    ax
seg002:03F0		    in	    al,	0F2h
seg002:03F2		    and	    al,	0FEh
seg002:03F4		    jmp	    short $+2
seg002:03F6		    out	    0F2h, al
seg002:03F8		    cmp	    byte_2F, 3
seg002:03FD		    jb	    short locret_1FDD
seg002:03FF		    pushf
seg002:0400		    cli
seg002:0401		    push    dx
seg002:0402		    mov	    dx,	140h
seg002:0405		    mov	    al,	1
seg002:0407		    out	    dx,	al
seg002:0408		    dec	    al
seg002:040A		    out	    dx,	al
seg002:040B		    pop	    dx
seg002:040C		    popf
seg002:040D
seg002:040D locret_1FDD:			    ; CODE XREF: sub_D735-B768j
seg002:040D		    retn
seg002:040D ; END OF FUNCTION CHUNK FOR	sub_D735
seg002:040E ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:040E		    push    ax
seg002:040F		    push    bx
seg002:0410		    mov	    bx,	seg seg000
seg002:0413		    cli
seg002:0414		    cmp	    byte_2F, 3
seg002:0419		    jb	    short loc_1FEE
seg002:041B		    jmp	    loc_441C
seg002:041E ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:041E
seg002:041E loc_1FEE:				    ; CODE XREF: seg002:0419j
seg002:041E		    pusha
seg002:041F		    mov	    word ptr byte_F7C, bx
seg002:0423		    mov	    word_F7A, sp
seg002:0427		    mov	    ax,	38h ; '8'
seg002:042A		    mov	    es,	ax
seg002:042C		    assume es:nothing
seg002:042C		    mov	    word ptr es:160h, 443h
seg002:0433		    mov	    ax,	seg_9B6
seg002:0436		    mov	    es:162h, ax
seg002:043A		    in	    al,	0F0h	    ; AT 80287 latch clear.
seg002:043A					    ; 'Busy' gets latched upon an unmasked 287 error.
seg002:043C		    or	    al,	1
seg002:043E		    jmp	    short $+2
seg002:0440		    out	    0F0h, al	    ; AT 80287 latch clear.
seg002:0440					    ; 'Busy' gets latched upon an unmasked 287 error.
seg002:0442		    hlt
seg002:0443		    in	    al,	0F2h
seg002:0445		    or	    al,	1
seg002:0447		    jmp	    short $+2
seg002:0449		    out	    0F2h, al
seg002:044B		    mov	    bx,	seg seg000
seg002:044E		    mov	    ds,	bx
seg002:0450		    mov	    ss,	word ptr byte_F7C
seg002:0454		    assume ss:nothing
seg002:0454		    mov	    sp,	word_F7A
seg002:0458		    mov	    es,	bx
seg002:045A		    assume es:seg000
seg002:045A		    popa
seg002:045B		    pop	    bx
seg002:045C		    pop	    ax
seg002:045D		    retn
seg002:045D ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:045E		    db 91h, 4, 96h, 4, 33h, 0C0h, 8Eh, 0C0h, 26h, 0C7h,	6
seg002:045E		    db 0FCh, 3,	94h, 0Bh, 26h, 8Ch, 0Eh, 0FEh, 3, 0Fh, 1, 0E0h
seg002:045E		    db 0Bh, 6, 40h, 0, 0Fh, 1, 0F0h, 52h, 0BAh,	2 dup(4), 0ECh
seg002:045E		    db 24h, 0FBh, 0Ch, 2, 0EBh,	0, 0EEh, 5Ah, 8Bh, 0Eh,	10h
seg002:045E		    db 0, 90h, 0E2h, 0FEh, 0C3h, 50h, 53h, 0BBh
seg002:0494		    dw seg seg000
seg002:0496 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0496		    cli
seg002:0497		    cmp	    byte_2F, 3
seg002:049C		    jb	    short loc_2071
seg002:049E		    jmp	    loc_441C
seg002:04A1 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:04A1
seg002:04A1 loc_2071:				    ; CODE XREF: seg002:049Cj
seg002:04A1		    pusha
seg002:04A2		    mov	    word ptr byte_F7C, bx
seg002:04A6		    mov	    word_F7A, sp
seg002:04AA		    cli
seg002:04AB		    mov	    ax,	38h ; '8'
seg002:04AE		    mov	    es,	ax
seg002:04B0		    assume es:nothing
seg002:04B0		    mov	    word ptr es:3FCh, 4D3h
seg002:04B7		    mov	    ax,	seg_9B6
seg002:04BA		    mov	    es:3FEh, ax
seg002:04BE		    mov	    dx,	484h
seg002:04C1		    in	    ax,	dx
seg002:04C2		    jmp	    short $+2
seg002:04C4		    and	    ax,	0FEFEh
seg002:04C7		    out	    dx,	ax
seg002:04C8		    jmp	    short $+2
seg002:04CA		    mov	    dx,	404h
seg002:04CD		    mov	    al,	4
seg002:04CF		    jmp	    short $+2
seg002:04D1		    out	    dx,	al
seg002:04D2		    hlt
seg002:04D3		    mov	    dx,	404h
seg002:04D6		    in	    al,	dx
seg002:04D7		    and	    al,	0F9h
seg002:04D9		    or	    al,	1
seg002:04DB		    jmp	    short $+2
seg002:04DD		    out	    dx,	al
seg002:04DE		    jmp	    short $+2
seg002:04E0		    mov	    bx,	seg seg000
seg002:04E3		    mov	    ds,	bx
seg002:04E5		    mov	    ss,	word ptr byte_F7C
seg002:04E9		    mov	    sp,	word_F7A
seg002:04ED		    mov	    es,	bx
seg002:04EF		    assume es:seg000
seg002:04EF		    popa
seg002:04F0		    pop	    bx
seg002:04F1		    pop	    ax
seg002:04F2		    retn
seg002:04F2 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:04F3		    db 0AFh, 5,	0B4h, 5, 52h, 0B0h, 1Fh, 0E6h, 0A1h, 33h, 0C0h
seg002:04F3		    db 8Eh, 0C0h, 0FAh,	8Ch, 0C9h, 0BAh, 68h, 3, 0B0h, 18h
seg002:04F3		    db 0EEh, 0EBh, 0, 0B2h, 6Ah, 8Ah, 0C1h, 24h, 0Fh, 0EEh
seg002:04F3		    db 0EBh, 0,	0B2h, 68h, 0B0h, 17h, 0EEh, 0EBh, 0, 8Ah, 0C1h
seg002:04F3		    db 0C0h, 0E8h, 4, 0B2h, 6Ah, 24h, 0Fh, 0EEh, 0EBh, 0, 0B2h
seg002:04F3		    db 68h, 0B0h, 16h, 0EEh, 0EBh, 0, 8Ah, 0C5h, 0B2h, 6Ah
seg002:04F3		    db 24h, 0Fh, 0EEh, 0EBh, 0,	0B2h, 68h, 0B0h, 15h, 0EEh
seg002:04F3		    db 0EBh, 0,	8Ah, 0C5h, 0B2h, 6Ah, 0C0h, 0E8h, 4, 24h, 0Fh
seg002:04F3		    db 0EEh, 0EBh, 0, 0B9h, 0ABh, 5, 0B2h, 68h,	0B0h, 14h
seg002:04F3		    db 0EEh, 0EBh, 0, 8Ah, 0C1h, 0B2h, 6Ah, 24h, 0Fh, 0EEh
seg002:04F3		    db 0EBh, 0,	0B2h, 68h, 0B0h, 13h, 0EEh, 0EBh, 0, 8Ah, 0C1h
seg002:04F3		    db 0C0h, 0E8h, 4, 0B2h, 6Ah, 24h, 0Fh, 0EEh, 0B2h, 68h
seg002:04F3		    db 0B0h, 12h, 0EEh,	0EBh, 0, 8Ah, 0C5h, 0B2h, 6Ah, 24h
seg002:04F3		    db 0Fh, 0EEh, 0EBh,	0, 0B2h, 68h, 0B0h, 11h, 0EEh, 0EBh
seg002:04F3		    db 0, 8Ah, 0C5h, 0C0h, 0E8h, 4, 0B2h, 6Ah, 24h, 0Fh, 0EEh
seg002:04F3		    db 0EBh, 0,	0B2h, 68h, 0B0h, 10h, 0EEh, 0EBh, 0, 0B0h
seg002:04F3		    db 8, 0B2h,	6Ah, 0EEh, 0EBh, 0, 0Fh, 1, 0E0h, 0Bh, 6, 40h
seg002:04F3		    db 0, 0Fh, 1, 0F0h,	5Ah, 0C3h, 94h,	0Bh
seg002:05AD		    dw seg seg002
seg002:05AF		    db 50h, 53h, 0BBh
seg002:05B2		    dw seg seg000
seg002:05B4		    db 0FAh, 60h, 52h, 89h, 1Eh, 7Ch, 0Fh, 89h,	26h, 7Ah, 0Fh
seg002:05B4		    db 0A1h, 0B6h, 9, 50h, 0B8h, 65h, 6, 50h, 8Bh, 0CBh, 0BAh
seg002:05B4		    db 68h, 3, 0B0h, 18h, 0EEh,	0EBh, 0, 0B2h, 6Ah, 8Ah, 0C1h
seg002:05B4		    db 24h, 0Fh, 0EEh, 0EBh, 0,	0B2h, 68h, 0B0h, 17h, 0EEh
seg002:05B4		    db 0EBh, 0,	8Ah, 0C1h, 0C0h, 0E8h, 4, 0B2h,	6Ah, 24h, 0Fh
seg002:05B4		    db 0EEh, 0EBh, 0, 0B2h, 68h, 0B0h, 16h, 0EEh, 0EBh,	0
seg002:05B4		    db 8Ah, 0C5h, 0B2h,	6Ah, 24h, 0Fh, 0EEh, 0EBh, 0, 0B2h
seg002:05B4		    db 68h, 0B0h, 15h, 0EEh, 0EBh, 0, 8Ah, 0C5h, 0B2h, 6Ah
seg002:05B4		    db 0C0h, 0E8h, 4, 24h, 0Fh,	0EEh, 0EBh, 0, 8Bh, 0CCh, 0B2h
seg002:05B4		    db 68h, 0B0h, 14h, 0EEh, 0EBh, 0, 8Ah, 0C1h, 0B2h, 6Ah
seg002:05B4		    db 24h, 0Fh, 0EEh, 0EBh, 0,	0B2h, 68h, 0B0h, 13h, 0EEh
seg002:05B4		    db 0EBh, 0,	8Ah, 0C1h, 0C0h, 0E8h, 4, 0B2h,	6Ah, 24h, 0Fh
seg002:05B4		    db 0EEh, 0B2h, 68h,	0B0h, 12h, 0EEh, 0EBh, 0, 8Ah, 0C5h
seg002:05B4		    db 0B2h, 6Ah, 24h, 0Fh, 0EEh, 0EBh,	0, 0B2h, 68h, 0B0h
seg002:05B4		    db 11h, 0EEh, 0EBh,	0, 8Ah,	0C5h, 0C0h, 0E8h, 4, 0B2h
seg002:05B4		    db 6Ah, 24h, 0Fh, 0EEh, 0EBh, 0, 0B2h, 68h,	0B0h, 10h
seg002:05B4		    db 0EEh, 0B0h, 8, 0B2h, 6Ah, 0EEh, 0B0h, 5Fh, 0E6h,	0A1h
seg002:05B4		    db 0F4h, 0B0h, 0F0h, 0E6h, 0A0h, 0BBh
seg002:066A		    dw seg seg000
seg002:066C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:066C		    mov	    ds,	bx
seg002:066E		    mov	    es,	bx
seg002:0670		    pop	    dx
seg002:0671		    popa
seg002:0672		    pop	    bx
seg002:0673		    pop	    ax
seg002:0674		    retn
seg002:0675 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0675		    xchg    ax,	di
seg002:0676		    push    es
seg002:0677		    pushf
seg002:0678		    push    es
seg002:0679		    push    dx
seg002:067A		    mov	    ah,	80h ; ''
seg002:067C		    call    sub_22CC
seg002:067F		    pop	    dx
seg002:0680		    xor	    ax,	ax
seg002:0682		    mov	    es,	ax
seg002:0684		    mov	    es:word_467, offset	loc_2764
seg002:068B		    mov	    es:word_469, cs
seg002:0690		    mov	    es:byte_410+2, 0Ah
seg002:0696		    retn
seg002:0697 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0697		    push    ax
seg002:0698		    push    bx
seg002:0699		    mov	    bx,	seg seg000
seg002:069C		    cli
seg002:069D		    pusha
seg002:069E		    mov	    word ptr byte_F7C, bx
seg002:06A2		    mov	    word_F7A, sp
seg002:06A6		    mov	    ax,	38h ; '8'
seg002:06A9		    mov	    es,	ax
seg002:06AB		    assume es:nothing
seg002:06AB		    mov	    ax,	seg_9B6
seg002:06AE		    mov	    es:469h, ax
seg002:06B2		    mov	    word ptr es:467h, 6CAh
seg002:06B9		    mov	    byte ptr es:412h, 0Ah
seg002:06BF
seg002:06BF loc_228F:				    ; CODE XREF: seg002:06C8j
seg002:06BF		    mov	    ah,	0C0h ; 'ภ'
seg002:06C1		    call    sub_22CC
seg002:06C4		    xor	    cx,	cx
seg002:06C6
seg002:06C6 loc_2296:				    ; CODE XREF: seg002:loc_2296j
seg002:06C6		    loop    loc_2296
seg002:06C8		    jmp	    short loc_228F
seg002:06CA ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:06CA		    mov	    bx,	cs:seg_1BD0
seg002:06CF		    mov	    ds,	bx
seg002:06D1		    mov	    ss,	word ptr byte_F7C
seg002:06D5		    mov	    sp,	word_F7A
seg002:06D9		    xor	    ax,	ax
seg002:06DB		    mov	    es,	ax
seg002:06DD		    assume es:seg000
seg002:06DD		    mov	    es:byte_410+2, al
seg002:06E1		    mov	    es,	bx
seg002:06E3		    assume es:nothing
seg002:06E3		    call    sub_22CC
seg002:06E6		    in	    al,	69h
seg002:06E8		    jmp	    short $+2
seg002:06EA		    or	    al,	4
seg002:06EC		    out	    69h, al
seg002:06EE		    jmp	    short $+2
seg002:06F0		    in	    al,	0A0h	    ; PIC 2  same as 0020 for PIC 1
seg002:06F2		    jmp	    short $+2
seg002:06F4		    or	    al,	80h
seg002:06F6		    out	    0A0h, al	    ; PIC 2  same as 0020 for PIC 1
seg002:06F8		    popa
seg002:06F9		    pop	    bx
seg002:06FA		    pop	    ax
seg002:06FB		    retn
seg002:06FC
seg002:06FC ;  S	U B R O	U T I N	E 
seg002:06FC
seg002:06FC
seg002:06FC sub_22CC	    proc near		    ; CODE XREF: seg002:067Cp
seg002:06FC					    ; seg002:06C1p ...
seg002:06FC		    mov	    dx,	0FC87h
seg002:06FF		    in	    al,	dx
seg002:0700		    jmp	    short $+2
seg002:0702		    mov	    dl,	84h ; ''
seg002:0704		    in	    al,	dx
seg002:0705		    jmp	    short $+2
seg002:0707		    and	    al,	3Fh
seg002:0709		    or	    ah,	al
seg002:070B		    mov	    dl,	87h ; ''
seg002:070D		    in	    al,	dx
seg002:070E		    jmp	    short $+2
seg002:0710		    mov	    al,	ah
seg002:0712		    mov	    dl,	84h ; ''
seg002:0714		    out	    dx,	al
seg002:0715		    retn
seg002:0715 sub_22CC	    endp
seg002:0715
seg002:0716 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0716		    pop	    si
seg002:0717		    or	    ah,	[bp+di+0Ah]
seg002:071A		    push    dx
seg002:071B		    mov	    dx,	3F20h
seg002:071E		    mov	    al,	90h ; ''
seg002:0720		    out	    dx,	al
seg002:0721		    pop	    dx
seg002:0722		    xor	    ax,	ax
seg002:0724		    mov	    es,	ax
seg002:0726		    assume es:seg000
seg002:0726		    mov	    word ptr es:byte_470+32h, offset loc_2764
seg002:072D		    mov	    word ptr es:byte_470+34h, cs
seg002:0732		    retn
seg002:0733
seg002:0733 ;  S	U B R O	U T I N	E 
seg002:0733
seg002:0733
seg002:0733 sub_2303	    proc near		    ; CODE XREF: seg002:0752p
seg002:0733					    ; seg002:07ADp ...
seg002:0733		    out	    22h, al
seg002:0735		    mov	    ah,	al
seg002:0737		    jmp	    short $+2
seg002:0739		    in	    al,	23h
seg002:073B		    retn
seg002:073B sub_2303	    endp
seg002:073B
seg002:073C
seg002:073C ;  S	U B R O	U T I N	E 
seg002:073C
seg002:073C
seg002:073C sub_230C	    proc near		    ; CODE XREF: seg002:0759p
seg002:073C					    ; seg002:079Cp ...
seg002:073C		    out	    22h, al
seg002:073E		    xchg    al,	ah
seg002:0740		    jmp	    short $+2
seg002:0742		    out	    23h, al
seg002:0744		    retn
seg002:0744 sub_230C	    endp
seg002:0744
seg002:0745 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0745		    outsw
seg002:0746		    pop	    es
seg002:0747		    assume es:nothing
seg002:0747		    jz	    short loc_2320
seg002:0749		    mov	    cx,	word ptr byte_10
seg002:074D		    nop
seg002:074E
seg002:074E loc_231E:				    ; CODE XREF: seg002:loc_231Ej
seg002:074E		    loop    loc_231E
seg002:0750
seg002:0750 loc_2320:				    ; CODE XREF: seg002:0747j
seg002:0750		    mov	    al,	45h ; 'E'
seg002:0752		    call    sub_2303
seg002:0755		    and	    al,	3Fh
seg002:0757		    xchg    al,	ah
seg002:0759		    call    sub_230C
seg002:075C		    xor	    ax,	ax
seg002:075E		    mov	    es,	ax
seg002:0760		    assume es:seg000
seg002:0760		    mov	    es:word_467, offset	loc_2764
seg002:0767		    mov	    es:word_469, cs
seg002:076C		    jmp	    loc_24EE
seg002:076F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:076F		    push    ax
seg002:0770		    push    bx
seg002:0771		    mov	    bx,	seg seg000
seg002:0774		    cli
seg002:0775		    in	    al,	66h
seg002:0777		    pusha
seg002:0778		    test    al,	0A0h
seg002:077A		    jnz	    short loc_2350
seg002:077C		    or	    al,	0A0h
seg002:077E		    out	    66h, al
seg002:0780
seg002:0780 loc_2350:				    ; CODE XREF: seg002:077Aj
seg002:0780		    mov	    word ptr byte_F7C, bx
seg002:0784		    mov	    word_F7A, sp
seg002:0788		    push    38h	; '8'
seg002:078A		    pop	    es
seg002:078B		    assume es:nothing
seg002:078B		    mov	    word ptr es:467h, 7B9h
seg002:0792		    mov	    ax,	seg_9B6
seg002:0795		    mov	    es:469h, ax
seg002:0799		    mov	    ax,	144h
seg002:079C		    call    sub_230C
seg002:079F		    jmp	    short $+2
seg002:07A1		    jmp	    short $+2
seg002:07A3		    jmp	    short $+2
seg002:07A5		    mov	    ax,	44h ; 'D'
seg002:07A8		    call    sub_230C
seg002:07AB		    mov	    al,	45h ; 'E'
seg002:07AD		    call    sub_2303
seg002:07B0		    or	    al,	80h
seg002:07B2		    xchg    al,	ah
seg002:07B4		    call    sub_230C
seg002:07B7
seg002:07B7 loc_2387:				    ; CODE XREF: seg002:loc_2387j
seg002:07B7		    jmp	    short loc_2387
seg002:07B9 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:07B9		    mov	    ax,	seg seg000
seg002:07BC		    mov	    ds,	ax
seg002:07BE		    mov	    es,	ax
seg002:07C0		    assume es:seg000
seg002:07C0		    mov	    ss,	word ptr byte_F7C
seg002:07C4		    mov	    sp,	word_F7A
seg002:07C8		    popa
seg002:07C9		    test    al,	0A0h
seg002:07CB		    jnz	    short loc_239F
seg002:07CD		    out	    66h, al
seg002:07CF
seg002:07CF loc_239F:				    ; CODE XREF: seg002:07CBj
seg002:07CF		    mov	    al,	45h ; 'E'
seg002:07D1		    call    sub_2303
seg002:07D4		    and	    al,	3Fh
seg002:07D6		    cmp	    byte_35, 0
seg002:07DB		    jnz	    short loc_23AF
seg002:07DD		    or	    al,	40h
seg002:07DF
seg002:07DF loc_23AF:				    ; CODE XREF: seg002:07DBj
seg002:07DF		    xchg    al,	ah
seg002:07E1		    call    sub_230C
seg002:07E4		    pop	    bx
seg002:07E5		    pop	    ax
seg002:07E6		    retn
seg002:07E7 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:07E7		    push    ax
seg002:07E8		    push    bx
seg002:07E9		    mov	    bx,	seg seg000
seg002:07EC		    cli
seg002:07ED		    in	    al,	21h	    ; Interrupt	controller, 8259A.
seg002:07EF		    pusha
seg002:07F0		    xor	    ax,	ax
seg002:07F2		    out	    43h, al	    ; Timer 8253-5 (AT:	8254.2).
seg002:07F4		    mov	    dx,	seg_9B6
seg002:07F8		    xor	    cx,	cx
seg002:07FA		    mov	    al,	0Bh
seg002:07FC		    out	    20h, al	    ; Interrupt	controller, 8259A.
seg002:07FE		    push    38h	; '8'
seg002:0800		    in	    al,	40h	    ; Timer 8253-5 (AT:	8254.2).
seg002:0802		    sub	    cl,	al
seg002:0804		    pop	    ds
seg002:0805		    assume ds:nothing
seg002:0805		    in	    al,	40h	    ; Timer 8253-5 (AT:	8254.2).
seg002:0807		    sbb	    ch,	al
seg002:0809		    pushf
seg002:080A		    in	    al,	20h	    ; Interrupt	controller, 8259A.
seg002:080C		    test    al,	1
seg002:080E		    jz	    short loc_23E4
seg002:0810		    mov	    al,	20h ; ' '
seg002:0812		    out	    20h, al	    ; Interrupt	controller, 8259A.
seg002:0814
seg002:0814 loc_23E4:				    ; CODE XREF: seg002:080Ej
seg002:0814		    popf
seg002:0815		    push    word ptr ds:22h
seg002:0819		    push    word ptr ds:20h
seg002:081D		    mov	    al,	0FEh ; ''
seg002:081F		    out	    21h, al	    ; Interrupt	controller, 8259A.
seg002:0821		    mov	    al,	10h
seg002:0823		    out	    43h, al	    ; Timer 8253-5 (AT:	8254.2).
seg002:0825		    mov	    ds:22h, dx
seg002:0829		    mov	    word ptr ds:20h, 852h
seg002:082F		    out	    40h, al	    ; Timer 8253-5 (AT:	8254.2).
seg002:0831		    mov	    ds:469h, bx
seg002:0835		    mov	    ds:467h, sp
seg002:0839		    push    20h	; ' '
seg002:083B		    mov	    al,	34h ; '4'
seg002:083D		    out	    43h, al	    ; Timer 8253-5 (AT:	8254.2).
seg002:083F		    pop	    ds
seg002:0840		    xor	    ax,	ax
seg002:0842		    out	    40h, al	    ; Timer 8253-5 (AT:	8254.2).
seg002:0844		    sub	    ds:9C6h, cx
seg002:0848		    sbb	    word ptr ds:9C8h, 0
seg002:084D		    out	    40h, al	    ; Timer 8253-5 (AT:	8254.2).
seg002:084F		    jmp	    loc_26A5
seg002:084F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0852		    db 0FAh, 83h, 0C4h,	6, 33h,	0C0h, 8Eh, 0D8h, 8Fh, 6, 20h
seg002:085D
seg002:085D ;  S	U B R O	U T I N	E 
seg002:085D
seg002:085D
seg002:085D sub_242D	    proc near		    ; CODE XREF: sub_D7B5J
seg002:085D		    add	    [bx+2206h],	cl
seg002:0861		    add	    al,	ch
seg002:0863		    sti
seg002:0864		    cli
seg002:0865		    xchg    al,	ds:9CCh
seg002:0869		    cmp	    al,	8
seg002:086B		    jz	    short loc_2461
seg002:086D		    or	    al,	al
seg002:086F		    jz	    short loc_245D
seg002:0871		    xor	    ax,	ax
seg002:0873		    cmp	    ds:9C8h, ax
seg002:0877		    jge	    short loc_245D
seg002:0879		    cmp	    al,	21h ; '!'
seg002:087B		    jz	    short loc_2455
seg002:087D		    test    word ptr ds:9CAh, 200h
seg002:0883		    jz	    short loc_245D
seg002:0885
seg002:0885 loc_2455:				    ; CODE XREF: sub_242D+1Ej
seg002:0885		    inc	    word ptr ds:9C8h
seg002:0889		    int	    8		    ;  - IRQ0 -	TIMER INTERRUPT
seg002:0889					    ; Generated	18.2 times per second, this interrupt is used to keep the
seg002:0889					    ; time-of-day clock	updated.
seg002:088B		    jmp	    short loc_2461
seg002:088D ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:088D
seg002:088D loc_245D:				    ; CODE XREF: sub_242D+12j
seg002:088D					    ; sub_242D+1Aj ...
seg002:088D		    mov	    al,	20h ; ' '
seg002:088F		    out	    20h, al	    ; Interrupt	controller, 8259A.
seg002:0891
seg002:0891 loc_2461:				    ; CODE XREF: sub_242D+Ej
seg002:0891					    ; sub_242D+2Ej
seg002:0891		    popa
seg002:0892		    out	    21h, al	    ; Interrupt	controller, 8259A.
seg002:0894		    mov	    word ptr ds:8D0h, 7FFh
seg002:089A		    cmp	    word ptr ds:35h, 8000h
seg002:08A0		    jnz	    short loc_2475
seg002:08A2		    call    sub_27CB
seg002:08A5
seg002:08A5 loc_2475:				    ; CODE XREF: sub_242D+43j
seg002:08A5		    pop	    bx
seg002:08A6		    pop	    ax
seg002:08A7		    retn
seg002:08A7 sub_242D	    endp ; sp =	 14h
seg002:08A7
seg002:08A8 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:08A8		    out	    7, ax	    ; DMA controller, 8237A-5.
seg002:08A8					    ; channel 3	base address and word count
seg002:08AA		    in	    al,	dx
seg002:08AB		    pop	    es
seg002:08AC		    assume es:nothing
seg002:08AC		    jmp	    short loc_2482
seg002:08AC ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:08AE		    db 9Fh, 0Ah, 0A4h, 0Ah
seg002:08B2 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:08B2
seg002:08B2 loc_2482:				    ; CODE XREF: seg002:08ACj
seg002:08B2		    cmp	    byte ptr ds:35h, 0
seg002:08B7		    jnz	    short loc_2492
seg002:08B9		    call    sub_27B9
seg002:08BC		    mov	    cx,	ds:10h
seg002:08C0
seg002:08C0 loc_2490:				    ; CODE XREF: seg002:loc_2490j
seg002:08C0		    loop    loc_2490
seg002:08C2
seg002:08C2 loc_2492:				    ; CODE XREF: seg002:08B7j
seg002:08C2					    ; seg002:2848j
seg002:08C2		    mov	    ax,	9DBh
seg002:08C5		    mov	    cx,	ds
seg002:08C7		    call    near ptr byte_1EF0+1Ch
seg002:08CA		    mov	    al,	0Fh
seg002:08CC		    out	    70h, al	    ; CMOS Memory:
seg002:08CC					    ; shutdown status byte
seg002:08CE		    jmp	    short $+2
seg002:08D0		    mov	    al,	ds:10EEh
seg002:08D3		    out	    71h, al	    ; CMOS Memory:
seg002:08D3					    ; used by real-time	clock
seg002:08D5		    retn
seg002:08D6 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:08D6		    wait
seg002:08D7		    or	    [bx+si-7FF7h], sp
seg002:08DB		    db	    3Eh
seg002:08DB		    das
seg002:08DD		    add	    [bp+di], al
seg002:08DF		    jb	    short loc_24C5
seg002:08E1		    mov	    ax,	gs
seg002:08E3		    mov	    ds:0D66h, ax
seg002:08E6		    mov	    ax,	fs
seg002:08E8		    mov	    ds:0D64h, ax
seg002:08EB		    mov	    ax,	ds:0D60h
seg002:08EE		    mov	    fs,	ax
seg002:08F0		    mov	    ax,	ds:0D62h
seg002:08F3		    mov	    gs,	ax
seg002:08F5
seg002:08F5 loc_24C5:				    ; CODE XREF: seg002:08DFj
seg002:08F5		    in	    al,	92h
seg002:08F7		    or	    al,	2
seg002:08F9		    and	    al,	0FEh
seg002:08FB		    jmp	    short $+2
seg002:08FD		    out	    92h, al
seg002:08FF		    jmp	    short loc_24EE
seg002:08FF ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0901 aTCA5	    db 'โ',0Ah
seg002:0901		    db '็',0Ah
seg002:0901		    db '>5',0
seg002:0909		    align 2
seg002:090A		    db 75h, 0Ah, 0E8h, 0DAh, 2,	8Bh, 0Eh, 10h, 0, 90h
seg002:0914 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0914
seg002:0914 loc_24E4:				    ; CODE XREF: seg002:loc_24E4j
seg002:0914		    loop    loc_24E4
seg002:0916		    mov	    ax,	0B94h
seg002:0919		    mov	    cx,	cs
seg002:091B		    call    near ptr byte_1EF0+1Ch
seg002:091E ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:091E
seg002:091E loc_24EE:				    ; CODE XREF: seg002:076Cj
seg002:091E					    ; seg002:08FFj
seg002:091E		    mov	    al,	0Fh
seg002:0920		    out	    70h, al	    ; CMOS Memory:
seg002:0920					    ; shutdown status byte
seg002:0922		    jmp	    short $+2
seg002:0924		    mov	    al,	0Ah
seg002:0926		    out	    71h, al	    ; CMOS Memory:
seg002:0926					    ; used by real-time	clock
seg002:0928		    retn
seg002:0929
seg002:0929 ;  S	U B R O	U T I N	E 
seg002:0929
seg002:0929
seg002:0929 sub_24F9	    proc near		    ; CODE XREF: sub_2DBD+2Bp
seg002:0929					    ; sub_2DF2+3Ap ...
seg002:0929		    push    20h	; ' '
seg002:092B		    pop	    ds
seg002:092B sub_24F9	    endp
seg002:092B
seg002:092C		    assume ds:nothing
seg002:092C
seg002:092C ;  S	U B R O	U T I N	E 
seg002:092C
seg002:092C
seg002:092C sub_24FC	    proc near		    ; CODE XREF: sub_286F+55p
seg002:092C					    ; seg002:1083p ...
seg002:092C		    nop
seg002:092D		    jmp	    word ptr ds:9BCh
seg002:092D sub_24FC	    endp
seg002:092D
seg002:0931
seg002:0931 ;  S	U B R O	U T I N	E 
seg002:0931
seg002:0931
seg002:0931 sub_2501	    proc near		    ; CODE XREF: sub_2950+26p
seg002:0931					    ; DATA XREF: sub_1D3C+C3w
seg002:0931		    nop
seg002:0932		    push    ax
seg002:0933		    push    bx
seg002:0934		    jmp	    word ptr ds:9BEh
seg002:0934 sub_2501	    endp
seg002:0934
seg002:0938 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0938		    push    ax
seg002:0939		    push    bx
seg002:093A		    mov	    bx,	seg seg000
seg002:093D		    cli
seg002:093E		    cmp	    byte ptr ds:2Fh, 3
seg002:0943		    jb	    short loc_2518
seg002:0945		    jmp	    loc_441C
seg002:0948 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0948
seg002:0948 loc_2518:				    ; CODE XREF: seg002:0943j
seg002:0948		    mov	    al,	0Eh
seg002:094A		    out	    37h, al
seg002:094C		    mov	    ax,	seg seg000
seg002:094F		    push    ax
seg002:0950		    push    ax
seg002:0951		    pusha
seg002:0952		    push    word ptr ds:9B6h
seg002:0956		    push    97Bh
seg002:0959		    mov	    al,	0Ah
seg002:095B		    out	    37h, al
seg002:095D		    mov	    ax,	38h ; '8'
seg002:0960		    mov	    ds,	ax
seg002:0962		    assume ds:nothing
seg002:0962		    mov	    ds:406h, bx
seg002:0966		    mov	    ds:404h, sp
seg002:096A		    mov	    si,	978h
seg002:096D		    mov	    cx,	3
seg002:0970		    cld
seg002:0971		    mov	    dx,	0F0h ; '๐'
seg002:0974		    lock rep outs dx, byte ptr cs:[si]
seg002:0974 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0978		    db 3 dup(0), 0B0h, 0Fh, 0E6h, 37h, 0EBh
seg002:0980 byte_2550	    db 0		    ; DATA XREF: sub_8D30+13r
seg002:0980					    ; sub_8D30+1Bw ...
seg002:0981 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0981		    out	    52h, al
seg002:0983		    cmp	    word ptr ds:35h, 8000h
seg002:0989		    jz	    short loc_2561
seg002:098B		    mov	    al,	0
seg002:098D		    out	    0F2h, al
seg002:098F		    jmp	    short loc_2565
seg002:0991 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0991
seg002:0991 loc_2561:				    ; CODE XREF: seg002:0989j
seg002:0991		    mov	    al,	3
seg002:0993		    out	    0F6h, al
seg002:0995
seg002:0995 loc_2565:				    ; CODE XREF: seg002:098Fj
seg002:0995		    popa
seg002:0996		    pop	    es
seg002:0997		    pop	    ds
seg002:0998		    assume ds:nothing
seg002:0998		    pop	    bx
seg002:0999		    pop	    ax
seg002:099A		    retn
seg002:099A ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:099B		    db 50h, 53h, 0BBh
seg002:099E		    dw seg seg000
seg002:09A0		    db 0FAh, 60h, 89h, 1Eh, 7Ch, 0Fh, 89h, 26h,	7Ah, 0Fh, 0B8h
seg002:09A0		    db 38h, 0, 8Eh, 0C0h, 0A1h,	0B6h, 9, 26h, 0A3h, 69h, 4
seg002:09A0		    db 26h, 0C7h, 6, 67h, 4, 6Eh, 0Bh, 0F6h, 6,	0Ch, 12h, 2
seg002:09A0		    db 74h, 0Bh, 0E4h, 92h, 0Ch, 3, 0EBh, 0, 0E6h, 92h,	0F4h
seg002:09A0		    db 0EBh, 0FDh, 0B0h, 0FEh, 0E6h, 64h, 0F4h,	0E9h, 75h
seg002:09A0		    db 1Eh, 50h, 53h, 0BBh
seg002:09DA		    dw seg seg000
seg002:09DC		    db 0FAh, 80h, 3Eh, 2Fh, 0, 3, 73h, 0F0h, 53h, 8Bh, 1Eh
seg002:09DC		    db 82h, 0Fh, 0Bh, 0DBh, 74h, 3, 0DDh, 37h, 9Bh, 5Bh, 60h
seg002:09DC		    db 0B8h
seg002:09F3		    dw seg seg000
seg002:09F5 aPp8	    db 'PPธ8',0
seg002:09FA		    db 8Eh, 0C0h, 26h, 0C7h, 6,	0FCh, 3, 35h, 0Ah, 0A1h, 0B6h
seg002:09FA		    db 9, 26h, 0A3h, 0FEh, 3, 0E4h, 2, 8Ah, 0C8h, 0E4h,	12h
seg002:09FA		    db 8Ah, 0E8h, 0B0h,	0FBh, 0E6h, 12h, 0B0h, 0FFh, 0E6h
seg002:09FA		    db 2, 0B0h,	1, 0BAh, 0B0h, 31h, 0EEh, 0E4h,	60h, 0C0h
seg002:09FA		    db 0E8h, 2,	24h, 7,	60h, 89h, 1Eh, 7Ch, 0Fh, 89h, 26h
seg002:09FA		    db 7Ah, 0Fh, 0B0h, 9, 0E6h,	20h, 0F4h, 0B0h, 80h, 0E6h
seg002:09FA		    db 20h, 0BBh
seg002:0A3A		    dw seg seg000
seg002:0A3C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0A3C		    mov	    ds,	bx
seg002:0A3E		    assume ds:seg000
seg002:0A3E		    mov	    ss,	word ptr byte_F7C
seg002:0A42		    mov	    sp,	word_F7A
seg002:0A46		    popa
seg002:0A47		    out	    60h, al	    ; AT Keyboard controller 8042.
seg002:0A49		    cli
seg002:0A4A		    mov	    al,	ch
seg002:0A4C		    out	    12h, al
seg002:0A4E		    mov	    al,	cl
seg002:0A50		    out	    2, al	    ; DMA controller, 8237A-5.
seg002:0A50					    ; channel 1	base address
seg002:0A50					    ; (also sets current address)
seg002:0A52		    xor	    al,	al
seg002:0A54		    mov	    dx,	31B0h
seg002:0A57		    out	    dx,	al
seg002:0A58		    pop	    es
seg002:0A59		    pop	    ds
seg002:0A5A		    assume ds:nothing
seg002:0A5A		    popa
seg002:0A5B		    pop	    bx
seg002:0A5C		    pop	    ax
seg002:0A5D		    retn
seg002:0A5E ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0A5E		    push    ax
seg002:0A5F		    push    bx
seg002:0A60		    mov	    bx,	seg seg000
seg002:0A63		    cli
seg002:0A64		    pusha
seg002:0A65		    mov	    ax,	38h ; '8'
seg002:0A68		    mov	    es,	ax
seg002:0A6A		    assume es:nothing
seg002:0A6A		    mov	    word ptr es:4A2h, 0A86h
seg002:0A71		    mov	    ax,	ds:9B6h
seg002:0A74		    mov	    es:4A4h, ax
seg002:0A78		    mov	    ds:0F7Ch, bx
seg002:0A7C		    mov	    ds:0F7Ah, sp
seg002:0A80		    mov	    dx,	3F00h
seg002:0A83		    in	    ax,	dx
seg002:0A84
seg002:0A84 loc_2654:				    ; CODE XREF: seg002:loc_2654j
seg002:0A84		    jmp	    short loc_2654
seg002:0A86 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0A86		    mov	    ax,	seg seg000
seg002:0A89		    mov	    ds,	ax
seg002:0A8B		    assume ds:seg000
seg002:0A8B		    mov	    es,	ax
seg002:0A8D		    assume es:nothing
seg002:0A8D		    mov	    ss,	word ptr byte_F7C
seg002:0A91		    mov	    sp,	word_F7A
seg002:0A95		    mov	    dx,	3F20h
seg002:0A98		    mov	    al,	0
seg002:0A9A		    out	    dx,	al
seg002:0A9B		    popa
seg002:0A9C		    pop	    bx
seg002:0A9D		    pop	    ax
seg002:0A9E		    retn
seg002:0A9E ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0A9F		    db 50h, 53h, 0BBh
seg002:0AA2		    dw seg seg000
seg002:0AA4		    db 0FAh, 0E4h, 21h,	60h, 9Ch, 0FFh,	36h, 0B6h, 9, 68h
seg002:0AA4		    db 3Fh, 0Bh, 2Bh, 26h, 0C4h, 9, 0B0h, 0FFh,	0E6h, 21h
seg002:0AA4		    db 0B8h, 38h, 0, 8Eh, 0C0h,	26h, 89h, 1Eh, 69h, 4, 26h
seg002:0AA4		    db 89h, 26h, 67h, 4, 80h, 3Eh, 0D0h, 0Eh, 0, 75h, 7, 0B0h
seg002:0AA4		    db 0FEh, 0E6h, 64h,	0F4h, 0EBh, 0FDh
seg002:0AD5 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0AD5
seg002:0AD5 loc_26A5:				    ; CODE XREF: seg002:084Fj
seg002:0AD5					    ; seg002:0B0Bj
seg002:0AD5		    mov	    word ptr byte_8D0, 0
seg002:0ADB		    lidt    fword ptr byte_8D0
seg002:0AE0		    int	    0FFh	    ; AT/XT286/PS50+ - destroyed by return from	protected mode
seg002:0AE2		    push    ax
seg002:0AE3		    push    bx
seg002:0AE4		    mov	    bx,	seg seg000
seg002:0AE7		    cli
seg002:0AE8		    in	    al,	21h	    ; Interrupt	controller, 8259A.
seg002:0AEA		    pusha
seg002:0AEB		    mov	    word ptr byte_F7C, bx
seg002:0AEF		    mov	    word_F7A, sp
seg002:0AF3		    mov	    ax,	38h ; '8'
seg002:0AF6		    mov	    es,	ax
seg002:0AF8		    assume es:nothing
seg002:0AF8		    mov	    ax,	seg_9B6
seg002:0AFB		    mov	    es:469h, ax
seg002:0AFF		    mov	    word ptr es:467h, 0B14h
seg002:0B06		    cmp	    byte_ED0, 0
seg002:0B0B		    jnz	    short loc_26A5
seg002:0B0D		    mov	    al,	0FEh ; ''
seg002:0B0F		    out	    64h, al	    ; AT Keyboard controller 8042.
seg002:0B0F					    ; Resend the last transmission
seg002:0B11
seg002:0B11 loc_26E1:				    ; CODE XREF: seg002:0B12j
seg002:0B11		    hlt
seg002:0B12		    jmp	    short loc_26E1
seg002:0B14 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0B14		    mov	    ax,	seg seg000
seg002:0B17		    mov	    ds,	ax
seg002:0B19		    mov	    ss,	word ptr byte_F7C
seg002:0B1D		    mov	    sp,	word_F7A
seg002:0B21		    call    sub_1F30
seg002:0B24		    mov	    al,	0Dh
seg002:0B26		    out	    70h, al	    ; CMOS Memory:
seg002:0B26					    ; used by real-time	clock
seg002:0B28		    popa
seg002:0B29		    out	    21h, al	    ; Interrupt	controller, 8259A.
seg002:0B2B		    mov	    word ptr byte_8D0, 7FFh
seg002:0B31		    cmp	    word ptr byte_35, 8000h
seg002:0B37		    jz	    short loc_270C
seg002:0B39		    pop	    bx
seg002:0B3A		    pop	    ax
seg002:0B3B		    retn
seg002:0B3C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0B3C
seg002:0B3C loc_270C:				    ; CODE XREF: seg002:0B37j
seg002:0B3C		    jmp	    loc_44CB
seg002:0B3F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0B3F		    cli
seg002:0B40		    call    sub_1F30
seg002:0B43		    popa
seg002:0B44		    out	    21h, al	    ; Interrupt	controller, 8259A.
seg002:0B46		    mov	    word ptr byte_8D0, 7FFh
seg002:0B4C		    cmp	    byte_35, 0
seg002:0B51		    jnz	    short loc_2730
seg002:0B53		    cmp	    byte_35+0Ah, 0
seg002:0B58		    jz	    short loc_272D
seg002:0B5A		    call    sub_27B3
seg002:0B5D
seg002:0B5D loc_272D:				    ; CODE XREF: seg002:0B58j
seg002:0B5D					    ; seg002:0B6Cj
seg002:0B5D		    pop	    bx
seg002:0B5E		    pop	    ax
seg002:0B5F		    retn
seg002:0B60 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0B60
seg002:0B60 loc_2730:				    ; CODE XREF: seg002:0B51j
seg002:0B60		    push    cx
seg002:0B61		    mov	    cx,	word ptr byte_10
seg002:0B65		    nop
seg002:0B66
seg002:0B66 loc_2736:				    ; CODE XREF: seg002:loc_2736j
seg002:0B66		    loop    loc_2736
seg002:0B68		    call    sub_27B9
seg002:0B6B		    pop	    cx
seg002:0B6C		    jmp	    short loc_272D
seg002:0B6E ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0B6E		    mov	    ax,	seg seg000
seg002:0B71		    mov	    ds,	ax
seg002:0B73		    mov	    ss,	word ptr byte_F7C
seg002:0B77		    mov	    sp,	word_F7A
seg002:0B7B		    mov	    al,	0Dh
seg002:0B7D		    out	    70h, al	    ; CMOS Memory:
seg002:0B7D					    ; used by real-time	clock
seg002:0B7F		    popa
seg002:0B80		    in	    al,	71h	    ; CMOS Memory
seg002:0B82		    cmp	    byte_35, 0
seg002:0B87		    in	    al,	92h
seg002:0B89		    jnz	    short loc_275D
seg002:0B8B		    and	    al,	0FDh
seg002:0B8D
seg002:0B8D loc_275D:				    ; CODE XREF: seg002:0B89j
seg002:0B8D		    and	    al,	0FEh
seg002:0B8F		    out	    92h, al
seg002:0B91		    pop	    bx
seg002:0B92		    pop	    ax
seg002:0B93		    retn
seg002:0B94 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0B94
seg002:0B94 loc_2764:				    ; DATA XREF: seg002:0684o
seg002:0B94					    ; seg002:0726o ...
seg002:0B94		    mov	    ax,	seg seg000
seg002:0B97		    mov	    ds,	ax
seg002:0B99		    mov	    ss,	ax
seg002:0B9B		    assume ss:seg000
seg002:0B9B		    mov	    sp,	word_996
seg002:0B9F		    sub	    sp,	180h
seg002:0BA3		    mov	    bp,	sp
seg002:0BA5		    mov	    di,	sp
seg002:0BA7		    mov	    cx,	2Ah ; '*'
seg002:0BAA		    cld
seg002:0BAB		    xor	    ax,	ax
seg002:0BAD		    rep	stosb
seg002:0BAF		    mov	    word_996, sp
seg002:0BB3		    mov	    bp,	sp
seg002:0BB5		    mov	    word ptr [bp+18h], 0FFFEh
seg002:0BBA		    mov	    sp,	word ptr byte_F4C+4
seg002:0BBE		    push    0
seg002:0BC0		    call    sub_3E7D
seg002:0BC3
seg002:0BC3 ;  S	U B R O	U T I N	E 
seg002:0BC3
seg002:0BC3
seg002:0BC3 sub_2793	    proc near		    ; CODE XREF: seg002:loc_1C33p
seg002:0BC3					    ; seg002:2903p
seg002:0BC3		    in	    al,	92h
seg002:0BC5		    and	    ah,	2
seg002:0BC8		    and	    al,	0FDh
seg002:0BCA		    or	    al,	ah
seg002:0BCC		    jmp	    short $+2
seg002:0BCE		    out	    92h, al
seg002:0BD0		    retn
seg002:0BD0 sub_2793	    endp
seg002:0BD0
seg002:0BD1
seg002:0BD1 ;  S	U B R O	U T I N	E 
seg002:0BD1
seg002:0BD1
seg002:0BD1 sub_27A1	    proc near		    ; CODE XREF: seg002:005Cp
seg002:0BD1					    ; sub_27B9+2p ...
seg002:0BD1		    call    sub_27F8
seg002:0BD4		    mov	    al,	0D1h ; 'ั'
seg002:0BD6		    out	    64h, al	    ; AT Keyboard controller 8042.
seg002:0BD8		    call    sub_27F8
seg002:0BDB		    xchg    al,	ah
seg002:0BDD		    out	    60h, al	    ; AT Keyboard controller 8042.
seg002:0BDF		    call    sub_27F8
seg002:0BE2		    retn
seg002:0BE2 sub_27A1	    endp
seg002:0BE2
seg002:0BE3
seg002:0BE3 ;  S	U B R O	U T I N	E 
seg002:0BE3
seg002:0BE3
seg002:0BE3 sub_27B3	    proc near		    ; CODE XREF: seg002:0B5Ap
seg002:0BE3					    ; sub_27B9+Aj ...
seg002:0BE3		    mov	    al,	0FFh
seg002:0BE5		    out	    64h, al	    ; AT Keyboard controller 8042.
seg002:0BE5					    ; Reset the	keyboard and start internal diagnostics
seg002:0BE7		    jmp	    short sub_27F8
seg002:0BE7 sub_27B3	    endp
seg002:0BE7
seg002:0BE9
seg002:0BE9 ;  S	U B R O	U T I N	E 
seg002:0BE9
seg002:0BE9
seg002:0BE9 sub_27B9	    proc near		    ; CODE XREF: seg002:08B9p
seg002:0BE9					    ; seg002:0B68p ...
seg002:0BE9		    mov	    ah,	0DFh ; '฿'
seg002:0BEB		    call    sub_27A1
seg002:0BEE		    test    byte ptr word_14, 1
seg002:0BF3		    jz	    short sub_27B3
seg002:0BF5
seg002:0BF5 loc_27C5:				    ; CODE XREF: sub_27B9+Fj
seg002:0BF5		    call    sub_27DD
seg002:0BF8		    jz	    short loc_27C5
seg002:0BFA		    retn
seg002:0BFA sub_27B9	    endp
seg002:0BFA
seg002:0BFB
seg002:0BFB ;  S	U B R O	U T I N	E 
seg002:0BFB
seg002:0BFB
seg002:0BFB sub_27CB	    proc near		    ; CODE XREF: sub_242D+45p
seg002:0BFB					    ; seg002:loc_44CBp	...
seg002:0BFB		    mov	    ah,	0DDh ; ''
seg002:0BFD		    call    sub_27A1
seg002:0C00		    test    byte ptr word_14, 1
seg002:0C05		    jz	    short sub_27B3
seg002:0C07
seg002:0C07 loc_27D7:				    ; CODE XREF: sub_27CB+Fj
seg002:0C07		    call    sub_27DD
seg002:0C0A		    jnz	    short loc_27D7
seg002:0C0C		    retn
seg002:0C0C sub_27CB	    endp
seg002:0C0C
seg002:0C0D
seg002:0C0D ;  S	U B R O	U T I N	E 
seg002:0C0D
seg002:0C0D
seg002:0C0D sub_27DD	    proc near		    ; CODE XREF: sub_27B9:loc_27C5p
seg002:0C0D					    ; sub_27CB:loc_27D7p ...
seg002:0C0D		    cli
seg002:0C0E		    xor	    cx,	cx
seg002:0C10		    push    ds
seg002:0C11		    mov	    ds,	cx
seg002:0C13		    push    si
seg002:0C14		    mov	    si,	20h ; ' '
seg002:0C17		    dec	    cx
seg002:0C18		    mov	    es,	cx
seg002:0C1A		    assume es:nothing
seg002:0C1A		    push    di
seg002:0C1B		    mov	    di,	30h ; '0'
seg002:0C1E		    cld
seg002:0C1F		    mov	    cx,	4
seg002:0C22		    repe cmpsw
seg002:0C24
seg002:0C24 loc_27F4:				    ; DATA XREF: sub_8D30+39w
seg002:0C24		    pop	    di
seg002:0C25		    pop	    si
seg002:0C26		    pop	    ds
seg002:0C27		    assume ds:nothing
seg002:0C27		    retn
seg002:0C27 sub_27DD	    endp
seg002:0C27
seg002:0C28
seg002:0C28 ;  S	U B R O	U T I N	E 
seg002:0C28
seg002:0C28
seg002:0C28 sub_27F8	    proc near		    ; CODE XREF: sub_27A1p
seg002:0C28					    ; sub_27A1+7p ...
seg002:0C28		    push    cx
seg002:0C29		    xor	    cx,	cx
seg002:0C2B
seg002:0C2B loc_27FB:				    ; CODE XREF: sub_27F8:loc_2803j
seg002:0C2B		    in	    al,	64h	    ; AT Keyboard controller 8042.
seg002:0C2D		    test    al,	2
seg002:0C2F		    jnz	    short loc_2803
seg002:0C31
seg002:0C31 loc_2801:				    ; CODE XREF: sub_27F8+Dj
seg002:0C31		    pop	    cx
seg002:0C32		    retn
seg002:0C33 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0C33
seg002:0C33 loc_2803:				    ; CODE XREF: sub_27F8+7j
seg002:0C33					    ; DATA XREF: sub_8D30+5r
seg002:0C33		    loopne  loc_27FB
seg002:0C35		    jz	    short loc_2801
seg002:0C37		    push    1Ah
seg002:0C39		    call    sub_3E7D
seg002:0C3C
seg002:0C3C loc_280C:				    ; DATA XREF: sub_8D30:loc_8D5Er
seg002:0C3C		    call    sub_286B
seg002:0C3F		    add	    al,	ch
seg002:0C41		    pop	    ax
seg002:0C42		    add	    [bx+di], al
seg002:0C44		    call    sub_286B
seg002:0C47		    add	    ch,	al
seg002:0C49		    push    ax
seg002:0C4A		    add	    [bp+di], al
seg002:0C4C		    call    sub_286B
seg002:0C4F		    add	    al,	0E8h ; '่'
seg002:0C51		    dec	    ax
seg002:0C52		    add	    [di], al
seg002:0C54		    call    sub_286B
seg002:0C57		    push    es
seg002:0C58		    call    sub_286B
seg002:0C5B		    pop	    es
seg002:0C5C		    call    sub_286F
seg002:0C5F		    or	    al,	ch
seg002:0C61		    cmp	    [bx+si], al
seg002:0C63		    or	    ax,	bp
seg002:0C65		    cmp	    [bx+si], al
seg002:0C67		    or	    ch,	al
seg002:0C69		    xor	    al,	0
seg002:0C6B		    or	    bp,	ax
seg002:0C6D		    xor	    [bx+si], al
seg002:0C6F		    or	    al,	0E8h
seg002:0C71		    sub	    al,	0
seg002:0C73		    or	    ax,	28E8h
seg002:0C76		    add	    ds:20E8h, cl
seg002:0C7A		    add	    [bx], cl
seg002:0C7C		    call    sub_286B
seg002:0C7F		    push    ds
seg002:0C80		    call    sub_286B
seg002:0C83		    and	    [bx], bl	    ; CODE XREF: sub_286F+14j
seg002:0C85		    pop	    ax
seg002:0C86		    pusha
seg002:0C87		    push    es
seg002:0C88		    push    ds
seg002:0C89		    push    ss
seg002:0C8A		    mov	    ax,	20h ; ' '
seg002:0C8D		    mov	    ds,	ax
seg002:0C8F		    assume ds:nothing
seg002:0C8F		    push    word ptr ds:996h
seg002:0C93		    mov	    bp,	sp
seg002:0C95		    add	    word ptr [bp+0Eh], 6
seg002:0C99		    jmp	    short loc_28BC
seg002:0C99 sub_27F8	    endp
seg002:0C99
seg002:0C9B
seg002:0C9B ;  S	U B R O	U T I N	E 
seg002:0C9B
seg002:0C9B
seg002:0C9B sub_286B	    proc near		    ; CODE XREF: sub_27F8:loc_280Cp
seg002:0C9B					    ; sub_27F8+1Cp ...
seg002:0C9B		    push    0
seg002:0C9D		    push    0
seg002:0C9D sub_286B	    endp
seg002:0C9D
seg002:0C9F
seg002:0C9F ;  S	U B R O	U T I N	E 
seg002:0C9F
seg002:0C9F
seg002:0C9F sub_286F	    proc near		    ; CODE XREF: sub_27F8+34p
seg002:0C9F
seg002:0C9F ; FUNCTION CHUNK AT	seg002:0251 SIZE 0000003F BYTES
seg002:0C9F
seg002:0C9F		    cli
seg002:0CA0		    push    ax
seg002:0CA1		    push    ds
seg002:0CA2		    mov	    ax,	20h ; ' '
seg002:0CA5		    mov	    ds,	ax
seg002:0CA7		    mov	    word ptr ds:0F7Ch, ss
seg002:0CAB		    mov	    ds:0F7Ah, sp
seg002:0CAF		    cmp	    ds:0F7Ch, ax
seg002:0CB3		    jz	    short near ptr loc_2853+1
seg002:0CB5		    mov	    ss,	ax
seg002:0CB7		    assume ss:nothing
seg002:0CB7		    mov	    sp,	ds:996h
seg002:0CBB		    sub	    sp,	180h
seg002:0CBF		    pusha
seg002:0CC0		    push    es
seg002:0CC1		    push    ds
seg002:0CC2		    push    word ptr ds:0F7Ch
seg002:0CC6		    push    word ptr ds:996h
seg002:0CCA		    mov	    bp,	sp
seg002:0CCC		    mov	    es,	ax
seg002:0CCE		    assume es:nothing
seg002:0CCE		    lds	    si,	ds:0F7Ah
seg002:0CD2		    assume ds:nothing
seg002:0CD2		    cld
seg002:0CD3		    lodsw
seg002:0CD4		    mov	    [bp+4], ax
seg002:0CD7		    lea	    di,	[bp+16h]
seg002:0CDA		    movsw
seg002:0CDB		    movsw
seg002:0CDC		    movsd
seg002:0CDE		    mov	    [bp+0Eh], si
seg002:0CE1		    movsd
seg002:0CE3		    movsd
seg002:0CE5		    movsd
seg002:0CE7		    mov	    ax,	20h ; ' '
seg002:0CEA		    mov	    ds,	ax
seg002:0CEC		    assume ds:nothing
seg002:0CEC
seg002:0CEC loc_28BC:				    ; CODE XREF: sub_27F8+71j
seg002:0CEC					    ; DATA XREF: sub_8D75r
seg002:0CEC		    mov	    ds:996h, bp
seg002:0CF0		    mov	    sp,	ds:0F50h
seg002:0CF4		    call    sub_24FC
seg002:0CF7		    xor	    ax,	ax
seg002:0CF9		    mov	    bx,	[bp+18h]
seg002:0CFC		    or	    bx,	bx
seg002:0CFE		    jnz	    short loc_28D3
seg002:0D00		    xchg    bx,	[bp+1Ch]
seg002:0D03
seg002:0D03 loc_28D3:				    ; CODE XREF: sub_286F+5Fj
seg002:0D03		    mov	    al,	cs:[bx]
seg002:0D06		    mov	    [bp+18h], ax
seg002:0D09		    jmp	    loc_1E21
seg002:0D09 sub_286F	    endp
seg002:0D09
seg002:0D0C
seg002:0D0C ;  S	U B R O	U T I N	E 
seg002:0D0C
seg002:0D0C
seg002:0D0C sub_28DC	    proc near		    ; CODE XREF: sub_1E16+7p
seg002:0D0C		    cli
seg002:0D0D		    push    1026h
seg002:0D10		    call    sub_2E68
seg002:0D13		    pop	    cx
seg002:0D14		    retn
seg002:0D14 sub_28DC	    endp
seg002:0D14
seg002:0D15
seg002:0D15 ;  S	U B R O	U T I N	E 
seg002:0D15
seg002:0D15
seg002:0D15 sub_28E5	    proc near		    ; CODE XREF: sub_1E16p
seg002:0D15		    cli
seg002:0D16		    push    1026h
seg002:0D19		    call    sub_2E50
seg002:0D1C		    pop	    cx
seg002:0D1D		    push    0F8Ah
seg002:0D20		    call    sub_2E68
seg002:0D23		    pop	    cx
seg002:0D24		    sti
seg002:0D25		    retn
seg002:0D25 sub_28E5	    endp
seg002:0D25
seg002:0D26
seg002:0D26 ;  S	U B R O	U T I N	E 
seg002:0D26
seg002:0D26 ; Attributes: bp-based frame
seg002:0D26
seg002:0D26 sub_28F6	    proc far		    ; CODE XREF: seg002:0E2Fp
seg002:0D26
seg002:0D26 arg_0	    = dword ptr	 6
seg002:0D26 arg_4	    = dword ptr	 0Ah
seg002:0D26
seg002:0D26		    push    bp
seg002:0D27		    mov	    bp,	sp
seg002:0D29		    push    ds
seg002:0D2A		    push    es
seg002:0D2B		    push    si
seg002:0D2C		    push    di
seg002:0D2D		    lds	    si,	[bp+arg_4]
seg002:0D30		    assume ds:nothing
seg002:0D30		    mov	    ax,	si
seg002:0D32		    mov	    dx,	ds
seg002:0D34		    mov	    cx,	ss
seg002:0D36		    cmp	    cx,	dx
seg002:0D38		    jnz	    short loc_292C
seg002:0D3A		    mov	    cx,	si
seg002:0D3C		    sub	    cx,	sp
seg002:0D3E		    sub	    si,	cx
seg002:0D40		    les	    di,	[bp+arg_0]
seg002:0D43		    assume es:nothing
seg002:0D43		    sub	    di,	cx
seg002:0D45		    add	    [bp+0], di
seg002:0D48		    sub	    [bp+0], si
seg002:0D4B		    mov	    bx,	es
seg002:0D4D		    mov	    ss,	bx
seg002:0D4F		    assume ss:nothing
seg002:0D4F		    mov	    sp,	di
seg002:0D51		    shr	    cx,	1
seg002:0D53		    cld
seg002:0D54		    rep	movsw
seg002:0D56
seg002:0D56 loc_2926:				    ; CODE XREF: sub_28F6+3Aj
seg002:0D56		    pop	    di
seg002:0D57		    pop	    si
seg002:0D58		    pop	    es
seg002:0D59		    pop	    ds
seg002:0D5A		    pop	    bp
seg002:0D5B		    retf
seg002:0D5C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0D5C
seg002:0D5C loc_292C:				    ; CODE XREF: sub_28F6+12j
seg002:0D5C		    xor	    ax,	ax
seg002:0D5E		    xor	    dx,	dx
seg002:0D60		    jmp	    short loc_2926
seg002:0D60 sub_28F6	    endp
seg002:0D60
seg002:0D62
seg002:0D62 ;  S	U B R O	U T I N	E 
seg002:0D62
seg002:0D62
seg002:0D62 sub_2932	    proc near		    ; CODE XREF: sub_2950+Dp
seg002:0D62					    ; sub_2950+15p ...
seg002:0D62		    and	    bl,	0F8h
seg002:0D65		    mov	    dh,	[bx+7]
seg002:0D68		    mov	    dl,	[bx+4]
seg002:0D6B		    mov	    bx,	[bx+2]
seg002:0D6E		    and	    bl,	0F0h
seg002:0D71		    or	    bl,	dl
seg002:0D73		    ror	    bx,	4
seg002:0D76		    test    dx,	0FFF0h
seg002:0D7A		    jz	    short locret_294F
seg002:0D7C		    mov	    bx,	0E000h
seg002:0D7F
seg002:0D7F locret_294F:			    ; CODE XREF: sub_2932+18j
seg002:0D7F		    retn
seg002:0D7F sub_2932	    endp
seg002:0D7F
seg002:0D80
seg002:0D80 ;  S	U B R O	U T I N	E 
seg002:0D80
seg002:0D80 ; Attributes: bp-based frame
seg002:0D80
seg002:0D80 sub_2950	    proc far		    ; CODE XREF: seg002:0E3Cp
seg002:0D80					    ; sub_2D91+1p
seg002:0D80		    push    bp
seg002:0D81		    mov	    bp,	sp
seg002:0D83		    mov	    cx,	ds
seg002:0D85		    mov	    ax,	8
seg002:0D88		    mov	    ds,	ax
seg002:0D8A		    assume ds:nothing
seg002:0D8A		    mov	    bx,	[bp+4]
seg002:0D8D		    call    sub_2932
seg002:0D90		    jnz	    short loc_297C
seg002:0D92		    xchg    ax,	bx
seg002:0D93		    mov	    bx,	cx
seg002:0D95		    call    sub_2932
seg002:0D98		    push    bx
seg002:0D99		    mov	    bx,	ss
seg002:0D9B		    call    sub_2932
seg002:0D9E		    jnz	    short loc_297C
seg002:0DA0		    xchg    ax,	[bp+4]
seg002:0DA3		    push    20h	; ' '
seg002:0DA5		    pop	    ds
seg002:0DA6		    assume ds:nothing
seg002:0DA6		    call    sub_2501
seg002:0DA9		    pop	    ds
seg002:0DAA		    assume ds:nothing
seg002:0DAA		    pop	    bp
seg002:0DAB		    retf
seg002:0DAC ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0DAC
seg002:0DAC loc_297C:				    ; CODE XREF: sub_2950+10j
seg002:0DAC					    ; sub_2950+1Ej
seg002:0DAC		    xor	    ax,	ax
seg002:0DAE		    mov	    ds,	cx
seg002:0DB0		    leave
seg002:0DB1		    retf
seg002:0DB1 sub_2950	    endp
seg002:0DB1
seg002:0DB2
seg002:0DB2 ;  S	U B R O	U T I N	E 
seg002:0DB2
seg002:0DB2 ; Attributes: bp-based frame
seg002:0DB2
seg002:0DB2 sub_2982	    proc far		    ; CODE XREF: sub_F184-C4A5p
seg002:0DB2
seg002:0DB2 arg_0	    = word ptr	6
seg002:0DB2 arg_2	    = word ptr	8
seg002:0DB2 arg_4	    = word ptr	0Ah
seg002:0DB2 arg_6	    = word ptr	0Ch
seg002:0DB2
seg002:0DB2		    push    bp
seg002:0DB3		    mov	    bp,	sp
seg002:0DB5		    mov	    dx,	[bp+arg_2]
seg002:0DB8		    xor	    ax,	ax
seg002:0DBA		    jnz	    short loc_29A3
seg002:0DBC		    mov	    ax,	seg seg000
seg002:0DBF		    mov	    ds,	ax
seg002:0DC1		    assume ds:seg000
seg002:0DC1		    call    loc_1E63
seg002:0DC4		    mov	    ax,	[bp+arg_0]
seg002:0DC7		    mov	    [bp+4], ax
seg002:0DCA		    mov	    ds,	[bp+arg_4]
seg002:0DCD		    assume ds:nothing
seg002:0DCD		    mov	    es,	[bp+arg_6]
seg002:0DD0		    mov	    ax,	1
seg002:0DD3
seg002:0DD3 loc_29A3:				    ; CODE XREF: sub_2982+8j
seg002:0DD3		    pop	    bp
seg002:0DD4		    retf
seg002:0DD4 sub_2982	    endp
seg002:0DD4
seg002:0DD4 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0DD5		    align 2
seg002:0DD6 word_29A6	    dw 0		    ; DATA XREF: seg002:0E58r
seg002:0DD6					    ; seg002:0E6Cw
seg002:0DD8 word_29A8	    dw 0		    ; DATA XREF: seg002:0E5Dr
seg002:0DD8					    ; seg002:0E67w
seg002:0DDA		    dw 0
seg002:0DDC word_29AC	    dw 0		    ; DATA XREF: seg002:0E4Aw
seg002:0DDC					    ; seg002:0E62r
seg002:0DDE ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0DDE		    pop	    ax
seg002:0DDF		    pop	    bx
seg002:0DE0		    pushf
seg002:0DE1		    cli
seg002:0DE2		    push    bx
seg002:0DE3		    push    ax
seg002:0DE4		    push    bp
seg002:0DE5		    mov	    bp,	sp
seg002:0DE7		    sub	    sp,	6
seg002:0DEA		    push    es
seg002:0DEB		    push    ds
seg002:0DEC		    push    si
seg002:0DED		    push    di
seg002:0DEE		    sub	    sp,	14h
seg002:0DF1		    lds	    si,	[bp+0Ah]
seg002:0DF4		    cld
seg002:0DF5		    push    ss
seg002:0DF6		    pop	    es
seg002:0DF7		    mov	    di,	sp
seg002:0DF9		    mov	    cx,	0Ah
seg002:0DFC		    rep	movsw
seg002:0DFE		    push    ss
seg002:0DFF		    lea	    ax,	[bp+0Ah]
seg002:0E02		    push    ax
seg002:0E03		    push    20h	; ' '
seg002:0E05		    pop	    ds
seg002:0E06		    assume ds:nothing
seg002:0E06		    push    ds
seg002:0E07		    mov	    ax,	ds:0Ah
seg002:0E0A		    add	    ax,	ds:0Eh
seg002:0E0E		    add	    ax,	ds:48h
seg002:0E12		    sub	    word ptr ds:0Eh, 200h
seg002:0E18		    sub	    word ptr ds:996h, 180h
seg002:0E1E		    mov	    bx,	ds:996h
seg002:0E22		    mov	    word ptr [bx+2], ss
seg002:0E25		    lea	    cx,	[bp+2]
seg002:0E28		    mov	    [bx+0Eh], cx
seg002:0E2B		    and	    al,	0FEh
seg002:0E2D		    push    ax
seg002:0E2E		    push    cs
seg002:0E2F		    call    near ptr sub_28F6
seg002:0E32		    add	    sp,	8
seg002:0E35		    mov	    [bp-4], ax
seg002:0E38		    mov	    [bp-2], dx
seg002:0E3B		    push    cs
seg002:0E3C		    call    near ptr sub_2950
seg002:0E3F		    mov	    [bp-6], ax
seg002:0E42		    mov	    al,	[bp+8]
seg002:0E45		    xchg    al,	cs:byte_2A42
seg002:0E4A		    mov	    byte ptr cs:word_29AC, al
seg002:0E4E		    push    word ptr [bp+6]
seg002:0E51		    push    cs
seg002:0E52		    call    near ptr nullsub_1
seg002:0E55		    pop	    ds
seg002:0E56		    assume ds:nothing
seg002:0E56		    pop	    es
seg002:0E57		    popa
seg002:0E58		    push    cs:word_29A6
seg002:0E5D		    push    cs:word_29A8
seg002:0E62		    push    cs:word_29AC
seg002:0E67		    mov	    cs:word_29A8, ss
seg002:0E6C		    mov	    cs:word_29A6, sp
seg002:0E6C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0E71		    db 0CDh
seg002:0E72 byte_2A42	    db 0		    ; DATA XREF: seg002:0E45w
seg002:0E73		    db 2Eh, 8Eh, 16h, 0D8h, 0Dh, 2Eh, 8Bh, 26h,	0D6h, 0Dh
seg002:0E73		    db 9Ch, 0FAh, 2Eh, 8Fh, 6, 0DAh, 0Dh, 2Eh, 8Fh, 6, 0DCh
seg002:0E73		    db 0Dh, 2Eh, 8Fh, 6, 0D8h, 0Dh, 2Eh, 8Fh, 6, 0D6h, 0Dh
seg002:0E73		    db 60h, 2Eh, 0A0h, 0DCh, 0Dh, 2Eh, 0A2h, 72h, 0Eh, 6, 1Eh
seg002:0E73		    db 8Bh, 0ECh, 9Ch, 83h, 0C5h, 22h, 0FFh, 76h, 0F8h,	0FFh
seg002:0E73		    db 76h, 0F6h, 6Ah, 20h, 6Ah, 18h, 0Eh, 0E8h, 0, 0FFh, 36h
seg002:0E73		    db 81h, 6, 96h, 9, 80h, 1, 36h, 81h, 6, 0Eh, 2 dup(0)
seg002:0E73		    db 2, 83h, 0C4h, 8,	16h, 8Dh, 46h, 0Ah, 50h, 0FFh, 76h
seg002:0E73		    db 0FEh, 0FFh, 76h,	0FCh, 0Eh, 0E8h, 54h, 0FEh, 83h, 0C4h
seg002:0E73		    db 8, 0FCh,	58h, 0C4h, 7Eh,	0Eh, 16h, 1Fh, 8Bh, 0F4h, 0B9h
seg002:0E73		    db 0Ah, 0, 0F3h, 0A5h, 83h,	0C4h, 14h, 5Fh,	5Eh, 1Fh, 7
seg002:0E73		    db 8Bh, 0E5h, 5Dh, 2Eh, 0A1h, 0DAh,	0Dh, 0Ch, 2, 0CFh
seg002:0EF4 byte_2AC4	    db 0CDh		    ; CODE XREF: sub_1C38+83p
seg002:0EF4					    ; sub_47C3+27p ...
seg002:0EF5 byte_2AC5	    db 15h		    ; DATA XREF: sub_7F65+61w
seg002:0EF6 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0EF6		    retn
seg002:0EF6 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0EF7		    align 2
seg002:0EF8		    db 8Ch, 4Fh, 1Eh, 93h, 8Bh,	0ECh, 8Ah, 87h,	0BEh, 10h
seg002:0EF8		    db 3, 0DBh,	3, 0DBh, 33h, 0C9h, 8Dh, 57h, 0E0h, 81h, 0FAh
seg002:0EF8		    db 98h, 0, 77h, 0Bh, 84h, 0C0h, 74h, 7, 0B9h
seg002:0F16		    dw seg seg000
seg002:0F18		    db 81h, 0C3h, 6Ah, 0Fh, 8Eh, 0C1h, 26h, 8Bh, 4Fh, 2, 0E3h
seg002:0F18		    db 0Dh, 26h, 8Bh, 7, 89h, 4Eh, 16h,	89h, 46h, 14h, 1Fh
seg002:0F18		    db 7, 61h, 0CFh, 0E9h, 1Dh,	0F3h, 9Ch, 0FAh, 52h, 66h
seg002:0F18		    db 53h, 55h, 1Eh, 0BAh
seg002:0F3C		    dw seg seg000
seg002:0F3E		    db 6, 8Eh, 0DAh, 8Bh, 2Eh, 96h, 9, 0E8h, 48h, 0F3h,	5Ah
seg002:0F3E		    db 0EAh, 7Ch, 4, 70h, 0, 0E8h, 1Dh
seg002:0F50		    dw 0
seg002:0F52 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0F52		    call    near ptr loc_2B3D+1
seg002:0F55		    add	    al,	ch
seg002:0F57		    adc	    ax,	0
seg002:0F5A		    call    near ptr loc_2B3D+1
seg002:0F5D		    add	    al,	ch
seg002:0F5F		    or	    ax,	0
seg002:0F62		    call    near ptr loc_2B3D+1
seg002:0F65		    add	    al,	ch
seg002:0F67		    add	    ax,	0
seg002:0F6A		    call    near ptr loc_2B3D+1
seg002:0F6D
seg002:0F6D loc_2B3D:				    ; CODE XREF: seg002:0F52p
seg002:0F6D					    ; seg002:0F5Ap ...
seg002:0F6D		    add	    dl,	bh
seg002:0F6F
seg002:0F6F loc_2B3F:				    ; DATA XREF: seg002:720Er
seg002:0F6F		    push    ds
seg002:0F70		    push    es
seg002:0F71
seg002:0F71 loc_2B41:				    ; DATA XREF: seg002:7213r
seg002:0F71		    push    bp
seg002:0F72		    push    dx
seg002:0F73		    mov	    bp,	sp
seg002:0F75		    push    si
seg002:0F76		    lea	    si,	[bp+4]
seg002:0F79		    push    di
seg002:0F7A		    mov	    di,	seg seg000
seg002:0F7D		    mov	    es,	di
seg002:0F7F		    assume es:seg000
seg002:0F7F		    mov	    di,	es:word_996
seg002:0F84		    sub	    di,	0Ch
seg002:0F87		    push    ss
seg002:0F88		    pop	    ds
seg002:0F89		    mov	    word ptr es:[di-2],	ss
seg002:0F8D		    mov	    dx,	word ptr cs:byte_1BD2+6
seg002:0F92		    mov	    es:[di-4], dx
seg002:0F96		    cld
seg002:0F97		    push    cx
seg002:0F98		    mov	    cx,	6
seg002:0F9B		    rep	movsw
seg002:0F9D		    pop	    cx
seg002:0F9E		    push    es
seg002:0F9F		    pop	    ds
seg002:0FA0		    assume ds:seg000
seg002:0FA0		    and	    word ptr [bp+0Eh], 0CFFh
seg002:0FA5		    mov	    di,	[bp+8]
seg002:0FA8		    mov	    di,	cs:[di]
seg002:0FAB		    and	    di,	0FFh
seg002:0FAF		    push    di
seg002:0FB0		    mov	    word ptr cs:byte_1BD2+6, di
seg002:0FB5		    mov	    dx,	ss
seg002:0FB7		    cmp	    dx,	seg seg000
seg002:0FBB		    jnz	    short loc_2BC8
seg002:0FBD		    call    sub_1E60
seg002:0FC0		    mov	    dx,	48h ; 'H'
seg002:0FC3		    mov	    es,	dx
seg002:0FC5		    assume es:nothing
seg002:0FC5		    pop	    dx
seg002:0FC6		    cmp	    dl,	24h ; '$'
seg002:0FC9		    jz	    short loc_2BC3
seg002:0FCB		    cmp	    dl,	23h ; '#'
seg002:0FCE		    jz	    short loc_2BBE
seg002:0FD0		    mov	    es:0FE8h, dl
seg002:0FD5		    jmp	    short loc_2BA8
seg002:0FD5 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0FD7		    align 2
seg002:0FD8
seg002:0FD8 loc_2BA8:				    ; CODE XREF: seg002:0FD5j
seg002:0FD8		    pop	    di
seg002:0FD9		    pop	    si
seg002:0FDA		    pop	    dx
seg002:0FDB		    mov	    bp,	0
seg002:0FDE		    mov	    es,	bp
seg002:0FE0		    assume es:seg000
seg002:0FE0		    mov	    ds,	bp
seg002:0FE2		    pop	    bp
seg002:0FE3		    add	    sp,	0Ah
seg002:0FE6		    popf
seg002:0FE7		    int	    21h		    ; DOS -
seg002:0FE9		    jmp	    far	ptr 70h:56Ah
seg002:0FEE ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0FEE
seg002:0FEE loc_2BBE:				    ; CODE XREF: seg002:0FCEj
seg002:0FEE		    jmp	    far	ptr 70h:5BEh
seg002:0FF3 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0FF3
seg002:0FF3 loc_2BC3:				    ; CODE XREF: seg002:0FC9j
seg002:0FF3		    jmp	    far	ptr 70h:5F0h
seg002:0FF8 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:0FF8
seg002:0FF8 loc_2BC8:				    ; CODE XREF: seg002:0FBBj
seg002:0FF8		    rol	    dx,	4
seg002:0FFB		    mov	    di,	dx
seg002:0FFD		    and	    di,	0FFF0h
seg002:1000		    and	    dl,	0Fh
seg002:1003		    push    0FC0h
seg002:1006		    jmp	    near ptr byte_1E74+13h
seg002:1006 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:1009		    db 0E8h, 25h, 0F9h,	5Bh, 56h, 8Bh, 37h, 2Eh, 89h, 36h
seg002:1009		    db 8, 0, 8Bh, 77h, 8, 2Eh, 80h, 3Ch, 24h, 0C4h, 77h, 0Ah
seg002:1009		    db 89h, 76h, 2, 8Ch, 46h, 4, 75h, 1Ah, 83h,	3Eh, 0F0h
seg002:1009		    db 10h, 0, 74h, 13h, 8Bh, 36h, 0F0h, 10h, 0C6h, 46h, 6
seg002:1009		    db 0, 9, 76h, 6, 0C7h, 46h,	2, 0B7h, 10h, 8Ch, 4Eh,	4
seg002:1009		    db 5Eh, 50h, 8Bh, 7, 2Eh, 0A3h, 8, 0, 58h, 8Eh, 47h, 4
seg002:1009		    db 8Eh, 5Fh, 6, 5Bh, 5Dh, 0CFh, 11h	dup(0)
seg002:1064 word_2C34	    dw 0		    ; DATA XREF: seg002:1068r
seg002:1064					    ; seg002:1089w ...
seg002:1066 word_2C36	    dw 0		    ; DATA XREF: sub_2C6B+1Dw
seg002:1066					    ; sub_2C6B+38r
seg002:1068 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:1068		    push    cs:word_2C34
seg002:106D		    mov	    [bx+1Eh], sp
seg002:1070		    mov	    ax,	[bp+26h]
seg002:1073		    mov	    [bx-12h], ax
seg002:1076		    mov	    ax,	20h ; ' '
seg002:1079		    mov	    ss,	ax
seg002:107B		    assume ss:nothing
seg002:107B		    lea	    sp,	[bx-12h]
seg002:107E		    mov	    byte_9C2+0Ah, 21h ;	'!'
seg002:1083		    call    sub_24FC
seg002:1086		    lea	    ax,	[bx+18h]
seg002:1089		    mov	    cs:word_2C34, ax
seg002:108D		    mov	    ax,	[bx+16h]
seg002:1090		    mov	    cs:byte_1BD2+4, 21h	; '!'
seg002:1096		    mov	    cs:byte_1BD2+5, ah
seg002:109B
seg002:109B ;  S	U B R O	U T I N	E 
seg002:109B
seg002:109B
seg002:109B sub_2C6B	    proc near		    ; CODE XREF: sub_F0C8+EP
seg002:109B		    push    word ptr [bx+10h]
seg002:109E		    mov	    cx,	[bx+14h]
seg002:10A1		    mov	    dx,	[bx+12h]
seg002:10A4		    mov	    bp,	[bx+0Ch]
seg002:10A7		    mov	    si,	[bx+0Ah]
seg002:10AA		    mov	    di,	[bx+8]
seg002:10AD		    mov	    es,	word ptr [bx+6]
seg002:10B0		    assume es:nothing, ds:nothing
seg002:10B0		    mov	    ds,	word ptr [bx+4]
seg002:10B3		    pop	    bx
seg002:10B4		    popf
seg002:10B5		    int	    21h		    ; DOS -
seg002:10B7		    pushf
seg002:10B8		    pop	    cs:word_2C36
seg002:10BD		    cli
seg002:10BE		    mov	    ss,	cs:seg_1BD0
seg002:10C3		    assume ss:nothing
seg002:10C3		    mov	    sp,	cs:word_2C34
seg002:10C8		    pusha
seg002:10C9		    push    es
seg002:10CA		    push    ds
seg002:10CB		    mov	    ds,	cs:seg_1BD0
seg002:10D0		    call    sub_1E60
seg002:10D3		    mov	    ax,	cs:word_2C36
seg002:10D7		    jmp	    far	ptr 70h:0D81h
seg002:10D7 sub_2C6B	    endp
seg002:10D7
seg002:10D7 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:10DC		    db 66h, 9Ch, 66h, 0Eh, 6Ah,	0, 68h,	0E9h, 10h, 0E8h, 0B3h
seg002:10DC		    db 0FBh, 0FFh, 0EAh, 89h, 0Ah, 70h,	0, 0E8h, 0AAh, 0FBh
seg002:10DC		    db 21h, 0Eh, 0E8h, 8Ah, 0FCh, 5Bh
seg002:10F7 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:10F7 ; START OF FUNCTION	CHUNK FOR sub_F184
seg002:10F7
seg002:10F7 loc_2CC7:				    ; CODE XREF: sub_F184+3J
seg002:10F7		    inc	    byte ptr ds:1182h
seg002:10FB		    call    sub_4E96
seg002:10FE		    pop	    cx
seg002:10FF		    pop	    cx
seg002:1100		    mov	    ax,	sp
seg002:1102		    sub	    ax,	6
seg002:1105		    push    ax
seg002:1106		    call    sub_4A99
seg002:1109		    pop	    cx
seg002:110A		    dec	    byte ptr ds:1182h
seg002:110E		    push    cs
seg002:110F		    call    near ptr sub_2982
seg002:1112		    jmp	    far	ptr 70h:9DAh
seg002:1112 ; END OF FUNCTION CHUNK FOR	sub_F184
seg002:1112 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:1117		    align 2
seg002:1118		    dd byte_95+3
seg002:111C		    db 0E8h, 4Fh, 0FEh,	8, 0E8h, 4Bh, 0FEh, 9, 0E8h, 47h, 0FEh
seg002:111C		    db 0Ah, 0E8h, 43h, 0FEh, 0Bh, 0E8h,	3Fh, 0FEh, 0Ch,	0E8h
seg002:111C		    db 3Bh, 0FEh, 0Dh, 0E8h, 37h, 0FEh,	0Eh, 0E8h, 33h,	0FEh
seg002:111C		    db 0Fh, 0E8h, 2Fh, 0FEh, 10h, 0E8h,	2Bh, 0FEh, 11h,	0E8h
seg002:111C		    db 27h, 0FEh, 12h, 0E8h, 23h, 0FEh,	13h, 0E8h, 1Fh,	0FEh
seg002:111C		    db 14h, 0E8h, 1Bh, 0FEh, 15h, 0E8h,	17h, 0FEh, 16h,	0E8h
seg002:111C		    db 13h, 0FEh, 17h, 0E8h, 0Fh, 0FEh,	18h, 0E8h, 0Bh,	0FEh
seg002:111C		    db 19h, 0E8h, 7, 0FEh, 1Ah,	0E8h, 3, 0FEh, 1Bh, 0E8h, 0FFh
seg002:111C		    db 0FDh, 1Ch, 0E8h,	0FBh, 0FDh, 1Dh, 0E8h, 0F7h, 0FDh
seg002:111C		    db 1Eh, 0E8h, 0F3h,	0FDh, 1Fh, 0E8h, 0EFh, 0FDh, 20h, 0E8h
seg002:111C		    db 0EBh, 0FDh, 21h,	0E8h, 0E7h, 0FDh, 22h, 0E8h, 0E3h
seg002:111C		    db 0FDh, 23h, 0E8h,	0DFh, 0FDh, 24h, 0E8h, 0DBh, 0FDh
seg002:111C		    db 25h, 0E8h, 0D7h,	0FDh, 26h, 0E8h, 0D3h, 0FDh, 27h, 0E8h
seg002:111C		    db 0CFh, 0FDh, 28h,	0E8h, 0CBh, 0FDh, 29h, 0E8h, 0C7h
seg002:111C		    db 0FDh, 2Ah, 0E8h,	0C3h, 0FDh, 2Bh, 0E8h, 0BFh, 0FDh
seg002:111C		    db 2Ch, 0E8h, 0BBh,	0FDh, 2Dh, 0E8h, 0B7h, 0FDh, 2Eh, 8 dup(0)
seg002:11C0 ; [00000001	BYTES: COLLAPSED FUNCTION nullsub_1. PRESS KEYPAD "+" TO EXPAND]
seg002:11C1
seg002:11C1 ;  S	U B R O	U T I N	E 
seg002:11C1
seg002:11C1
seg002:11C1 sub_2D91	    proc near		    ; CODE XREF: sub_36DA+EEp
seg002:11C1					    ; seg002:1E22p ...
seg002:11C1		    push    cs
seg002:11C2		    call    near ptr sub_2950
seg002:11C5		    sti
seg002:11C6		    retn
seg002:11C6 sub_2D91	    endp
seg002:11C6
seg002:11C6 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:11C7		    db 0A0h, 17h, 0Ah, 3Ch, 0FFh, 74h, 0Eh, 91h, 0B4h, 0Fh
seg002:11C7		    db 0CDh, 10h, 3Ah, 0C1h, 74h, 5, 91h, 32h, 0E4h, 0CDh
seg002:11C7		    db 10h, 0C3h
seg002:11DD
seg002:11DD ;  S	U B R O	U T I N	E 
seg002:11DD
seg002:11DD
seg002:11DD sub_2DAD	    proc near		    ; CODE XREF: sub_3688+25p
seg002:11DD					    ; sub_4E96+1D7p ...
seg002:11DD		    mov	    bx,	sp
seg002:11DF		    mov	    ax,	ss:[bx+2]
seg002:11E3		    add	    ax,	10h
seg002:11E6		    rcr	    ax,	1
seg002:11E8		    mov	    cl,	3
seg002:11EA		    shr	    ax,	cl
seg002:11EC		    retn
seg002:11EC sub_2DAD	    endp
seg002:11EC
seg002:11ED
seg002:11ED ;  S	U B R O	U T I N	E 
seg002:11ED
seg002:11ED ; Attributes: bp-based frame
seg002:11ED
seg002:11ED sub_2DBD	    proc near		    ; CODE XREF: sub_380F+36p
seg002:11ED					    ; sub_6A84+Ep ...
seg002:11ED
seg002:11ED arg_0	    = word ptr	4
seg002:11ED arg_2	    = word ptr	6
seg002:11ED arg_4	    = word ptr	8
seg002:11ED arg_6	    = word ptr	0Ah
seg002:11ED
seg002:11ED		    push    bp
seg002:11EE		    mov	    bp,	sp
seg002:11F0		    push    si
seg002:11F1		    push    di
seg002:11F2		    call    sub_1E60
seg002:11F5		    push    8
seg002:11F7		    pop	    ds
seg002:11F8		    assume ds:nothing
seg002:11F8		    mov	    ax,	[bp+arg_0]
seg002:11FB		    mov	    ds:62h, ax
seg002:11FE		    mov	    ax,	[bp+arg_2]
seg002:1201		    mov	    ds:64h, al
seg002:1204		    mov	    ds:67h, ah
seg002:1208		    mov	    cx,	[bp+arg_6]
seg002:120B		    push    60h	; '`'
seg002:120D		    pop	    ds
seg002:120E		    assume ds:nothing
seg002:120E		    xor	    si,	si
seg002:1210		    mov	    di,	[bp+arg_4]
seg002:1213		    cld
seg002:1214		    rep	movsb
seg002:1216		    push    ss
seg002:1217		    pop	    ds
seg002:1218		    assume ds:nothing
seg002:1218		    call    sub_24F9
seg002:121B		    pop	    di
seg002:121C		    pop	    si
seg002:121D		    mov	    sp,	bp
seg002:121F		    pop	    bp
seg002:1220		    sti
seg002:1221		    retn
seg002:1221 sub_2DBD	    endp
seg002:1221
seg002:1222
seg002:1222 ;  S	U B R O	U T I N	E 
seg002:1222
seg002:1222 ; Attributes: bp-based frame
seg002:1222
seg002:1222 sub_2DF2	    proc near		    ; CODE XREF: seg002:1CA2p
seg002:1222					    ; seg002:1CF6p ...
seg002:1222
seg002:1222 arg_0	    = word ptr	4
seg002:1222 arg_2	    = word ptr	6
seg002:1222 arg_4	    = word ptr	8
seg002:1222 arg_6	    = word ptr	0Ah
seg002:1222
seg002:1222		    push    bp
seg002:1223		    mov	    bp,	sp
seg002:1225		    push    si
seg002:1226		    push    di
seg002:1227		    call    sub_1E60
seg002:122A		    push    60h	; '`'
seg002:122C		    mov	    ax,	[bp+arg_0]
seg002:122F		    push    8
seg002:1231		    pop	    es
seg002:1232		    assume es:nothing
seg002:1232		    mov	    es:62h, ax
seg002:1236		    mov	    ax,	[bp+arg_2]
seg002:1239		    mov	    es:64h, al
seg002:123D		    mov	    es:67h, ah
seg002:1242		    pop	    es
seg002:1243		    assume es:nothing
seg002:1243		    xor	    di,	di
seg002:1245		    mov	    si,	[bp+arg_4]
seg002:1248		    mov	    cx,	[bp+arg_6]
seg002:124B		    cld
seg002:124C		    shr	    cx,	1
seg002:124E		    rep	movsw
seg002:1250		    rcl	    cx,	1
seg002:1252		    rep	movsb
seg002:1254		    push    8
seg002:1256		    pop	    es
seg002:1257		    assume es:nothing
seg002:1257		    mov	    es:66h, cx
seg002:125C		    call    sub_24F9
seg002:125F		    pop	    di
seg002:1260		    pop	    si
seg002:1261		    mov	    sp,	bp
seg002:1263		    pop	    bp
seg002:1264		    sti
seg002:1265		    retn
seg002:1265 sub_2DF2	    endp
seg002:1265
seg002:1266
seg002:1266 ;  S	U B R O	U T I N	E 
seg002:1266
seg002:1266
seg002:1266 sub_2E36	    proc near		    ; CODE XREF: sub_36DA+82p
seg002:1266					    ; sub_4E96+475p ...
seg002:1266		    mov	    bx,	sp
seg002:1268		    pushf
seg002:1269		    pop	    ax
seg002:126A		    cmp	    word ptr ss:[bx+2],	0
seg002:126F		    cli
seg002:1270		    jz	    short loc_2E43
seg002:1272		    sti
seg002:1273
seg002:1273 loc_2E43:				    ; CODE XREF: sub_2E36+Aj
seg002:1273		    shr	    ax,	9
seg002:1276		    and	    ax,	1
seg002:1279		    retn
seg002:1279 sub_2E36	    endp
seg002:1279
seg002:127A ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:127A		    pop	    ax
seg002:127B		    int	    3		    ; Trap to Debugger
seg002:127C		    add	    [bx+di], al
seg002:127E		    add	    [bx+di], al
seg002:1280
seg002:1280 ;  S	U B R O	U T I N	E 
seg002:1280
seg002:1280
seg002:1280 sub_2E50	    proc near		    ; CODE XREF: sub_28E5+4p
seg002:1280					    ; sub_7E4F+47p
seg002:1280		    mov	    bx,	sp
seg002:1282		    mov	    di,	[bx+2]
seg002:1285		    xor	    ax,	ax
seg002:1287		    mov	    ds,	ax
seg002:1289		    assume ds:seg000
seg002:1289		    push    ss
seg002:128A		    pop	    es
seg002:128B		    assume es:nothing
seg002:128B		    mov	    si,	20h ; ' '
seg002:128E		    cld
seg002:128F		    mov	    cx,	4Eh ; 'N'
seg002:1292		    cli
seg002:1293		    rep	movsw
seg002:1295
seg002:1295 loc_2E65:				    ; CODE XREF: sub_2E68+20j
seg002:1295		    push    ss
seg002:1296		    pop	    ds
seg002:1297		    assume ds:nothing
seg002:1297		    retn
seg002:1297 sub_2E50	    endp
seg002:1297
seg002:1298
seg002:1298 ;  S	U B R O	U T I N	E 
seg002:1298
seg002:1298
seg002:1298 sub_2E68	    proc near		    ; CODE XREF: sub_1C38+Cp
seg002:1298					    ; sub_28DC+4p ...
seg002:1298		    mov	    bx,	sp
seg002:129A		    mov	    si,	[bx+2]
seg002:129D		    xor	    ax,	ax
seg002:129F		    mov	    es,	ax
seg002:12A1		    assume es:seg000
seg002:12A1		    mov	    bx,	8
seg002:12A4		    cld
seg002:12A5		    cli
seg002:12A6		    mov	    di,	20h ; ' '
seg002:12A9
seg002:12A9 loc_2E79:				    ; CODE XREF: sub_2E68+1Ej
seg002:12A9		    cmp	    byte ptr [bx+10BEh], 0
seg002:12AE		    jnz	    short loc_2E8A
seg002:12B0
seg002:12B0 loc_2E80:				    ; CODE XREF: sub_2E68+26j
seg002:12B0		    cmpsw
seg002:12B1		    cmpsw
seg002:12B2
seg002:12B2 loc_2E82:				    ; CODE XREF: sub_2E68+2Aj
seg002:12B2		    inc	    bx
seg002:12B3		    cmp	    bl,	2Eh ; '.'
seg002:12B6		    jbe	    short loc_2E79
seg002:12B8		    jmp	    short loc_2E65
seg002:12BA ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:12BA
seg002:12BA loc_2E8A:				    ; CODE XREF: sub_2E68+16j
seg002:12BA		    cmp	    bl,	ds:34h
seg002:12BE		    jz	    short loc_2E80
seg002:12C0		    movsw
seg002:12C1		    movsw
seg002:12C2		    jmp	    short loc_2E82
seg002:12C2 sub_2E68	    endp
seg002:12C2
seg002:12C2 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:12C4 dword_2E94	    dd 0		    ; DATA XREF: seg002:loc_2EA6r
seg002:12C4					    ; sub_2F7D+1Fr ...
seg002:12C8		    db 0CCh, 12h
seg002:12CA word_2E9A	    dw 0		    ; DATA XREF: sub_8176+14w
seg002:12CC ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:12CC		    cmp	    ah,	88h ; ''
seg002:12CF		    jz	    short loc_2EAB
seg002:12D1		    cmp	    ah,	0BFh ; 'ฟ'
seg002:12D4		    jz	    short loc_2ED8
seg002:12D6
seg002:12D6 loc_2EA6:				    ; CODE XREF: seg002:1306j
seg002:12D6					    ; seg002:1346j
seg002:12D6		    jmp	    cs:dword_2E94
seg002:12DB ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:12DB
seg002:12DB loc_2EAB:				    ; CODE XREF: seg002:12CFj
seg002:12DB		    push    ds
seg002:12DC		    mov	    ds,	cs:seg_1BD0
seg002:12E1		    cmp	    byte ptr ds:2Eh, 0Bh
seg002:12E6		    jz	    short loc_2ED5
seg002:12E8		    cmp	    word ptr ds:0ADCh, 0
seg002:12ED		    jnz	    short loc_2ED5
seg002:12EF		    push    dx
seg002:12F0		    mov	    ax,	ds:98h
seg002:12F3		    mov	    dx,	ds:9Ah
seg002:12F7		    shr	    ax,	6
seg002:12FA		    shl	    dx,	0Ah
seg002:12FD		    or	    ax,	dx
seg002:12FF		    sub	    ax,	400h
seg002:1302		    pop	    dx
seg002:1303		    pop	    ds
seg002:1304		    iret
seg002:1305 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:1305
seg002:1305 loc_2ED5:				    ; CODE XREF: seg002:12E6j
seg002:1305					    ; seg002:12EDj ...
seg002:1305		    pop	    ds
seg002:1306		    jmp	    short loc_2EA6
seg002:1308 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:1308
seg002:1308 loc_2ED8:				    ; CODE XREF: seg002:12D4j
seg002:1308		    cmp	    al,	5
seg002:130A		    jz	    short loc_2F03
seg002:130C		    push    ds
seg002:130D		    mov	    ds,	cs:seg_1BD0
seg002:1312		    cmp	    al,	0DCh ; ''
seg002:1314		    jz	    short loc_2EF5
seg002:1316		    cmp	    al,	6
seg002:1318		    ja	    short loc_2ED5
seg002:131A		    cmp	    al,	2
seg002:131C		    ja	    short loc_2F18
seg002:131E		    cmp	    byte ptr ds:0A16h, 0
seg002:1323		    jnz	    short loc_2ED5
seg002:1325
seg002:1325 loc_2EF5:				    ; CODE XREF: seg002:1314j
seg002:1325		    cmp	    word ptr ds:0A14h, 0
seg002:132A		    jnz	    short loc_2ED5
seg002:132C		    mov	    si,	98h ; ''
seg002:132F		    mov	    dx,	ds
seg002:1331		    pop	    ds
seg002:1332		    iret
seg002:1333 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:1333
seg002:1333 loc_2F03:				    ; CODE XREF: seg002:130Aj
seg002:1333		    call    sub_48DA
seg002:1336		    iret
seg002:1337 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:1337
seg002:1337 loc_2F07:				    ; CODE XREF: seg002:1351j
seg002:1337		    push    es
seg002:1338		    mov	    es,	bx
seg002:133A		    assume es:nothing
seg002:133A		    call    loc_1D10
seg002:133D		    pop	    es
seg002:133E		    call    sub_3213
seg002:1341		    mov	    ax,	0BF04h
seg002:1344
seg002:1344 loc_2F14:				    ; CODE XREF: seg002:134Dj
seg002:1344					    ; seg002:13A8j
seg002:1344		    pop	    bx
seg002:1345		    pop	    ds
seg002:1346		    jmp	    short loc_2EA6
seg002:1348 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:1348
seg002:1348 loc_2F18:				    ; CODE XREF: seg002:131Cj
seg002:1348		    push    bx
seg002:1349		    cmp	    bx,	ds:0CECh
seg002:134D		    jnz	    short loc_2F14
seg002:134F		    cmp	    al,	4
seg002:1351		    jz	    short loc_2F07
seg002:1353		    push    bx
seg002:1354		    push    ax
seg002:1355		    inc	    byte ptr ds:11D8h
seg002:1359		    mov	    ax,	ss
seg002:135B		    cmp	    ax,	ds:9B4h
seg002:135F		    mov	    dx,	sp
seg002:1361		    jz	    short loc_2F39
seg002:1363		    push    ds
seg002:1364		    pop	    ss
seg002:1365		    mov	    sp,	ds:0F50h
seg002:1369
seg002:1369 loc_2F39:				    ; CODE XREF: seg002:1361j
seg002:1369		    push    ax
seg002:136A		    push    dx
seg002:136B		    call    sub_1C38
seg002:136E		    pop	    dx
seg002:136F		    pop	    ss
seg002:1370		    mov	    sp,	dx
seg002:1372		    pop	    ax
seg002:1373		    pop	    dx
seg002:1374		    cmp	    al,	6
seg002:1376		    jz	    short loc_2F7A
seg002:1378		    mov	    ah,	52h
seg002:137A		    int	    21h		    ; DOS - 2+ internal	- GET LIST OF LISTS
seg002:137A					    ; Return: ES:BX -> DOS list	of lists
seg002:137C		    mov	    si,	es:[bx-2]
seg002:1380
seg002:1380 loc_2F50:				    ; CODE XREF: seg002:139Aj
seg002:1380					    ; seg002:13A3j
seg002:1380		    mov	    ds,	si
seg002:1382		    cmp	    byte ptr ds:0, 5Ah ; 'Z'
seg002:1387		    jz	    short loc_2F75
seg002:1389		    mov	    bx,	si
seg002:138B		    add	    bx,	ds:3
seg002:138F		    inc	    bx
seg002:1390		    mov	    ds,	bx
seg002:1392		    cmp	    ds:1, dx
seg002:1396		    jz	    short loc_2F6C
seg002:1398		    mov	    si,	bx
seg002:139A		    jmp	    short loc_2F50
seg002:139C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:139C
seg002:139C loc_2F6C:				    ; CODE XREF: seg002:1396j
seg002:139C		    mov	    ah,	49h ; 'I'
seg002:139E		    inc	    bx
seg002:139F		    mov	    es,	bx
seg002:13A1		    int	    21h		    ; DOS - 2+ - FREE MEMORY
seg002:13A1					    ; ES = segment address of area to be freed
seg002:13A3		    jmp	    short loc_2F50
seg002:13A5 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:13A5
seg002:13A5 loc_2F75:				    ; CODE XREF: seg002:1387j
seg002:13A5		    mov	    ax,	0BF03h
seg002:13A8		    jmp	    short loc_2F14
seg002:13AA ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:13AA
seg002:13AA loc_2F7A:				    ; CODE XREF: seg002:1376j
seg002:13AA		    pop	    bx
seg002:13AB		    pop	    ds
seg002:13AC		    iret
seg002:13AD
seg002:13AD ;  S	U B R O	U T I N	E 
seg002:13AD
seg002:13AD
seg002:13AD sub_2F7D	    proc near		    ; CODE XREF: sub_1C38+67p
seg002:13AD					    ; sub_8E60+92p
seg002:13AD		    call    sub_323B
seg002:13B0		    jnz	    short loc_2FF7
seg002:13B2		    xor	    bx,	bx
seg002:13B4		    mov	    es,	bx
seg002:13B6		    assume es:seg000
seg002:13B6		    mov	    bl,	ds:34h
seg002:13BA		    shl	    bx,	2
seg002:13BD		    mov	    dx,	cs
seg002:13BF		    cmp	    dx,	es:[bx+2]
seg002:13C3		    jnz	    short loc_2FB4
seg002:13C5		    mov	    ah,	25h ; '%'
seg002:13C7		    cmp	    byte ptr ds:34h, 15h
seg002:13CC		    lds	    dx,	cs:dword_2E94
seg002:13D1		    jz	    short loc_2FA8
seg002:13D3		    lds	    dx,	ss:0F84h
seg002:13D8
seg002:13D8 loc_2FA8:				    ; CODE XREF: sub_2F7D+24j
seg002:13D8		    cli
seg002:13D9		    mov	    es:[bx], dx
seg002:13DC		    mov	    word ptr es:[bx+2],	ds
seg002:13E0		    sti
seg002:13E1		    push    ss
seg002:13E2		    pop	    ds
seg002:13E3		    retn
seg002:13E4 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:13E4
seg002:13E4 loc_2FB4:				    ; CODE XREF: sub_2F7D+16j
seg002:13E4		    xchg    ax,	cx
seg002:13E5
seg002:13E5 loc_2FB5:				    ; CODE XREF: sub_2F7D+4Ej
seg002:13E5		    mov	    ds,	ax
seg002:13E7		    cmp	    ax,	[bx-2]
seg002:13EA		    jnz	    short loc_2FF7
seg002:13EC		    cmp	    bx,	[bx-4]
seg002:13EF		    jnz	    short loc_2FF7
seg002:13F1		    mov	    ax,	[bx-6]
seg002:13F4		    cmp	    dx,	ax
seg002:13F6		    jz	    short loc_2FCD
seg002:13F8		    mov	    bx,	[bx-8]
seg002:13FB		    jmp	    short loc_2FB5
seg002:13FD ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:13FD
seg002:13FD loc_2FCD:				    ; CODE XREF: sub_2F7D+49j
seg002:13FD		    mov	    ax,	word ptr cs:dword_2E94
seg002:1401		    cli
seg002:1402		    mov	    [bx-8], ax
seg002:1405		    mov	    ax,	word ptr cs:dword_2E94+2
seg002:1409		    mov	    [bx-6], ax
seg002:140C		    sti
seg002:140D		    mov	    ax,	ds:0
seg002:1410		    or	    ax,	ax
seg002:1412		    jnz	    short loc_2FE7
seg002:1414		    mov	    ax,	ds:10h
seg002:1417
seg002:1417 loc_2FE7:				    ; CODE XREF: sub_2F7D+65j
seg002:1417		    or	    ax,	ax
seg002:1419		    jz	    short loc_2FF7
seg002:141B		    sub	    ax,	11h
seg002:141E		    mov	    ds,	ax
seg002:1420		    inc	    ax
seg002:1421		    cmp	    ds:1, ax
seg002:1425		    jz	    short loc_2FFA
seg002:1427
seg002:1427 loc_2FF7:				    ; CODE XREF: sub_2F7D+3j
seg002:1427					    ; sub_2F7D+3Dj ...
seg002:1427		    mov	    ax,	0FFFFh
seg002:142A
seg002:142A loc_2FFA:				    ; CODE XREF: sub_2F7D+78j
seg002:142A		    mov	    bx,	ss:0CECh
seg002:142F		    dec	    bx
seg002:1430		    mov	    ds,	bx
seg002:1432		    mov	    ds:1, ax
seg002:1435		    push    ss
seg002:1436		    pop	    ds
seg002:1437		    retn
seg002:1437 sub_2F7D	    endp
seg002:1437
seg002:1438
seg002:1438 ;  S	U B R O	U T I N	E 
seg002:1438
seg002:1438
seg002:1438 sub_3008	    proc near		    ; CODE XREF: sub_36DA:loc_37C5p
seg002:1438		    mov	    ax,	ds:0F88h
seg002:143B		    or	    al,	1
seg002:143D		    lmsw    ax
seg002:1440		    retn
seg002:1440 sub_3008	    endp
seg002:1440
seg002:1441
seg002:1441 ;  S	U B R O	U T I N	E 
seg002:1441
seg002:1441
seg002:1441 sub_3011	    proc near		    ; CODE XREF: sub_1C38+52p
seg002:1441		    mov	    bx,	ds:8B2h
seg002:1445		    cmp	    bx,	80h ; ''
seg002:1449		    jb	    short locret_3066
seg002:144B		    mov	    ax,	ds:8AAh
seg002:144E		    cmp	    ax,	80h ; ''
seg002:1451		    jb	    short locret_3066
seg002:1453		    call    sub_1E60
seg002:1456		    xor	    cx,	cx
seg002:1458		    lar	    cx,	bx
seg002:145B		    and	    ch,	18h
seg002:145E		    cmp	    ch,	18h
seg002:1461		    jnz	    short loc_3063
seg002:1463		    xor	    cx,	cx
seg002:1465		    lar	    cx,	ax
seg002:1468		    and	    ch,	18h
seg002:146B		    cmp	    ch,	10h
seg002:146E		    jnz	    short loc_3063
seg002:1470		    mov	    ds:0F50h, sp
seg002:1474		    mov	    ss,	ax
seg002:1476		    mov	    sp,	ds:8A8h
seg002:147A		    push    20h	; ' '
seg002:147C		    push    word ptr ds:996h
seg002:1480		    mov	    ds,	word ptr ds:8AEh
seg002:1484		    call    dword ptr es:byte_86E+42h
seg002:1489		    push    20h	; ' '
seg002:148B		    pop	    ds
seg002:148C		    assume ds:nothing
seg002:148C		    push    20h	; ' '
seg002:148E		    pop	    ss
seg002:148F		    assume ss:nothing
seg002:148F		    mov	    sp,	ds:0F50h
seg002:1493
seg002:1493 loc_3063:				    ; CODE XREF: sub_3011+20j
seg002:1493					    ; sub_3011+2Dj
seg002:1493		    call    sub_24F9
seg002:1496
seg002:1496 locret_3066:			    ; CODE XREF: sub_3011+8j
seg002:1496					    ; sub_3011+10j
seg002:1496		    retn
seg002:1496 sub_3011	    endp
seg002:1496
seg002:1497
seg002:1497 ;  S	U B R O	U T I N	E 
seg002:1497
seg002:1497
seg002:1497 sub_3067	    proc near		    ; CODE XREF: sub_33A8+4p
seg002:1497					    ; sub_33C3+7p ...
seg002:1497		    mov	    bx,	sp
seg002:1499		    mov	    ax,	[bx+2]
seg002:149C		    push    ax
seg002:149D		    push    ax
seg002:149E		    call    sub_41F0
seg002:14A1		    xchg    ax,	cx
seg002:14A2		    pop	    ax
seg002:14A3		    pop	    dx
seg002:14A4		    mov	    bx,	2
seg002:14A7		    mov	    ah,	40h
seg002:14A9		    int	    21h		    ; DOS - 2+ - WRITE TO FILE WITH HANDLE
seg002:14A9					    ; BX = file	handle,	CX = number of bytes to	write, DS:DX ->	buffer
seg002:14AB		    retn
seg002:14AB sub_3067	    endp
seg002:14AB
seg002:14AC
seg002:14AC ;  S	U B R O	U T I N	E 
seg002:14AC
seg002:14AC
seg002:14AC sub_307C	    proc near		    ; CODE XREF: seg002:1595p
seg002:14AC					    ; sub_8854-18p
seg002:14AC		    mov	    bx,	sp
seg002:14AE		    push    word ptr ds:0AC2h
seg002:14B2		    mov	    word ptr ds:0AC2h, 14C4h
seg002:14B8		    push    word ptr ss:[bx+2]
seg002:14BC		    call    sub_3E7D
seg002:14BF		    pop	    cx
seg002:14C0		    pop	    word ptr ds:0AC2h
seg002:14C4		    retn
seg002:14C4 sub_307C	    endp
seg002:14C4
seg002:14C4 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:14C5		    align 10h
seg002:14D0		    db 44h, 31h, 36h, 2Fh
seg002:14D4 dword_30A4	    dd 0		    ; DATA XREF: seg002:loc_30B7r
seg002:14D4					    ; seg002:14F4r ...
seg002:14D8 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:14D8		    cmp	    ax,	1605h
seg002:14DB		    jz	    short loc_30C2
seg002:14DD		    cmp	    ax,	1606h
seg002:14E0		    jz	    short loc_30C2
seg002:14E2		    cmp	    ax,	1607h
seg002:14E5		    jz	    short loc_30BC
seg002:14E7
seg002:14E7 loc_30B7:				    ; CODE XREF: seg002:14F0j
seg002:14E7		    jmp	    cs:dword_30A4
seg002:14EC ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:14EC
seg002:14EC loc_30BC:				    ; CODE XREF: seg002:14E5j
seg002:14EC		    cmp	    bx,	22C0h
seg002:14F0		    jnz	    short loc_30B7
seg002:14F2
seg002:14F2 loc_30C2:				    ; CODE XREF: seg002:14DBj
seg002:14F2					    ; seg002:14E0j
seg002:14F2		    push    ax
seg002:14F3		    pushf
seg002:14F4		    call    cs:dword_30A4
seg002:14F9		    pop	    ax
seg002:14FA		    sti
seg002:14FB		    push    ax
seg002:14FC		    push    dx
seg002:14FD		    push    si
seg002:14FE		    push    di
seg002:14FF		    push    ds
seg002:1500		    mov	    ds,	cs:seg_1BD0
seg002:1505		    assume ds:nothing
seg002:1505		    cmp	    al,	5
seg002:1507		    jz	    short loc_3130
seg002:1509		    cmp	    al,	7
seg002:150B		    jz	    short loc_3103
seg002:150D		    cmp	    word ptr ds:0A14h, 0
seg002:1512		    jz	    short loc_30FD
seg002:1514		    cli
seg002:1515		    mov	    ax,	ds:0A89h
seg002:1518		    mov	    ds:9C0h, ax
seg002:151B		    mov	    ax,	ds:0A8Bh
seg002:151E		    mov	    ds:9BCh, ax
seg002:1521		    mov	    ax,	ds:0A8Dh
seg002:1524		    mov	    ds:9BEh, ax
seg002:1527		    mov	    word ptr ds:0A14h, 0
seg002:152D
seg002:152D loc_30FD:				    ; CODE XREF: seg002:1512j
seg002:152D					    ; seg002:1564j ...
seg002:152D		    pop	    ds
seg002:152E		    pop	    di
seg002:152F		    pop	    si
seg002:1530		    pop	    dx
seg002:1531		    pop	    ax
seg002:1532		    iret
seg002:1533 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:1533
seg002:1533 loc_3103:				    ; CODE XREF: seg002:150Bj
seg002:1533		    test    word ptr ds:1582h, 4
seg002:1539		    jnz	    short loc_3125
seg002:153B		    mov	    ds:1554h, di
seg002:153F		    mov	    word ptr ds:1556h, es
seg002:1543		    mov	    ax,	es
seg002:1545		    or	    ax,	di
seg002:1547		    jz	    short loc_3125
seg002:1549		    mov	    word ptr es:[di+8],	1550h
seg002:154F		    mov	    word ptr es:[di+0Ah], seg seg000
seg002:1555
seg002:1555 loc_3125:				    ; CODE XREF: seg002:1539j
seg002:1555					    ; seg002:1547j
seg002:1555		    push    ds
seg002:1556		    pop	    es
seg002:1557		    assume es:nothing
seg002:1557		    mov	    di,	1550h
seg002:155A		    pop	    ds
seg002:155B		    pop	    ax
seg002:155C		    pop	    si
seg002:155D		    pop	    dx
seg002:155E		    pop	    ax
seg002:155F		    iret
seg002:1560 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:1560
seg002:1560 loc_3130:				    ; CODE XREF: seg002:1507j
seg002:1560		    test    dx,	1
seg002:1564		    jnz	    short loc_30FD
seg002:1566		    test    cx,	cx
seg002:1568		    jnz	    short loc_30FD
seg002:156A		    mov	    ds:0A2Ah, cx
seg002:156E		    mov	    word ptr ds:0A99h, 0
seg002:1574		    mov	    word ptr ds:0A1Ch, es
seg002:1578		    mov	    ds:0A1Ah, bx
seg002:157C		    cmp	    word ptr ds:0A87h, 0
seg002:1581		    jnz	    short loc_3174
seg002:1583		    mov	    ax,	25h ; '%'
seg002:1586
seg002:1586 loc_3156:				    ; CODE XREF: seg002:15BEj
seg002:1586		    mov	    ds:0A95h, sp
seg002:158A		    mov	    word ptr ds:0A97h, ss
seg002:158E		    push    ds
seg002:158F		    pop	    ss
seg002:1590		    assume ss:nothing
seg002:1590		    mov	    sp,	ds:0F50h
seg002:1594		    push    ax
seg002:1595		    call    sub_307C
seg002:1598		    lss	    sp,	ds:0A95h
seg002:159D		    mov	    byte ptr ds:0A2Ah, 1
seg002:15A2		    jmp	    short loc_319E
seg002:15A4 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:15A4
seg002:15A4 loc_3174:				    ; CODE XREF: seg002:1581j
seg002:15A4		    mov	    dx,	0A2Ch
seg002:15A7		    mov	    ax,	4300h
seg002:15AA		    int	    21h		    ; DOS - 2+ - GET FILE ATTRIBUTES
seg002:15AA					    ; DS:DX -> ASCIZ file name or directory
seg002:15AA					    ; name without trailing slash
seg002:15AC		    jb	    short loc_3184
seg002:15AE		    test    cx,	1Eh
seg002:15B2		    jz	    short loc_3190
seg002:15B4
seg002:15B4 loc_3184:				    ; CODE XREF: seg002:15ACj
seg002:15B4		    test    byte ptr ds:15h, 8
seg002:15B9		    jz	    short loc_319B
seg002:15BB		    mov	    ax,	24h ; '$'
seg002:15BE		    jmp	    short loc_3156
seg002:15C0 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:15C0
seg002:15C0 loc_3190:				    ; CODE XREF: seg002:15B2j
seg002:15C0		    mov	    word ptr ds:0A20h, ds
seg002:15C4		    mov	    dx,	0A2Ch
seg002:15C7		    mov	    ds:0A1Eh, dx
seg002:15CB
seg002:15CB loc_319B:				    ; CODE XREF: seg002:15B9j
seg002:15CB		    call    sub_31AA
seg002:15CE
seg002:15CE loc_319E:				    ; CODE XREF: seg002:15A2j
seg002:15CE		    push    ds
seg002:15CF		    pop	    es
seg002:15D0		    mov	    bx,	0A18h
seg002:15D3		    mov	    cx,	ds:0A2Ah
seg002:15D7		    jmp	    loc_30FD
seg002:15DA
seg002:15DA ;  S	U B R O	U T I N	E 
seg002:15DA
seg002:15DA
seg002:15DA sub_31AA	    proc near		    ; CODE XREF: seg002:loc_319Bp
seg002:15DA		    mov	    ax,	ds:0A87h
seg002:15DD		    mov	    ds:1578h, ax
seg002:15E0		    and	    word ptr ds:1582h, 0FFFDh
seg002:15E5		    cmp	    byte ptr ds:3Eh, 0
seg002:15EA		    jz	    short loc_31C1
seg002:15EC		    or	    word ptr ds:1582h, 2
seg002:15F1
seg002:15F1 loc_31C1:				    ; CODE XREF: sub_31AA+10j
seg002:15F1		    mov	    ax,	ds:8C8h
seg002:15F4		    mov	    ds:1560h, ax
seg002:15F7		    mov	    ax,	ds:8CAh
seg002:15FA		    mov	    ds:1562h, ax
seg002:15FD		    mov	    al,	ds:8CCh
seg002:1600		    mov	    ah,	ds:8CFh
seg002:1604		    mov	    ds:1564h, ax
seg002:1607		    mov	    ax,	ds:8D0h
seg002:160A		    mov	    ds:1566h, ax
seg002:160D		    mov	    ax,	ds:8D2h
seg002:1610		    mov	    ds:1568h, ax
seg002:1613		    mov	    al,	ds:8D4h
seg002:1616		    mov	    ah,	ds:8D7h
seg002:161A		    mov	    ds:156Ah, ax
seg002:161D		    cli
seg002:161E		    mov	    ax,	1706h
seg002:1621		    xchg    ax,	ds:9C0h
seg002:1625		    mov	    ds:0A89h, ax
seg002:1628		    mov	    ax,	173Dh
seg002:162B		    xchg    ax,	ds:9BCh
seg002:162F		    mov	    ds:0A8Bh, ax
seg002:1632		    mov	    ax,	1749h
seg002:1635		    xchg    ax,	ds:9BEh
seg002:1639		    mov	    ds:0A8Dh, ax
seg002:163C		    mov	    word ptr ds:0A14h, 1
seg002:1642		    retn
seg002:1642 sub_31AA	    endp
seg002:1642
seg002:1643
seg002:1643 ;  S	U B R O	U T I N	E 
seg002:1643
seg002:1643
seg002:1643 sub_3213	    proc near		    ; CODE XREF: seg002:133Ep
seg002:1643		    pusha
seg002:1644		    push    ds
seg002:1645		    push    es
seg002:1646		    mov	    ax,	ds:2Eh
seg002:1649		    cmp	    ah,	3
seg002:164C		    jb	    short loc_3237
seg002:164E		    mov	    ax,	352Fh
seg002:1651		    int	    21h		    ; DOS - 2+ - GET INTERRUPT VECTOR
seg002:1651					    ; AL = interrupt number
seg002:1651					    ; Return: ES:BX = value of interrupt vector
seg002:1653		    mov	    word ptr cs:dword_30A4, bx
seg002:1658		    mov	    word ptr cs:dword_30A4+2, es
seg002:165D		    push    cs
seg002:165E		    pop	    ds
seg002:165F		    assume ds:seg002
seg002:165F		    mov	    dx,	14D8h
seg002:1662		    mov	    ax,	252Fh
seg002:1665		    int	    21h		    ; DOS - SET	INTERRUPT VECTOR
seg002:1665					    ; AL = interrupt number
seg002:1665					    ; DS:DX = new vector to be used for	specified interrupt
seg002:1667
seg002:1667 loc_3237:				    ; CODE XREF: sub_3213+9j
seg002:1667		    pop	    es
seg002:1668		    pop	    ds
seg002:1669		    assume ds:nothing
seg002:1669		    popa
seg002:166A		    retn
seg002:166A sub_3213	    endp
seg002:166A
seg002:166B
seg002:166B ;  S	U B R O	U T I N	E 
seg002:166B
seg002:166B
seg002:166B sub_323B	    proc near		    ; CODE XREF: sub_2F7Dp
seg002:166B		    pusha
seg002:166C		    push    ds
seg002:166D		    push    es
seg002:166E		    mov	    dx,	word ptr cs:dword_30A4
seg002:1673		    mov	    cx,	word ptr cs:dword_30A4+2
seg002:1678		    mov	    ds,	cx
seg002:167A		    or	    cx,	dx
seg002:167C		    jz	    short loc_3284
seg002:167E		    push    0
seg002:1680		    pop	    es
seg002:1681		    assume es:seg000
seg002:1681		    mov	    bx,	es:word_BE
seg002:1686		    mov	    cx,	cs
seg002:1688		    sub	    cx,	bx
seg002:168A		    jb	    short loc_325F
seg002:168C		    mov	    cx,	0
seg002:168F
seg002:168F loc_325F:				    ; CODE XREF: sub_323B+1Fj
seg002:168F		    jnz	    short loc_326B
seg002:1691		    mov	    es:word_BC,	dx
seg002:1696		    mov	    es:word_BE,	ds
seg002:169B
seg002:169B loc_326B:				    ; CODE XREF: sub_323B:loc_325Fj
seg002:169B		    push    ss
seg002:169C		    pop	    ds
seg002:169D		    test    word ptr ds:1582h, 1
seg002:16A3		    jz	    short loc_3284
seg002:16A5		    mov	    ax,	1706h
seg002:16A8		    mov	    ds:9C0h, ax
seg002:16AB		    mov	    ax,	2
seg002:16AE		    call    dword ptr ds:155Ch
seg002:16B2		    rcl	    cx,	1
seg002:16B4
seg002:16B4 loc_3284:				    ; CODE XREF: sub_323B+11j
seg002:16B4					    ; sub_323B+38j
seg002:16B4		    pop	    es
seg002:16B5		    assume es:nothing
seg002:16B5		    pop	    ds
seg002:16B6		    xor	    ax,	ax
seg002:16B8		    mov	    word ptr cs:dword_30A4, ax
seg002:16BC		    mov	    word ptr cs:dword_30A4+2, ax
seg002:16C0		    test    cx,	cx
seg002:16C2		    popa
seg002:16C3		    retn
seg002:16C3 sub_323B	    endp
seg002:16C3
seg002:16C4
seg002:16C4 ;  S	U B R O	U T I N	E 
seg002:16C4
seg002:16C4
seg002:16C4 sub_3294	    proc near		    ; CODE XREF: sub_1C38+5Cp
seg002:16C4		    test    word ptr ds:1582h, 1
seg002:16CA		    jz	    short locret_32A9
seg002:16CC		    mov	    ax,	1706h
seg002:16CF		    mov	    ds:9C0h, ax
seg002:16D2		    mov	    ax,	2
seg002:16D5		    call    dword ptr ds:155Ch
seg002:16D9
seg002:16D9 locret_32A9:			    ; CODE XREF: sub_3294+6j
seg002:16D9		    retn
seg002:16D9 sub_3294	    endp
seg002:16D9
seg002:16D9 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:16DA		    db 0F7h, 6,	82h, 15h, 1, 0,	75h, 30h, 0B8h,	24h, 0,	83h
seg002:16DA		    db 3Eh, 99h, 0Ah, 0, 75h, 10h, 0C7h, 6, 99h, 0Ah, 1, 0
seg002:16DA		    db 1Eh, 17h, 8Bh, 26h, 50h,	0Fh, 50h, 0E8h,	0B0h, 0FDh
seg002:16DA		    db 0B8h, 0,	4Ch, 0CDh, 21h,	0B8h, 27h, 0, 0EBh, 0DFh, 0F7h
seg002:16DA		    db 6, 82h, 15h, 1, 0, 75h, 4, 0FFh,	26h, 89h, 0Ah, 83h
seg002:16DA		    db 3Eh, 88h, 15h, 6Dh, 72h,	0E8h, 5Bh, 8Bh,	0F4h, 0B8h
seg002:16DA		    db 1, 0, 0B9h, 18h,	0, 38h,	6, 2 dup(0), 2Eh, 38h, 6, 40h
seg002:16DA		    db 2Dh, 0FFh, 1Eh, 5Ch, 15h, 0B8h, 20h, 0, 8Eh, 0D8h, 66h
seg002:16DA		    db 89h, 26h, 7Ch, 15h, 8Bh,	0E6h, 0FFh, 0E3h, 0F7h,	6
seg002:16DA		    db 82h, 15h, 1, 0, 75h, 10h, 0FFh, 26h, 8Bh, 0Ah, 0F7h
seg002:16DA		    db 6, 82h, 15h, 1, 0, 75h, 9, 0FFh,	26h, 8Dh, 0Ah, 50h
seg002:16DA		    db 53h, 0BBh
seg002:1758		    dw seg seg000
seg002:175A ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:175A		    push    cx
seg002:175B		    cli
seg002:175C		    mov	    ds:0A97h, bx
seg002:1760		    mov	    ds:0A95h, sp
seg002:1764		    lss	    esp, ds:157Ch
seg002:176A		    mov	    ax,	0
seg002:176D		    mov	    cx,	ds:9B6h
seg002:1771		    call    large [fword ptr ds:1572h]
seg002:1776		    lss	    sp,	ds:0A95h
seg002:177B		    pop	    cx
seg002:177C		    pop	    bx
seg002:177D		    pop	    ax
seg002:177E		    retn
seg002:177E ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:177F		    db 8Bh, 0F4h, 8Bh, 0Eh, 0B6h, 9, 0B8h, 3, 0, 66h, 0Fh
seg002:177F		    db 0B2h, 26h, 7Ch, 15h, 66h, 0FFh, 1Eh, 72h, 15h, 0B8h
seg002:1794		    dw seg seg000
seg002:1796		    db 8Eh, 0D0h, 8Bh, 0E6h, 8Eh, 0D8h,	0FBh, 0FAh, 0E8h, 65h
seg002:1796		    db 0FFh, 8Eh, 0D0h,	83h, 0C4h, 10h,	0B8h, 68h, 0, 0Fh
seg002:1796		    db 0, 0D0h,	8Fh, 6,	96h, 9,	8Fh, 6,	93h, 0Ah, 66h, 8Fh
seg002:1796		    db 6, 8Fh, 0Ah, 0EAh, 54h, 1Eh, 70h, 0
seg002:17BE dword_338E	    dd 186B5Fh		    ; DATA XREF: seg002:6B5Ar
seg002:17BE					    ; seg002:loc_8798r
seg002:17C2 dword_3392	    dd 200000h		    ; DATA XREF: seg002:loc_86DFr
seg002:17C2					    ; seg002:6E7Fw
seg002:17C6		    db 0E8h, 0D6h, 0F4h, 0Dh, 2Eh, 0FFh, 2Eh, 60h, 10h,	0E8h
seg002:17C6		    db 0C9h, 0F4h, 0FEh, 0, 2Bh, 0C0h, 0C3h, 0
seg002:17D8
seg002:17D8 ;  S	U B R O	U T I N	E 
seg002:17D8
seg002:17D8
seg002:17D8 sub_33A8	    proc near		    ; CODE XREF: sub_33C3:loc_33FAp
seg002:17D8					    ; sub_4922+22p ...
seg002:17D8		    mov	    ax,	0AACh
seg002:17DB		    push    ax
seg002:17DC		    call    sub_3067
seg002:17DF		    pop	    bx
seg002:17E0		    retn
seg002:17E0 sub_33A8	    endp
seg002:17E0
seg002:17E1 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:17E1		    push    bp
seg002:17E2		    mov	    bp,	sp
seg002:17E4		    sub	    ax,	ax
seg002:17E6		    push    ax
seg002:17E7		    push    word ptr [bp+4]
seg002:17EA		    call    sub_33C3
seg002:17ED		    pop	    bx
seg002:17EE		    pop	    bx
seg002:17EF		    mov	    sp,	bp
seg002:17F1		    pop	    bp
seg002:17F2		    retn
seg002:17F3
seg002:17F3 ;  S	U B R O	U T I N	E 
seg002:17F3
seg002:17F3 ; Attributes: bp-based frame
seg002:17F3
seg002:17F3 sub_33C3	    proc near		    ; CODE XREF: seg002:17EAp
seg002:17F3					    ; sub_3E7D+BBp ...
seg002:17F3
seg002:17F3 arg_0	    = word ptr	4
seg002:17F3 arg_2	    = word ptr	6
seg002:17F3
seg002:17F3		    push    bp
seg002:17F4		    mov	    bp,	sp
seg002:17F6		    mov	    ax,	0E18h
seg002:17F9		    push    ax
seg002:17FA		    call    sub_3067
seg002:17FD		    pop	    bx
seg002:17FE		    mov	    ax,	0AC4h
seg002:1801		    push    ax
seg002:1802		    call    sub_3067
seg002:1805		    pop	    bx
seg002:1806		    push    [bp+arg_0]
seg002:1809		    call    sub_3067
seg002:180C		    pop	    bx
seg002:180D		    cmp	    [bp+arg_2],	0
seg002:1811		    jz	    short loc_33FA
seg002:1813		    mov	    ax,	0ACDh
seg002:1816		    push    ax
seg002:1817		    call    sub_3067
seg002:181A		    pop	    bx
seg002:181B		    push    [bp+arg_2]
seg002:181E		    call    sub_3067
seg002:1821		    pop	    bx
seg002:1822		    mov	    ax,	0AD0h
seg002:1825		    push    ax
seg002:1826		    call    sub_3067
seg002:1829		    pop	    bx
seg002:182A
seg002:182A loc_33FA:				    ; CODE XREF: sub_33C3+1Ej
seg002:182A		    call    sub_33A8
seg002:182D		    cmp	    word ptr ds:11D4h, 0
seg002:1832		    jnz	    short loc_340A
seg002:1834		    mov	    word ptr ds:11D4h, 0FFFFh
seg002:183A
seg002:183A loc_340A:				    ; CODE XREF: sub_33C3+3Fj
seg002:183A		    push    word ptr ds:11D4h
seg002:183E		    call    word ptr ds:0AC2h
seg002:1842		    pop	    bx
seg002:1843		    mov	    sp,	bp
seg002:1845		    pop	    bp
seg002:1846		    retn
seg002:1846 sub_33C3	    endp
seg002:1846
seg002:1847 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:1847		    push    bp
seg002:1848		    mov	    bp,	sp
seg002:184A		    sub	    sp,	6
seg002:184D		    push    si
seg002:184E		    cmp	    word ptr [bp+4], 0
seg002:1852		    jz	    short loc_3433
seg002:1854		    push    word ptr [bp+4]
seg002:1857		    call    sub_3067
seg002:185A		    pop	    bx
seg002:185B		    mov	    ax,	0AD2h
seg002:185E		    push    ax
seg002:185F		    call    sub_3067
seg002:1862		    pop	    bx
seg002:1863
seg002:1863 loc_3433:				    ; CODE XREF: seg002:1852j
seg002:1863		    mov	    si,	5
seg002:1866		    jmp	    short loc_3452
seg002:1868 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:1868
seg002:1868 loc_3438:				    ; CODE XREF: seg002:1883j
seg002:1868		    lea	    cx,	[si-1]
seg002:186B		    shl	    cl,	1
seg002:186D		    shl	    cl,	1
seg002:186F		    mov	    bx,	[bp+6]
seg002:1872		    shr	    bx,	cl
seg002:1874		    and	    bx,	0Fh
seg002:1877		    mov	    al,	[bx+0AB0h]
seg002:187B		    lea	    bx,	[bp-2]
seg002:187E		    sub	    bx,	si
seg002:1880		    mov	    [bx], al
seg002:1882
seg002:1882 loc_3452:				    ; CODE XREF: seg002:1866j
seg002:1882		    dec	    si
seg002:1883		    jns	    short loc_3438
seg002:1885		    mov	    byte ptr [bp-2], 0
seg002:1889		    lea	    ax,	[bp-6]
seg002:188C		    push    ax
seg002:188D		    call    sub_3067
seg002:1890		    pop	    bx
seg002:1891		    cmp	    word ptr [bp+4], 0
seg002:1895		    jz	    short loc_346F
seg002:1897		    mov	    ax,	0AD4h
seg002:189A		    push    ax
seg002:189B		    call    sub_3067
seg002:189E		    pop	    bx
seg002:189F
seg002:189F loc_346F:				    ; CODE XREF: seg002:1895j
seg002:189F		    pop	    si
seg002:18A0		    mov	    sp,	bp
seg002:18A2		    pop	    bp
seg002:18A3		    retn
seg002:18A4
seg002:18A4 ;  S	U B R O	U T I N	E 
seg002:18A4
seg002:18A4 ; Attributes: bp-based frame
seg002:18A4
seg002:18A4 sub_3474	    proc near		    ; CODE XREF: sub_348A+14p
seg002:18A4					    ; sub_7562+CFp
seg002:18A4
seg002:18A4 arg_0	    = word ptr	4
seg002:18A4
seg002:18A4		    push    bp
seg002:18A5		    mov	    bp,	sp
seg002:18A7		    push    [bp+arg_0]
seg002:18AA		    mov	    ax,	ds:11F8h
seg002:18AD		    add	    ax,	1190h
seg002:18B0		    push    ax
seg002:18B1		    call    sub_41BE
seg002:18B4		    pop	    bx
seg002:18B5		    pop	    bx
seg002:18B6		    mov	    sp,	bp
seg002:18B8		    pop	    bp
seg002:18B9		    retn
seg002:18B9 sub_3474	    endp
seg002:18B9
seg002:18BA
seg002:18BA ;  S	U B R O	U T I N	E 
seg002:18BA
seg002:18BA ; Attributes: bp-based frame
seg002:18BA
seg002:18BA sub_348A	    proc near		    ; CODE XREF: sub_496C+67p
seg002:18BA
seg002:18BA arg_0	    = word ptr	4
seg002:18BA
seg002:18BA		    push    bp
seg002:18BB		    mov	    bp,	sp
seg002:18BD		    mov	    ax,	1190h
seg002:18C0		    push    ax
seg002:18C1		    call    sub_41F0
seg002:18C4		    pop	    bx
seg002:18C5		    cmp	    ax,	ds:11F8h
seg002:18C9		    jnz	    short loc_34A2
seg002:18CB		    push    [bp+arg_0]
seg002:18CE		    call    sub_3474
seg002:18D1		    pop	    bx
seg002:18D2
seg002:18D2 loc_34A2:				    ; CODE XREF: sub_348A+Fj
seg002:18D2		    mov	    sp,	bp
seg002:18D4		    pop	    bp
seg002:18D5		    retn
seg002:18D5 sub_348A	    endp
seg002:18D5
seg002:18D6
seg002:18D6 ;  S	U B R O	U T I N	E 
seg002:18D6
seg002:18D6 ; Attributes: bp-based frame
seg002:18D6
seg002:18D6 sub_34A6	    proc near		    ; CODE XREF: sub_34C1+9p
seg002:18D6
seg002:18D6 arg_0	    = word ptr	4
seg002:18D6
seg002:18D6		    push    bp
seg002:18D7		    mov	    bp,	sp
seg002:18D9		    mov	    ax,	[bp+arg_0]
seg002:18DC		    sub	    ax,	61h ; 'a'
seg002:18DF		    cmp	    ax,	19h
seg002:18E2		    ja	    short loc_34BC
seg002:18E4		    mov	    ax,	[bp+arg_0]
seg002:18E7		    sub	    ax,	20h ; ' '
seg002:18EA		    pop	    bp
seg002:18EB		    retn
seg002:18EC ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:18EC
seg002:18EC loc_34BC:				    ; CODE XREF: sub_34A6+Cj
seg002:18EC		    mov	    ax,	[bp+arg_0]
seg002:18EF		    pop	    bp
seg002:18F0		    retn
seg002:18F0 sub_34A6	    endp
seg002:18F0
seg002:18F1
seg002:18F1 ;  S	U B R O	U T I N	E 
seg002:18F1
seg002:18F1 ; Attributes: bp-based frame
seg002:18F1
seg002:18F1 sub_34C1	    proc near		    ; CODE XREF: sub_34ED+Dp
seg002:18F1					    ; sub_5AA8+B7p
seg002:18F1
seg002:18F1 arg_0	    = word ptr	4
seg002:18F1 arg_2	    = word ptr	6
seg002:18F1
seg002:18F1		    push    bp
seg002:18F2		    mov	    bp,	sp
seg002:18F4		    sub	    sp,	2
seg002:18F7		    jmp	    short loc_34D6
seg002:18F9 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:18F9
seg002:18F9 loc_34C9:				    ; CODE XREF: sub_34C1+20j
seg002:18F9		    push    ax
seg002:18FA		    call    sub_34A6
seg002:18FD		    pop	    bx
seg002:18FE		    mov	    bx,	[bp+arg_0]
seg002:1901		    inc	    [bp+arg_0]
seg002:1904		    mov	    [bx], al
seg002:1906
seg002:1906 loc_34D6:				    ; CODE XREF: sub_34C1+6j
seg002:1906		    mov	    bx,	[bp+arg_2]
seg002:1909		    inc	    [bp+arg_2]
seg002:190C		    mov	    al,	[bx]
seg002:190E		    cbw
seg002:190F		    or	    ax,	ax
seg002:1911		    jnz	    short loc_34C9
seg002:1913		    mov	    bx,	[bp+arg_0]
seg002:1916		    mov	    byte ptr [bx], 0
seg002:1919		    mov	    sp,	bp
seg002:191B		    pop	    bp
seg002:191C		    retn
seg002:191C sub_34C1	    endp
seg002:191C
seg002:191D
seg002:191D ;  S	U B R O	U T I N	E 
seg002:191D
seg002:191D ; Attributes: bp-based frame
seg002:191D
seg002:191D sub_34ED	    proc near		    ; CODE XREF: sub_496C+27p
seg002:191D					    ; sub_496C+5Fp
seg002:191D
seg002:191D var_2	    = word ptr -2
seg002:191D arg_0	    = word ptr	4
seg002:191D
seg002:191D		    push    bp
seg002:191E		    mov	    bp,	sp
seg002:1920		    sub	    sp,	2
seg002:1923		    push    [bp+arg_0]
seg002:1926		    mov	    ax,	1190h
seg002:1929		    push    ax
seg002:192A		    call    sub_34C1
seg002:192D		    pop	    bx
seg002:192E		    pop	    bx
seg002:192F		    mov	    ax,	1190h
seg002:1932		    push    ax
seg002:1933		    call    sub_41F0
seg002:1936		    pop	    bx
seg002:1937		    mov	    [bp+var_2],	ax
seg002:193A		    mov	    ds:11F8h, ax
seg002:193D		    jmp	    short loc_3524
seg002:193F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:193F
seg002:193F loc_350F:				    ; CODE XREF: sub_34ED+3Aj
seg002:193F		    mov	    bx,	[bp+var_2]
seg002:1942		    cmp	    byte ptr [bx+1190h], 5Ch ; '\'
seg002:1947		    jz	    short loc_3529
seg002:1949		    cmp	    byte ptr [bx+1190h], 2Eh ; '.'
seg002:194E		    jnz	    short loc_3524
seg002:1950		    mov	    ds:11F8h, bx
seg002:1954
seg002:1954 loc_3524:				    ; CODE XREF: sub_34ED+20j
seg002:1954					    ; sub_34ED+31j
seg002:1954		    dec	    [bp+var_2]
seg002:1957		    jns	    short loc_350F
seg002:1959
seg002:1959 loc_3529:				    ; CODE XREF: sub_34ED+2Aj
seg002:1959		    mov	    sp,	bp
seg002:195B		    pop	    bp
seg002:195C		    retn
seg002:195C sub_34ED	    endp
seg002:195C
seg002:195D
seg002:195D ;  S	U B R O	U T I N	E 
seg002:195D
seg002:195D ; Attributes: bp-based frame
seg002:195D
seg002:195D sub_352D	    proc near		    ; CODE XREF: sub_5AA8+C4p
seg002:195D					    ; sub_5AA8+DCp ...
seg002:195D
seg002:195D var_4	    = word ptr -4
seg002:195D arg_0	    = word ptr	4
seg002:195D arg_2	    = word ptr	6
seg002:195D
seg002:195D		    push    bp
seg002:195E		    mov	    bp,	sp
seg002:1960		    sub	    sp,	4
seg002:1963		    jmp	    short loc_354B
seg002:1965 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:1965
seg002:1965 loc_3535:				    ; CODE XREF: sub_352D+24j
seg002:1965		    mov	    [bp+var_4],	bx
seg002:1968		    inc	    [bp+arg_2]
seg002:196B		    mov	    al,	[bx]
seg002:196D		    mov	    bx,	[bp+arg_0]
seg002:1970		    inc	    [bp+arg_0]
seg002:1973		    cmp	    [bx], al
seg002:1975		    jz	    short loc_354B
seg002:1977		    sub	    ax,	ax
seg002:1979		    jmp	    short loc_3556
seg002:197B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:197B
seg002:197B loc_354B:				    ; CODE XREF: sub_352D+6j
seg002:197B					    ; sub_352D+18j
seg002:197B		    mov	    bx,	[bp+arg_2]
seg002:197E		    cmp	    byte ptr [bx], 0
seg002:1981		    jnz	    short loc_3535
seg002:1983		    mov	    ax,	1
seg002:1986
seg002:1986 loc_3556:				    ; CODE XREF: sub_352D+1Cj
seg002:1986		    mov	    sp,	bp
seg002:1988		    pop	    bp
seg002:1989		    retn
seg002:1989 sub_352D	    endp
seg002:1989
seg002:198A
seg002:198A ;  S	U B R O	U T I N	E 
seg002:198A
seg002:198A
seg002:198A sub_355A	    proc near		    ; CODE XREF: sub_36DA+7Dp
seg002:198A					    ; seg002:1E60p ...
seg002:198A		    push    20h	; ' '
seg002:198C		    push    20h	; ' '
seg002:198E		    push    20h	; ' '
seg002:1990		    push    18h
seg002:1992		    call    dword ptr ds:1Eh
seg002:1996		    add	    sp,	8
seg002:1999		    retn
seg002:1999 sub_355A	    endp
seg002:1999
seg002:199A
seg002:199A ;  S	U B R O	U T I N	E 
seg002:199A
seg002:199A ; Attributes: bp-based frame
seg002:199A
seg002:199A sub_356A	    proc near		    ; CODE XREF: sub_36DA+48p
seg002:199A					    ; sub_7256:loc_7286p ...
seg002:199A
seg002:199A var_E	    = word ptr -0Eh
seg002:199A var_C	    = word ptr -0Ch
seg002:199A var_A	    = word ptr -0Ah
seg002:199A var_8	    = word ptr -8
seg002:199A var_6	    = word ptr -6
seg002:199A var_2	    = word ptr -2
seg002:199A
seg002:199A		    enter   10h, 0
seg002:199E		    push    si
seg002:199F		    mov	    ax,	ds:9B4h
seg002:19A2		    sub	    dx,	dx
seg002:19A4		    mov	    cl,	4
seg002:19A6		    call    sub_4374
seg002:19A9		    mov	    bx,	dx
seg002:19AB		    mov	    ds:8E2h, ax
seg002:19AE		    mov	    dx,	ax
seg002:19B0		    mov	    si,	bx
seg002:19B2		    mov	    ds:8E4h, bl
seg002:19B6		    mov	    [bp+var_8],	dx
seg002:19B9		    mov	    [bp+var_6],	si
seg002:19BC		    add	    dx,	8C0h
seg002:19C0		    adc	    si,	0
seg002:19C3		    mov	    ds:976h, dx
seg002:19C7		    mov	    ds:978h, si
seg002:19CB		    mov	    word ptr ds:8C8h, 9Fh ; ''
seg002:19D1		    mov	    [bp+var_C],	dx
seg002:19D4		    mov	    [bp+var_A],	si
seg002:19D7		    mov	    ds:8CAh, dx
seg002:19DB		    mov	    al,	byte ptr [bp+var_A]
seg002:19DE		    mov	    ds:8CCh, al
seg002:19E1		    mov	    ax,	960h
seg002:19E4		    sub	    ax,	8C0h
seg002:19E7		    sub	    dx,	dx
seg002:19E9		    add	    ax,	[bp+var_C]
seg002:19EC		    adc	    dx,	si
seg002:19EE		    mov	    cx,	ax
seg002:19F0		    mov	    bx,	dx
seg002:19F2		    mov	    ds:912h, ax
seg002:19F5		    mov	    dx,	ax
seg002:19F7		    mov	    si,	bx
seg002:19F9		    mov	    ds:914h, bl
seg002:19FD		    sub	    ax,	ax
seg002:19FF		    mov	    ds:8CEh, ax
seg002:1A02		    mov	    ds:916h, ax
seg002:1A05		    mov	    ax,	960h
seg002:1A08		    sub	    ax,	0C0h ; 'ภ'
seg002:1A0B		    sub	    dx,	ax
seg002:1A0D		    sbb	    si,	0
seg002:1A10		    mov	    [bp+var_E],	si
seg002:1A13		    mov	    ds:8D2h, dx
seg002:1A17		    mov	    al,	byte ptr [bp+var_E]
seg002:1A1A		    mov	    ds:8D4h, al
seg002:1A1D		    mov	    ax,	ds:9B6h
seg002:1A20		    sub	    dx,	dx
seg002:1A22		    mov	    cl,	4
seg002:1A24		    call    sub_4374
seg002:1A27		    mov	    bx,	dx
seg002:1A29		    mov	    ds:90Ah, ax
seg002:1A2C		    mov	    ds:8DAh, ax
seg002:1A2F		    mov	    ds:90Ch, bl
seg002:1A33		    mov	    ds:8DCh, bl
seg002:1A37		    mov	    ax,	0D74h
seg002:1A3A		    sub	    dx,	dx
seg002:1A3C		    add	    ax,	[bp+var_8]
seg002:1A3F		    adc	    dx,	[bp+var_6]
seg002:1A42		    mov	    cx,	ax
seg002:1A44		    mov	    bx,	dx
seg002:1A46		    mov	    ds:91Ah, ax
seg002:1A49		    mov	    ds:91Ch, bl
seg002:1A4D		    mov	    ax,	ds:0A10h
seg002:1A50		    mov	    dx,	ds:0A12h
seg002:1A54		    mov	    cl,	4
seg002:1A56		    call    sub_4374
seg002:1A59		    mov	    [bp+var_2],	dx
seg002:1A5C		    mov	    ds:932h, ax
seg002:1A5F		    mov	    al,	byte ptr [bp+var_2]
seg002:1A62		    mov	    ds:934h, al
seg002:1A65		    mov	    al,	byte ptr [bp+var_2+1]
seg002:1A68		    cbw
seg002:1A69		    mov	    ah,	al
seg002:1A6B		    sub	    al,	al
seg002:1A6D		    mov	    ds:936h, ax
seg002:1A70		    mov	    word ptr ds:0D70h, 80h ; ''
seg002:1A76		    cmp	    byte ptr ds:2Fh, 3
seg002:1A7B		    jl	    short loc_3653
seg002:1A7D		    mov	    word ptr ds:8FEh, 8Fh ; ''
seg002:1A83
seg002:1A83 loc_3653:				    ; CODE XREF: sub_356A+E1j
seg002:1A83		    pop	    si
seg002:1A84		    leave
seg002:1A85		    retn
seg002:1A85 sub_356A	    endp
seg002:1A85
seg002:1A86
seg002:1A86 ;  S	U B R O	U T I N	E 
seg002:1A86
seg002:1A86 ; Attributes: bp-based frame
seg002:1A86
seg002:1A86 sub_3656	    proc near		    ; CODE XREF: sub_36DA+117p
seg002:1A86					    ; sub_4E96+4ACp ...
seg002:1A86
seg002:1A86 var_16	    = word ptr -16h
seg002:1A86 var_10	    = word ptr -10h
seg002:1A86 var_D	    = byte ptr -0Dh
seg002:1A86 var_2	    = word ptr -2
seg002:1A86 arg_0	    = word ptr	4
seg002:1A86
seg002:1A86		    enter   18h, 0
seg002:1A8A		    cmp	    [bp+arg_0],	0
seg002:1A8E		    jnz	    short loc_3665
seg002:1A90		    mov	    ax,	1
seg002:1A93		    leave
seg002:1A94		    retn
seg002:1A95 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:1A95
seg002:1A95 loc_3665:				    ; CODE XREF: sub_3656+8j
seg002:1A95		    mov	    ax,	[bp+arg_0]
seg002:1A98		    mov	    [bp+var_10], ax
seg002:1A9B		    mov	    [bp+var_16], ax
seg002:1A9E		    mov	    [bp+var_D],	49h ; 'I'
seg002:1AA2		    lea	    ax,	[bp+var_16]
seg002:1AA5		    push    ax
seg002:1AA6		    lea	    ax,	[bp-0Eh]
seg002:1AA9		    push    ax
seg002:1AAA		    push    ax
seg002:1AAB		    call    sub_42E8
seg002:1AAE		    mov	    ax,	[bp+var_2]
seg002:1AB1		    not	    ax
seg002:1AB3		    and	    ax,	1
seg002:1AB6		    leave
seg002:1AB7		    retn
seg002:1AB7 sub_3656	    endp
seg002:1AB7
seg002:1AB8
seg002:1AB8 ;  S	U B R O	U T I N	E 
seg002:1AB8
seg002:1AB8 ; Attributes: bp-based frame
seg002:1AB8
seg002:1AB8 sub_3688	    proc near		    ; CODE XREF: sub_36DA+9Dp
seg002:1AB8					    ; sub_36DA+B8p ...
seg002:1AB8
seg002:1AB8 var_2	    = word ptr -2
seg002:1AB8 arg_0	    = dword ptr	 4
seg002:1AB8
seg002:1AB8		    enter   2, 0
seg002:1ABC		    les	    bx,	[bp+arg_0]
seg002:1ABF		    assume ss:seg000, ds:seg000
seg002:1ABF		    test    byte ptr es:[bx+5],	10h
seg002:1AC4		    jz	    short locret_36D8
seg002:1AC6		    mov	    al,	es:[bx+7]
seg002:1ACA		    sub	    ah,	ah
seg002:1ACC		    mov	    [bp+var_2],	ax
seg002:1ACF		    test    byte ptr es:[bx+4],	0F0h
seg002:1AD4		    jnz	    short loc_36AA
seg002:1AD6		    or	    ax,	ax
seg002:1AD8		    jz	    short locret_36D8
seg002:1ADA
seg002:1ADA loc_36AA:				    ; CODE XREF: sub_3688+1Cj
seg002:1ADA		    push    word ptr es:[bx]
seg002:1ADD		    call    sub_2DAD
seg002:1AE0		    pop	    bx
seg002:1AE1		    push    0
seg002:1AE3		    push    ax
seg002:1AE4		    les	    bx,	[bp+arg_0]
seg002:1AE7		    mov	    ax,	es:[bx+2]
seg002:1AEB		    mov	    dx,	es:[bx+4]
seg002:1AEF		    and	    al,	0F0h
seg002:1AF1		    sub	    dh,	dh
seg002:1AF3		    mov	    ch,	byte ptr [bp+var_2]
seg002:1AF6		    sub	    cl,	cl
seg002:1AF8		    sub	    bx,	bx
seg002:1AFA		    add	    ax,	bx
seg002:1AFC		    adc	    dx,	cx
seg002:1AFE		    mov	    cl,	4
seg002:1B00		    call    sub_4380
seg002:1B03		    push    dx
seg002:1B04		    push    ax
seg002:1B05		    call    sub_3A3D
seg002:1B08
seg002:1B08 locret_36D8:			    ; CODE XREF: sub_3688+Cj
seg002:1B08					    ; sub_3688+20j
seg002:1B08		    leave
seg002:1B09		    retn
seg002:1B09 sub_3688	    endp
seg002:1B09
seg002:1B0A
seg002:1B0A ;  S	U B R O	U T I N	E 
seg002:1B0A
seg002:1B0A ; Attributes: bp-based frame
seg002:1B0A
seg002:1B0A sub_36DA	    proc near		    ; CODE XREF: sub_1C38+64p
seg002:1B0A					    ; sub_4E96+A2p
seg002:1B0A
seg002:1B0A var_10	    = dword ptr	-10h
seg002:1B0A var_C	    = word ptr -0Ch
seg002:1B0A var_A	    = word ptr -0Ah
seg002:1B0A var_8	    = word ptr -8
seg002:1B0A
seg002:1B0A		    enter   10h, 0
seg002:1B0E		    push    di
seg002:1B0F		    push    si
seg002:1B10		    sub	    ax,	ax
seg002:1B12		    mov	    word ptr byte_D60, ax
seg002:1B15		    mov	    word ptr byte_D60+2, ax
seg002:1B18		    mov	    ax,	word ptr byte_98E+2
seg002:1B1B		    or	    ax,	word ptr byte_98E
seg002:1B1F		    jnz	    short loc_36F4
seg002:1B21		    jmp	    loc_37FF
seg002:1B24 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:1B24
seg002:1B24 loc_36F4:				    ; CODE XREF: sub_36DA+15j
seg002:1B24		    mov	    ax,	938h
seg002:1B27		    push    si
seg002:1B28		    mov	    di,	ax
seg002:1B2A		    mov	    si,	8C8h
seg002:1B2D		    push    ds
seg002:1B2E		    pop	    es
seg002:1B2F		    assume es:seg000
seg002:1B2F		    movsw
seg002:1B30		    movsw
seg002:1B31		    movsw
seg002:1B32		    movsw
seg002:1B33		    pop	    si
seg002:1B34		    mov	    si,	8
seg002:1B37		    cmp	    byte_11D6+2, 0
seg002:1B3C		    jnz	    short loc_3742
seg002:1B3E		    push    50h	; 'P'
seg002:1B40		    call    sub_380F
seg002:1B43		    pop	    bx
seg002:1B44		    push    si
seg002:1B45		    lea	    di,	[bp+var_8]
seg002:1B48		    mov	    si,	11E4h
seg002:1B4B		    push    ss
seg002:1B4C		    pop	    es
seg002:1B4D		    movsw
seg002:1B4E		    movsw
seg002:1B4F		    movsw
seg002:1B50		    movsw
seg002:1B51		    pop	    si
seg002:1B52		    call    sub_356A
seg002:1B55		    cmp	    word ptr byte_A14, 0
seg002:1B5A		    jnz	    short loc_372F
seg002:1B5C		    call    sub_1D3C
seg002:1B5F
seg002:1B5F loc_372F:				    ; CODE XREF: sub_36DA+50j
seg002:1B5F		    mov	    ax,	910h
seg002:1B62		    push    si
seg002:1B63		    mov	    di,	ax
seg002:1B65		    lea	    si,	[bp+var_8]
seg002:1B68		    push    ds
seg002:1B69		    pop	    es
seg002:1B6A		    movsw
seg002:1B6B		    movsw
seg002:1B6C		    movsw
seg002:1B6D		    movsw
seg002:1B6E		    pop	    si
seg002:1B6F		    mov	    si,	78h ; 'x'
seg002:1B72
seg002:1B72 loc_3742:				    ; CODE XREF: sub_36DA+32j
seg002:1B72		    mov	    word ptr [bp+var_10], 0
seg002:1B77		    mov	    word ptr [bp+var_10+2], 50h	; 'P'
seg002:1B7C		    mov	    ax,	word ptr byte_938
seg002:1B7F		    and	    al,	0F8h
seg002:1B81		    mov	    [bp+var_C],	ax
seg002:1B84		    mov	    [bp+var_A],	si
seg002:1B87		    call    sub_355A
seg002:1B8A		    push    1
seg002:1B8C		    call    sub_2E36
seg002:1B8F		    pop	    bx
seg002:1B90		    jmp	    short loc_3780
seg002:1B92 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:1B92
seg002:1B92 loc_3762:				    ; CODE XREF: sub_36DA+ABj
seg002:1B92		    mov	    bx,	[bp+var_C]
seg002:1B95		    shr	    bx,	3
seg002:1B98		    les	    di,	[bp+var_10]
seg002:1B9B		    assume es:nothing
seg002:1B9B		    test    byte ptr es:[bx+di], 1
seg002:1B9F		    jz	    short loc_377C
seg002:1BA1		    push    [bp+var_A]
seg002:1BA4		    push    [bp+var_C]
seg002:1BA7		    call    sub_3688
seg002:1BAA		    pop	    bx
seg002:1BAB		    pop	    bx
seg002:1BAC
seg002:1BAC loc_377C:				    ; CODE XREF: sub_36DA+95j
seg002:1BAC		    sub	    [bp+var_C],	8
seg002:1BB0
seg002:1BB0 loc_3780:				    ; CODE XREF: sub_36DA+86j
seg002:1BB0		    cmp	    [bp+var_C],	80h ; ''
seg002:1BB5		    jnb	    short loc_3762
seg002:1BB7		    mov	    [bp+var_C],	50h ; 'P'
seg002:1BBC		    push    [bp+var_A]
seg002:1BBF		    push    [bp+var_C]
seg002:1BC2		    call    sub_3688
seg002:1BC5		    pop	    bx
seg002:1BC6		    pop	    bx
seg002:1BC7		    mov	    [bp+var_C],	8
seg002:1BCC		    push    [bp+var_A]
seg002:1BCF		    push    [bp+var_C]
seg002:1BD2		    call    sub_3688
seg002:1BD5		    pop	    bx
seg002:1BD6		    pop	    bx
seg002:1BD7		    mov	    [bp+var_C],	70h ; 'p'
seg002:1BDC		    cmp	    byte_9F4+4,	0
seg002:1BE1		    jnz	    short loc_37C5
seg002:1BE3		    test    byte_47, 80h
seg002:1BE8		    jnz	    short loc_37C5
seg002:1BEA		    push    [bp+var_A]
seg002:1BED		    push    [bp+var_C]
seg002:1BF0		    call    sub_3688
seg002:1BF3		    pop	    bx
seg002:1BF4		    pop	    bx
seg002:1BF5
seg002:1BF5 loc_37C5:				    ; CODE XREF: sub_36DA+D7j
seg002:1BF5					    ; sub_36DA+DEj
seg002:1BF5		    call    sub_3008
seg002:1BF8		    call    sub_2D91
seg002:1BFB		    cmp	    byte_11D6+2, 0
seg002:1C00		    jnz	    short loc_37FF
seg002:1C02		    mov	    ax,	word ptr byte_98E+2
seg002:1C05		    or	    ax,	word ptr byte_98E
seg002:1C09		    jz	    short loc_37FF
seg002:1C0B		    cmp	    word ptr byte_98E+2, 10h
seg002:1C10		    jg	    short loc_37FF
seg002:1C12		    jge	    short loc_37FF
seg002:1C14		    mov	    ax,	word ptr byte_98E
seg002:1C17		    mov	    dx,	word ptr byte_98E+2
seg002:1C1B		    mov	    cl,	4
seg002:1C1D		    call    sub_4380
seg002:1C20		    push    ax
seg002:1C21		    call    sub_3656
seg002:1C24		    pop	    bx
seg002:1C25		    or	    ax,	ax
seg002:1C27		    jnz	    short loc_37FF
seg002:1C29		    push    16h
seg002:1C2B		    call    sub_3E7D
seg002:1C2E		    pop	    bx
seg002:1C2F
seg002:1C2F loc_37FF:				    ; CODE XREF: sub_36DA+17j
seg002:1C2F					    ; sub_36DA+F6j ...
seg002:1C2F		    mov	    word_97E, 0
seg002:1C35		    mov	    word_97C, 2FFh
seg002:1C3B		    pop	    si
seg002:1C3C		    pop	    di
seg002:1C3D		    leave
seg002:1C3E		    retn
seg002:1C3E sub_36DA	    endp
seg002:1C3E
seg002:1C3F
seg002:1C3F ;  S	U B R O	U T I N	E 
seg002:1C3F
seg002:1C3F ; Attributes: bp-based frame
seg002:1C3F
seg002:1C3F sub_380F	    proc near		    ; CODE XREF: sub_36DA+36p
seg002:1C3F					    ; sub_4E96+4DBp
seg002:1C3F
seg002:1C3F arg_0	    = word ptr	4
seg002:1C3F
seg002:1C3F		    push    bp
seg002:1C40		    mov	    bp,	sp
seg002:1C42		    mov	    ax,	word_97C
seg002:1C45		    cmp	    [bp+arg_0],	ax
seg002:1C48		    jbe	    short loc_382F
seg002:1C4A		    sub	    al,	al
seg002:1C4C		    mov	    byte_11E8+1, al
seg002:1C4F		    mov	    byte_11E8, al
seg002:1C52		    sub	    ax,	ax
seg002:1C54		    mov	    word ptr byte_11E8+2, ax
seg002:1C57		    mov	    word_11E6, ax
seg002:1C5A		    mov	    word_11E4, ax
seg002:1C5D		    leave
seg002:1C5E		    retn
seg002:1C5F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:1C5F
seg002:1C5F loc_382F:				    ; CODE XREF: sub_380F+9j
seg002:1C5F		    push    8
seg002:1C61		    push    11E4h
seg002:1C64		    mov	    ax,	[bp+arg_0]
seg002:1C67		    and	    al,	0F8h
seg002:1C69		    sub	    dx,	dx
seg002:1C6B		    add	    ax,	word ptr byte_98E
seg002:1C6F		    adc	    dx,	word ptr byte_98E+2
seg002:1C73		    push    dx
seg002:1C74		    push    ax
seg002:1C75		    call    sub_2DBD
seg002:1C78		    mov	    ax,	1
seg002:1C7B		    leave
seg002:1C7C		    retn
seg002:1C7C sub_380F	    endp
seg002:1C7C
seg002:1C7D ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:1C7D		    push    bp
seg002:1C7E		    mov	    bp,	sp
seg002:1C80		    mov	    ax,	word_97C
seg002:1C83		    cmp	    [bp+4], ax
seg002:1C86		    jbe	    short loc_385C
seg002:1C88		    sub	    ax,	ax
seg002:1C8A		    leave
seg002:1C8B		    retn
seg002:1C8C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:1C8C
seg002:1C8C loc_385C:				    ; CODE XREF: seg002:1C86j
seg002:1C8C		    push    8
seg002:1C8E		    push    11E4h
seg002:1C91		    mov	    ax,	[bp+4]
seg002:1C94		    and	    al,	0F8h
seg002:1C96		    sub	    dx,	dx
seg002:1C98		    add	    ax,	word ptr byte_98E
seg002:1C9C		    adc	    dx,	word ptr byte_98E+2
seg002:1CA0		    push    dx
seg002:1CA1		    push    ax
seg002:1CA2		    call    sub_2DF2
seg002:1CA5		    mov	    ax,	1
seg002:1CA8		    leave
seg002:1CA9		    retn
seg002:1CAA
seg002:1CAA ;  S	U B R O	U T I N	E 
seg002:1CAA
seg002:1CAA ; Attributes: bp-based frame
seg002:1CAA
seg002:1CAA sub_387A	    proc near		    ; CODE XREF: sub_38CB+11p
seg002:1CAA					    ; sub_3AFE+2Ap ...
seg002:1CAA
seg002:1CAA var_8	    = word ptr -8
seg002:1CAA var_6	    = word ptr -6
seg002:1CAA var_4	    = byte ptr -4
seg002:1CAA var_3	    = byte ptr -3
seg002:1CAA var_2	    = word ptr -2
seg002:1CAA arg_2	    = word ptr	6
seg002:1CAA arg_4	    = word ptr	8
seg002:1CAA arg_6	    = word ptr	0Ah
seg002:1CAA arg_8	    = byte ptr	0Ch
seg002:1CAA
seg002:1CAA		    enter   8, 0
seg002:1CAE		    mov	    ax,	[bp+arg_6]
seg002:1CB1		    mov	    [bp+var_8],	ax
seg002:1CB4		    mov	    al,	[bp+arg_8]
seg002:1CB7		    mov	    [bp+var_3],	al
seg002:1CBA		    mov	    ax,	[bp+arg_2]
seg002:1CBD		    shl	    ax,	4
seg002:1CC0		    mov	    [bp+var_6],	ax
seg002:1CC3		    mov	    ax,	[bp+arg_2]
seg002:1CC6		    mov	    dx,	[bp+arg_4]
seg002:1CC9		    mov	    cl,	0Ch
seg002:1CCB		    call    sub_4380
seg002:1CCE		    mov	    [bp+var_4],	al
seg002:1CD1		    mov	    ax,	[bp+arg_4]
seg002:1CD4		    sar	    ax,	4
seg002:1CD7		    mov	    ah,	al
seg002:1CD9		    sub	    al,	al
seg002:1CDB		    mov	    [bp+var_2],	ax
seg002:1CDE		    push    8		    ; CODE XREF: sub_7256:loc_72B7p
seg002:1CDE sub_387A	    endp
seg002:1CDE
seg002:1CE0		    lea	    ax,	[bp-8]
seg002:1CE3		    push    ax
seg002:1CE4		    mov	    ax,	[bp+4]
seg002:1CE7		    shl	    ax,	3
seg002:1CEA		    sub	    dx,	dx
seg002:1CEC		    add	    ax,	word ptr byte_98E
seg002:1CF0		    adc	    dx,	word ptr byte_98E+2
seg002:1CF4		    push    dx
seg002:1CF5		    push    ax
seg002:1CF6		    call    sub_2DF2
seg002:1CF9		    leave
seg002:1CFA		    retn
seg002:1CFB
seg002:1CFB ;  S	U B R O	U T I N	E 
seg002:1CFB
seg002:1CFB ; Attributes: bp-based frame
seg002:1CFB
seg002:1CFB sub_38CB	    proc near		    ; CODE XREF: sub_7256+120p
seg002:1CFB					    ; sub_7256+12Fp ...
seg002:1CFB
seg002:1CFB arg_0	    = word ptr	4
seg002:1CFB arg_2	    = word ptr	6
seg002:1CFB arg_4	    = word ptr	8
seg002:1CFB
seg002:1CFB		    push    bp
seg002:1CFC		    mov	    bp,	sp
seg002:1CFE		    push    92h	; ''
seg002:1D01		    push    [bp+arg_4]
seg002:1D04		    push    0
seg002:1D06		    push    [bp+arg_2]
seg002:1D09		    push    [bp+arg_0]
seg002:1D0C		    call    sub_387A
seg002:1D0F		    leave
seg002:1D10		    retn
seg002:1D10 sub_38CB	    endp
seg002:1D10
seg002:1D11
seg002:1D11 ;  S	U B R O	U T I N	E 
seg002:1D11
seg002:1D11 ; Attributes: bp-based frame
seg002:1D11
seg002:1D11 sub_38E1	    proc near		    ; CODE XREF: sub_1C38+BDp
seg002:1D11					    ; sub_6EBF+DBp
seg002:1D11
seg002:1D11 var_56	    = word ptr -56h
seg002:1D11 var_46	    = word ptr -46h
seg002:1D11 var_44	    = word ptr -44h
seg002:1D11 var_42	    = byte ptr -42h
seg002:1D11 var_41	    = byte ptr -41h
seg002:1D11 var_3E	    = word ptr -3Eh
seg002:1D11 var_3A	    = byte ptr -3Ah
seg002:1D11 var_39	    = byte ptr -39h
seg002:1D11 var_38	    = word ptr -38h
seg002:1D11 var_26	    = word ptr -26h
seg002:1D11 var_1E	    = word ptr -1Eh
seg002:1D11 var_1C	    = word ptr -1Ch
seg002:1D11 var_1A	    = word ptr -1Ah
seg002:1D11 var_18	    = word ptr -18h
seg002:1D11 var_16	    = dword ptr	-16h
seg002:1D11 var_11	    = byte ptr -11h
seg002:1D11 var_E	    = word ptr -0Eh
seg002:1D11 var_A	    = word ptr -0Ah
seg002:1D11 var_4	    = word ptr -4
seg002:1D11 var_2	    = word ptr -2
seg002:1D11 arg_0	    = word ptr	4
seg002:1D11
seg002:1D11		    enter   56h, 0
seg002:1D15		    push    si
seg002:1D16		    cmp	    [bp+arg_0],	0
seg002:1D1A		    jnz	    short loc_38F1
seg002:1D1C		    sub	    ax,	ax
seg002:1D1E		    pop	    si
seg002:1D1F		    leave
seg002:1D20		    retn
seg002:1D21 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:1D21
seg002:1D21 loc_38F1:				    ; CODE XREF: sub_38E1+9j
seg002:1D21		    push    30h	; '0'
seg002:1D23		    push    0
seg002:1D25		    lea	    ax,	[bp+var_56]
seg002:1D28		    push    ax
seg002:1D29		    call    sub_4346
seg002:1D2C		    add	    sp,	6
seg002:1D2F		    lea	    ax,	[bp+var_1E]
seg002:1D32		    mov	    [bp+var_1A], ax
seg002:1D35		    mov	    [bp+var_18], ss
seg002:1D38		    mov	    ax,	ss
seg002:1D3A		    sub	    dx,	dx
seg002:1D3C		    mov	    cl,	4
seg002:1D3E		    call    sub_4374
seg002:1D41		    add	    ax,	[bp+var_1A]
seg002:1D44		    adc	    dx,	0
seg002:1D47		    mov	    [bp+var_4],	ax
seg002:1D4A		    mov	    [bp+var_2],	dx
seg002:1D4D		    mov	    bx,	dx
seg002:1D4F		    mov	    [bp+var_44], ax
seg002:1D52		    mov	    [bp+var_42], bl
seg002:1D55		    mov	    [bp+var_3A], 0C0h ;	'ภ'
seg002:1D59		    mov	    [bp+var_38], 8000h
seg002:1D5E		    mov	    al,	0F2h ; '๒'
seg002:1D60		    mov	    [bp+var_39], al
seg002:1D63		    mov	    [bp+var_41], al
seg002:1D66		    mov	    [bp+var_11], 87h ; ''
seg002:1D6A		    mov	    ax,	1
seg002:1D6D		    mov	    [bp+var_46], ax
seg002:1D70		    mov	    [bp+var_3E], ax
seg002:1D73		    mov	    [bp+var_E],	ax
seg002:1D76		    lea	    ax,	[bp+var_56]
seg002:1D79		    mov	    [bp+var_1A], ax
seg002:1D7C		    mov	    [bp+var_18], ss
seg002:1D7F		    mov	    [bp+var_A],	ax
seg002:1D82		    mov	    ax,	ss
seg002:1D84		    mov	    [bp+var_26], ax
seg002:1D87		    mov	    [bp+var_1E], 0FEh ;	''
seg002:1D8C		    lea	    ax,	[bp+var_26]
seg002:1D8F		    push    ax
seg002:1D90		    lea	    cx,	[bp-12h]
seg002:1D93		    push    cx
seg002:1D94		    push    cx
seg002:1D95		    push    15h
seg002:1D97		    call    sub_420C
seg002:1D9A		    add	    sp,	8
seg002:1D9D		    mov	    ax,	word ptr byte_11E8+4
seg002:1DA0		    mov	    dx,	0F000h
seg002:1DA3		    mov	    word ptr [bp+var_16], ax
seg002:1DA6		    mov	    word ptr [bp+var_16+2], dx
seg002:1DA9		    mov	    es,	dx
seg002:1DAB		    assume es:nothing
seg002:1DAB		    mov	    bx,	ax
seg002:1DAD		    mov	    cx,	[bp+arg_0]
seg002:1DB0		    sub	    es:[bx+4], cx
seg002:1DB4		    mov	    si,	es:[bx+6]
seg002:1DB8		    mov	    [bp+var_1C], si
seg002:1DBB		    sub	    es:[bx+6], cx
seg002:1DBF		    mov	    [bp+var_1E], 0FCh ;	''
seg002:1DC4		    mov	    [bp+var_11], 87h ; ''
seg002:1DC8		    mov	    [bp+var_E],	1
seg002:1DCD		    lea	    ax,	[bp+var_26]
seg002:1DD0		    push    ax
seg002:1DD1		    lea	    ax,	[bp-12h]
seg002:1DD4		    push    ax
seg002:1DD5		    push    ax
seg002:1DD6		    push    15h
seg002:1DD8		    call    sub_420C
seg002:1DDB		    add	    sp,	8
seg002:1DDE		    mov	    ax,	[bp+var_1C]
seg002:1DE1		    les	    bx,	[bp+var_16]
seg002:1DE4		    assume es:nothing
seg002:1DE4		    sub	    ax,	es:[bx+6]
seg002:1DE8		    mov	    [bp+arg_0],	ax
seg002:1DEB		    sub	    word ptr byte_1208+2, ax
seg002:1DEF		    mov	    ax,	word ptr byte_1208+2
seg002:1DF2		    pop	    si
seg002:1DF3		    leave
seg002:1DF4		    retn
seg002:1DF4 sub_38E1	    endp
seg002:1DF4
seg002:1DF4 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:1DF5 word_39C5	    dw 0		    ; DATA XREF: seg002:1E49r
seg002:1DF5					    ; sub_8854+25w ...
seg002:1DF7
seg002:1DF7 ;  S	U B R O	U T I N	E 
seg002:1DF7
seg002:1DF7
seg002:1DF7 sub_39C7	    proc near		    ; CODE XREF: sub_1C38:loc_1CE2p
seg002:1DF7					    ; sub_8854+67p ...
seg002:1DF7		    mov	    bx,	10h
seg002:1DFA
seg002:1DFA loc_39CA:				    ; CODE XREF: sub_39C7+Dj
seg002:1DFA					    ; sub_39C7+23j
seg002:1DFA		    dec	    bx
seg002:1DFB		    dec	    bx
seg002:1DFC		    js	    short locret_39EC
seg002:1DFE		    mov	    dx,	[bx+0ADCh]
seg002:1E02		    or	    dx,	dx
seg002:1E04		    jz	    short loc_39CA
seg002:1E06		    push    bx
seg002:1E07		    mov	    ah,	0Dh
seg002:1E09		    call    dword_AEC
seg002:1E0D		    mov	    ah,	0Ah
seg002:1E0F		    call    dword_AEC
seg002:1E13		    pop	    bx
seg002:1E14		    mov	    word ptr [bx+0ADCh], 0
seg002:1E1A		    jmp	    short loc_39CA
seg002:1E1C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:1E1C
seg002:1E1C locret_39EC:			    ; CODE XREF: sub_39C7+5j
seg002:1E1C		    retn
seg002:1E1C sub_39C7	    endp
seg002:1E1C
seg002:1E1D ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:1E1D
seg002:1E1D loc_39ED:				    ; CODE XREF: seg002:1E32j
seg002:1E1D					    ; seg002:1E3Ej ...
seg002:1E1D		    xor	    ax,	ax
seg002:1E1F		    cwd
seg002:1E20		    jmp	    short loc_3A2E
seg002:1E22 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:1E22		    call    sub_2D91
seg002:1E25		    pop	    dx
seg002:1E26		    or	    dx,	dx
seg002:1E28		    jz	    short loc_3A13
seg002:1E2A		    mov	    ah,	9
seg002:1E2C		    call    dword_AEC
seg002:1E30		    or	    ax,	ax
seg002:1E32		    jz	    short loc_39ED
seg002:1E34		    mov	    [si], dx
seg002:1E36		    mov	    ah,	0Ch
seg002:1E38		    call    dword_AEC
seg002:1E3C		    or	    ax,	ax
seg002:1E3E		    jz	    short loc_39ED
seg002:1E40		    xchg    ax,	bx
seg002:1E41		    jmp	    short loc_3A2E
seg002:1E43 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:1E43
seg002:1E43 loc_3A13:				    ; CODE XREF: seg002:1E28j
seg002:1E43		    mov	    ah,	8
seg002:1E45		    call    dword_AEC
seg002:1E49		    sub	    ax,	cs:word_39C5
seg002:1E4E		    jb	    short loc_39ED
seg002:1E50		    cmp	    ax,	word_AF0
seg002:1E54		    jbe	    short loc_3A29
seg002:1E56		    mov	    ax,	word_AF0
seg002:1E59
seg002:1E59 loc_3A29:				    ; CODE XREF: seg002:1E54j
seg002:1E59		    mov	    cx,	400h
seg002:1E5C		    mul	    cx
seg002:1E5E
seg002:1E5E loc_3A2E:				    ; CODE XREF: seg002:1E20j
seg002:1E5E					    ; seg002:1E41j
seg002:1E5E		    push    dx
seg002:1E5F		    push    ax
seg002:1E60		    call    sub_355A
seg002:1E63		    jmp	    far	ptr 70h:3E81h
seg002:1E68 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:1E68
seg002:1E68 loc_3A38:				    ; CODE XREF: seg002:38E2p
seg002:1E68					    ; sub_54D1+17p ...
seg002:1E68		    call    near ptr loc_3A54+2
seg002:1E68 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:1E6B		    db 0BBh, 22h
seg002:1E6D
seg002:1E6D ;  S	U B R O	U T I N	E 
seg002:1E6D
seg002:1E6D
seg002:1E6D sub_3A3D	    proc near		    ; CODE XREF: sub_3688+4Dp
seg002:1E6D		    call    near ptr loc_3A54+2
seg002:1E70		    lock and al, 0E8h
seg002:1E73		    adc	    [bx+si], ax
seg002:1E75		    loop    near ptr loc_3A66+2
seg002:1E75 sub_3A3D	    endp
seg002:1E75
seg002:1E77
seg002:1E77 ;  S	U B R O	U T I N	E 
seg002:1E77
seg002:1E77
seg002:1E77 sub_3A47	    proc near		    ; CODE XREF: sub_4E96+3AEp
seg002:1E77					    ; sub_5659+39p ...
seg002:1E77		    call    near ptr loc_3A54+2
seg002:1E7A		    mov	    bl,	3Fh ; '?'
seg002:1E7A sub_3A47	    endp
seg002:1E7A
seg002:1E7C
seg002:1E7C ;  S	U B R O	U T I N	E 
seg002:1E7C
seg002:1E7C
seg002:1E7C sub_3A4C	    proc near		    ; CODE XREF: sub_74B6+78p
seg002:1E7C		    call    near ptr loc_3A54+2
seg002:1E7F		    jz	    short near ptr loc_3A8F+1
seg002:1E7F sub_3A4C	    endp
seg002:1E7F
seg002:1E81
seg002:1E81 ;  S	U B R O	U T I N	E 
seg002:1E81
seg002:1E81
seg002:1E81 sub_3A51	    proc near		    ; CODE XREF: sub_4E96+2DBp
seg002:1E81		    call    near ptr loc_3A54+2
seg002:1E84
seg002:1E84 loc_3A54:				    ; CODE XREF: seg002:loc_3A38p
seg002:1E84					    ; sub_3A3Dp ...
seg002:1E84		    mov	    si,	5B39h
seg002:1E84 sub_3A51	    endp
seg002:1E84
seg002:1E87		    mov	    cx,	cs:[bx]
seg002:1E8A		    mov	    bx,	word_AFA
seg002:1E8E		    inc	    bx
seg002:1E8F		    inc	    bx
seg002:1E90		    mov	    word_AFA, bx
seg002:1E94		    pop	    word ptr [bx]
seg002:1E96
seg002:1E96 loc_3A66:				    ; CODE XREF: sub_3A3D+8j
seg002:1E96		    push    3E8Fh
seg002:1E99		    jmp	    dword_AF2
seg002:1E9D ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:1E9D		    jmp	    cx
seg002:1E9F
seg002:1E9F ;  S	U B R O	U T I N	E 
seg002:1E9F
seg002:1E9F
seg002:1E9F sub_3A6F	    proc near		    ; CODE XREF: sub_4A99+7Ap
seg002:1E9F		    mov	    bx,	sp
seg002:1EA1		    push    di
seg002:1EA2		    push    si
seg002:1EA3		    mov	    di,	ss:[bx+4]
seg002:1EA7		    cmp	    word_A12, 0
seg002:1EAC		    jnz	    short loc_3ADA
seg002:1EAE		    call    sub_3AF4
seg002:1EB1		    shr	    ax,	1
seg002:1EB3		    xchg    ax,	cx
seg002:1EB4		    add	    di,	0Fh
seg002:1EB7		    and	    di,	0FFF0h
seg002:1EBA		    mov	    ax,	di
seg002:1EBC		    shr	    ax,	4
seg002:1EBF
seg002:1EBF loc_3A8F:				    ; CODE XREF: sub_3A4C+3j
seg002:1EBF		    mov	    bx,	seg_A10
seg002:1EC3		    mov	    dx,	cs
seg002:1EC5		    sub	    bx,	dx
seg002:1EC7		    sub	    bx,	ax
seg002:1EC9		    add	    ax,	dx
seg002:1ECB		    cld
seg002:1ECC		    xchg    ax,	seg_A10
seg002:1ED0		    xor	    si,	si
seg002:1ED2		    mov	    ds,	ax
seg002:1ED4		    assume ds:nothing
seg002:1ED4		    mov	    es,	dx
seg002:1ED6		    assume es:seg002
seg002:1ED6		    rep	movsw
seg002:1ED8		    push    ss
seg002:1ED9		    pop	    ds
seg002:1EDA		    assume ds:seg000
seg002:1EDA		    push    bx
seg002:1EDB		    call    sub_3AFE
seg002:1EDE		    pop	    cx
seg002:1EDF		    shl	    cx,	3
seg002:1EE2
seg002:1EE2 loc_3AB2:				    ; CODE XREF: sub_3A6F+83j
seg002:1EE2		    push    cs
seg002:1EE3		    pop	    es
seg002:1EE4		    mov	    ax,	0CCCCh
seg002:1EE7		    mov	    bx,	di
seg002:1EE9		    rep	stosw
seg002:1EEB		    add	    bx,	0Fh
seg002:1EEE		    shr	    bx,	4
seg002:1EF1		    add	    bx,	seg_9B6
seg002:1EF5		    mov	    ax,	word_CEC
seg002:1EF8		    sub	    bx,	ax
seg002:1EFA		    mov	    word_5A, bx
seg002:1EFE		    mov	    es,	ax
seg002:1F00		    assume es:nothing
seg002:1F00		    mov	    ah,	4Ah
seg002:1F02		    int	    21h		    ; DOS - 2+ - ADJUST	MEMORY BLOCK SIZE (SETBLOCK)
seg002:1F02					    ; ES = segment address of block to change
seg002:1F02					    ; BX = new size in paragraphs
seg002:1F04		    pop	    si
seg002:1F05		    pop	    di
seg002:1F06		    pop	    ax
seg002:1F07		    pop	    sp
seg002:1F08		    pop	    bp
seg002:1F09		    retn
seg002:1F0A ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:1F0A
seg002:1F0A loc_3ADA:				    ; CODE XREF: sub_3A6F+Dj
seg002:1F0A		    mov	    cx,	word_CEC
seg002:1F0E		    dec	    cx
seg002:1F0F		    mov	    es,	cx
seg002:1F11		    add	    cx,	es:3
seg002:1F16		    inc	    cx
seg002:1F17		    mov	    ax,	cs
seg002:1F19		    sub	    cx,	ax
seg002:1F1B		    shl	    cx,	4
seg002:1F1E		    sub	    cx,	di
seg002:1F20		    shr	    cx,	1
seg002:1F22		    jmp	    short loc_3AB2
seg002:1F22 sub_3A6F	    endp
seg002:1F22
seg002:1F24
seg002:1F24 ;  S	U B R O	U T I N	E 
seg002:1F24
seg002:1F24
seg002:1F24 sub_3AF4	    proc near		    ; CODE XREF: sub_3A6F+Fp
seg002:1F24					    ; sub_3AFE+3p ...
seg002:1F24		    mov	    ax,	seg seg004
seg002:1F27		    sub	    ax,	seg seg003
seg002:1F2A		    shl	    ax,	4
seg002:1F2D		    retn
seg002:1F2D sub_3AF4	    endp
seg002:1F2D
seg002:1F2E
seg002:1F2E ;  S	U B R O	U T I N	E 
seg002:1F2E
seg002:1F2E
seg002:1F2E sub_3AFE	    proc near		    ; CODE XREF: sub_3A6F+3Cp
seg002:1F2E					    ; sub_74B6+A7p
seg002:1F2E		    push    9Bh	; ''
seg002:1F31		    call    sub_3AF4
seg002:1F34		    dec	    ax
seg002:1F35		    push    ax
seg002:1F36		    mov	    word_930, ax
seg002:1F39		    mov	    dx,	word_A12
seg002:1F3D		    mov	    ax,	seg_A10
seg002:1F40		    push    dx
seg002:1F41		    push    ax
seg002:1F42		    mov	    cx,	4
seg002:1F45
seg002:1F45 loc_3B15:				    ; CODE XREF: sub_3AFE+1Bj
seg002:1F45		    shl	    ax,	1
seg002:1F47		    rcl	    dx,	1
seg002:1F49		    loop    loc_3B15
seg002:1F4B		    mov	    word_932, ax
seg002:1F4E		    mov	    byte_934, dl
seg002:1F52		    mov	    byte_937, dh
seg002:1F56		    push    0Eh
seg002:1F58		    call    sub_387A
seg002:1F5B		    add	    sp,	0Ah
seg002:1F5E		    retn
seg002:1F5E sub_3AFE	    endp
seg002:1F5E
seg002:1F5E ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:1F5F		    align 2
seg002:1F60		    db 0E8h, 85h, 2 dup(0), 0E8h, 81h, 0, 1, 0E8h, 7Dh,	0
seg002:1F60		    db 2, 0E8h,	79h, 0,	3, 0E8h, 75h, 0, 4, 0E8h, 71h, 0, 5
seg002:1F60		    db 0E8h, 6Dh, 0, 6,	0E8h, 69h, 0, 7, 0E8h, 65h, 0, 8, 0E8h
seg002:1F60		    db 61h, 0, 9, 0E8h,	5Dh, 0,	0Ah, 0E8h, 59h,	0, 0Bh,	0E8h
seg002:1F60		    db 55h, 0, 0Ch, 0E8h, 51h, 0, 0Dh, 0E8h, 4Dh, 0, 0Eh, 0E8h
seg002:1F60		    db 49h, 0, 0Fh, 6 dup(0), 0E8h, 83h, 0E9h, 2Eh, 87h, 0Eh
seg002:1F60		    db 0BBh, 1Fh, 89h, 4Eh, 14h, 0EBh, 0, 58h, 17h, 94h, 1Fh
seg002:1F60		    db 7, 66h, 61h, 9Dh, 2 dup(0FFh), 9Ch, 0FAh, 2Eh, 8Fh
seg002:1F60		    db 6, 0A4h,	1Fh, 68h
seg002:1FC5		    dw seg seg000
seg002:1FC7		    db 17h, 36h, 8Bh, 26h, 96h,	9, 66h,	60h, 6,	1Eh, 16h, 1Fh
seg002:1FC7		    db 8Bh, 0ECh, 8Bh, 46h, 38h, 2Eh, 0A3h, 0BBh, 1Fh, 0E8h
seg002:1FC7		    db 0B1h, 0E2h, 2Eh,	0A1h, 0A4h, 1Fh, 0EAh, 0F9h, 4Ch, 70h
seg002:1FC7		    db 0, 9Ch, 0FAh, 2Eh, 8Fh, 6, 0A4h,	1Fh, 2Eh, 8Ch, 16h
seg002:1FC7		    db 0A2h, 1Fh, 2Eh, 89h, 26h, 0A0h, 1Fh, 68h
seg002:1FFA		    dw seg seg000
seg002:1FFC ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:1FFC		    pop	    ss
seg002:1FFD		    assume ss:nothing
seg002:1FFD		    mov	    sp,	ss:996h
seg002:2002		    sub	    sp,	180h
seg002:2006		    pushad
seg002:2008		    push    es
seg002:2009		    push    ds
seg002:200A		    push    ss
seg002:200B		    pop	    ds
seg002:200C		    assume ds:nothing
seg002:200C		    push    word ptr cs:byte_3B30+44h
seg002:2011		    les	    bx,	dword ptr cs:byte_3B30+40h
seg002:2016		    push    es
seg002:2017		    push    bx
seg002:2018		    mov	    bx,	es:[bx]
seg002:201B		    push    word ptr cs:[bx]
seg002:201E		    call    sub_1E60
seg002:2021		    jmp	    far	ptr 70h:4F11h
seg002:2021 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2026		    db 0E8h, 3,	0E9h, 8Eh, 0DFh, 2Eh, 89h, 3Eh,	0A2h, 1Fh
seg002:2026		    db 2Eh, 89h, 36h, 0A0h, 1Fh, 8Fh, 4, 8Fh, 44h, 2, 8Fh
seg002:2026		    db 44h, 4, 1Fh, 7, 66h, 61h, 2Eh, 8Eh, 16h,	0A2h, 1Fh
seg002:2026		    db 2Eh, 8Bh, 26h, 0A0h, 1Fh, 0CFh, 0CBh, 9Ch, 0FAh,	2Eh
seg002:2026		    db 8Fh, 6, 0A4h, 1Fh, 68h
seg002:2055		    dw seg seg000
seg002:2057		    db 17h, 36h, 8Bh, 26h, 96h,	9, 81h,	0ECh, 80h, 0, 60h
seg002:2057		    db 16h, 1Fh, 0E8h, 29h, 0E2h, 61h, 8Eh, 0D8h, 8Eh, 0C1h
seg002:2057		    db 8Eh, 0D2h, 8Bh, 0E3h, 2Eh, 0FFh,	36h, 0A4h, 1Fh,	56h
seg002:2057		    db 57h, 0CFh, 0E8h,	0B1h, 0E8h, 0EBh, 0EAh,	0E8h, 1Bh
seg002:2057		    db 0ECh, 7
seg002:2081
seg002:2081 ;  S	U B R O	U T I N	E 
seg002:2081
seg002:2081
seg002:2081 sub_3C51	    proc near		    ; CODE XREF: sub_1D3C:loc_1DB4p
seg002:2081		    call    sub_1E60
seg002:2084		    jmp	    far	ptr 70h:5593h
seg002:2084 sub_3C51	    endp
seg002:2084
seg002:2089 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2089		    call    sub_24FC
seg002:208C		    retn
seg002:208C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:208D		    align 2
seg002:208E word_3C5E	    dw 20h		    ; DATA XREF: seg002:loc_8747r
seg002:208E					    ; seg002:6BB6r ...
seg002:2090
seg002:2090 ;  S	U B R O	U T I N	E 
seg002:2090
seg002:2090
seg002:2090 sub_3C60	    proc far		    ; CODE XREF: sub_62AE+39p
seg002:2090		    pop	    ax
seg002:2091		    pop	    bx
seg002:2092		    pop	    cx
seg002:2093		    push    ax
seg002:2094		    push    0
seg002:2096		    push    cx
seg002:2097		    push    bx
seg002:2098		    push    word ptr ds:0C3Ch
seg002:209C		    push    5682h
seg002:209F		    retf
seg002:209F sub_3C60	    endp ; sp =	-6
seg002:209F
seg002:209F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:20A0 byte_3C70	    db 57h, 56h, 0A0h, 0DAh, 0Ch, 0FEh,	6, 0DAh, 0Ch, 0Ah
seg002:20A0					    ; CODE XREF: seg002:loc_8761p
seg002:20A0		    db 0C0h, 75h, 3, 0E8h, 91h,	0F3h, 8Bh, 1Eh,	96h, 9,	83h
seg002:20A0		    db 7Fh, 18h, 21h, 75h, 9, 8Ah, 47h,	16h, 98h, 50h, 0E8h
seg002:20A0		    db 70h, 0DFh, 5Bh, 0E8h, 1,	0F1h, 0E8h, 0Fh, 0F7h, 8Bh
seg002:20A0		    db 1Eh, 96h, 9, 83h, 7Fh, 18h, 0, 7Dh, 3, 0E9h, 91h, 1
seg002:20A0		    db 0B8h, 4Eh, 0Ch, 50h, 0E8h, 0BAh,	0F3h, 5Bh, 8Bh,	1Eh
seg002:20A0		    db 96h, 9, 83h, 7Fh, 18h, 0Dh, 75h,	5, 0B8h, 5Bh, 0Ch
seg002:20A0		    db 0EBh, 9,	83h, 7Fh, 18h, 6, 75h, 9, 0B8h,	74h, 0Ch, 50h
seg002:20A0		    db 0E8h, 9Dh, 0F3h,	0EBh, 26h, 83h,	7Fh, 18h, 0Eh, 75h
seg002:20A0		    db 15h, 0FFh, 36h, 32h, 0Dh, 0B8h, 83h, 0Ch, 50h, 0E8h
seg002:20A0		    db 3Ah, 0F7h, 2 dup(5Bh), 0FFh, 36h, 30h, 0Dh, 2Bh,	0C0h
seg002:20A0		    db 0EBh, 6,	0FFh, 77h, 18h,	0B8h, 8Eh, 0Ch,	50h, 0E8h
seg002:20A0		    db 26h, 0F7h, 2 dup(5Bh), 0B8h, 0A3h, 0Ch, 50h, 0E8h, 6Dh
seg002:20A0		    db 0F3h, 5Bh, 8Bh, 36h, 0F8h, 11h, 81h, 0C6h, 90h, 11h
seg002:20A0		    db 0EBh, 0Ah, 80h, 3Ch, 3Ah, 74h, 0Ch, 80h,	3Ch, 5Ch, 74h
seg002:20A0		    db 7, 4Eh, 81h, 0FEh, 90h, 11h, 73h, 0EFh, 8Dh, 44h, 1
seg002:20A0		    db 50h, 0E8h, 4Ah, 0F3h, 5Bh, 0B8h,	0A8h, 0Ch, 50h,	0E8h
seg002:20A0		    db 42h, 0F3h, 5Bh, 8Bh, 1Eh, 96h, 9, 0FFh, 77h, 22h, 2Bh
seg002:20A0		    db 0C0h, 50h, 0E8h,	0E4h, 0F6h, 2 dup(5Bh),	0B8h, 0ADh
seg002:20A0		    db 0Ch, 50h, 0E8h, 2Bh, 0F3h, 5Bh, 8Bh, 1Eh, 96h, 9, 0FFh
seg002:20A0		    db 77h, 1Eh, 2Bh, 0C0h, 50h, 0E8h, 0CDh, 0F6h, 2 dup(5Bh)
seg002:20A0		    db 8Bh, 1Eh, 96h, 9, 0FFh, 77h, 22h, 0E8h, 0ECh, 0,	5Bh
seg002:20A0		    db 8Bh, 0F8h, 0Bh, 0FFh, 74h, 0Ah, 57h, 0B8h, 0AFh,	0Ch
seg002:20A0		    db 50h, 0E8h, 0B2h,	0F6h, 2	dup(5Bh), 0E8h,	3Eh, 0F6h
seg002:20A0		    db 8Bh, 1Eh, 96h, 9, 0FFh, 77h, 1Ah, 0B8h, 0B4h, 0Ch, 50h
seg002:20A0		    db 0E8h, 9Fh, 0F6h,	2 dup(5Bh), 8Bh, 1Eh, 96h, 9, 0FFh
seg002:20A0		    db 77h, 2, 0B8h, 0B9h, 0Ch,	50h, 0E8h, 8Fh,	0F6h, 2	dup(5Bh)
seg002:20A0		    db 8Bh, 1Eh, 96h, 9, 0FFh, 77h, 4, 0B8h, 0BCh, 0Ch,	50h
seg002:20A0		    db 0E8h, 7Fh, 0F6h,	2 dup(5Bh), 8Bh, 1Eh, 96h, 9, 0FFh
seg002:20A0		    db 77h, 6, 0B8h, 0BFh, 0Ch,	50h, 0E8h, 6Fh,	0F6h, 2	dup(5Bh)
seg002:20A0		    db 0E8h, 0FBh, 0F5h, 8Bh, 1Eh, 96h,	9, 0FFh, 77h, 16h
seg002:20A0		    db 0B8h, 0C2h, 0Ch,	50h, 0E8h, 5Ch,	0F6h, 2	dup(5Bh), 8Bh
seg002:20A0		    db 1Eh, 96h, 9, 0FFh, 77h, 10h, 0B8h, 0C5h,	0Ch, 50h, 0E8h
seg002:20A0		    db 4Ch, 0F6h, 2 dup(5Bh), 8Bh, 1Eh,	96h, 9,	0FFh, 77h
seg002:20A0		    db 14h, 0B8h, 0C8h,	0Ch, 50h, 0E8h,	3Ch, 0F6h, 2 dup(5Bh)
seg002:20A0		    db 8Bh, 1Eh, 96h, 9, 0FFh, 77h, 12h, 0B8h, 0CBh, 0Ch, 50h
seg002:20A0		    db 0E8h, 2Ch, 0F6h,	2 dup(5Bh), 8Bh, 1Eh, 96h, 9, 0FFh
seg002:20A0		    db 77h, 0Eh, 0B8h, 0CEh, 0Ch, 50h, 0E8h, 1Ch, 0F6h,	2 dup(5Bh)
seg002:20A0		    db 8Bh, 1Eh, 96h, 9, 0FFh, 77h, 0Ch, 0B8h, 0D1h, 0Ch, 50h
seg002:20A0		    db 0E8h, 0Ch, 0F6h,	2 dup(5Bh), 8Bh, 1Eh, 96h, 9, 0FFh
seg002:20A0		    db 77h, 0Ah, 0B8h, 0D4h, 0Ch, 50h, 0E8h, 0FCh, 0F5h, 2 dup(5Bh)
seg002:20A0		    db 8Bh, 1Eh, 96h, 9, 0FFh, 77h, 8, 0B8h, 0D7h, 0Ch,	50h
seg002:20A0		    db 0E8h, 0ECh, 0F5h, 2 dup(5Bh), 0F6h, 6, 15h, 0, 80h
seg002:20A0		    db 74h, 3, 0E8h, 13h, 0F0h,	0B8h, 2	dup(0FFh), 50h,	0E8h
seg002:20A0		    db 0C4h, 0DDh, 5Bh,	5Eh, 5Fh, 0C3h
seg002:2272 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2272		    push    bp
seg002:2273		    mov	    bp,	sp
seg002:2275		    push    di
seg002:2276		    push    si
seg002:2277		    cmp	    word ptr ds:0ED6h, 0
seg002:227C		    jz	    short loc_3E75
seg002:227E		    les	    bx,	ds:0ED4h
seg002:2282		    mov	    si,	es:[bx+2]
seg002:2286		    jmp	    short loc_3E59
seg002:2288 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2288
seg002:2288 loc_3E58:				    ; CODE XREF: seg002:2298j
seg002:2288		    dec	    si
seg002:2289
seg002:2289 loc_3E59:				    ; CODE XREF: seg002:2286j
seg002:2289		    cmp	    si,	10h
seg002:228C		    jl	    short loc_3E75
seg002:228E		    mov	    ax,	[bp+4]
seg002:2291		    mov	    di,	si
seg002:2293		    shl	    di,	1
seg002:2295		    cmp	    es:[bx+di],	ax
seg002:2298		    jnz	    short loc_3E58
seg002:229A		    mov	    ax,	si
seg002:229C		    mov	    cl,	3
seg002:229E		    shl	    ax,	cl
seg002:22A0		    add	    ax,	es:[bx]
seg002:22A3		    jmp	    short loc_3E77
seg002:22A5 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:22A5
seg002:22A5 loc_3E75:				    ; CODE XREF: seg002:227Cj
seg002:22A5					    ; seg002:228Cj
seg002:22A5		    sub	    ax,	ax
seg002:22A7
seg002:22A7 loc_3E77:				    ; CODE XREF: seg002:22A3j
seg002:22A7		    pop	    si
seg002:22A8		    pop	    di
seg002:22A9		    mov	    sp,	bp
seg002:22AB		    pop	    bp
seg002:22AC		    retn
seg002:22AD
seg002:22AD ;  S	U B R O	U T I N	E 
seg002:22AD
seg002:22AD ; Attributes: bp-based frame
seg002:22AD
seg002:22AD sub_3E7D	    proc near		    ; CODE XREF: seg002:0BC0p
seg002:22AD					    ; sub_27F8+11p ...
seg002:22AD
seg002:22AD var_9A	    = word ptr -9Ah
seg002:22AD var_98	    = word ptr -98h
seg002:22AD var_2	    = word ptr -2
seg002:22AD arg_0	    = word ptr	4
seg002:22AD
seg002:22AD		    push    bp
seg002:22AE		    mov	    bp,	sp
seg002:22B0		    sub	    sp,	9Ch
seg002:22B4		    push    di
seg002:22B5		    push    si
seg002:22B6		    mov	    [bp+var_2],	0
seg002:22BB		    cmp	    [bp+arg_0],	0
seg002:22BF		    jge	    short loc_3E99
seg002:22C1		    mov	    [bp+var_2],	1
seg002:22C6		    neg	    [bp+arg_0]
seg002:22C9
seg002:22C9 loc_3E99:				    ; CODE XREF: sub_3E7D+12j
seg002:22C9		    mov	    ax,	[bp+arg_0]
seg002:22CC		    mov	    [bp+var_9A], ax
seg002:22D0		    lea	    si,	[bp+var_98]
seg002:22D4		    cmp	    byte ptr ds:0F21h, 1
seg002:22D9		    jz	    short loc_3EFD
seg002:22DB		    mov	    byte ptr [bp+var_98], 5Bh ;	'['
seg002:22E0		    lea	    si,	[bp+var_98+1]
seg002:22E4
seg002:22E4 loc_3EB4:				    ; CODE XREF: sub_3E7D+48j
seg002:22E4		    inc	    si
seg002:22E5		    mov	    cx,	0Ah
seg002:22E8		    mov	    ax,	[bp+var_9A]
seg002:22EC		    cwd
seg002:22ED		    idiv    cx
seg002:22EF		    mov	    [bp+var_9A], ax
seg002:22F3		    or	    ax,	ax
seg002:22F5		    jnz	    short loc_3EB4
seg002:22F7		    mov	    di,	si
seg002:22F9		    mov	    ax,	[bp+arg_0]
seg002:22FC		    mov	    [bp+var_9A], ax
seg002:2300
seg002:2300 loc_3ED0:				    ; CODE XREF: sub_3E7D+6Cj
seg002:2300		    cwd
seg002:2301		    idiv    cx
seg002:2303		    mov	    bx,	dx
seg002:2305		    mov	    al,	[bx+0AB0h]
seg002:2309		    dec	    di
seg002:230A		    mov	    [di], al
seg002:230C		    mov	    ax,	[bp+var_9A]
seg002:2310		    cwd
seg002:2311		    idiv    cx
seg002:2313		    mov	    [bp+var_9A], ax
seg002:2317		    or	    ax,	ax
seg002:2319		    jnz	    short loc_3ED0
seg002:231B		    inc	    si
seg002:231C		    mov	    byte ptr [si-1], 5Dh ; ']'
seg002:2320		    inc	    si
seg002:2321		    mov	    byte ptr [si-1], 20h ; ' '
seg002:2325		    inc	    si
seg002:2326		    mov	    byte ptr [si-1], 20h ; ' '
seg002:232A		    mov	    byte ptr [si], 0
seg002:232D
seg002:232D loc_3EFD:				    ; CODE XREF: sub_3E7D+2Cj
seg002:232D		    mov	    di,	15E8h
seg002:2330		    jmp	    short loc_3F1D
seg002:2332 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2332
seg002:2332 loc_3F02:				    ; CODE XREF: sub_3E7D+AAj
seg002:2332		    cmp	    ds:0F22h, di
seg002:2336		    jbe	    short loc_3F29
seg002:2338		    cmp	    ax,	[bp+arg_0]
seg002:233B		    jnz	    short loc_3F16
seg002:233D		    push    di
seg002:233E		    push    si
seg002:233F		    call    sub_41BE
seg002:2342		    pop	    bx
seg002:2343		    pop	    bx
seg002:2344		    jmp	    short loc_3F29
seg002:2346 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2346
seg002:2346 loc_3F16:				    ; CODE XREF: sub_3E7D+8Ej
seg002:2346					    ; sub_3E7D+9Ej
seg002:2346		    inc	    di
seg002:2347		    cmp	    byte ptr [di-1], 0
seg002:234B		    jnz	    short loc_3F16
seg002:234D
seg002:234D loc_3F1D:				    ; CODE XREF: sub_3E7D+83j
seg002:234D		    mov	    ax,	[di]
seg002:234F		    inc	    di
seg002:2350		    inc	    di
seg002:2351		    mov	    [bp+var_9A], ax
seg002:2355		    or	    ax,	ax
seg002:2357		    jge	    short loc_3F02
seg002:2359
seg002:2359 loc_3F29:				    ; CODE XREF: sub_3E7D+89j
seg002:2359					    ; sub_3E7D+97j
seg002:2359		    cmp	    [bp+var_2],	0
seg002:235D		    jz	    short loc_3F3E
seg002:235F		    mov	    ax,	1190h
seg002:2362		    push    ax
seg002:2363		    lea	    ax,	[bp+var_98]
seg002:2367		    push    ax
seg002:2368		    call    word ptr ds:0E6Ch
seg002:236C		    pop	    bx
seg002:236D		    pop	    bx
seg002:236E
seg002:236E loc_3F3E:				    ; CODE XREF: sub_3E7D+B0j
seg002:236E		    sub	    ax,	ax
seg002:2370		    push    ax
seg002:2371		    lea	    ax,	[bp+var_98]
seg002:2375		    push    ax
seg002:2376		    call    word ptr ds:0E6Ch
seg002:237A		    pop	    bx
seg002:237B		    pop	    bx
seg002:237C		    pop	    si
seg002:237D		    pop	    di
seg002:237E		    mov	    sp,	bp
seg002:2380		    pop	    bp
seg002:2381		    retn
seg002:2381 sub_3E7D	    endp
seg002:2381
seg002:2382		    assume ss:seg001, ds:nothing
seg002:2382
seg002:2382 ;  S	U B R O	U T I N	E 
seg002:2382
seg002:2382
seg002:2382		    public start
seg002:2382 start	    proc near
seg002:2382		    mov	    di,	seg seg000
seg002:2385		    mov	    ss,	di
seg002:2387		    assume ss:seg000
seg002:2387		    add	    sp,	120Eh
seg002:238B		    mov	    si,	seg seg002
seg002:238E		    sub	    si,	di
seg002:2390		    mov	    ax,	si
seg002:2392		    mov	    cl,	4
seg002:2394		    shl	    ax,	cl
seg002:2396		    dec	    ax
seg002:2397		    mov	    ss:word_CE6, ax
seg002:239B		    mov	    ss:word_CDC, sp
seg002:23A0		    mov	    si,	seg seg004
seg002:23A3		    inc	    si
seg002:23A4		    mov	    ds:2, si
seg002:23A8		    mov	    bx,	es
seg002:23AA		    sub	    bx,	si
seg002:23AC		    neg	    bx
seg002:23AE		    mov	    ah,	4Ah
seg002:23B0		    int	    21h		    ; DOS - 2+ - ADJUST	MEMORY BLOCK SIZE (SETBLOCK)
seg002:23B0					    ; ES = segment address of block to change
seg002:23B0					    ; BX = new size in paragraphs
seg002:23B2		    mov	    ss:word_CEC, ds
seg002:23B7		    push    ss
seg002:23B8		    pop	    es
seg002:23B9		    assume es:seg000
seg002:23B9		    cld
seg002:23BA		    mov	    di,	1186h
seg002:23BD		    mov	    cx,	1210h
seg002:23C0		    sub	    cx,	di
seg002:23C2		    xor	    ax,	ax
seg002:23C4		    rep	stosb
seg002:23C6		    push    ss
seg002:23C7		    pop	    ds
seg002:23C8		    assume ds:seg000
seg002:23C8		    mov	    ah,	30h
seg002:23CA		    int	    21h		    ; DOS - GET	DOS VERSION
seg002:23CA					    ; Return: AL = major version number	(00h for DOS 1.x)
seg002:23CC		    mov	    word_CEE, ax
seg002:23CF		    mov	    bx,	4
seg002:23D2
seg002:23D2 loc_3FA2:				    ; CODE XREF: start+62j
seg002:23D2		    mov	    ax,	4400h
seg002:23D5		    int	    21h		    ; DOS - 2+ - IOCTL - GET DEVICE INFORMATION
seg002:23D5					    ; BX = file	or device handle
seg002:23D7		    jb	    short loc_3FB3
seg002:23D9		    test    dl,	80h
seg002:23DC		    jz	    short loc_3FB3
seg002:23DE		    or	    byte ptr [bx+0CFAh], 40h
seg002:23E3
seg002:23E3 loc_3FB3:				    ; CODE XREF: start+55j
seg002:23E3					    ; start+5Aj
seg002:23E3		    dec	    bx
seg002:23E4		    jns	    short loc_3FA2
seg002:23E6		    call    sub_4030
seg002:23E9		    xor	    bp,	bp
seg002:23EB		    push    ss
seg002:23EC		    pop	    ds
seg002:23ED		    push    word_CF6
seg002:23F1		    push    word_CF4
seg002:23F5		    push    word_CF2
seg002:23F9		    call    sub_496C
seg002:23FC		    retn
seg002:23FC start	    endp ; sp =	 1208h
seg002:23FC
seg002:23FC ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:23FD		    db 4 dup(0)
seg002:2401		    dw seg seg000
seg002:2403		    align 2
seg002:2404
seg002:2404 ;  S	U B R O	U T I N	E 
seg002:2404
seg002:2404 ; Attributes: bp-based frame
seg002:2404
seg002:2404 sub_3FD4	    proc near		    ; CODE XREF: sub_3FF2+6p
seg002:2404
seg002:2404 var_E	    = word ptr -0Eh
seg002:2404 arg_0	    = byte ptr	4
seg002:2404
seg002:2404		    push    bp
seg002:2405		    mov	    bp,	sp
seg002:2407		    sub	    sp,	0Eh
seg002:240A		    mov	    byte ptr [bp+var_E+1], 4Ch ; 'L'
seg002:240E		    mov	    al,	[bp+arg_0]
seg002:2411		    mov	    byte ptr [bp+var_E], al
seg002:2414		    lea	    ax,	[bp+var_E]
seg002:2417		    push    ax
seg002:2418		    push    ax
seg002:2419		    call    sub_42A0
seg002:241C		    pop	    bx
seg002:241D		    pop	    bx
seg002:241E		    mov	    sp,	bp
seg002:2420		    pop	    bp
seg002:2421		    retn
seg002:2421 sub_3FD4	    endp
seg002:2421
seg002:2422
seg002:2422 ;  S	U B R O	U T I N	E 
seg002:2422
seg002:2422 ; Attributes: bp-based frame
seg002:2422
seg002:2422 sub_3FF2	    proc near		    ; CODE XREF: sub_4000+6p
seg002:2422
seg002:2422 arg_0	    = word ptr	4
seg002:2422
seg002:2422		    push    bp
seg002:2423		    mov	    bp,	sp
seg002:2425		    push    [bp+arg_0]
seg002:2428		    call    sub_3FD4
seg002:242B		    pop	    bx
seg002:242C		    mov	    sp,	bp
seg002:242E		    pop	    bp
seg002:242F		    retn
seg002:242F sub_3FF2	    endp
seg002:242F
seg002:2430
seg002:2430 ;  S	U B R O	U T I N	E 
seg002:2430
seg002:2430 ; Attributes: bp-based frame
seg002:2430
seg002:2430 sub_4000	    proc near		    ; CODE XREF: seg002:loc_1C30p
seg002:2430
seg002:2430 arg_0	    = word ptr	4
seg002:2430
seg002:2430		    push    bp
seg002:2431		    mov	    bp,	sp
seg002:2433		    push    [bp+arg_0]
seg002:2436		    call    sub_3FF2
seg002:2439		    pop	    bx
seg002:243A		    mov	    sp,	bp
seg002:243C		    pop	    bp
seg002:243D		    retn
seg002:243D sub_4000	    endp
seg002:243D
seg002:243E
seg002:243E ;  S	U B R O	U T I N	E 
seg002:243E
seg002:243E ; Attributes: bp-based frame
seg002:243E
seg002:243E sub_400E	    proc near		    ; CODE XREF: sub_5414+29p
seg002:243E					    ; sub_5556+73p ...
seg002:243E
seg002:243E var_2	    = word ptr -2
seg002:243E arg_0	    = word ptr	4
seg002:243E
seg002:243E		    push    bp
seg002:243F		    mov	    bp,	sp
seg002:2441		    sub	    sp,	2
seg002:2444		    push    [bp+arg_0]
seg002:2447		    call    sub_8193
seg002:244A		    pop	    bx
seg002:244B		    mov	    [bp+var_2],	ax
seg002:244E		    inc	    ax
seg002:244F		    jz	    short loc_4026
seg002:2451		    mov	    ax,	[bp+var_2]
seg002:2454		    jmp	    short loc_4028
seg002:2456 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2456
seg002:2456 loc_4026:				    ; CODE XREF: sub_400E+11j
seg002:2456		    sub	    ax,	ax
seg002:2458
seg002:2458 loc_4028:				    ; CODE XREF: sub_400E+16j
seg002:2458		    mov	    sp,	bp
seg002:245A		    pop	    bp
seg002:245B		    retn
seg002:245B sub_400E	    endp
seg002:245B
seg002:245C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:245C		    sub	    ax,	ax
seg002:245E		    cwd
seg002:245F		    retn
seg002:2460
seg002:2460 ;  S	U B R O	U T I N	E 
seg002:2460
seg002:2460
seg002:2460 sub_4030	    proc near		    ; CODE XREF: start+64p
seg002:2460		    pop	    word_D10
seg002:2464		    mov	    ah,	30h
seg002:2466		    int	    21h		    ; DOS - GET	DOS VERSION
seg002:2466					    ; Return: AL = major version number	(00h for DOS 1.x)
seg002:2468		    mov	    word_CEE, ax
seg002:246B		    mov	    dx,	1
seg002:246E		    cmp	    al,	2
seg002:2470		    jz	    short loc_406B
seg002:2472		    mov	    es,	word_CEC
seg002:2476		    assume es:nothing
seg002:2476		    mov	    es,	word ptr es:2Ch
seg002:247B		    mov	    word ptr dword_CF8+2, es
seg002:247F		    xor	    ax,	ax
seg002:2481		    cwd
seg002:2482		    mov	    cx,	8000h
seg002:2485		    xor	    di,	di
seg002:2487
seg002:2487 loc_4057:				    ; CODE XREF: sub_4030+2Aj
seg002:2487		    repne scasb
seg002:2489		    scasb
seg002:248A		    jnz	    short loc_4057
seg002:248C		    inc	    di
seg002:248D		    inc	    di
seg002:248E		    mov	    word ptr dword_CF8,	di
seg002:2492		    mov	    cx,	0FFFFh
seg002:2495		    repne scasb
seg002:2497		    not	    cx
seg002:2499		    mov	    dx,	cx
seg002:249B
seg002:249B loc_406B:				    ; CODE XREF: sub_4030+10j
seg002:249B		    mov	    di,	1
seg002:249E		    mov	    si,	81h ; ''
seg002:24A1		    mov	    ds,	word_CEC
seg002:24A5		    assume ds:nothing
seg002:24A5
seg002:24A5 loc_4075:				    ; CODE XREF: sub_4030+48j
seg002:24A5					    ; sub_4030+4Cj ...
seg002:24A5		    lodsb
seg002:24A6		    cmp	    al,	20h ; ' '
seg002:24A8		    jz	    short loc_4075
seg002:24AA		    cmp	    al,	9
seg002:24AC		    jz	    short loc_4075
seg002:24AE		    cmp	    al,	0Dh
seg002:24B0		    jz	    short loc_40F1
seg002:24B2		    or	    al,	al
seg002:24B4		    jz	    short loc_40F1
seg002:24B6		    inc	    di
seg002:24B7
seg002:24B7 loc_4087:				    ; CODE XREF: sub_4030+82j
seg002:24B7		    dec	    si
seg002:24B8
seg002:24B8 loc_4088:				    ; CODE XREF: sub_4030+72j
seg002:24B8					    ; sub_4030+8Cj ...
seg002:24B8		    lodsb
seg002:24B9		    cmp	    al,	20h ; ' '
seg002:24BB		    jz	    short loc_4075
seg002:24BD		    cmp	    al,	9
seg002:24BF		    jz	    short loc_4075
seg002:24C1		    cmp	    al,	0Dh
seg002:24C3		    jz	    short loc_40F1
seg002:24C5		    or	    al,	al
seg002:24C7		    jz	    short loc_40F1
seg002:24C9		    cmp	    al,	22h ; '"'
seg002:24CB		    jz	    short loc_40C1
seg002:24CD		    cmp	    al,	5Ch ; '\'
seg002:24CF		    jz	    short loc_40A4
seg002:24D1		    inc	    dx
seg002:24D2		    jmp	    short loc_4088
seg002:24D4 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:24D4
seg002:24D4 loc_40A4:				    ; CODE XREF: sub_4030+6Fj
seg002:24D4		    xor	    cx,	cx
seg002:24D6
seg002:24D6 loc_40A6:				    ; CODE XREF: sub_4030+7Aj
seg002:24D6		    inc	    cx
seg002:24D7		    lodsb
seg002:24D8		    cmp	    al,	5Ch ; '\'
seg002:24DA		    jz	    short loc_40A6
seg002:24DC		    cmp	    al,	22h ; '"'
seg002:24DE		    jz	    short loc_40B4
seg002:24E0		    add	    dx,	cx
seg002:24E2		    jmp	    short loc_4087
seg002:24E4 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:24E4
seg002:24E4 loc_40B4:				    ; CODE XREF: sub_4030+7Ej
seg002:24E4		    mov	    ax,	cx
seg002:24E6		    shr	    cx,	1
seg002:24E8		    adc	    dx,	cx
seg002:24EA		    test    al,	1
seg002:24EC		    jnz	    short loc_4088
seg002:24EE		    jmp	    short loc_40C1
seg002:24F0 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:24F0
seg002:24F0 loc_40C0:				    ; CODE XREF: sub_4030+B3j
seg002:24F0		    dec	    si
seg002:24F1
seg002:24F1 loc_40C1:				    ; CODE XREF: sub_4030+6Bj
seg002:24F1					    ; sub_4030+8Ej ...
seg002:24F1		    lodsb
seg002:24F2		    cmp	    al,	0Dh
seg002:24F4		    jz	    short loc_40F1
seg002:24F6		    or	    al,	al
seg002:24F8		    jz	    short loc_40F1
seg002:24FA		    cmp	    al,	22h ; '"'
seg002:24FC		    jz	    short loc_4088
seg002:24FE		    cmp	    al,	5Ch ; '\'
seg002:2500		    jz	    short loc_40D5
seg002:2502		    inc	    dx
seg002:2503		    jmp	    short loc_40C1
seg002:2505 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2505
seg002:2505 loc_40D5:				    ; CODE XREF: sub_4030+A0j
seg002:2505		    xor	    cx,	cx
seg002:2507
seg002:2507 loc_40D7:				    ; CODE XREF: sub_4030+ABj
seg002:2507		    inc	    cx
seg002:2508		    lodsb
seg002:2509		    cmp	    al,	5Ch ; '\'
seg002:250B		    jz	    short loc_40D7
seg002:250D		    cmp	    al,	22h ; '"'
seg002:250F		    jz	    short loc_40E5
seg002:2511		    add	    dx,	cx
seg002:2513		    jmp	    short loc_40C0
seg002:2515 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2515
seg002:2515 loc_40E5:				    ; CODE XREF: sub_4030+AFj
seg002:2515		    mov	    ax,	cx
seg002:2517		    shr	    cx,	1
seg002:2519		    adc	    dx,	cx
seg002:251B		    test    al,	1
seg002:251D		    jnz	    short loc_40C1
seg002:251F		    jmp	    short loc_4088
seg002:2521 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2521
seg002:2521 loc_40F1:				    ; CODE XREF: sub_4030+50j
seg002:2521					    ; sub_4030+54j ...
seg002:2521		    push    ss
seg002:2522		    pop	    ds
seg002:2523		    assume ds:seg000
seg002:2523		    mov	    word_CF2, di
seg002:2527		    add	    dx,	di
seg002:2529		    inc	    di
seg002:252A		    shl	    di,	1
seg002:252C		    add	    dx,	di
seg002:252E		    inc	    dx
seg002:252F		    and	    dl,	0FEh
seg002:2532		    sub	    sp,	dx
seg002:2534		    mov	    ax,	sp
seg002:2536		    mov	    word_CF4, ax
seg002:2539		    mov	    bx,	ax
seg002:253B		    add	    di,	bx
seg002:253D		    push    ss
seg002:253E		    pop	    es
seg002:253F		    assume es:seg000
seg002:253F		    mov	    ss:[bx], di
seg002:2542		    inc	    bx
seg002:2543		    inc	    bx
seg002:2544		    lds	    si,	dword_CF8
seg002:2548		    assume ds:nothing
seg002:2548
seg002:2548 loc_4118:				    ; CODE XREF: sub_4030+ECj
seg002:2548		    lodsb
seg002:2549		    stosb
seg002:254A		    or	    al,	al
seg002:254C		    jnz	    short loc_4118
seg002:254E		    mov	    ds,	ss:word_CEC
seg002:2553		    mov	    si,	81h ; ''
seg002:2556		    jmp	    short loc_412B
seg002:2558 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2558
seg002:2558 loc_4128:				    ; CODE XREF: sub_4030+115j
seg002:2558					    ; sub_4030+119j
seg002:2558		    xor	    ax,	ax
seg002:255A		    stosb
seg002:255B
seg002:255B loc_412B:				    ; CODE XREF: sub_4030+F6j
seg002:255B					    ; sub_4030+FEj ...
seg002:255B		    lodsb
seg002:255C		    cmp	    al,	20h ; ' '
seg002:255E		    jz	    short loc_412B
seg002:2560		    cmp	    al,	9
seg002:2562		    jz	    short loc_412B
seg002:2564		    cmp	    al,	0Dh
seg002:2566		    jz	    short loc_41B4
seg002:2568		    or	    al,	al
seg002:256A		    jz	    short loc_41B4
seg002:256C		    mov	    ss:[bx], di
seg002:256F		    inc	    bx
seg002:2570		    inc	    bx
seg002:2571
seg002:2571 loc_4141:				    ; CODE XREF: sub_4030+13Ej
seg002:2571		    dec	    si
seg002:2572
seg002:2572 loc_4142:				    ; CODE XREF: sub_4030+12Cj
seg002:2572					    ; sub_4030+14Bj ...
seg002:2572		    lodsb
seg002:2573		    cmp	    al,	20h ; ' '
seg002:2575		    jz	    short loc_4128
seg002:2577		    cmp	    al,	9
seg002:2579		    jz	    short loc_4128
seg002:257B		    cmp	    al,	0Dh
seg002:257D		    jz	    short loc_41B1
seg002:257F		    or	    al,	al
seg002:2581		    jz	    short loc_41B1
seg002:2583		    cmp	    al,	22h ; '"'
seg002:2585		    jz	    short loc_417E
seg002:2587		    cmp	    al,	5Ch ; '\'
seg002:2589		    jz	    short loc_415E
seg002:258B		    stosb
seg002:258C		    jmp	    short loc_4142
seg002:258E ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:258E
seg002:258E loc_415E:				    ; CODE XREF: sub_4030+129j
seg002:258E		    xor	    cx,	cx
seg002:2590
seg002:2590 loc_4160:				    ; CODE XREF: sub_4030+134j
seg002:2590		    inc	    cx
seg002:2591		    lodsb
seg002:2592		    cmp	    al,	5Ch ; '\'
seg002:2594		    jz	    short loc_4160
seg002:2596		    cmp	    al,	22h ; '"'
seg002:2598		    jz	    short loc_4170
seg002:259A		    mov	    al,	5Ch ; '\'
seg002:259C		    rep	stosb
seg002:259E		    jmp	    short loc_4141
seg002:25A0 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:25A0
seg002:25A0 loc_4170:				    ; CODE XREF: sub_4030+138j
seg002:25A0		    mov	    al,	5Ch ; '\'
seg002:25A2		    shr	    cx,	1
seg002:25A4		    rep	stosb
seg002:25A6		    jnb	    short loc_417E
seg002:25A8		    mov	    al,	22h ; '"'
seg002:25AA		    stosb
seg002:25AB		    jmp	    short loc_4142
seg002:25AD ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:25AD
seg002:25AD loc_417D:				    ; CODE XREF: sub_4030+172j
seg002:25AD		    dec	    si
seg002:25AE
seg002:25AE loc_417E:				    ; CODE XREF: sub_4030+125j
seg002:25AE					    ; sub_4030+146j ...
seg002:25AE		    lodsb
seg002:25AF		    cmp	    al,	0Dh
seg002:25B1		    jz	    short loc_41B1
seg002:25B3		    or	    al,	al
seg002:25B5		    jz	    short loc_41B1
seg002:25B7		    cmp	    al,	22h ; '"'
seg002:25B9		    jz	    short loc_4142
seg002:25BB		    cmp	    al,	5Ch ; '\'
seg002:25BD		    jz	    short loc_4192
seg002:25BF		    stosb
seg002:25C0		    jmp	    short loc_417E
seg002:25C2 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:25C2
seg002:25C2 loc_4192:				    ; CODE XREF: sub_4030+15Dj
seg002:25C2		    xor	    cx,	cx
seg002:25C4
seg002:25C4 loc_4194:				    ; CODE XREF: sub_4030+168j
seg002:25C4		    inc	    cx
seg002:25C5		    lodsb
seg002:25C6		    cmp	    al,	5Ch ; '\'
seg002:25C8		    jz	    short loc_4194
seg002:25CA		    cmp	    al,	22h ; '"'
seg002:25CC		    jz	    short loc_41A4
seg002:25CE		    mov	    al,	5Ch ; '\'
seg002:25D0		    rep	stosb
seg002:25D2		    jmp	    short loc_417D
seg002:25D4 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:25D4
seg002:25D4 loc_41A4:				    ; CODE XREF: sub_4030+16Cj
seg002:25D4		    mov	    al,	5Ch ; '\'
seg002:25D6		    shr	    cx,	1
seg002:25D8		    rep	stosb
seg002:25DA		    jnb	    short loc_4142
seg002:25DC		    mov	    al,	22h ; '"'
seg002:25DE		    stosb
seg002:25DF		    jmp	    short loc_417E
seg002:25E1 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:25E1
seg002:25E1 loc_41B1:				    ; CODE XREF: sub_4030+11Dj
seg002:25E1					    ; sub_4030+121j ...
seg002:25E1		    xor	    ax,	ax
seg002:25E3		    stosb
seg002:25E4
seg002:25E4 loc_41B4:				    ; CODE XREF: sub_4030+106j
seg002:25E4					    ; sub_4030+10Aj
seg002:25E4		    push    ss
seg002:25E5		    pop	    ds
seg002:25E6		    assume ds:seg000
seg002:25E6		    mov	    word ptr [bx], 0
seg002:25EA		    jmp	    word_D10
seg002:25EA sub_4030	    endp
seg002:25EA
seg002:25EE
seg002:25EE ;  S	U B R O	U T I N	E 
seg002:25EE
seg002:25EE ; Attributes: bp-based frame
seg002:25EE
seg002:25EE sub_41BE	    proc near		    ; CODE XREF: sub_3474+Dp
seg002:25EE					    ; sub_3E7D+92p ...
seg002:25EE
seg002:25EE arg_0	    = word ptr	4
seg002:25EE arg_2	    = word ptr	6
seg002:25EE
seg002:25EE		    push    bp
seg002:25EF		    mov	    bp,	sp
seg002:25F1		    mov	    dx,	di
seg002:25F3		    mov	    bx,	si
seg002:25F5		    mov	    si,	[bp+arg_2]
seg002:25F8		    mov	    di,	si
seg002:25FA		    mov	    ax,	ds
seg002:25FC		    mov	    es,	ax
seg002:25FE		    xor	    ax,	ax
seg002:2600		    mov	    cx,	0FFFFh
seg002:2603		    repne scasb
seg002:2605		    not	    cx
seg002:2607		    mov	    di,	[bp+arg_0]
seg002:260A		    mov	    ax,	di
seg002:260C		    test    al,	1
seg002:260E		    jz	    short loc_41E2
seg002:2610		    movsb
seg002:2611		    dec	    cx
seg002:2612
seg002:2612 loc_41E2:				    ; CODE XREF: sub_41BE+20j
seg002:2612		    shr	    cx,	1
seg002:2614		    rep	movsw
seg002:2616		    adc	    cx,	cx
seg002:2618		    rep	movsb
seg002:261A		    mov	    si,	bx
seg002:261C		    mov	    di,	dx
seg002:261E		    pop	    bp
seg002:261F		    retn
seg002:261F sub_41BE	    endp
seg002:261F
seg002:2620
seg002:2620 ;  S	U B R O	U T I N	E 
seg002:2620
seg002:2620 ; Attributes: bp-based frame
seg002:2620
seg002:2620 sub_41F0	    proc near		    ; CODE XREF: sub_3067+7p
seg002:2620					    ; sub_348A+7p ...
seg002:2620
seg002:2620 arg_0	    = word ptr	4
seg002:2620
seg002:2620		    push    bp
seg002:2621		    mov	    bp,	sp
seg002:2623		    mov	    dx,	di
seg002:2625		    mov	    ax,	ds
seg002:2627		    mov	    es,	ax
seg002:2629		    mov	    di,	[bp+arg_0]
seg002:262C		    xor	    ax,	ax
seg002:262E		    mov	    cx,	0FFFFh
seg002:2631		    repne scasb
seg002:2633		    not	    cx
seg002:2635		    dec	    cx
seg002:2636		    xchg    ax,	cx
seg002:2637		    mov	    di,	dx
seg002:2639		    pop	    bp
seg002:263A		    retn
seg002:263A sub_41F0	    endp
seg002:263A
seg002:263A ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:263B		    align 2
seg002:263C
seg002:263C ;  S	U B R O	U T I N	E 
seg002:263C
seg002:263C ; Attributes: bp-based frame
seg002:263C
seg002:263C sub_420C	    proc near		    ; CODE XREF: sub_38E1+86p
seg002:263C					    ; sub_38E1+C7p
seg002:263C
seg002:263C var_10	    = dword ptr	-10h
seg002:263C var_C	    = word ptr -0Ch
seg002:263C var_A	    = byte ptr -0Ah
seg002:263C var_9	    = byte ptr -9
seg002:263C var_8	    = byte ptr -8
seg002:263C arg_0	    = word ptr	4
seg002:263C arg_2	    = word ptr	6
seg002:263C arg_4	    = word ptr	8
seg002:263C arg_6	    = word ptr	0Ah
seg002:263C
seg002:263C		    push    bp
seg002:263D		    mov	    bp,	sp
seg002:263F		    push    si
seg002:2640		    push    di
seg002:2641		    push    ds
seg002:2642		    sub	    sp,	0Ah
seg002:2645		    mov	    byte ptr [bp+var_C], 0CDh ;	'อ'
seg002:2649		    mov	    ax,	[bp+arg_0]
seg002:264C		    mov	    byte ptr [bp+var_C+1], al
seg002:264F		    cmp	    al,	25h ; '%'
seg002:2651		    jz	    short loc_422D
seg002:2653		    cmp	    al,	26h ; '&'
seg002:2655		    jz	    short loc_422D
seg002:2657		    mov	    [bp+var_A],	0CBh ; 'ห'
seg002:265B		    jmp	    short loc_4239
seg002:265D ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:265D
seg002:265D loc_422D:				    ; CODE XREF: sub_420C+15j
seg002:265D					    ; sub_420C+19j
seg002:265D		    mov	    [bp+var_8],	0CBh ; 'ห'
seg002:2661		    mov	    [bp+var_9],	44h ; 'D'
seg002:2665		    mov	    [bp+var_A],	44h ; 'D'
seg002:2669
seg002:2669 loc_4239:				    ; CODE XREF: sub_420C+1Fj
seg002:2669		    mov	    word ptr [bp+var_10+2], ss
seg002:266C		    lea	    ax,	[bp+var_C]
seg002:266F		    mov	    word ptr [bp+var_10], ax
seg002:2672		    mov	    di,	[bp+arg_2]
seg002:2675		    mov	    ax,	[di]
seg002:2677		    mov	    bx,	[di+2]
seg002:267A		    mov	    cx,	[di+4]
seg002:267D		    mov	    dx,	[di+6]
seg002:2680		    mov	    si,	[di+8]
seg002:2683		    push    word ptr [di+0Ah]
seg002:2686		    mov	    di,	[bp+arg_6]
seg002:2689		    mov	    es,	word ptr [di]
seg002:268B		    assume es:nothing
seg002:268B		    mov	    ds,	word ptr [di+6]
seg002:268E		    assume ds:nothing
seg002:268E		    pop	    di
seg002:268F		    push    bp
seg002:2690		    call    [bp+var_10]
seg002:2693		    pop	    bp
seg002:2694		    cld
seg002:2695		    push    di
seg002:2696		    push    ds
seg002:2697		    push    ss
seg002:2698		    pop	    ds
seg002:2699		    assume ds:seg000
seg002:2699		    mov	    di,	[bp+arg_6]
seg002:269C		    mov	    word ptr [di], es
seg002:269E		    pop	    word ptr [di+6]
seg002:26A1		    mov	    di,	[bp+arg_4]
seg002:26A4		    mov	    [di], ax
seg002:26A6		    mov	    [di+2], bx
seg002:26A9		    mov	    [di+4], cx
seg002:26AC		    mov	    [di+6], dx
seg002:26AF		    mov	    [di+8], si
seg002:26B2		    pop	    word ptr [di+0Ah]
seg002:26B5		    jb	    short loc_428B
seg002:26B7		    xor	    si,	si
seg002:26B9		    jmp	    short loc_4293
seg002:26BB ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:26BB
seg002:26BB loc_428B:				    ; CODE XREF: sub_420C+79j
seg002:26BB		    call    sub_43AE
seg002:26BE		    mov	    si,	1
seg002:26C1		    mov	    ax,	[di]
seg002:26C3
seg002:26C3 loc_4293:				    ; CODE XREF: sub_420C+7Dj
seg002:26C3		    mov	    [di+0Ch], si
seg002:26C6		    add	    sp,	0Ah
seg002:26C9		    pop	    ds
seg002:26CA		    assume ds:nothing
seg002:26CA		    pop	    di
seg002:26CB		    pop	    si
seg002:26CC		    mov	    sp,	bp
seg002:26CE		    pop	    bp
seg002:26CF		    retn
seg002:26CF sub_420C	    endp
seg002:26CF
seg002:26D0
seg002:26D0 ;  S	U B R O	U T I N	E 
seg002:26D0
seg002:26D0 ; Attributes: bp-based frame
seg002:26D0
seg002:26D0 sub_42A0	    proc near		    ; CODE XREF: sub_3FD4+15p
seg002:26D0					    ; sub_552C+13p ...
seg002:26D0
seg002:26D0 arg_0	    = word ptr	4
seg002:26D0 arg_2	    = word ptr	6
seg002:26D0
seg002:26D0		    push    bp
seg002:26D1		    mov	    bp,	sp
seg002:26D3		    push    si
seg002:26D4		    push    di
seg002:26D5		    mov	    di,	[bp+arg_0]
seg002:26D8		    mov	    ax,	[di]
seg002:26DA		    mov	    bx,	[di+2]
seg002:26DD		    mov	    cx,	[di+4]
seg002:26E0		    mov	    dx,	[di+6]
seg002:26E3		    mov	    si,	[di+8]
seg002:26E6		    mov	    di,	[di+0Ah]
seg002:26E9		    int	    21h		    ; DOS -
seg002:26EB		    push    di
seg002:26EC		    mov	    di,	[bp+arg_2]
seg002:26EF		    mov	    [di], ax
seg002:26F1		    mov	    [di+2], bx
seg002:26F4		    mov	    [di+4], cx
seg002:26F7		    mov	    [di+6], dx
seg002:26FA		    mov	    [di+8], si
seg002:26FD		    pop	    word ptr [di+0Ah]
seg002:2700		    jb	    short loc_42D6
seg002:2702		    xor	    si,	si
seg002:2704		    jmp	    short loc_42DE
seg002:2706 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2706
seg002:2706 loc_42D6:				    ; CODE XREF: sub_42A0+30j
seg002:2706		    call    sub_43AE
seg002:2709		    mov	    si,	1
seg002:270C		    mov	    ax,	[di]
seg002:270E
seg002:270E loc_42DE:				    ; CODE XREF: sub_42A0+34j
seg002:270E		    mov	    [di+0Ch], si
seg002:2711		    pop	    di
seg002:2712		    pop	    si
seg002:2713		    mov	    sp,	bp
seg002:2715		    pop	    bp
seg002:2716		    retn
seg002:2716 sub_42A0	    endp
seg002:2716
seg002:2716 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2717		    align 2
seg002:2718
seg002:2718 ;  S	U B R O	U T I N	E 
seg002:2718
seg002:2718 ; Attributes: bp-based frame
seg002:2718
seg002:2718 sub_42E8	    proc near		    ; CODE XREF: sub_3656+25p
seg002:2718					    ; sub_4A99+1Ep ...
seg002:2718
seg002:2718 arg_0	    = word ptr	4
seg002:2718 arg_2	    = word ptr	6
seg002:2718 arg_4	    = word ptr	8
seg002:2718
seg002:2718		    push    bp
seg002:2719		    mov	    bp,	sp
seg002:271B		    push    si
seg002:271C		    push    di
seg002:271D		    mov	    di,	[bp+arg_0]
seg002:2720		    mov	    ax,	[di]
seg002:2722		    mov	    bx,	[di+2]
seg002:2725		    mov	    cx,	[di+4]
seg002:2728		    mov	    dx,	[di+6]
seg002:272B		    mov	    si,	[di+8]
seg002:272E		    push    word ptr [di+0Ah]
seg002:2731		    mov	    di,	[bp+arg_4]
seg002:2734		    mov	    es,	word ptr [di]
seg002:2736		    mov	    ds,	word ptr [di+6]
seg002:2739		    pop	    di
seg002:273A		    int	    21h		    ; DOS -
seg002:273C		    push    di
seg002:273D		    push    ds
seg002:273E		    mov	    di,	ss
seg002:2740		    mov	    ds,	di
seg002:2742		    assume ds:seg000
seg002:2742		    mov	    di,	[bp+arg_4]
seg002:2745		    mov	    word ptr [di], es
seg002:2747		    pop	    word ptr [di+6]
seg002:274A		    mov	    di,	[bp+arg_2]
seg002:274D		    mov	    [di], ax
seg002:274F		    mov	    [di+2], bx
seg002:2752		    mov	    [di+4], cx
seg002:2755		    mov	    [di+6], dx
seg002:2758		    mov	    [di+8], si
seg002:275B		    pop	    word ptr [di+0Ah]
seg002:275E		    jb	    short loc_4334
seg002:2760		    xor	    si,	si
seg002:2762		    jmp	    short loc_433C
seg002:2764 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2764
seg002:2764 loc_4334:				    ; CODE XREF: sub_42E8+46j
seg002:2764		    call    sub_43AE
seg002:2767		    mov	    si,	1
seg002:276A		    mov	    ax,	[di]
seg002:276C
seg002:276C loc_433C:				    ; CODE XREF: sub_42E8+4Aj
seg002:276C		    mov	    [di+0Ch], si
seg002:276F		    pop	    di
seg002:2770		    pop	    si
seg002:2771		    mov	    sp,	bp
seg002:2773		    pop	    bp
seg002:2774		    retn
seg002:2774 sub_42E8	    endp
seg002:2774
seg002:2774 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2775		    align 2
seg002:2776
seg002:2776 ;  S	U B R O	U T I N	E 
seg002:2776
seg002:2776 ; Attributes: bp-based frame
seg002:2776
seg002:2776 sub_4346	    proc near		    ; CODE XREF: sub_38E1+18p
seg002:2776					    ; sub_5414+43p
seg002:2776
seg002:2776 arg_0	    = word ptr	4
seg002:2776 arg_2	    = byte ptr	6
seg002:2776 arg_4	    = word ptr	8
seg002:2776
seg002:2776		    push    bp
seg002:2777		    mov	    bp,	sp
seg002:2779		    mov	    dx,	di
seg002:277B		    mov	    ax,	ds
seg002:277D		    mov	    es,	ax
seg002:277F		    assume es:seg000
seg002:277F		    mov	    di,	[bp+arg_0]
seg002:2782		    mov	    bx,	di
seg002:2784		    mov	    cx,	[bp+arg_4]
seg002:2787		    jcxz    short loc_436E
seg002:2789		    mov	    al,	[bp+arg_2]
seg002:278C		    mov	    ah,	al
seg002:278E		    test    di,	1
seg002:2792		    jz	    short loc_4366
seg002:2794		    stosb
seg002:2795		    dec	    cx
seg002:2796
seg002:2796 loc_4366:				    ; CODE XREF: sub_4346+1Cj
seg002:2796		    shr	    cx,	1
seg002:2798		    rep	stosw
seg002:279A		    adc	    cx,	cx
seg002:279C		    rep	stosb
seg002:279E
seg002:279E loc_436E:				    ; CODE XREF: sub_4346+11j
seg002:279E		    mov	    di,	dx
seg002:27A0		    xchg    ax,	bx
seg002:27A1		    pop	    bp
seg002:27A2		    retn
seg002:27A2 sub_4346	    endp
seg002:27A2
seg002:27A2 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:27A3		    align 2
seg002:27A4
seg002:27A4 ;  S	U B R O	U T I N	E 
seg002:27A4
seg002:27A4
seg002:27A4 sub_4374	    proc near		    ; CODE XREF: sub_356A+Cp
seg002:27A4					    ; sub_356A+8Ap ...
seg002:27A4		    xor	    ch,	ch
seg002:27A6		    jcxz    short locret_437E
seg002:27A8
seg002:27A8 loc_4378:				    ; CODE XREF: sub_4374+8j
seg002:27A8		    shl	    ax,	1
seg002:27AA		    rcl	    dx,	1
seg002:27AC		    loop    loc_4378
seg002:27AE
seg002:27AE locret_437E:			    ; CODE XREF: sub_4374+2j
seg002:27AE		    retn
seg002:27AE sub_4374	    endp
seg002:27AE
seg002:27AE ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:27AF		    align 2
seg002:27B0
seg002:27B0 ;  S	U B R O	U T I N	E 
seg002:27B0
seg002:27B0
seg002:27B0 sub_4380	    proc near		    ; CODE XREF: sub_3688+48p
seg002:27B0					    ; sub_36DA+113p ...
seg002:27B0		    xor	    ch,	ch
seg002:27B2		    jcxz    short locret_438A
seg002:27B4
seg002:27B4 loc_4384:				    ; CODE XREF: sub_4380+8j
seg002:27B4		    sar	    dx,	1
seg002:27B6		    rcr	    ax,	1
seg002:27B8		    loop    loc_4384
seg002:27BA
seg002:27BA locret_438A:			    ; CODE XREF: sub_4380+2j
seg002:27BA		    retn
seg002:27BA sub_4380	    endp
seg002:27BA
seg002:27BA ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:27BB		    align 2
seg002:27BC		    jb	    short loc_43A3
seg002:27BE
seg002:27BE loc_438E:				    ; CODE XREF: seg002:27C4j
seg002:27BE		    xor	    ax,	ax
seg002:27C0		    mov	    sp,	bp
seg002:27C2		    pop	    bp
seg002:27C3		    retn
seg002:27C4 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:27C4		    jnb	    short loc_438E
seg002:27C6		    push    ax
seg002:27C7		    call    sub_43B4
seg002:27CA		    pop	    ax
seg002:27CB		    xor	    ah,	ah
seg002:27CD		    mov	    sp,	bp
seg002:27CF		    pop	    bp
seg002:27D0		    retn
seg002:27D1 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:27D1		    jnb	    short loc_43AA
seg002:27D3
seg002:27D3 loc_43A3:				    ; CODE XREF: seg002:27BCj
seg002:27D3		    call    sub_43B4
seg002:27D6		    mov	    ax,	0FFFFh
seg002:27D9		    cwd
seg002:27DA
seg002:27DA loc_43AA:				    ; CODE XREF: seg002:27D1j
seg002:27DA		    mov	    sp,	bp
seg002:27DC		    pop	    bp
seg002:27DD		    retn
seg002:27DE
seg002:27DE ;  S	U B R O	U T I N	E 
seg002:27DE
seg002:27DE
seg002:27DE sub_43AE	    proc near		    ; CODE XREF: sub_420C:loc_428Bp
seg002:27DE					    ; sub_42A0:loc_42D6p ...
seg002:27DE		    xor	    ah,	ah
seg002:27E0		    call    sub_43B4
seg002:27E3		    retn
seg002:27E3 sub_43AE	    endp
seg002:27E3
seg002:27E4
seg002:27E4 ;  S	U B R O	U T I N	E 
seg002:27E4
seg002:27E4
seg002:27E4 sub_43B4	    proc near		    ; CODE XREF: seg002:27C7p
seg002:27E4					    ; seg002:loc_43A3p	...
seg002:27E4		    mov	    byte_CF0, al
seg002:27E7		    or	    ah,	ah
seg002:27E9		    jnz	    short loc_43DD
seg002:27EB		    cmp	    byte ptr word_CEE, 3
seg002:27F0		    jb	    short loc_43CE
seg002:27F2		    cmp	    al,	22h ; '"'
seg002:27F4		    jnb	    short loc_43D2
seg002:27F6		    cmp	    al,	20h ; ' '
seg002:27F8		    jb	    short loc_43CE
seg002:27FA		    mov	    al,	5
seg002:27FC		    jmp	    short loc_43D4
seg002:27FE ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:27FE
seg002:27FE loc_43CE:				    ; CODE XREF: sub_43B4+Cj
seg002:27FE					    ; sub_43B4+14j
seg002:27FE		    cmp	    al,	13h
seg002:2800		    jbe	    short loc_43D4
seg002:2802
seg002:2802 loc_43D2:				    ; CODE XREF: sub_43B4+10j
seg002:2802		    mov	    al,	13h
seg002:2804
seg002:2804 loc_43D4:				    ; CODE XREF: sub_43B4+18j
seg002:2804					    ; sub_43B4+1Cj
seg002:2804		    mov	    bx,	0D12h
seg002:2807		    xlat
seg002:2808
seg002:2808 loc_43D8:				    ; CODE XREF: sub_43B4+2Bj
seg002:2808		    cbw
seg002:2809		    mov	    word_CE8, ax
seg002:280C		    retn
seg002:280D ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:280D
seg002:280D loc_43DD:				    ; CODE XREF: sub_43B4+5j
seg002:280D		    mov	    al,	ah
seg002:280F		    jmp	    short loc_43D8
seg002:280F sub_43B4	    endp
seg002:280F
seg002:280F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2811		    align 10h
seg002:2820		    sub	    fs:[si+28h], cl
seg002:2824		    mov	    word ptr byte_D60+6, gs
seg002:2828		    mov	    word ptr byte_D60+4, fs
seg002:282C		    mov	    fs,	word ptr byte_D60
seg002:2830		    mov	    gs,	word ptr byte_D60+2
seg002:2834		    xor	    ax,	ax
seg002:2836		    cmp	    byte_35, al
seg002:283A		    jnz	    short loc_440F
seg002:283C		    call    sub_27B9
seg002:283F
seg002:283F loc_440F:				    ; CODE XREF: seg002:283Aj
seg002:283F		    cmp	    byte_11F0, 0
seg002:2844		    jnz	    short locret_441B
seg002:2846		    mov	    cl,	9
seg002:2848		    jmp	    loc_2492
seg002:284B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:284B
seg002:284B locret_441B:			    ; CODE XREF: seg002:2844j
seg002:284B		    retn
seg002:284C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:284C
seg002:284C loc_441C:				    ; CODE XREF: seg002:041Bj
seg002:284C					    ; seg002:049Ej ...
seg002:284C		    push    bx
seg002:284D		    mov	    bx,	ss
seg002:284F		    and	    bl,	0F8h
seg002:2852		    push    8
seg002:2854		    pop	    es
seg002:2855		    assume es:nothing
seg002:2855		    mov	    ax,	0FFFFh
seg002:2858		    cli
seg002:2859		    xchg    ax,	es:[bx]
seg002:285C		    mov	    ss,	bx
seg002:285E		    assume ss:nothing
seg002:285E		    xchg    ax,	es:[bx]
seg002:2861		    pop	    bx
seg002:2862		    jmp	    short loc_443B
seg002:2864 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2864		    push    ax
seg002:2865		    push    bx
seg002:2866		    mov	    bx,	seg_9B4
seg002:286A		    cli
seg002:286B
seg002:286B loc_443B:				    ; CODE XREF: seg002:2862j
seg002:286B		    cmp	    byte_11F0, 0
seg002:2870		    jnz	    short loc_444C
seg002:2872		    mov	    al,	0Fh
seg002:2874		    out	    70h, al	    ; CMOS Memory:
seg002:2874					    ; shutdown status byte
seg002:2876		    jmp	    short $+2
seg002:2878		    xor	    al,	al
seg002:287A		    out	    71h, al	    ; CMOS Memory:
seg002:287A					    ; used by real-time	clock
seg002:287C
seg002:287C loc_444C:				    ; CODE XREF: seg002:2870j
seg002:287C		    mov	    ax,	ds
seg002:287E		    mov	    es,	ax
seg002:2880		    assume es:seg000
seg002:2880		    mov	    word ptr byte_D60+2, gs
seg002:2884		    mov	    word ptr byte_D60, fs
seg002:2888		    mov	    fs,	ax
seg002:288A		    assume fs:seg000
seg002:288A		    mov	    gs,	ax
seg002:288C		    assume gs:seg000
seg002:288C		    push    eax
seg002:288E		    push    cx
seg002:288E ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:288F		    db 0Fh, 20h, 0C0h, 0C6h, 6,	0FEh, 0Dh, 0, 66h, 0Fh,	0BAh
seg002:288F		    db 0F0h, 1Fh, 0Fh, 83h, 0Ah, 0, 0C6h, 6, 0FEh, 0Dh,	1
seg002:288F		    db 0Fh, 0, 0Eh, 0FCh, 0Dh, 8Bh, 0Eh, 40h, 0, 0F7h, 0D1h
seg002:288F		    db 23h, 0C1h, 59h, 0Fh, 22h, 0C0h, 0EAh, 0BBh, 28h
seg002:28B9		    dw seg seg002
seg002:28BB ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:28BB		    mov	    ss,	bx
seg002:28BD		    assume ss:seg000
seg002:28BD		    mov	    ds,	cs:seg_1BD0
seg002:28C2		    assume ds:nothing
seg002:28C2		    mov	    gs,	ds:0D66h
seg002:28C6		    assume gs:nothing
seg002:28C6		    mov	    fs,	word ptr ds:0D64h
seg002:28CA		    assume fs:nothing
seg002:28CA		    lidt    fword ptr ds:0DDCh
seg002:28CF		    pop	    eax
seg002:28D1		    cmp	    word ptr ds:35h, 8000h
seg002:28D7		    jnz	    short loc_44CE
seg002:28D9		    cmp	    byte ptr ds:11F0h, 0
seg002:28DE		    jnz	    short loc_44D8
seg002:28E0		    xor	    ax,	ax
seg002:28E2		    mov	    es,	ax
seg002:28E4		    mov	    ax,	ds:0F56h
seg002:28E7		    mov	    es:word_467, ax
seg002:28EB		    mov	    ax,	ds:0F58h
seg002:28EE		    mov	    es:word_469, ax
seg002:28F2		    mov	    es,	bx
seg002:28F4		    assume es:nothing
seg002:28F4		    cmp	    byte ptr ds:2Eh, 2
seg002:28F9		    jz	    short loc_44D1
seg002:28FB
seg002:28FB loc_44CB:				    ; CODE XREF: seg002:loc_270Cj
seg002:28FB		    call    sub_27CB
seg002:28FE
seg002:28FE loc_44CE:				    ; CODE XREF: seg002:28D7j
seg002:28FE					    ; seg002:2906j ...
seg002:28FE		    pop	    bx
seg002:28FF		    pop	    ax
seg002:2900		    retn
seg002:2901 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2901
seg002:2901 loc_44D1:				    ; CODE XREF: seg002:28F9j
seg002:2901		    xor	    ah,	ah
seg002:2903		    call    sub_2793
seg002:2906		    jmp	    short loc_44CE
seg002:2908 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2908
seg002:2908 loc_44D8:				    ; CODE XREF: seg002:28DEj
seg002:2908		    cmp	    byte ptr ds:2Eh, 5
seg002:290D		    jz	    short loc_44F7
seg002:290F		    cmp	    byte ptr ds:2Eh, 0Eh
seg002:2914		    jz	    short loc_44FF
seg002:2916		    cmp	    byte ptr ds:2Eh, 0Fh
seg002:291B		    jz	    short loc_451A
seg002:291D		    cmp	    byte ptr ds:2Eh, 1
seg002:2922		    jz	    short loc_4527
seg002:2924		    pop	    bx
seg002:2925		    pop	    ax
seg002:2926		    retn
seg002:2927 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2927
seg002:2927 loc_44F7:				    ; CODE XREF: seg002:290Dj
seg002:2927		    mov	    es,	bx
seg002:2929		    mov	    al,	80h ; ''
seg002:292B		    out	    20h, al	    ; Interrupt	controller, 8259A.
seg002:292D		    jmp	    short loc_44CE
seg002:292F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:292F
seg002:292F loc_44FF:				    ; CODE XREF: seg002:2914j
seg002:292F		    mov	    al,	0FFh
seg002:2931		    out	    0F2h, al
seg002:2933		    pushf
seg002:2934		    cli
seg002:2935		    push    dx
seg002:2936		    mov	    dx,	140h
seg002:2939		    mov	    al,	1
seg002:293B		    out	    dx,	al
seg002:293C		    dec	    al
seg002:293E		    out	    dx,	al
seg002:293F		    pop	    dx
seg002:2940		    popf
seg002:2941		    push    cx
seg002:2942		    mov	    cx,	0FA0h
seg002:2945
seg002:2945 loc_4515:				    ; CODE XREF: seg002:loc_4515j
seg002:2945		    loop    loc_4515
seg002:2947		    pop	    cx
seg002:2948		    jmp	    short loc_44CE
seg002:294A ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:294A
seg002:294A loc_451A:				    ; CODE XREF: seg002:291Bj
seg002:294A		    push    dx
seg002:294B		    mov	    dx,	404h
seg002:294E		    in	    al,	dx
seg002:294F		    and	    al,	0F9h
seg002:2951		    jmp	    short $+2
seg002:2953		    out	    dx,	al
seg002:2954		    pop	    dx
seg002:2955		    jmp	    short loc_44CE
seg002:2957 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2957
seg002:2957 loc_4527:				    ; CODE XREF: seg002:2922j
seg002:2957		    mov	    al,	3
seg002:2959		    out	    0F6h, al
seg002:295B		    jmp	    short loc_44CE
seg002:295B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:295D		    db 66h, 50h, 0Fh, 20h, 0C0h, 0A1h, 88h, 2 dup(0Fh),	22h
seg002:295D		    db 0C0h, 66h, 58h, 5Bh, 58h, 0C3h, 8Eh, 26h, 60h, 0Dh
seg002:295D		    db 8Eh, 2Eh, 62h, 0Dh, 0E9h, 3Dh, 0D9h, 80h, 3Eh, 0FEh
seg002:295D		    db 0Dh, 1, 0Fh, 85h, 34h, 0, 66h, 50h, 0Fh,	20h, 0C0h
seg002:295D		    db 66h, 0Dh, 3 dup(0), 80h,	0Fh, 22h, 0C0h,	0A1h, 0FCh
seg002:295D		    db 0Dh, 0Bh, 0C0h, 0Fh, 84h, 1Bh, 0, 53h, 8Bh, 1Eh,	0FCh
seg002:295D		    db 0Dh, 0B8h, 8, 0,	8Eh, 0D8h, 0C6h, 47h, 5, 89h, 8Bh
seg002:295D		    db 0C3h, 0BBh, 20h,	0, 8Eh,	0DBh, 5Bh, 0Fh,	0, 0D8h
seg002:29B1 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:29B1
seg002:29B1 loc_4581:				    ; CODE XREF: seg002:1E63J
seg002:29B1		    clts
seg002:29B3		    pop	    eax
seg002:29B5		    jmp	    near ptr byte_1EF0+17h
seg002:29B5 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:29B8		    db 5Ah, 2Ah, 60h, 2Ah, 93h,	58h, 8Ch, 2Eh, 66h, 0Dh, 8Ch
seg002:29B8		    db 26h, 64h, 0Dh, 66h, 0A3h, 6Ch, 0Dh, 66h,	89h, 36h, 68h
seg002:29B8		    db 0Dh, 8Bh, 0CCh, 66h, 0A1h, 0C8h,	8, 66h,	0A3h, 4Eh
seg002:29B8		    db 0Dh, 0A0h, 0CCh,	8, 8Ah,	26h, 0CFh, 8, 0A3h, 52h, 0Dh
seg002:29B8		    db 0A1h, 0D2h, 8, 0A3h, 56h, 0Dh, 0A0h, 0D4h, 8, 0A2h
seg002:29B8		    db 58h, 0Dh, 0C7h, 6, 0FEh,	8, 80h,	0, 0C6h, 6, 1Dh, 9
seg002:29B8		    db 2 dup(89h), 26h,	78h, 0Dh, 89h, 26h, 0B0h, 0Dh, 66h
seg002:29B8		    db 8Bh, 36h, 34h, 0Dh, 0A1h, 70h, 0Dh, 0A3h, 5Eh, 0Dh
seg002:29B8		    db 33h, 0C0h, 8Eh, 0E0h, 8Eh, 0E8h,	0B8h, 0Ch, 0DEh, 0CDh
seg002:29B8		    db 67h, 8Bh, 0E1h, 0B9h, 20h, 0, 8Eh, 0D9h,	0F6h, 6, 47h
seg002:29B8		    db 0, 20h, 75h, 13h, 66h, 0A1h, 6Ch, 0Dh, 66h, 8Bh,	36h
seg002:29B8		    db 68h, 0Dh, 8Eh, 26h, 60h,	0Dh, 8Eh, 2Eh, 62h, 0Dh, 0FFh
seg002:29B8		    db 0E3h, 66h, 8Bh, 36h, 0E4h, 0Dh, 0B8h, 38h, 0, 8Eh, 0E0h
seg002:29B8		    db 66h, 97h, 0C4h, 3Eh, 0E8h, 0Dh, 66h, 0Fh, 0B7h, 0FFh
seg002:29B8		    db 0FCh, 67h, 66h, 64h, 0A5h, 67h, 66h, 64h, 0A5h, 66h
seg002:29B8		    db 97h, 0EBh, 0CCh,	50h, 53h, 8Bh, 1Eh, 0B4h, 9, 0FAh
seg002:29B8		    db 66h, 50h, 66h, 52h, 66h,	51h, 66h, 56h, 0Fh, 1, 0E1h
seg002:29B8		    db 0A1h, 40h, 0, 0F7h, 0D0h, 23h, 0C1h, 0Fh, 1, 0F0h, 0A1h
seg002:29B8		    db 70h, 0Dh, 0A3h, 5Eh, 0Dh, 66h, 0Fh, 0B7h, 0Eh, 0B4h
seg002:29B8		    db 9, 66h, 8Bh, 0D4h, 8Ch, 2Eh, 62h, 0Dh, 8Ch, 26h,	60h
seg002:29B8		    db 0Dh, 66h, 33h, 0C0h, 8Eh, 0E0h, 8Eh, 0E8h, 50h, 0Fh
seg002:29B8		    db 0A8h, 50h, 0Fh, 0A0h, 66h, 51h, 66h, 51h, 50h, 53h
seg002:29B8		    db 66h, 52h, 66h, 2	dup(50h), 0FFh,	36h, 0B6h, 9, 50h
seg002:29B8		    db 68h, 0C4h, 2Ah, 0B8h, 20h, 0, 8Eh, 0C0h,	0B8h, 38h
seg002:29B8		    db 0, 8Eh, 0D8h, 0B8h, 0Ch,	0DEh, 66h, 0Fh,	0B7h, 0E4h
seg002:29B8		    db 66h, 26h, 0FFh, 1Eh, 5Ah, 0Dh, 26h, 8Eh,	2Eh, 66h, 0Dh
seg002:29B8		    db 26h, 8Eh, 26h, 64h, 0Dh,	66h, 5Eh, 66h, 59h, 66h, 5Ah
seg002:29B8		    db 66h, 58h, 5Bh, 58h, 0C3h
seg002:2AD9 word_46A9	    dw 0		    ; DATA XREF: sub_46ABr
seg002:2AD9					    ; sub_92AB+5Ew
seg002:2ADB
seg002:2ADB ;  S	U B R O	U T I N	E 
seg002:2ADB
seg002:2ADB
seg002:2ADB sub_46AB	    proc near		    ; CODE XREF: sub_47C3+2p
seg002:2ADB					    ; sub_92AB+69p ...
seg002:2ADB		    mov	    dx,	cs:word_46A9
seg002:2AE0		    or	    dx,	dx
seg002:2AE2		    jz	    short locret_46B8
seg002:2AE4		    mov	    ah,	45h ; 'E'
seg002:2AE6		    int	    67h		    ;  - LIM EMS - RELEASE HANDLE AND MEMORY
seg002:2AE6					    ; DX = EMM handle
seg002:2AE6					    ; Return: AH = status
seg002:2AE8
seg002:2AE8 locret_46B8:			    ; CODE XREF: sub_46AB+7j
seg002:2AE8		    retn
seg002:2AE8 sub_46AB	    endp
seg002:2AE8
seg002:2AE9 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2AE9		    pop	    bp
seg002:2AEA		    retn
seg002:2AEB
seg002:2AEB ;  S	U B R O	U T I N	E 
seg002:2AEB
seg002:2AEB
seg002:2AEB sub_46BB	    proc far		    ; CODE XREF: seg002:2B68p
seg002:2AEB		    cli
seg002:2AEC		    push    38h	; '8'
seg002:2AEE		    pop	    es
seg002:2AEF		    assume es:nothing, fs:seg000, gs:seg000
seg002:2AEF		    movzx   esi, word ptr ds:0AAh
seg002:2AF5		    add	    si,	100h
seg002:2AF9		    shl	    esi, 4
seg002:2AFD		    cmp	    byte ptr ds:0DFFh, 0
seg002:2B02		    jz	    short loc_46DA
seg002:2B04		    mov	    esi, 3FF000h
seg002:2B0A
seg002:2B0A loc_46DA:				    ; CODE XREF: sub_46BB+17j
seg002:2B0A		    xor	    cx,	cx
seg002:2B0C		    mov	    fs,	cx
seg002:2B0E		    mov	    gs,	cx
seg002:2B10		    retf
seg002:2B10 sub_46BB	    endp
seg002:2B10
seg002:2B11
seg002:2B11 ;  S	U B R O	U T I N	E 
seg002:2B11
seg002:2B11
seg002:2B11 sub_46E1	    proc near		    ; CODE XREF: seg002:2BC9p
seg002:2B11		    push    cx
seg002:2B12		    and	    dx,	0F000h
seg002:2B16		    mov	    cx,	ds:0DEEh
seg002:2B1A		    dec	    cx
seg002:2B1B		    jnz	    short loc_4712
seg002:2B1D		    mov	    ax,	0DE05h
seg002:2B20
seg002:2B20 loc_46F0:				    ; CODE XREF: sub_46E1+34j
seg002:2B20		    call    large [fword ptr ds:0D5Ah]
seg002:2B25		    mov	    ax,	[bp+0Eh]
seg002:2B28
seg002:2B28 loc_46F8:				    ; CODE XREF: sub_46E1+2Dj
seg002:2B28		    and	    es:[edi], ax
seg002:2B2C		    inc	    word ptr ds:0DF8h
seg002:2B30		    sub	    dword ptr ds:0AA8h,	1000h
seg002:2B39		    add	    edi, 4
seg002:2B3D		    dec	    cx
seg002:2B3E		    jns	    short loc_46F8
seg002:2B40		    pop	    cx
seg002:2B41		    retn
seg002:2B42 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2B42
seg002:2B42 loc_4712:				    ; CODE XREF: sub_46E1+Aj
seg002:2B42		    mov	    ax,	0DF01h
seg002:2B45		    jmp	    short loc_46F0
seg002:2B45 sub_46E1	    endp
seg002:2B45
seg002:2B47 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2B47
seg002:2B47 loc_4717:				    ; CODE XREF: sub_47C3+4Dp
seg002:2B47		    push    bp
seg002:2B48		    mov	    bp,	sp
seg002:2B4A		    pushad
seg002:2B4C		    push    fs
seg002:2B4E		    push    gs
seg002:2B50		    push    word ptr ds:0DF8h
seg002:2B54		    test    byte ptr ds:1582h, 1
seg002:2B59		    jnz	    short loc_47AA
seg002:2B5B		    test    byte ptr ds:47h, 80h
seg002:2B60		    jz	    short loc_4737
seg002:2B62		    mov	    ax,	101Bh
seg002:2B65		    int	    15h		    ; TopView -	"BEGINC" - BEGIN CRITICAL REGION
seg002:2B67
seg002:2B67 loc_4737:				    ; CODE XREF: seg002:2B60j
seg002:2B67		    push    cs
seg002:2B68		    call    near ptr sub_46BB
seg002:2B6B		    movsx   ecx, word ptr ds:0DF0h
seg002:2B71		    not	    ecx
seg002:2B74		    movzx   edi, word ptr ds:0ECAh
seg002:2B7A		    shl	    edi, 6
seg002:2B7E		    mov	    edx, [bp+6]
seg002:2B82		    cmp	    edi, edx
seg002:2B85		    ja	    short loc_475A
seg002:2B87		    mov	    edi, edx
seg002:2B8A
seg002:2B8A loc_475A:				    ; CODE XREF: seg002:2B85j
seg002:2B8A		    add	    edi, ecx
seg002:2B8D		    not	    ecx
seg002:2B90		    and	    di,	cx
seg002:2B92		    shr	    edi, 6
seg002:2B96		    and	    ecx, [bp+0Ah]
seg002:2B9A		    shr	    ecx, 6
seg002:2B9E		    add	    edi, esi
seg002:2BA1		    add	    ecx, esi
seg002:2BA4		    mov	    [bp+0Ah], ecx
seg002:2BA8		    jmp	    short loc_477E
seg002:2BAA ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2BAA
seg002:2BAA loc_477A:				    ; CODE XREF: seg002:2BBBj
seg002:2BAA					    ; seg002:2BC7j
seg002:2BAA		    add	    edi, 4
seg002:2BAE
seg002:2BAE loc_477E:				    ; CODE XREF: seg002:2BA8j
seg002:2BAE					    ; seg002:2BCCj
seg002:2BAE		    cmp	    edi, ecx
seg002:2BB1		    jnb	    short loc_479E
seg002:2BB3		    mov	    edx, es:[edi]
seg002:2BB8		    test    dh,	4
seg002:2BBB		    jnz	    short loc_477A
seg002:2BBD		    mov	    ax,	dx
seg002:2BBF		    and	    ax,	ds:0DF2h
seg002:2BC3		    cmp	    ax,	ds:0DF2h
seg002:2BC7		    jnz	    short loc_477A
seg002:2BC9		    call    sub_46E1
seg002:2BCC		    jmp	    short loc_477E
seg002:2BCE ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2BCE
seg002:2BCE loc_479E:				    ; CODE XREF: seg002:2BB1j
seg002:2BCE		    test    byte ptr ds:47h, 80h
seg002:2BD3		    jz	    short loc_47AA
seg002:2BD5		    mov	    ax,	101Ch
seg002:2BD8		    int	    15h		    ; TopView -	"ENDC" - END CRITICAL REGION
seg002:2BDA
seg002:2BDA loc_47AA:				    ; CODE XREF: seg002:2B59j
seg002:2BDA					    ; seg002:2BD3j
seg002:2BDA		    pop	    bx
seg002:2BDB		    mov	    ax,	ds:0DF8h
seg002:2BDE		    sub	    ax,	bx
seg002:2BE0		    mov	    [bp-4], ax	    ; CODE XREF: sub_A2AE+72J
seg002:2BE3		    jz	    short loc_47BB
seg002:2BE3 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2BE5		    db 0Fh, 20h, 0DBh, 0Fh, 22h, 0DBh
seg002:2BEB ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2BEB
seg002:2BEB loc_47BB:				    ; CODE XREF: seg002:2BE3j
seg002:2BEB		    pop	    gs
seg002:2BED		    assume gs:nothing
seg002:2BED		    pop	    fs
seg002:2BEF		    assume fs:nothing
seg002:2BEF		    popad
seg002:2BF1		    pop	    bp
seg002:2BF2		    retf
seg002:2BF3
seg002:2BF3 ;  S	U B R O	U T I N	E 
seg002:2BF3
seg002:2BF3
seg002:2BF3 sub_47C3	    proc near		    ; CODE XREF: sub_1C38+71p
seg002:2BF3		    pushad
seg002:2BF5		    call    sub_46AB
seg002:2BF8		    xor	    cx,	cx
seg002:2BFA		    xchg    cl,	ds:0E00h
seg002:2BFE		    jcxz    short loc_4819
seg002:2C00		    test    byte ptr ds:47h, 80h
seg002:2C05		    jz	    short loc_47F1
seg002:2C07		    les	    bx,	ds:0A0h
seg002:2C0B		    assume es:nothing
seg002:2C0B		    mov	    eax, es:[bx+14h]
seg002:2C10		    mov	    ds:0ACh, eax
seg002:2C14		    mov	    ax,	0BFDEh
seg002:2C17		    mov	    bx,	0Ah
seg002:2C1A		    call    near ptr byte_2AC4
seg002:2C1D		    or	    ax,	ax
seg002:2C1F		    jge	    short loc_4819
seg002:2C21
seg002:2C21 loc_47F1:				    ; CODE XREF: sub_47C3+12j
seg002:2C21		    mov	    word ptr ds:0ECAh, 1000h
seg002:2C27		    sti
seg002:2C28		    push    0F7FFh
seg002:2C2B		    push    large [dword ptr ds:9Ch]
seg002:2C30		    movzx   eax, word ptr ds:0ECAh
seg002:2C36		    shl	    eax, 6
seg002:2C3A		    push    eax
seg002:2C3C		    call    sub_1E60
seg002:2C3F		    push    cs
seg002:2C40		    call    loc_4717
seg002:2C43		    add	    sp,	0Ah
seg002:2C46		    call    sub_24FC
seg002:2C49
seg002:2C49 loc_4819:				    ; CODE XREF: sub_47C3+Bj
seg002:2C49					    ; sub_47C3+2Cj
seg002:2C49		    popad
seg002:2C4B		    retn
seg002:2C4B sub_47C3	    endp ; sp =	-2
seg002:2C4B
seg002:2C4C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2C4C		    xor	    ax,	ax
seg002:2C4E		    xor	    dx,	dx
seg002:2C50		    test    byte ptr ds:1582h, 1
seg002:2C55		    jnz	    short locret_4852
seg002:2C57		    cmp	    byte ptr ds:2Eh, 0Bh
seg002:2C5C		    jnz	    short locret_4852
seg002:2C5E		    mov	    ax,	0DE03h
seg002:2C61		    call    large [fword ptr ds:0D5Ah]
seg002:2C66		    imul    eax, edx, 100h
seg002:2C6D		    sub	    eax, ds:9Ch
seg002:2C72		    add	    eax, ds:0ACh
seg002:2C77		    sub	    eax, 9
seg002:2C7B		    mov	    edx, eax
seg002:2C7E		    shr	    edx, 10h
seg002:2C82
seg002:2C82 locret_4852:			    ; CODE XREF: seg002:2C55j
seg002:2C82					    ; seg002:2C5Cj
seg002:2C82		    retn
seg002:2C82 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2C83		    db 50h, 66h, 9Ch, 66h, 0Eh,	6Ah, 0,	68h, 92h, 2Ch, 0EAh
seg002:2C83		    db 60h, 59h, 70h, 0, 60h, 8Bh, 0ECh, 8Ah, 46h, 11h,	2Ch
seg002:2C83		    db 40h, 3Ch, 0Fh, 77h, 8, 91h, 0B8h, 82h, 0Dh, 0D3h, 0E0h
seg002:2C83		    db 79h, 33h, 1Eh, 6Ah, 20h,	1Fh, 0F6h, 6, 82h, 15h,	1
seg002:2C83		    db 75h, 27h, 8Ch, 0D1h, 8Bh, 0DCh, 81h, 2Eh, 96h, 9, 80h
seg002:2C83		    db 1, 0Fh, 0B2h, 26h, 96h, 9, 83h, 0ECh, 10h, 51h, 53h
seg002:2C83		    db 0E8h, 64h, 0DCh,	0E8h, 3Fh, 0, 0E8h, 0BCh, 0ECh,	81h
seg002:2C83		    db 6, 96h, 9, 80h, 1, 5Bh, 17h, 8Bh, 0E3h, 1Fh, 61h, 2 dup(44h)
seg002:2C83		    db 66h, 0CFh, 66h, 50h, 0Fh, 20h, 0D0h, 1Eh, 6Ah, 20h
seg002:2C83		    db 1Fh, 66h, 0A3h, 30h, 0Dh, 1Fh, 66h, 58h,	0E8h, 0AEh
seg002:2C83		    db 0DFh, 0Eh, 0BFh
seg002:2CF3		    dw seg seg000
seg002:2CF5 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2CF5		    mov	    es,	di
seg002:2CF7		    jmp	    short loc_48D7
seg002:2CF9 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2CF9		    xor	    di,	di
seg002:2CFB		    mov	    ds,	di
seg002:2CFD		    assume ds:seg000
seg002:2CFD		    mov	    di,	seg seg000
seg002:2D00		    mov	    es,	di
seg002:2D02		    assume es:seg000
seg002:2D02		    xchg    di,	cs:seg_1BD0
seg002:2D07
seg002:2D07 loc_48D7:				    ; CODE XREF: seg002:2CF7j
seg002:2D07		    push    0F7Fh
seg002:2D0A
seg002:2D0A ;  S	U B R O	U T I N	E 
seg002:2D0A
seg002:2D0A
seg002:2D0A sub_48DA	    proc near		    ; CODE XREF: seg002:loc_2F03p
seg002:2D0A		    pushad
seg002:2D0C		    push    ds
seg002:2D0D		    push    es
seg002:2D0E		    mov	    ds,	cs:seg_1BD0
seg002:2D13		    assume ds:nothing
seg002:2D13		    test    byte ptr ds:1582h, 1
seg002:2D18		    jnz	    short loc_490B
seg002:2D1A		    cmp	    word ptr ds:0DECh, 602h
seg002:2D20		    jnb	    short loc_490B
seg002:2D22		    mov	    cx,	ds:0AAh
seg002:2D26		    inc	    ch
seg002:2D28		    mov	    es,	cx
seg002:2D2A		    assume es:nothing
seg002:2D2A		    xor	    di,	di
seg002:2D2C		    push    ss
seg002:2D2D		    pop	    ds
seg002:2D2E		    assume ds:seg000
seg002:2D2E		    sub	    sp,	18h
seg002:2D31		    mov	    si,	sp
seg002:2D33		    mov	    ax,	0DE01h
seg002:2D36		    int	    67h		    ;  - LIM EMS Program Interface - GET PROTECTED MODE	INTERFACE
seg002:2D36					    ; ES:DI -> 4K page table buffer
seg002:2D36					    ; DS:SI -> three descriptor	table entries in GDT
seg002:2D36					    ; Return: AH = 00h successful, AH =	nonzero	 failed
seg002:2D38		    add	    sp,	18h
seg002:2D3B
seg002:2D3B loc_490B:				    ; CODE XREF: sub_48DA+Ej
seg002:2D3B					    ; sub_48DA+16j
seg002:2D3B		    pop	    es
seg002:2D3C		    pop	    ds
seg002:2D3D		    assume ds:nothing
seg002:2D3D		    popad
seg002:2D3F		    retn
seg002:2D3F sub_48DA	    endp
seg002:2D3F
seg002:2D40
seg002:2D40 ;  S	U B R O	U T I N	E 
seg002:2D40
seg002:2D40
seg002:2D40 sub_4910	    proc near		    ; CODE XREF: sub_5AA8+60p
seg002:2D40		    sub	    ax,	ax
seg002:2D42		    retn
seg002:2D42 sub_4910	    endp
seg002:2D42
seg002:2D43
seg002:2D43 ;  S	U B R O	U T I N	E 
seg002:2D43
seg002:2D43
seg002:2D43 sub_4913	    proc near		    ; CODE XREF: sub_496C+F9p
seg002:2D43		    mov	    word ptr ds:11D4h, 7
seg002:2D49		    mov	    ax,	15h
seg002:2D4C		    push    ax
seg002:2D4D		    call    sub_3E7D
seg002:2D50		    pop	    bx
seg002:2D51		    retn
seg002:2D51 sub_4913	    endp
seg002:2D51
seg002:2D52
seg002:2D52 ;  S	U B R O	U T I N	E 
seg002:2D52
seg002:2D52
seg002:2D52 sub_4922	    proc near		    ; CODE XREF: seg002:2F5Bp
seg002:2D52					    ; sub_8E60+Dp
seg002:2D52
seg002:2D52 ; FUNCTION CHUNK AT	seg002:6549 SIZE 0000000F BYTES
seg002:2D52
seg002:2D52		    mov	    ax,	1
seg002:2D55		    push    ax
seg002:2D56		    call    sub_8225
seg002:2D59		    pop	    bx
seg002:2D5A		    mov	    ds:1186h, al
seg002:2D5D		    cmp	    byte ptr ds:26h, 0
seg002:2D62		    jz	    short loc_4952
seg002:2D64		    mov	    ax,	0E20h
seg002:2D67		    push    ax
seg002:2D68		    call    sub_3067
seg002:2D6B		    pop	    bx
seg002:2D6C		    mov	    ax,	0AD6h
seg002:2D6F		    push    ax
seg002:2D70		    call    sub_3067
seg002:2D73		    pop	    bx
seg002:2D74		    call    sub_33A8
seg002:2D77		    push    word ptr ds:30h
seg002:2D7B		    call    sub_3067
seg002:2D7E		    pop	    bx
seg002:2D7F		    call    sub_33A8
seg002:2D82
seg002:2D82 loc_4952:				    ; CODE XREF: sub_4922+10j
seg002:2D82		    mov	    word ptr ds:0Eh, 2000h
seg002:2D88		    jmp	    loc_8119
seg002:2D88 sub_4922	    endp
seg002:2D88
seg002:2D8B
seg002:2D8B ;  S	U B R O	U T I N	E 
seg002:2D8B
seg002:2D8B
seg002:2D8B sub_495B	    proc near		    ; CODE XREF: seg002:2F70p
seg002:2D8B					    ; sub_8E60+65p
seg002:2D8B		    mov	    al,	ds:1186h
seg002:2D8E		    cbw
seg002:2D8F		    push    ax
seg002:2D90		    call    sub_8225
seg002:2D93		    pop	    bx
seg002:2D94		    retn
seg002:2D94 sub_495B	    endp
seg002:2D94
seg002:2D95
seg002:2D95 ;  S	U B R O	U T I N	E 
seg002:2D95
seg002:2D95
seg002:2D95 sub_4965	    proc near		    ; CODE XREF: sub_7562+26p
seg002:2D95		    mov	    ax,	0FFFFh
seg002:2D98		    retn
seg002:2D98 sub_4965	    endp
seg002:2D98
seg002:2D99
seg002:2D99 ;  S	U B R O	U T I N	E 
seg002:2D99
seg002:2D99
seg002:2D99 sub_4969	    proc near		    ; CODE XREF: sub_496C+118p
seg002:2D99		    sub	    ax,	ax
seg002:2D9B		    retn
seg002:2D9B sub_4969	    endp
seg002:2D9B
seg002:2D9C
seg002:2D9C ;  S	U B R O	U T I N	E 
seg002:2D9C
seg002:2D9C ; Attributes: bp-based frame
seg002:2D9C
seg002:2D9C sub_496C	    proc near		    ; CODE XREF: start+77p
seg002:2D9C
seg002:2D9C var_A	    = word ptr -0Ah
seg002:2D9C var_8	    = dword ptr	-8
seg002:2D9C var_4	    = dword ptr	-4
seg002:2D9C arg_0	    = word ptr	4
seg002:2D9C arg_2	    = word ptr	6
seg002:2D9C
seg002:2D9C		    push    bp
seg002:2D9D		    mov	    bp,	sp
seg002:2D9F		    sub	    sp,	0Ah
seg002:2DA2		    call    sub_81B1
seg002:2DA5		    mov	    ds:2Fh, al
seg002:2DA8		    mov	    ax,	2
seg002:2DAB		    push    ax
seg002:2DAC		    mov	    ax,	9B8h
seg002:2DAF		    push    ax
seg002:2DB0		    mov	    ax,	2Ch ; ','
seg002:2DB3		    push    ax
seg002:2DB4		    push    word ptr ds:0CECh
seg002:2DB8		    call    sub_82B1
seg002:2DBB		    add	    sp,	8
seg002:2DBE		    mov	    bx,	[bp+arg_2]
seg002:2DC1		    push    word ptr [bx]
seg002:2DC3		    call    sub_34ED
seg002:2DC6		    pop	    bx
seg002:2DC7		    mov	    ax,	0E4Eh
seg002:2DCA		    push    ax
seg002:2DCB		    mov	    ax,	1190h
seg002:2DCE		    push    ax
seg002:2DCF		    call    sub_7D1A
seg002:2DD2		    pop	    bx
seg002:2DD3		    pop	    bx
seg002:2DD4		    or	    ax,	ax
seg002:2DD6		    jnz	    short loc_49BC
seg002:2DD8		    mov	    ax,	0E56h
seg002:2DDB		    push    ax
seg002:2DDC		    mov	    ax,	1190h
seg002:2DDF		    push    ax
seg002:2DE0		    call    sub_7D1A
seg002:2DE3		    pop	    bx
seg002:2DE4		    pop	    bx
seg002:2DE5		    or	    ax,	ax
seg002:2DE7		    jnz	    short loc_49BC
seg002:2DE9		    jmp	    loc_4A50
seg002:2DEC ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2DEC
seg002:2DEC loc_49BC:				    ; CODE XREF: sub_496C+3Aj
seg002:2DEC					    ; sub_496C+4Bj
seg002:2DEC		    cmp	    [bp+arg_0],	1
seg002:2DF0		    jg	    short loc_49C5
seg002:2DF2		    jmp	    loc_4A50
seg002:2DF5 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2DF5
seg002:2DF5 loc_49C5:				    ; CODE XREF: sub_496C+54j
seg002:2DF5		    mov	    bx,	[bp+arg_2]
seg002:2DF8		    push    word ptr [bx+2]
seg002:2DFB		    call    sub_34ED
seg002:2DFE		    pop	    bx
seg002:2DFF		    mov	    ax,	0E62h
seg002:2E02		    push    ax
seg002:2E03		    call    sub_348A
seg002:2E06		    pop	    bx
seg002:2E07		    mov	    ax,	80h ; ''
seg002:2E0A		    mov	    dx,	ds:0CECh
seg002:2E0E		    mov	    word ptr [bp+var_8], ax
seg002:2E11		    mov	    word ptr [bp+var_8+2], dx
seg002:2E14		    mov	    es,	dx
seg002:2E16		    mov	    bx,	ax
seg002:2E18		    mov	    cl,	es:[bx]
seg002:2E1B		    sub	    ch,	ch
seg002:2E1D		    mov	    [bp+var_A],	cx
seg002:2E20		    inc	    ax
seg002:2E21		    mov	    word ptr [bp+var_4], ax
seg002:2E24		    mov	    word ptr [bp+var_4+2], dx
seg002:2E27		    jmp	    short loc_4A01
seg002:2E29 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2E29
seg002:2E29 loc_49F9:				    ; CODE XREF: sub_496C+A4j
seg002:2E29		    dec	    [bp+var_A]
seg002:2E2C		    js	    short loc_4A1C
seg002:2E2E		    inc	    word ptr [bp+var_4]
seg002:2E31
seg002:2E31 loc_4A01:				    ; CODE XREF: sub_496C+8Bj
seg002:2E31		    les	    bx,	[bp+var_4]
seg002:2E34		    mov	    al,	es:[bx]
seg002:2E37		    sub	    ah,	ah
seg002:2E39		    push    ax
seg002:2E3A		    call    sub_4B4F
seg002:2E3D		    pop	    bx
seg002:2E3E		    or	    ax,	ax
seg002:2E40		    jnz	    short loc_49F9
seg002:2E42		    jmp	    short loc_4A1C
seg002:2E44 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2E44
seg002:2E44 loc_4A14:				    ; CODE XREF: sub_496C+BFj
seg002:2E44		    dec	    [bp+var_A]
seg002:2E47		    js	    short loc_4A2D
seg002:2E49		    inc	    word ptr [bp+var_4]
seg002:2E4C
seg002:2E4C loc_4A1C:				    ; CODE XREF: sub_496C+90j
seg002:2E4C					    ; sub_496C+A6j
seg002:2E4C		    les	    bx,	[bp+var_4]
seg002:2E4F		    mov	    al,	es:[bx]
seg002:2E52		    sub	    ah,	ah
seg002:2E54		    push    ax
seg002:2E55		    call    sub_4B4F
seg002:2E58		    pop	    bx
seg002:2E59		    or	    ax,	ax
seg002:2E5B		    jz	    short loc_4A14
seg002:2E5D
seg002:2E5D loc_4A2D:				    ; CODE XREF: sub_496C+ABj
seg002:2E5D		    mov	    al,	byte ptr [bp+var_A]
seg002:2E60		    les	    bx,	[bp+var_8]
seg002:2E63		    mov	    es:[bx], al
seg002:2E66
seg002:2E66 loc_4A36:				    ; CODE XREF: sub_496C+DFj
seg002:2E66		    les	    bx,	[bp+var_4]
seg002:2E69		    inc	    word ptr [bp+var_4]
seg002:2E6C		    mov	    al,	es:[bx]
seg002:2E6F		    inc	    word ptr [bp+var_8]
seg002:2E72		    les	    bx,	[bp+var_8]
seg002:2E75		    mov	    es:[bx], al
seg002:2E78		    dec	    [bp+var_A]
seg002:2E7B		    jns	    short loc_4A36
seg002:2E7D		    call    nullsub_4
seg002:2E80
seg002:2E80 loc_4A50:				    ; CODE XREF: sub_496C+4Dj
seg002:2E80					    ; sub_496C+56j
seg002:2E80		    call    sub_7562
seg002:2E83		    mov	    ax,	0E67h
seg002:2E86		    push    ax
seg002:2E87		    mov	    bx,	[bp+arg_2]
seg002:2E8A		    push    word ptr [bx]
seg002:2E8C		    call    sub_7BF8
seg002:2E8F		    pop	    bx
seg002:2E90		    pop	    bx
seg002:2E91		    or	    ax,	ax
seg002:2E93		    jnz	    short loc_4A6B
seg002:2E95		    call    sub_4913
seg002:2E98		    call    sub_7562
seg002:2E9B
seg002:2E9B loc_4A6B:				    ; CODE XREF: sub_496C+F7j
seg002:2E9B		    cmp	    byte ptr ds:2Fh, 3
seg002:2EA0		    jge	    short loc_4A7A
seg002:2EA2		    mov	    ax,	0Fh
seg002:2EA5		    push    ax
seg002:2EA6		    call    sub_3E7D
seg002:2EA9		    pop	    bx
seg002:2EAA
seg002:2EAA loc_4A7A:				    ; CODE XREF: sub_496C+104j
seg002:2EAA		    call    sub_5AA8
seg002:2EAD		    cmp	    byte ptr ds:2Fh, 3
seg002:2EB2		    jl	    short loc_4A92
seg002:2EB4		    call    sub_4969
seg002:2EB7		    push    ax
seg002:2EB8		    mov	    bx,	[bp+arg_2]
seg002:2EBB		    push    word ptr [bx]
seg002:2EBD		    call    sub_85FD
seg002:2EC0		    pop	    bx
seg002:2EC1		    pop	    bx
seg002:2EC2
seg002:2EC2 loc_4A92:				    ; CODE XREF: sub_496C+116j
seg002:2EC2		    call    sub_7E4F
seg002:2EC5		    mov	    sp,	bp
seg002:2EC7		    pop	    bp
seg002:2EC8		    retn
seg002:2EC8 sub_496C	    endp
seg002:2EC8
seg002:2EC9
seg002:2EC9 ;  S	U B R O	U T I N	E 
seg002:2EC9
seg002:2EC9 ; Attributes: bp-based frame
seg002:2EC9
seg002:2EC9 sub_4A99	    proc near		    ; CODE XREF: sub_F184-C4AEp
seg002:2EC9					    ; seg002:2F76p
seg002:2EC9
seg002:2EC9 var_18	    = word ptr -18h
seg002:2EC9 var_16	    = word ptr -16h
seg002:2EC9 var_10	    = word ptr -10h
seg002:2EC9 var_D	    = byte ptr -0Dh
seg002:2EC9 var_8	    = word ptr -8
seg002:2EC9 arg_0	    = word ptr	4
seg002:2EC9
seg002:2EC9		    push    bp
seg002:2ECA		    mov	    bp,	sp
seg002:2ECC		    sub	    sp,	18h
seg002:2ECF		    mov	    [bp+var_D],	1Ah
seg002:2ED3		    mov	    [bp+var_8],	80h ; ''
seg002:2ED8		    mov	    ax,	ds:0CECh
seg002:2EDB		    mov	    [bp+var_10], ax
seg002:2EDE		    lea	    ax,	[bp+var_16]
seg002:2EE1		    push    ax
seg002:2EE2		    lea	    ax,	[bp-0Eh]
seg002:2EE5		    push    ax
seg002:2EE6		    push    ax
seg002:2EE7		    call    sub_42E8
seg002:2EEA		    add	    sp,	6
seg002:2EED		    cmp	    byte ptr ds:0E6Ah, 0
seg002:2EF2		    jnz	    short loc_4B18
seg002:2EF4		    cmp	    byte ptr ds:980h, 1
seg002:2EF9		    jz	    short loc_4AD5
seg002:2EFB		    cmp	    byte ptr ds:980h, 3
seg002:2F00		    jz	    short loc_4AD5
seg002:2F02		    call    sub_74B6
seg002:2F05
seg002:2F05 loc_4AD5:				    ; CODE XREF: sub_4A99+30j
seg002:2F05					    ; sub_4A99+37j
seg002:2F05		    mov	    [bp+var_18], 2D40h
seg002:2F0A		    cmp	    byte ptr ds:2Eh, 0Bh
seg002:2F0F		    jz	    short loc_4AED
seg002:2F11		    test    byte ptr ds:47h, 80h
seg002:2F16		    jnz	    short loc_4AED
seg002:2F18		    mov	    [bp+var_18], 29BCh
seg002:2F1D
seg002:2F1D loc_4AED:				    ; CODE XREF: sub_4A99+46j
seg002:2F1D					    ; sub_4A99+4Dj
seg002:2F1D		    test    byte ptr ds:14h, 8
seg002:2F22		    jz	    short loc_4AF9
seg002:2F24		    mov	    [bp+var_18], 627Fh
seg002:2F29
seg002:2F29 loc_4AF9:				    ; CODE XREF: sub_4A99+59j
seg002:2F29		    cmp	    word ptr ds:0E6Eh, 0
seg002:2F2E		    jz	    short loc_4B09
seg002:2F30		    mov	    ax,	[bp+var_18]
seg002:2F33		    cmp	    ds:0E6Eh, ax
seg002:2F37		    jbe	    short loc_4B18
seg002:2F39
seg002:2F39 loc_4B09:				    ; CODE XREF: sub_4A99+65j
seg002:2F39		    mov	    ax,	[bp+var_18]
seg002:2F3C		    mov	    ds:0E6Eh, ax
seg002:2F3F		    push    ax
seg002:2F40		    push    [bp+arg_0]
seg002:2F43		    call    sub_3A6F
seg002:2F46		    pop	    bx
seg002:2F47		    pop	    bx
seg002:2F48
seg002:2F48 loc_4B18:				    ; CODE XREF: sub_4A99+29j
seg002:2F48					    ; sub_4A99+6Ej
seg002:2F48		    mov	    sp,	bp
seg002:2F4A		    pop	    bp
seg002:2F4B		    retn
seg002:2F4B sub_4A99	    endp
seg002:2F4B
seg002:2F4C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2F4C		    push    bp
seg002:2F4D		    mov	    bp,	sp
seg002:2F4F		    mov	    word ptr ds:97Ah, 20A0h
seg002:2F55		    mov	    word ptr ds:97Eh, 0
seg002:2F5B		    call    sub_4922
seg002:2F5E		    call    sub_7256
seg002:2F61		    mov	    ax,	ds:0CECh
seg002:2F64		    mov	    ds:11E2h, ax
seg002:2F67		    mov	    word ptr ds:11E0h, 80h ; ''
seg002:2F6D		    call    sub_53ED
seg002:2F70		    call    sub_495B
seg002:2F73		    mov	    ax,	bp
seg002:2F75		    push    ax
seg002:2F76		    call    sub_4A99
seg002:2F79		    pop	    bx
seg002:2F7A		    mov	    sp,	bp
seg002:2F7C		    pop	    bp
seg002:2F7D		    retn
seg002:2F7E ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2F7E		    retn
seg002:2F7F
seg002:2F7F ;  S	U B R O	U T I N	E 
seg002:2F7F
seg002:2F7F ; Attributes: bp-based frame
seg002:2F7F
seg002:2F7F sub_4B4F	    proc near		    ; CODE XREF: sub_496C+9Ep
seg002:2F7F					    ; sub_496C+B9p
seg002:2F7F
seg002:2F7F arg_0	    = word ptr	4
seg002:2F7F
seg002:2F7F		    push    bp
seg002:2F80		    mov	    bp,	sp
seg002:2F82		    cmp	    [bp+arg_0],	20h ; ' '
seg002:2F86		    jz	    short loc_4B6A
seg002:2F88		    cmp	    [bp+arg_0],	9
seg002:2F8C		    jz	    short loc_4B6A
seg002:2F8E		    cmp	    [bp+arg_0],	0Ah
seg002:2F92		    jz	    short loc_4B6A
seg002:2F94		    cmp	    [bp+arg_0],	0Dh
seg002:2F98		    jnz	    short loc_4B6F
seg002:2F9A
seg002:2F9A loc_4B6A:				    ; CODE XREF: sub_4B4F+7j
seg002:2F9A					    ; sub_4B4F+Dj ...
seg002:2F9A		    mov	    ax,	1
seg002:2F9D		    pop	    bp
seg002:2F9E		    retn
seg002:2F9F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2F9F
seg002:2F9F loc_4B6F:				    ; CODE XREF: sub_4B4F+19j
seg002:2F9F		    sub	    ax,	ax
seg002:2FA1		    pop	    bp
seg002:2FA2		    retn
seg002:2FA2 sub_4B4F	    endp
seg002:2FA2
seg002:2FA3 ; [00000001	BYTES: COLLAPSED FUNCTION nullsub_2. PRESS KEYPAD "+" TO EXPAND]
seg002:2FA4 ; [00000001	BYTES: COLLAPSED FUNCTION nullsub_3. PRESS KEYPAD "+" TO EXPAND]
seg002:2FA5 ; [00000001	BYTES: COLLAPSED FUNCTION nullsub_4. PRESS KEYPAD "+" TO EXPAND]
seg002:2FA6
seg002:2FA6 ;  S	U B R O	U T I N	E 
seg002:2FA6
seg002:2FA6 ; Attributes: bp-based frame
seg002:2FA6
seg002:2FA6 sub_4B76	    proc near		    ; CODE XREF: sub_4B97+13p
seg002:2FA6					    ; sub_4B97+3Bp
seg002:2FA6
seg002:2FA6 arg_0	    = word ptr	4
seg002:2FA6 arg_2	    = word ptr	6
seg002:2FA6
seg002:2FA6		    push    bp
seg002:2FA7		    mov	    bp,	sp
seg002:2FA9		    mov	    ax,	ds:97Ch
seg002:2FAC		    cmp	    [bp+arg_0],	ax
seg002:2FAF		    jnb	    short locret_4B95
seg002:2FB1		    push    [bp+arg_2]
seg002:2FB4		    push    0FFFFh
seg002:2FB6		    push    0
seg002:2FB8		    push    [bp+arg_0]
seg002:2FBB		    mov	    ax,	[bp+arg_0]
seg002:2FBE		    shr	    ax,	3
seg002:2FC1		    push    ax
seg002:2FC2		    call    sub_387A
seg002:2FC5
seg002:2FC5 locret_4B95:			    ; CODE XREF: sub_4B76+9j
seg002:2FC5		    leave
seg002:2FC6		    retn
seg002:2FC6 sub_4B76	    endp
seg002:2FC6
seg002:2FC7
seg002:2FC7 ;  S	U B R O	U T I N	E 
seg002:2FC7
seg002:2FC7
seg002:2FC7 sub_4B97	    proc near		    ; CODE XREF: sub_4E96+536p
seg002:2FC7					    ; sub_7256+17Ep
seg002:2FC7		    push    si
seg002:2FC8		    mov	    si,	9F00h
seg002:2FCB		    jmp	    short loc_4BA0
seg002:2FCD ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2FCD
seg002:2FCD loc_4B9D:				    ; CODE XREF: sub_4B97+18j
seg002:2FCD		    add	    si,	40h ; '@'
seg002:2FD0
seg002:2FD0 loc_4BA0:				    ; CODE XREF: sub_4B97+4j
seg002:2FD0		    cmp	    si,	0A000h
seg002:2FD4		    jz	    short loc_4BB5
seg002:2FD6		    push    92h	; ''
seg002:2FD9		    push    si
seg002:2FDA		    call    sub_4B76
seg002:2FDD		    pop	    bx
seg002:2FDE		    pop	    bx
seg002:2FDF		    jmp	    short loc_4B9D
seg002:2FE1 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:2FE1
seg002:2FE1 loc_4BB1:				    ; CODE XREF: sub_4B97+40j
seg002:2FE1		    add	    si,	200h
seg002:2FE5
seg002:2FE5 loc_4BB5:				    ; CODE XREF: sub_4B97+Dj
seg002:2FE5		    or	    si,	si
seg002:2FE7		    jz	    short loc_4BD9
seg002:2FE9		    mov	    cx,	si
seg002:2FEB		    shr	    cx,	0Ch
seg002:2FEE		    mov	    ax,	0D000h
seg002:2FF1		    shr	    ax,	cl
seg002:2FF3		    and	    ax,	1
seg002:2FF6		    cmp	    ax,	1
seg002:2FF9		    sbb	    ax,	ax
seg002:2FFB		    and	    al,	0F8h
seg002:2FFD		    add	    ax,	9Ah ; ''
seg002:3000		    push    ax
seg002:3001		    push    si
seg002:3002		    call    sub_4B76
seg002:3005		    pop	    bx
seg002:3006		    pop	    bx
seg002:3007		    jmp	    short loc_4BB1
seg002:3009 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:3009
seg002:3009 loc_4BD9:				    ; CODE XREF: sub_4B97+20j
seg002:3009		    pop	    si
seg002:300A		    retn
seg002:300A sub_4B97	    endp
seg002:300A
seg002:300B
seg002:300B ;  S	U B R O	U T I N	E 
seg002:300B
seg002:300B ; Attributes: bp-based frame
seg002:300B
seg002:300B sub_4BDB	    proc near		    ; CODE XREF: sub_4C1F+50p
seg002:300B
seg002:300B var_6	    = word ptr -6
seg002:300B var_4	    = word ptr -4
seg002:300B var_2	    = word ptr -2
seg002:300B arg_0	    = word ptr	4
seg002:300B
seg002:300B		    enter   6, 0
seg002:300F		    mov	    bx,	[bp+arg_0]
seg002:3012		    mov	    ax,	[bx+4]
seg002:3015		    sub	    dx,	dx
seg002:3017		    mov	    cl,	9
seg002:3019		    call    sub_4374
seg002:301C		    mov	    [bp+var_4],	ax
seg002:301F		    mov	    [bp+var_2],	dx
seg002:3022		    mov	    [bp+var_6],	0
seg002:3027		    mov	    bx,	[bp+arg_0]
seg002:302A		    cmp	    word ptr [bx+2], 0
seg002:302E		    jz	    short loc_4C17
seg002:3030		    cmp	    byte ptr [bx], 4Dh ; 'M'
seg002:3033		    jnz	    short loc_4C0A
seg002:3035		    mov	    [bp+var_6],	200h
seg002:303A
seg002:303A loc_4C0A:				    ; CODE XREF: sub_4BDB+28j
seg002:303A		    mov	    ax,	[bx+2]
seg002:303D		    sub	    ax,	[bp+var_6]
seg002:3040		    cwd
seg002:3041		    add	    [bp+var_4],	ax
seg002:3044		    adc	    [bp+var_2],	dx
seg002:3047
seg002:3047 loc_4C17:				    ; CODE XREF: sub_4BDB+23j
seg002:3047		    mov	    ax,	[bp+var_4]
seg002:304A		    mov	    dx,	[bp+var_2]
seg002:304D		    leave
seg002:304E		    retn
seg002:304E sub_4BDB	    endp
seg002:304E
seg002:304F
seg002:304F ;  S	U B R O	U T I N	E 
seg002:304F
seg002:304F ; Attributes: bp-based frame
seg002:304F
seg002:304F sub_4C1F	    proc near		    ; CODE XREF: sub_4CA8+44p
seg002:304F					    ; sub_4E96+18p ...
seg002:304F
seg002:304F var_2	    = word ptr -2
seg002:304F arg_0	    = word ptr	4
seg002:304F arg_2	    = word ptr	6
seg002:304F arg_4	    = word ptr	8
seg002:304F
seg002:304F		    enter   2, 0
seg002:3053		    mov	    [bp+var_2],	2
seg002:3058
seg002:3058 loc_4C28:				    ; CODE XREF: sub_4C1F+71j
seg002:3058		    push    word ptr ds:11DCh
seg002:305C		    push    word ptr ds:11DAh
seg002:3060		    call    sub_7B9A
seg002:3063		    pop	    bx
seg002:3064		    pop	    bx
seg002:3065		    push    [bp+arg_4]
seg002:3068		    push    [bp+arg_0]
seg002:306B		    call    sub_7BB2
seg002:306E		    pop	    bx
seg002:306F		    pop	    bx
seg002:3070		    cmp	    ax,	[bp+arg_4]
seg002:3073		    jnz	    short loc_4C92
seg002:3075		    mov	    bx,	[bp+arg_0]
seg002:3078		    cmp	    byte ptr [bx], 4Dh ; 'M'
seg002:307B		    jnz	    short loc_4C63
seg002:307D		    cmp	    byte ptr [bx+1], 46h ; 'F'
seg002:3081		    jnz	    short loc_4C63
seg002:3083		    mov	    ax,	[bx+2]
seg002:3086		    mov	    dx,	[bx+4]
seg002:3089
seg002:3089 loc_4C59:				    ; CODE XREF: sub_4C1F+54j
seg002:3089		    add	    ds:11DAh, ax
seg002:308D		    adc	    ds:11DCh, dx
seg002:3091		    jmp	    short loc_4C8C
seg002:3093 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:3093
seg002:3093 loc_4C63:				    ; CODE XREF: sub_4C1F+2Cj
seg002:3093					    ; sub_4C1F+32j
seg002:3093		    cmp	    byte ptr [bx], 4Dh ; 'M'
seg002:3096		    jnz	    short loc_4C75
seg002:3098		    cmp	    byte ptr [bx+1], 5Ah ; 'Z'
seg002:309C		    jnz	    short loc_4C75
seg002:309E		    push    bx
seg002:309F		    call    sub_4BDB
seg002:30A2		    pop	    bx
seg002:30A3		    jmp	    short loc_4C59
seg002:30A5 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:30A5
seg002:30A5 loc_4C75:				    ; CODE XREF: sub_4C1F+47j
seg002:30A5					    ; sub_4C1F+4Dj
seg002:30A5		    cmp	    byte ptr [bx], 42h ; 'B'
seg002:30A8		    jnz	    short loc_4C85
seg002:30AA		    cmp	    byte ptr [bx+1], 57h ; 'W'
seg002:30AE		    jnz	    short loc_4C85
seg002:30B0		    mov	    ax,	1
seg002:30B3		    leave
seg002:30B4		    retn
seg002:30B5 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:30B5
seg002:30B5 loc_4C85:				    ; CODE XREF: sub_4C1F+59j
seg002:30B5					    ; sub_4C1F+5Fj
seg002:30B5		    mov	    ah,	0Dh
seg002:30B7		    int	    21h		    ; DOS - DISK RESET
seg002:30B9		    dec	    [bp+var_2]
seg002:30BC
seg002:30BC loc_4C8C:				    ; CODE XREF: sub_4C1F+42j
seg002:30BC		    cmp	    [bp+var_2],	0
seg002:30C0		    jge	    short loc_4C28
seg002:30C2
seg002:30C2 loc_4C92:				    ; CODE XREF: sub_4C1F+24j
seg002:30C2		    cmp	    [bp+arg_2],	0
seg002:30C6		    jz	    short loc_4C9E
seg002:30C8		    push    0FFFEh
seg002:30CA		    call    sub_3E7D
seg002:30CD		    pop	    bx
seg002:30CE
seg002:30CE loc_4C9E:				    ; CODE XREF: sub_4C1F+77j
seg002:30CE		    sub	    ax,	ax
seg002:30D0		    mov	    ds:11DCh, ax
seg002:30D3		    mov	    ds:11DAh, ax
seg002:30D6		    leave
seg002:30D7		    retn
seg002:30D7 sub_4C1F	    endp
seg002:30D7
seg002:30D8
seg002:30D8 ;  S	U B R O	U T I N	E 
seg002:30D8
seg002:30D8 ; Attributes: bp-based frame
seg002:30D8
seg002:30D8 sub_4CA8	    proc near		    ; CODE XREF: sub_5AA8+6A6p
seg002:30D8					    ; sub_92AB+9Bp
seg002:30D8
seg002:30D8 var_BA	    = word ptr -0BAh
seg002:30D8 var_B8	    = word ptr -0B8h
seg002:30D8 var_B6	    = word ptr -0B6h
seg002:30D8 var_B4	    = word ptr -0B4h
seg002:30D8 var_B2	    = word ptr -0B2h
seg002:30D8 var_A8	    = word ptr -0A8h
seg002:30D8 var_A6	    = word ptr -0A6h
seg002:30D8 var_96	    = word ptr -96h
seg002:30D8 var_94	    = word ptr -94h
seg002:30D8 var_8C	    = word ptr -8Ch
seg002:30D8 var_8A	    = word ptr -8Ah
seg002:30D8 var_82	    = word ptr -82h
seg002:30D8 var_2	    = word ptr -2
seg002:30D8
seg002:30D8		    enter   0BCh, 0
seg002:30DC		    mov	    al,	ds:0E72h
seg002:30DF		    inc	    byte ptr ds:0E72h
seg002:30E3		    or	    al,	al
seg002:30E5		    jz	    short loc_4CBA
seg002:30E7		    jmp	    locret_4E3A
seg002:30EA ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:30EA
seg002:30EA loc_4CBA:				    ; CODE XREF: sub_4CA8+Dj
seg002:30EA		    cmp	    word ptr ds:0E70h, 0
seg002:30EF		    jge	    short loc_4CC8
seg002:30F1		    push    1190h
seg002:30F4		    call    sub_7B88
seg002:30F7		    pop	    bx
seg002:30F8
seg002:30F8 loc_4CC8:				    ; CODE XREF: sub_4CA8+17j
seg002:30F8		    cmp	    word ptr ds:0E70h, 0
seg002:30FD		    jge	    short loc_4CD2
seg002:30FF		    jmp	    locret_4E3A
seg002:3102 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:3102
seg002:3102 loc_4CD2:				    ; CODE XREF: sub_4CA8+25j
seg002:3102		    sub	    ax,	ax
seg002:3104		    mov	    [bp+var_BA], ax
seg002:3108		    mov	    [bp+var_2],	ax
seg002:310B		    mov	    [bp+var_B8], ax
seg002:310F		    mov	    [bp+var_B6], ax
seg002:3113		    push    0B0h ; 'ฐ'
seg002:3116		    push    ax
seg002:3117		    lea	    ax,	[bp+var_B2]
seg002:311B		    push    ax
seg002:311C		    call    sub_4C1F
seg002:311F		    add	    sp,	6
seg002:3122		    or	    ax,	ax
seg002:3124		    jnz	    short loc_4CF9
seg002:3126		    jmp	    loc_4D83
seg002:3129 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:3129
seg002:3129 loc_4CF9:				    ; CODE XREF: sub_4CA8+4Cj
seg002:3129					    ; sub_4CA8+D8j
seg002:3129		    cmp	    byte ptr [bp+var_B2], 42h ;	'B'
seg002:312E		    jnz	    short loc_4D07
seg002:3130		    cmp	    byte ptr [bp+var_B2+1], 57h	; 'W'
seg002:3135		    jz	    short loc_4D09
seg002:3137
seg002:3137 loc_4D07:				    ; CODE XREF: sub_4CA8+56j
seg002:3137		    jmp	    short loc_4D83
seg002:3139 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:3139
seg002:3139 loc_4D09:				    ; CODE XREF: sub_4CA8+5Dj
seg002:3139		    mov	    ax,	[bp+var_82]
seg002:313D		    or	    ds:14h, ax
seg002:3141		    mov	    ax,	[bp+var_B6]
seg002:3145		    cmp	    [bp+var_A8], ax
seg002:3149		    jbe	    short loc_4D23
seg002:314B		    mov	    ax,	[bp+var_A8]
seg002:314F		    mov	    [bp+var_B6], ax
seg002:3153
seg002:3153 loc_4D23:				    ; CODE XREF: sub_4CA8+71j
seg002:3153		    mov	    ax,	[bp+var_B8]
seg002:3157		    cmp	    [bp+var_A6], ax
seg002:315B		    jbe	    short loc_4D35
seg002:315D		    mov	    ax,	[bp+var_A6]
seg002:3161		    mov	    [bp+var_B8], ax
seg002:3165
seg002:3165 loc_4D35:				    ; CODE XREF: sub_4CA8+83j
seg002:3165		    mov	    ax,	[bp+var_2]
seg002:3168		    cmp	    [bp+var_8A], ax
seg002:316C		    jbe	    short loc_4D45
seg002:316E		    mov	    ax,	[bp+var_8A]
seg002:3172		    mov	    [bp+var_2],	ax
seg002:3175
seg002:3175 loc_4D45:				    ; CODE XREF: sub_4CA8+94j
seg002:3175		    mov	    ax,	[bp+var_BA]
seg002:3179		    cmp	    [bp+var_8C], ax
seg002:317D		    jbe	    short loc_4D57
seg002:317F		    mov	    ax,	[bp+var_8C]
seg002:3183		    mov	    [bp+var_BA], ax
seg002:3187
seg002:3187 loc_4D57:				    ; CODE XREF: sub_4CA8+A5j
seg002:3187		    mov	    ax,	[bp+var_94]
seg002:318B		    or	    ax,	[bp+var_96]
seg002:318F		    jz	    short loc_4D83
seg002:3191		    push    [bp+var_94]
seg002:3195		    push    [bp+var_96]
seg002:3199		    call    sub_7B9A
seg002:319C		    pop	    bx
seg002:319D		    pop	    bx
seg002:319E		    push    0B0h ; 'ฐ'
seg002:31A1		    lea	    ax,	[bp+var_B2]
seg002:31A5		    push    ax
seg002:31A6		    call    sub_7BB2
seg002:31A9		    pop	    bx
seg002:31AA		    pop	    bx
seg002:31AB		    cmp	    ax,	0B0h ; 'ฐ'
seg002:31AE		    jnz	    short loc_4D83
seg002:31B0		    jmp	    loc_4CF9
seg002:31B3 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:31B3
seg002:31B3 loc_4D83:				    ; CODE XREF: sub_4CA8+4Ej
seg002:31B3					    ; sub_4CA8:loc_4D07j ...
seg002:31B3		    cmp	    [bp+var_B6], 0
seg002:31B8		    jz	    short loc_4D97
seg002:31BA		    mov	    ax,	[bp+var_B6]
seg002:31BE		    cmp	    ds:0ECCh, ax
seg002:31C2		    jbe	    short loc_4D97
seg002:31C4		    mov	    ds:120Eh, ax
seg002:31C7
seg002:31C7 loc_4D97:				    ; CODE XREF: sub_4CA8+E0j
seg002:31C7					    ; sub_4CA8+EAj
seg002:31C7		    mov	    ax,	[bp+var_BA]
seg002:31CB		    mov	    [bp+var_B4], ax
seg002:31CF		    or	    ax,	ax
seg002:31D1		    jz	    short loc_4DB4
seg002:31D3		    mov	    byte ptr ds:0A16h, 2
seg002:31D8		    mov	    ax,	[bp+var_2]
seg002:31DB		    cmp	    ds:1206h, ax
seg002:31DF		    jnb	    short loc_4DB4
seg002:31E1		    mov	    ds:1206h, ax
seg002:31E4
seg002:31E4 loc_4DB4:				    ; CODE XREF: sub_4CA8+F9j
seg002:31E4					    ; sub_4CA8+107j
seg002:31E4		    cmp	    byte ptr ds:2Eh, 0
seg002:31E9		    jnz	    short loc_4DCF
seg002:31EB		    mov	    ax,	[bp+var_B8]
seg002:31EF		    mov	    [bp+var_B4], ax
seg002:31F3		    mov	    ax,	[bp+var_2]
seg002:31F6		    cmp	    ds:1206h, ax
seg002:31FA		    jnb	    short loc_4DCF
seg002:31FC		    mov	    ds:1206h, ax
seg002:31FF
seg002:31FF loc_4DCF:				    ; CODE XREF: sub_4CA8+111j
seg002:31FF					    ; sub_4CA8+122j
seg002:31FF		    cmp	    [bp+var_B4], 0
seg002:3204		    jz	    short loc_4DF1
seg002:3206		    cmp	    [bp+var_B4], 7FFFh
seg002:320C		    jz	    short loc_4DF1
seg002:320E		    test    byte ptr ds:11D2h, 1
seg002:3213		    jnz	    short loc_4DF1
seg002:3215		    mov	    ax,	[bp+var_B4]
seg002:3219		    mov	    ds:0ECCh, ax
seg002:321C		    or	    byte ptr ds:11D2h, 1
seg002:3221
seg002:3221 loc_4DF1:				    ; CODE XREF: sub_4CA8+12Cj
seg002:3221					    ; sub_4CA8+134j ...
seg002:3221		    test    byte ptr ds:15h, 20h
seg002:3226		    jz	    short loc_4E1D
seg002:3228		    cmp	    byte ptr ds:2Eh, 0
seg002:322D		    jz	    short loc_4E1D
seg002:322F		    test    byte ptr ds:11D2h, 4
seg002:3234		    jnz	    short loc_4E0C
seg002:3236		    mov	    word ptr ds:0ECEh, 0FFFEh
seg002:323C
seg002:323C loc_4E0C:				    ; CODE XREF: sub_4CA8+15Cj
seg002:323C		    test    byte ptr ds:11D2h, 1
seg002:3241		    jnz	    short loc_4E1D
seg002:3243		    mov	    ax,	ds:0ECEh
seg002:3246		    sub	    ax,	ds:0ECAh
seg002:324A		    mov	    ds:0ECCh, ax
seg002:324D
seg002:324D loc_4E1D:				    ; CODE XREF: sub_4CA8+14Ej
seg002:324D					    ; sub_4CA8+155j ...
seg002:324D		    cmp	    word ptr ds:0ECCh, 3C00h
seg002:3253		    ja	    short loc_4E35
seg002:3255		    cmp	    word ptr ds:0ECAh, 4000h
seg002:325B		    ja	    short loc_4E35
seg002:325D		    cmp	    word ptr ds:0ECEh, 4000h
seg002:3263		    jbe	    short locret_4E3A
seg002:3265
seg002:3265 loc_4E35:				    ; CODE XREF: sub_4CA8+17Bj
seg002:3265					    ; sub_4CA8+183j
seg002:3265		    or	    byte ptr ds:15h, 20h
seg002:326A
seg002:326A locret_4E3A:			    ; CODE XREF: sub_4CA8+Fj
seg002:326A					    ; sub_4CA8+27j ...
seg002:326A		    leave
seg002:326B		    retn
seg002:326B sub_4CA8	    endp
seg002:326B
seg002:326C
seg002:326C ;  S	U B R O	U T I N	E 
seg002:326C
seg002:326C ; Attributes: bp-based frame
seg002:326C
seg002:326C sub_4E3C	    proc near		    ; CODE XREF: sub_4E96+51p
seg002:326C
seg002:326C var_40	    = word ptr -40h
seg002:326C
seg002:326C		    enter   40h, 0
seg002:3270		    mov	    ax,	ds:11DAh
seg002:3273		    mov	    dx,	ds:11DCh
seg002:3277		    add	    ax,	40h ; '@'
seg002:327A		    adc	    dx,	0
seg002:327D		    push    dx
seg002:327E		    push    ax
seg002:327F		    call    sub_7B9A
seg002:3282		    pop	    bx
seg002:3283		    pop	    bx
seg002:3284		    push    40h	; '@'
seg002:3286		    lea	    ax,	[bp+var_40]
seg002:3289		    push    ax
seg002:328A		    call    sub_7BB2
seg002:328D		    pop	    bx
seg002:328E		    pop	    bx
seg002:328F		    push    0E73h
seg002:3292		    lea	    ax,	[bp+var_40]
seg002:3295		    push    ax
seg002:3296		    call    sub_7D1A
seg002:3299		    pop	    bx
seg002:329A		    pop	    bx
seg002:329B		    or	    ax,	ax
seg002:329D		    jnz	    short loc_4E7F
seg002:329F		    push    0E7Bh
seg002:32A2		    lea	    ax,	[bp+var_40]
seg002:32A5		    push    ax
seg002:32A6		    call    sub_7D1A
seg002:32A9		    pop	    bx
seg002:32AA		    pop	    bx
seg002:32AB		    or	    ax,	ax
seg002:32AD		    jz	    short loc_4E92
seg002:32AF
seg002:32AF loc_4E7F:				    ; CODE XREF: sub_4E3C+31j
seg002:32AF		    mov	    ax,	ds:11F4h
seg002:32B2		    mov	    dx,	ds:11F6h
seg002:32B6		    mov	    ds:11DAh, ax
seg002:32B9		    mov	    ds:11DCh, dx
seg002:32BD		    mov	    ax,	1
seg002:32C0		    leave
seg002:32C1		    retn
seg002:32C2 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:32C2
seg002:32C2 loc_4E92:				    ; CODE XREF: sub_4E3C+41j
seg002:32C2		    sub	    ax,	ax
seg002:32C4		    leave
seg002:32C5		    retn
seg002:32C5 sub_4E3C	    endp
seg002:32C5
seg002:32C6
seg002:32C6 ;  S	U B R O	U T I N	E 
seg002:32C6
seg002:32C6 ; Attributes: bp-based frame
seg002:32C6
seg002:32C6 sub_4E96	    proc near		    ; CODE XREF: sub_F184-C4B9p
seg002:32C6					    ; sub_53ED+21p
seg002:32C6
seg002:32C6 var_4A	    = word ptr -4Ah
seg002:32C6 var_48	    = word ptr -48h
seg002:32C6 var_46	    = word ptr -46h
seg002:32C6 var_44	    = word ptr -44h
seg002:32C6 var_42	    = word ptr -42h
seg002:32C6 var_40	    = word ptr -40h
seg002:32C6 var_3E	    = word ptr -3Eh
seg002:32C6 var_3C	    = word ptr -3Ch
seg002:32C6 var_2E	    = word ptr -2Eh
seg002:32C6 var_2C	    = word ptr -2Ch
seg002:32C6 var_2A	    = word ptr -2Ah
seg002:32C6 var_28	    = word ptr -28h
seg002:32C6 var_26	    = word ptr -26h
seg002:32C6 var_24	    = word ptr -24h
seg002:32C6 var_20	    = word ptr -20h
seg002:32C6 var_1E	    = word ptr -1Eh
seg002:32C6 var_1C	    = word ptr -1Ch
seg002:32C6 var_1A	    = word ptr -1Ah
seg002:32C6 var_18	    = word ptr -18h
seg002:32C6 var_16	    = word ptr -16h
seg002:32C6 var_12	    = byte ptr -12h
seg002:32C6 var_E	    = word ptr -0Eh
seg002:32C6 var_C	    = word ptr -0Ch
seg002:32C6 var_A	    = byte ptr -0Ah
seg002:32C6 var_8	    = word ptr -8
seg002:32C6 var_6	    = dword ptr	-6
seg002:32C6 var_2	    = word ptr -2
seg002:32C6 arg_0	    = word ptr	4
seg002:32C6 arg_2	    = word ptr	6
seg002:32C6
seg002:32C6		    enter   4Ah, 0
seg002:32CA		    push    di
seg002:32CB		    push    si
seg002:32CC		    mov	    [bp+var_1E], 0
seg002:32D1		    mov	    [bp+var_44], 0
seg002:32D6
seg002:32D6 loc_4EA6:				    ; CODE XREF: sub_4E96+56j
seg002:32D6		    push    1Ch
seg002:32D8		    push    1
seg002:32DA		    lea	    ax,	[bp+var_3C]
seg002:32DD		    push    ax
seg002:32DE		    call    sub_4C1F
seg002:32E1		    add	    sp,	6
seg002:32E4		    push    4
seg002:32E6		    push    11F4h
seg002:32E9		    call    sub_7BB2
seg002:32EC		    pop	    bx
seg002:32ED		    pop	    bx
seg002:32EE		    add	    word ptr ds:11DAh, 30h ; '0'
seg002:32F3		    adc	    word ptr ds:11DCh, 0
seg002:32F8		    push    word ptr ds:11DCh
seg002:32FC		    push    word ptr ds:11DAh
seg002:3300		    call    sub_7B9A
seg002:3303		    pop	    bx
seg002:3304		    pop	    bx
seg002:3305		    push    10h
seg002:3307		    lea	    ax,	[bp+var_16]
seg002:330A		    push    ax
seg002:330B		    call    sub_7BB2
seg002:330E		    pop	    bx
seg002:330F		    pop	    bx
seg002:3310		    cmp	    byte ptr ds:11F1h, 0
seg002:3315		    jz	    short loc_4EEE
seg002:3317		    call    sub_4E3C
seg002:331A		    or	    ax,	ax
seg002:331C		    jnz	    short loc_4EA6
seg002:331E
seg002:331E loc_4EEE:				    ; CODE XREF: sub_4E96+4Fj
seg002:331E		    cmp	    [bp+var_8],	0
seg002:3322		    jz	    short loc_4F01
seg002:3324		    cmp	    word ptr ds:0Ah, 0
seg002:3329		    jnz	    short loc_4F01
seg002:332B		    mov	    ax,	[bp+var_8]
seg002:332E		    mov	    ds:0Eh, ax
seg002:3331
seg002:3331 loc_4F01:				    ; CODE XREF: sub_4E96+5Cj
seg002:3331					    ; sub_4E96+63j
seg002:3331		    mov	    ax,	[bp+var_E]
seg002:3334		    mov	    [bp+var_3E], ax
seg002:3337		    cmp	    ax,	ds:97Ch
seg002:333B		    jbe	    short loc_4F13
seg002:333D		    add	    ah,	2
seg002:3340		    mov	    ds:97Ch, ax
seg002:3343
seg002:3343 loc_4F13:				    ; CODE XREF: sub_4E96+75j
seg002:3343		    mov	    ax,	ds:97Ch
seg002:3346		    cmp	    [bp+var_3E], ax
seg002:3349		    jbe	    short loc_4F21
seg002:334B		    mov	    word ptr ds:97Ch, 0FFFFh
seg002:3351
seg002:3351 loc_4F21:				    ; CODE XREF: sub_4E96+83j
seg002:3351		    mov	    ax,	[bp+var_C]
seg002:3354		    mov	    ds:11F2h, ax
seg002:3357		    cmp	    ax,	80h ; ''
seg002:335A		    jnb	    short loc_4F32
seg002:335C		    mov	    word ptr ds:11F2h, 80h ; ''
seg002:3362
seg002:3362 loc_4F32:				    ; CODE XREF: sub_4E96+94j
seg002:3362		    cmp	    [bp+arg_0],	0
seg002:3366		    jnz	    short loc_4F4F
seg002:3368		    call    sub_36DA
seg002:336B		    mov	    ax,	[bp+var_24]
seg002:336E		    mov	    ds:97Ch, ax
seg002:3371		    call    sub_5556
seg002:3374		    mov	    al,	[bp+var_A]
seg002:3377		    mov	    ds:980h, al
seg002:337A		    call    sub_7256
seg002:337D		    jmp	    short loc_4F52
seg002:337F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:337F
seg002:337F loc_4F4F:				    ; CODE XREF: sub_4E96+A0j
seg002:337F		    call    sub_5556
seg002:3382
seg002:3382 loc_4F52:				    ; CODE XREF: sub_4E96+B7j
seg002:3382		    cmp	    [bp+arg_0],	0
seg002:3386		    jge	    short loc_4F62
seg002:3388		    mov	    [bp+arg_0],	0
seg002:338D		    and	    byte ptr ds:14h, 0F7h
seg002:3392
seg002:3392 loc_4F62:				    ; CODE XREF: sub_4E96+C0j
seg002:3392		    test    [bp+var_12], 2
seg002:3396		    jz	    short loc_4F72
seg002:3398		    mov	    [bp+arg_0],	0FFFFh
seg002:339D		    or	    byte ptr ds:14h, 8
seg002:33A2
seg002:33A2 loc_4F72:				    ; CODE XREF: sub_4E96+D0j
seg002:33A2		    cmp	    [bp+arg_0],	0
seg002:33A6		    jz	    short loc_4FB9
seg002:33A8		    mov	    ax,	ds:11F2h
seg002:33AB		    neg	    ax
seg002:33AD		    mov	    [bp+var_44], ax
seg002:33B0		    test    [bp+var_12], 1
seg002:33B4		    jz	    short loc_4FAA
seg002:33B6		    mov	    ax,	[bp+var_3E]
seg002:33B9		    inc	    ax
seg002:33BA		    shr	    ax,	3
seg002:33BD		    mul	    [bp+arg_0]
seg002:33C0		    neg	    ax
seg002:33C2		    push    ax
seg002:33C3		    call    sub_579C
seg002:33C6		    pop	    bx
seg002:33C7		    shl	    ax,	3
seg002:33CA		    mov	    ds:11F2h, ax
seg002:33CD		    mov	    bx,	[bp+arg_2]
seg002:33D0		    mov	    [bx+8], ax
seg002:33D3		    or	    ax,	ax
seg002:33D5		    jnz	    short loc_4FAA
seg002:33D7		    jmp	    loc_53E9
seg002:33DA ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:33DA
seg002:33DA loc_4FAA:				    ; CODE XREF: sub_4E96+EEj
seg002:33DA					    ; sub_4E96+10Fj
seg002:33DA		    mov	    ax,	ds:11F2h
seg002:33DD		    add	    [bp+var_44], ax
seg002:33E0		    mov	    ax,	[bp+var_44]
seg002:33E3		    add	    [bp+var_2E], ax
seg002:33E6		    add	    [bp+var_26], ax
seg002:33E9
seg002:33E9 loc_4FB9:				    ; CODE XREF: sub_4E96+E0j
seg002:33E9		    mov	    ax,	[bp+var_16]
seg002:33EC		    or	    ds:14h, ax
seg002:33F0		    mov	    ax,	ds:11DAh
seg002:33F3		    mov	    dx,	ds:11DCh
seg002:33F7		    add	    ax,	80h ; ''
seg002:33FA		    adc	    dx,	0
seg002:33FD		    push    dx
seg002:33FE		    push    ax
seg002:33FF		    call    sub_7B9A
seg002:3402		    pop	    bx
seg002:3403		    pop	    bx
seg002:3404		    call    sub_355A
seg002:3407		    mov	    ax,	[bp+var_3E]
seg002:340A		    sub	    ax,	7Fh ; ''
seg002:340D		    mov	    ds:11EEh, ax
seg002:3410		    push    ax
seg002:3411		    push    word ptr ds:11F2h
seg002:3415		    push    8
seg002:3417		    call    sub_5659
seg002:341A		    add	    sp,	6
seg002:341D		    mov	    ax,	ds:11F2h
seg002:3420		    add	    ds:11EEh, ax
seg002:3424		    mov	    word ptr [bp+var_6], 0
seg002:3429		    mov	    word ptr [bp+var_6+2], 8
seg002:342E		    mov	    [bp+var_42], 0
seg002:3433		    mov	    [bp+var_40], 50h ; 'P'
seg002:3438		    mov	    es,	word ptr [bp+var_6+2]
seg002:343B
seg002:343B loc_500B:				    ; CODE XREF: sub_4E96+189j
seg002:343B		    sub	    word ptr ds:11EEh, 8
seg002:3440		    mov	    bx,	ds:11EEh
seg002:3444		    and	    bl,	0F8h
seg002:3447		    add	    bx,	word ptr [bp+var_6]
seg002:344A		    cmp	    byte ptr es:[bx+5],	0
seg002:344F		    jz	    short loc_500B
seg002:3451		    mov	    ax,	ds:11F2h
seg002:3454		    mov	    [bp+var_18], ax
seg002:3457
seg002:3457 loc_5027:				    ; CODE XREF: sub_4E96+3F5j
seg002:3457		    mov	    ax,	[bp+var_18]
seg002:345A		    mov	    [bp+var_1C], ax
seg002:345D		    and	    al,	0F8h
seg002:345F		    add	    ax,	word ptr [bp+var_6]
seg002:3462		    mov	    dx,	word ptr [bp+var_6+2]
seg002:3465		    mov	    bx,	11E4h
seg002:3468		    push    si
seg002:3469		    push    di
seg002:346A		    push    ds
seg002:346B		    mov	    di,	bx
seg002:346D		    mov	    si,	ax
seg002:346F		    push    ds
seg002:3470		    pop	    es
seg002:3471		    mov	    ds,	dx
seg002:3473		    movsw
seg002:3474		    movsw
seg002:3475		    movsw
seg002:3476		    movsw
seg002:3477		    pop	    ds
seg002:3478		    pop	    di
seg002:3479		    pop	    si
seg002:347A		    mov	    si,	ds:11E4h
seg002:347E		    mov	    al,	ds:11E9h
seg002:3481		    sub	    ah,	ah
seg002:3483		    mov	    [bp+var_2],	ax
seg002:3486		    or	    ax,	ax
seg002:3488		    jnz	    short loc_505D
seg002:348A		    jmp	    loc_527F
seg002:348D ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:348D
seg002:348D loc_505D:				    ; CODE XREF: sub_4E96+1C2j
seg002:348D		    mov	    ax,	ds:11EAh
seg002:3490		    and	    ah,	1Fh
seg002:3493		    mov	    [bp+var_4A], ax
seg002:3496		    sub	    di,	di
seg002:3498		    or	    si,	si
seg002:349A		    jz	    short loc_5073
seg002:349C		    push    si
seg002:349D		    call    sub_2DAD
seg002:34A0		    pop	    bx
seg002:34A1		    mov	    di,	ax
seg002:34A3
seg002:34A3 loc_5073:				    ; CODE XREF: sub_4E96+1D4j
seg002:34A3		    test    byte ptr ds:11EBh, 20h
seg002:34A8		    jz	    short loc_507C
seg002:34AA		    sub	    si,	si
seg002:34AC
seg002:34AC loc_507C:				    ; CODE XREF: sub_4E96+1E2j
seg002:34AC		    cmp	    [bp+var_4A], di
seg002:34AF		    jbe	    short loc_5084
seg002:34B1		    mov	    di,	[bp+var_4A]
seg002:34B4
seg002:34B4 loc_5084:				    ; CODE XREF: sub_4E96+1E9j
seg002:34B4		    sub	    ax,	ax
seg002:34B6		    mov	    ds:1204h, ax
seg002:34B9		    mov	    ds:1202h, ax
seg002:34BC		    or	    di,	di
seg002:34BE		    jnz	    short loc_5093
seg002:34C0		    jmp	    loc_5198
seg002:34C3 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:34C3
seg002:34C3 loc_5093:				    ; CODE XREF: sub_4E96+1F8j
seg002:34C3		    test    byte ptr ds:11EBh, 80h
seg002:34C8		    jnz	    short loc_509D
seg002:34CA		    jmp	    loc_517B
seg002:34CD ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:34CD
seg002:34CD loc_509D:				    ; CODE XREF: sub_4E96+202j
seg002:34CD		    mov	    ax,	[bp+var_2E]
seg002:34D0		    cmp	    [bp+var_18], ax
seg002:34D3		    jz	    short loc_50AE
seg002:34D5		    mov	    al,	byte ptr [bp+var_2]
seg002:34D8		    and	    al,	18h
seg002:34DA		    cmp	    al,	18h
seg002:34DC		    jnz	    short loc_50B5
seg002:34DE
seg002:34DE loc_50AE:				    ; CODE XREF: sub_4E96+20Dj
seg002:34DE		    mov	    [bp+var_20], 7
seg002:34E3		    jmp	    short loc_50BE
seg002:34E5 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:34E5
seg002:34E5 loc_50B5:				    ; CODE XREF: sub_4E96+216j
seg002:34E5		    mov	    [bp+var_20], 0
seg002:34EA		    or	    byte ptr [bp+var_2], 60h
seg002:34EE
seg002:34EE loc_50BE:				    ; CODE XREF: sub_4E96+21Dj
seg002:34EE		    call    sub_2D91
seg002:34F1		    mov	    ax,	[bp+var_20]
seg002:34F4		    add	    ax,	di
seg002:34F6		    mov	    [bp+var_1A], ax
seg002:34F9		    cmp	    ax,	8
seg002:34FC		    jnb	    short loc_50D3
seg002:34FE		    mov	    [bp+var_1A], 8
seg002:3503
seg002:3503 loc_50D3:				    ; CODE XREF: sub_4E96+236j
seg002:3503		    push    [bp+var_1A]
seg002:3506		    call    sub_552C
seg002:3509		    pop	    bx
seg002:350A		    mov	    ds:1202h, ax
seg002:350D		    mov	    ds:1204h, dx
seg002:3511		    mov	    [bp+var_1A], ax
seg002:3514		    or	    ax,	ax
seg002:3516		    jnz	    short loc_50EE
seg002:3518		    push    3
seg002:351A		    call    sub_3E7D
seg002:351D		    pop	    bx
seg002:351E
seg002:351E loc_50EE:				    ; CODE XREF: sub_4E96+250j
seg002:351E		    mov	    ax,	ds:1202h
seg002:3521		    add	    ax,	[bp+var_20]
seg002:3524		    mov	    cx,	[bp+var_20]
seg002:3527		    not	    cx
seg002:3529		    and	    cx,	ax
seg002:352B		    sub	    ax,	ax
seg002:352D		    mov	    ds:1202h, cx
seg002:3531		    mov	    ds:1204h, ax
seg002:3534		    mov	    [bp+var_1C], cx
seg002:3537		    cmp	    cx,	ds:97Ch
seg002:353B		    jb	    short loc_5113
seg002:353D
seg002:353D loc_510D:				    ; CODE XREF: sub_4E96+2B1j
seg002:353D		    push    4
seg002:353F		    call    sub_3E7D
seg002:3542		    pop	    bx
seg002:3543
seg002:3543 loc_5113:				    ; CODE XREF: sub_4E96+275j
seg002:3543		    push    [bp+var_1C]
seg002:3546		    push    [bp+var_18]
seg002:3549		    call    sub_7B7C
seg002:354C		    pop	    bx
seg002:354D		    pop	    bx
seg002:354E		    mov	    cx,	1210h
seg002:3551		    add	    cx,	64h ; 'd'
seg002:3554		    cmp	    ax,	cx
seg002:3556		    jg	    short loc_512E
seg002:3558		    push    5
seg002:355A		    call    sub_7BED
seg002:355D		    pop	    bx
seg002:355E
seg002:355E loc_512E:				    ; CODE XREF: sub_4E96+290j
seg002:355E		    call    sub_355A
seg002:3561		    mov	    bx,	[bp+var_1C]
seg002:3564		    and	    bl,	0F8h
seg002:3567		    add	    bx,	word ptr [bp+var_6]
seg002:356A		    mov	    es,	word ptr [bp+var_6+2]
seg002:356D		    cmp	    byte ptr es:[bx+5],	0
seg002:3572		    jz	    short loc_5149
seg002:3574		    call    sub_2D91
seg002:3577		    jmp	    short loc_510D
seg002:3579 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:3579
seg002:3579 loc_5149:				    ; CODE XREF: sub_4E96+2ACj
seg002:3579		    cmp	    [bp+var_20], 0
seg002:357D		    jz	    short loc_5176
seg002:357F		    mov	    ax,	[bp+var_2E]
seg002:3582		    cmp	    [bp+var_18], ax
seg002:3585		    jnz	    short loc_515D
seg002:3587		    mov	    ax,	[bp+var_1C]
seg002:358A		    mov	    [bp+var_2E], ax
seg002:358D
seg002:358D loc_515D:				    ; CODE XREF: sub_4E96+2BFj
seg002:358D		    mov	    ax,	[bp+var_26]
seg002:3590		    cmp	    [bp+var_18], ax
seg002:3593		    jnz	    short loc_516B
seg002:3595		    mov	    ax,	[bp+var_1C]
seg002:3598		    mov	    [bp+var_26], ax
seg002:359B
seg002:359B loc_516B:				    ; CODE XREF: sub_4E96+2CDj
seg002:359B		    push    [bp+var_1A]
seg002:359E		    push    [bp+var_1C]
seg002:35A1		    call    sub_3A51
seg002:35A4		    pop	    bx
seg002:35A5		    pop	    bx
seg002:35A6
seg002:35A6 loc_5176:				    ; CODE XREF: sub_4E96+2B7j
seg002:35A6		    inc	    [bp+var_1E]
seg002:35A9		    jmp	    short loc_5198
seg002:35AB ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:35AB
seg002:35AB loc_517B:				    ; CODE XREF: sub_4E96+204j
seg002:35AB		    push    di
seg002:35AC		    call    sub_54D1
seg002:35AF		    pop	    bx
seg002:35B0		    mov	    ds:1202h, ax
seg002:35B3		    mov	    ds:1204h, dx
seg002:35B7		    mov	    ax,	dx
seg002:35B9		    or	    ax,	ds:1202h
seg002:35BD		    jnz	    short loc_5198
seg002:35BF		    call    sub_2D91
seg002:35C2		    push    6
seg002:35C4		    call    sub_3E7D
seg002:35C7		    pop	    bx
seg002:35C8
seg002:35C8 loc_5198:				    ; CODE XREF: sub_4E96+1FAj
seg002:35C8					    ; sub_4E96+2E3j ...
seg002:35C8		    mov	    byte ptr ds:11E9h, 0F2h ; '๒'
seg002:35CD		    mov	    word ptr ds:11E4h, 0
seg002:35D3		    or	    di,	di
seg002:35D5		    jz	    short loc_51C0
seg002:35D7		    mov	    ax,	di
seg002:35D9		    shl	    ax,	4
seg002:35DC		    dec	    ax
seg002:35DD		    mov	    ds:11E4h, ax
seg002:35E0		    mov	    bx,	[bp+var_1C]
seg002:35E3		    shr	    bx,	3
seg002:35E6		    add	    bx,	[bp+var_42]
seg002:35E9		    mov	    es,	[bp+var_40]
seg002:35EC		    mov	    byte ptr es:[bx], 1
seg002:35F0
seg002:35F0 loc_51C0:				    ; CODE XREF: sub_4E96+30Fj
seg002:35F0		    test    byte ptr ds:11EBh, 40h
seg002:35F5		    jz	    short loc_51D7
seg002:35F7		    mov	    bx,	[bp+var_1C]
seg002:35FA		    shr	    bx,	3
seg002:35FD		    add	    bx,	[bp+var_42]
seg002:3600		    mov	    es,	[bp+var_40]
seg002:3603		    or	    byte ptr es:[bx], 2
seg002:3607
seg002:3607 loc_51D7:				    ; CODE XREF: sub_4E96+32Fj
seg002:3607		    mov	    ax,	ds:1202h
seg002:360A		    shl	    ax,	4
seg002:360D		    mov	    ds:11E6h, ax
seg002:3610		    mov	    ax,	ds:1202h
seg002:3613		    mov	    dx,	ds:1204h
seg002:3617		    mov	    cl,	0Ch
seg002:3619		    call    sub_4380
seg002:361C		    mov	    ds:11E8h, al
seg002:361F		    mov	    ax,	ds:1204h
seg002:3622		    sar	    ax,	4
seg002:3625		    mov	    ah,	al
seg002:3627		    sub	    al,	al
seg002:3629		    mov	    ds:11EAh, ax
seg002:362C		    mov	    ax,	[bp+var_1C]
seg002:362F		    and	    al,	0F8h
seg002:3631		    add	    ax,	word ptr [bp+var_6]
seg002:3634		    mov	    dx,	word ptr [bp+var_6+2]
seg002:3637		    push    si
seg002:3638		    push    di
seg002:3639		    mov	    di,	ax
seg002:363B		    mov	    si,	11E4h
seg002:363E		    mov	    es,	dx
seg002:3640		    movsw
seg002:3641		    movsw
seg002:3642		    movsw
seg002:3643		    movsw
seg002:3644		    pop	    di
seg002:3645		    pop	    si
seg002:3646		    or	    si,	si
seg002:3648		    jz	    short loc_522D
seg002:364A		    test    si,	0Fh
seg002:364E		    jz	    short loc_5221
seg002:3650		    inc	    si
seg002:3651
seg002:3651 loc_5221:				    ; CODE XREF: sub_4E96+388j
seg002:3651		    push    si
seg002:3652		    push    0
seg002:3654		    push    [bp+var_1C]
seg002:3657		    call    sub_5659
seg002:365A		    add	    sp,	6
seg002:365D
seg002:365D loc_522D:				    ; CODE XREF: sub_4E96+382j
seg002:365D		    cmp	    [bp+var_4A], 0
seg002:3661		    jz	    short loc_524A
seg002:3663		    mov	    di,	[bp+var_4A]
seg002:3666		    shl	    di,	4
seg002:3669		    sub	    di,	si
seg002:366B		    jz	    short loc_524A
seg002:366D		    push    0
seg002:366F		    push    di
seg002:3670		    push    si
seg002:3671		    push    [bp+var_1C]
seg002:3674		    call    sub_3A47
seg002:3677		    add	    sp,	8
seg002:367A
seg002:367A loc_524A:				    ; CODE XREF: sub_4E96+39Bj
seg002:367A					    ; sub_4E96+3A5j
seg002:367A		    mov	    al,	byte ptr [bp+var_2]
seg002:367D		    mov	    ds:11E9h, al
seg002:3680		    mov	    bx,	[bp+var_1C]
seg002:3683		    and	    bl,	0F8h
seg002:3686		    add	    bx,	word ptr [bp+var_6]
seg002:3689		    mov	    es,	word ptr [bp+var_6+2]
seg002:368C		    mov	    es:[bx+5], al
seg002:3690		    mov	    ax,	[bp+var_18]
seg002:3693		    cmp	    [bp+var_1C], ax
seg002:3696		    jz	    short loc_527F
seg002:3698		    and	    al,	0F8h
seg002:369A		    add	    ax,	word ptr [bp+var_6]
seg002:369D		    mov	    dx,	word ptr [bp+var_6+2]
seg002:36A0		    push    si
seg002:36A1		    push    di
seg002:36A2		    mov	    di,	ax
seg002:36A4		    mov	    si,	11E4h
seg002:36A7		    mov	    es,	dx
seg002:36A9		    movsw
seg002:36AA		    movsw
seg002:36AB		    movsw
seg002:36AC		    movsw
seg002:36AD		    pop	    di
seg002:36AE		    pop	    si
seg002:36AF
seg002:36AF loc_527F:				    ; CODE XREF: sub_4E96+1C4j
seg002:36AF					    ; sub_4E96+3D0j
seg002:36AF		    mov	    ax,	ds:11EEh
seg002:36B2		    add	    [bp+var_18], 8
seg002:36B6		    cmp	    [bp+var_18], ax
seg002:36B9		    ja	    short loc_528E
seg002:36BB		    jmp	    loc_5027
seg002:36BE ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:36BE
seg002:36BE loc_528E:				    ; CODE XREF: sub_4E96+3F3j
seg002:36BE		    cmp	    [bp+arg_0],	0
seg002:36C2		    jg	    short loc_529E
seg002:36C4		    shr	    ax,	3
seg002:36C7		    les	    bx,	[bp+var_6]
seg002:36CA		    mov	    es:[bx+2], ax
seg002:36CE
seg002:36CE loc_529E:				    ; CODE XREF: sub_4E96+3FCj
seg002:36CE		    mov	    ax,	[bp+var_2C]
seg002:36D1		    sub	    ax,	0Ch
seg002:36D4		    and	    al,	0FEh
seg002:36D6		    mov	    bx,	[bp+arg_2]
seg002:36D9		    mov	    [bx+0Eh], ax
seg002:36DC		    mov	    ax,	[bp+var_2E]
seg002:36DF		    mov	    [bx+2], ax
seg002:36E2		    mov	    ax,	[bp+var_26]
seg002:36E5		    mov	    [bx+22h], ax
seg002:36E8		    mov	    ax,	[bp+var_28]
seg002:36EB		    mov	    [bx+1Eh], ax
seg002:36EE		    mov	    ax,	ds:11F2h
seg002:36F1		    mov	    [bx+0Ah], ax
seg002:36F4		    mov	    ax,	[bp+var_18]
seg002:36F7		    sub	    ax,	18h
seg002:36FA		    mov	    [bx+8], ax
seg002:36FD		    call    sub_2D91
seg002:3700		    push    [bp+arg_2]
seg002:3703		    push    [bp+arg_0]
seg002:3706		    call    nullsub_3
seg002:3709		    pop	    bx
seg002:370A		    pop	    bx
seg002:370B		    cmp	    [bp+arg_0],	0
seg002:370F		    jl	    short loc_52EE
seg002:3711		    call    sub_7BC7
seg002:3714		    sub	    ax,	ax
seg002:3716		    mov	    ds:11DCh, ax
seg002:3719		    mov	    ds:11DAh, ax
seg002:371C		    jmp	    short loc_52FC
seg002:371E ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:371E
seg002:371E loc_52EE:				    ; CODE XREF: sub_4E96+449j
seg002:371E		    mov	    ax,	ds:11F4h
seg002:3721		    mov	    dx,	ds:11F6h
seg002:3725		    mov	    ds:11DAh, ax
seg002:3728		    mov	    ds:11DCh, dx
seg002:372C
seg002:372C loc_52FC:				    ; CODE XREF: sub_4E96+456j
seg002:372C		    sub	    [bp+var_18], 8
seg002:3730		    cmp	    [bp+var_2A], 0
seg002:3734		    jz	    short loc_5357
seg002:3736		    call    sub_355A
seg002:3739		    push    1
seg002:373B		    call    sub_2E36
seg002:373E		    pop	    bx
seg002:373F		    cmp	    [bp+var_44], 0
seg002:3743		    jz	    short loc_533A
seg002:3745		    push    [bp+var_44]
seg002:3748		    push    [bp+var_18]
seg002:374B		    mov	    ax,	[bp+var_44]
seg002:374E		    add	    [bp+var_2A], ax
seg002:3751		    push    [bp+var_2A]
seg002:3754		    call    sub_5950
seg002:3757		    add	    sp,	6
seg002:375A		    jmp	    short loc_533A
seg002:375C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:375C
seg002:375C loc_532C:				    ; CODE XREF: sub_4E96+4A7j
seg002:375C		    push    [bp+var_18]
seg002:375F		    push    [bp+var_2A]
seg002:3762		    call    sub_59E9
seg002:3765		    pop	    bx
seg002:3766		    pop	    bx
seg002:3767		    call    sub_7B83
seg002:376A
seg002:376A loc_533A:				    ; CODE XREF: sub_4E96+47Dj
seg002:376A					    ; sub_4E96+494j
seg002:376A		    dec	    [bp+var_1E]
seg002:376D		    jns	    short loc_532C
seg002:376F		    push    [bp+var_2A]
seg002:3772		    call    sub_3656
seg002:3775		    pop	    bx
seg002:3776		    mov	    ax,	[bp+var_2A]
seg002:3779		    sub	    ax,	8
seg002:377C		    mov	    bx,	[bp+arg_2]
seg002:377F		    mov	    [bx+8], ax
seg002:3782		    call    sub_2D91
seg002:3785		    jmp	    short loc_539C
seg002:3787 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:3787
seg002:3787 loc_5357:				    ; CODE XREF: sub_4E96+46Ej
seg002:3787		    cmp	    [bp+var_44], 0
seg002:378B		    jz	    short loc_5368
seg002:378D		    push    [bp+var_44]
seg002:3790		    push    [bp+var_18]
seg002:3793		    call    sub_56F1
seg002:3796		    pop	    bx
seg002:3797		    pop	    bx
seg002:3798
seg002:3798 loc_5368:				    ; CODE XREF: sub_4E96+4C5j
seg002:3798		    cmp	    [bp+var_1E], 0
seg002:379C		    jle	    short loc_539C
seg002:379E		    push    [bp+var_18]
seg002:37A1		    call    sub_380F
seg002:37A4		    pop	    bx
seg002:37A5		    mov	    al,	ds:11E9h
seg002:37A8		    and	    al,	18h
seg002:37AA		    cmp	    al,	10h
seg002:37AC		    jz	    short loc_5384
seg002:37AE		    push    7
seg002:37B0		    call    sub_3E7D
seg002:37B3		    pop	    bx
seg002:37B4
seg002:37B4 loc_5384:				    ; CODE XREF: sub_4E96+4E6j
seg002:37B4		    cmp	    word ptr ds:11E4h, 0
seg002:37B9		    jz	    short loc_539C
seg002:37BB		    jmp	    short loc_5397
seg002:37BD ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:37BD
seg002:37BD loc_538D:				    ; CODE XREF: sub_4E96+504j
seg002:37BD		    push    [bp+var_18]
seg002:37C0		    call    sub_586D
seg002:37C3		    pop	    bx
seg002:37C4		    call    sub_7B83
seg002:37C7
seg002:37C7 loc_5397:				    ; CODE XREF: sub_4E96+4F5j
seg002:37C7		    dec	    [bp+var_1E]
seg002:37CA		    jns	    short loc_538D
seg002:37CC
seg002:37CC loc_539C:				    ; CODE XREF: sub_4E96+4BFj
seg002:37CC					    ; sub_4E96+4D6j ...
seg002:37CC		    cmp	    [bp+var_1E], 0
seg002:37D0		    jl	    short loc_53A8
seg002:37D2		    test    [bp+var_12], 1
seg002:37D6		    jz	    short loc_53B5
seg002:37D8
seg002:37D8 loc_53A8:				    ; CODE XREF: sub_4E96+50Aj
seg002:37D8		    cmp	    [bp+var_2A], 0
seg002:37DC		    jnz	    short loc_53B5
seg002:37DE		    push    [bp+var_18]
seg002:37E1		    call    sub_5932
seg002:37E4		    pop	    bx
seg002:37E5
seg002:37E5 loc_53B5:				    ; CODE XREF: sub_4E96+510j
seg002:37E5					    ; sub_4E96+516j
seg002:37E5		    mov	    ax,	28h ; '('
seg002:37E8		    mov	    bx,	[bp+arg_2]
seg002:37EB		    mov	    [bx+4], ax
seg002:37EE		    mov	    [bx+6], ax
seg002:37F1		    mov	    word ptr [bx+26h], 200h
seg002:37F6		    cmp	    [bp+arg_0],	0
seg002:37FA		    jg	    short loc_53E9
seg002:37FC		    call    sub_4B97
seg002:37FF		    mov	    ax,	ds:0CECh
seg002:3802		    mov	    ds:97Eh, ax
seg002:3805		    mov	    cx,	2Ch ; ','
seg002:3808		    mov	    dx,	ax
seg002:380A		    mov	    [bp+var_48], cx
seg002:380D		    mov	    [bp+var_46], dx
seg002:3810		    mov	    es,	ax
seg002:3812		    mov	    bx,	cx
seg002:3814		    mov	    word ptr es:[bx], 30h ; '0'
seg002:3819
seg002:3819 loc_53E9:				    ; CODE XREF: sub_4E96+111j
seg002:3819					    ; sub_4E96+534j
seg002:3819		    pop	    si
seg002:381A		    pop	    di
seg002:381B		    leave
seg002:381C		    retn
seg002:381C sub_4E96	    endp
seg002:381C
seg002:381D
seg002:381D ;  S	U B R O	U T I N	E 
seg002:381D
seg002:381D
seg002:381D sub_53ED	    proc near		    ; CODE XREF: seg002:2F6Dp
seg002:381D		    cmp	    word ptr ds:0E70h, 0
seg002:3822		    jge	    short loc_53FB
seg002:3824		    push    1190h
seg002:3827		    call    sub_7B88
seg002:382A		    pop	    bx
seg002:382B
seg002:382B loc_53FB:				    ; CODE XREF: sub_53ED+5j
seg002:382B		    cmp	    word ptr ds:0E70h, 0
seg002:3830		    jge	    short loc_5408
seg002:3832		    push    0FFF8h
seg002:3834		    call    sub_3E7D
seg002:3837		    pop	    bx
seg002:3838
seg002:3838 loc_5408:				    ; CODE XREF: sub_53ED+13j
seg002:3838		    push    word ptr ds:996h
seg002:383C		    push    0
seg002:383E		    call    sub_4E96
seg002:3841		    pop	    bx
seg002:3842		    pop	    bx
seg002:3843		    retn
seg002:3843 sub_53ED	    endp
seg002:3843
seg002:3844
seg002:3844 ;  S	U B R O	U T I N	E 
seg002:3844
seg002:3844 ; Attributes: bp-based frame
seg002:3844
seg002:3844 sub_5414	    proc near		    ; CODE XREF: sub_7E4F+9p
seg002:3844					    ; sub_92AB+9Ep
seg002:3844
seg002:3844 var_2	    = word ptr -2
seg002:3844
seg002:3844		    enter   2, 0
seg002:3848		    mov	    ax,	ds:0D0Eh
seg002:384B		    mov	    cx,	180h
seg002:384E		    imul    cx
seg002:3850		    add	    ax,	2Ah ; '*'
seg002:3853		    mov	    [bp+var_2],	ax
seg002:3856		    cmp	    word ptr ds:0F4Eh, 0
seg002:385B		    jnz	    short loc_544E
seg002:385D		    mov	    word ptr ds:11D4h, 8
seg002:3863		    push    ax
seg002:3864		    call    sub_B12
seg002:3869		    pop	    bx
seg002:386A		    push    [bp+var_2]
seg002:386D		    call    sub_400E
seg002:3870		    pop	    bx
seg002:3871		    mov	    ds:0F4Eh, ax
seg002:3874		    or	    ax,	ax
seg002:3876		    jnz	    short loc_544E
seg002:3878		    push    9
seg002:387A		    call    sub_3E7D
seg002:387D		    pop	    bx
seg002:387E
seg002:387E loc_544E:				    ; CODE XREF: sub_5414+17j
seg002:387E					    ; sub_5414+32j
seg002:387E		    push    [bp+var_2]
seg002:3881		    push    0
seg002:3883		    push    word ptr ds:0F4Eh
seg002:3887		    call    sub_4346
seg002:388A		    mov	    ax,	[bp+var_2]
seg002:388D		    add	    ax,	ds:0F4Eh
seg002:3891		    mov	    ds:0F4Ch, ax
seg002:3894		    sub	    ax,	2Ah ; '*'
seg002:3897		    mov	    ds:996h, ax
seg002:389A		    mov	    bx,	ax
seg002:389C		    mov	    cx,	ds:0F4Ch
seg002:38A0		    mov	    [bx], cx
seg002:38A2		    mov	    word ptr [bx+18h], 0FFFFh
seg002:38A7		    mov	    word ptr ds:99Eh, 0
seg002:38AD		    leave
seg002:38AE		    retn
seg002:38AE sub_5414	    endp
seg002:38AE
seg002:38AF ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:38AF		    enter   4, 0
seg002:38B3		    cmp	    byte ptr ds:980h, 1
seg002:38B8		    jnz	    short loc_54A3
seg002:38BA		    push    word ptr [bp+4]
seg002:38BD		    call    sub_552C
seg002:38C0		    pop	    bx
seg002:38C1		    mov	    [bp-4], ax
seg002:38C4		    mov	    [bp-2], dx
seg002:38C7		    or	    dx,	ax
seg002:38C9		    jz	    short loc_54A3
seg002:38CB
seg002:38CB loc_549B:				    ; CODE XREF: seg002:38F6j
seg002:38CB		    mov	    ax,	[bp-4]
seg002:38CE		    mov	    dx,	[bp-2]
seg002:38D1		    leave
seg002:38D2		    retn
seg002:38D3 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:38D3
seg002:38D3 loc_54A3:				    ; CODE XREF: seg002:38B8j
seg002:38D3					    ; seg002:38C9j
seg002:38D3		    cmp	    byte ptr ds:980h, 3
seg002:38D8		    jge	    short loc_54C8
seg002:38DA		    call    sub_355A
seg002:38DD		    push    0
seg002:38DF		    push    word ptr [bp+4]
seg002:38E2		    call    loc_3A38
seg002:38E5		    pop	    bx
seg002:38E6		    pop	    bx
seg002:38E7		    mov	    [bp-4], ax
seg002:38EA		    mov	    [bp-2], dx
seg002:38ED		    call    sub_2D91
seg002:38F0		    mov	    ax,	[bp-2]
seg002:38F3		    or	    ax,	[bp-4]
seg002:38F6		    jnz	    short loc_549B
seg002:38F8
seg002:38F8 loc_54C8:				    ; CODE XREF: seg002:38D8j
seg002:38F8		    push    word ptr [bp+4]
seg002:38FB		    call    sub_552C
seg002:38FE		    pop	    bx
seg002:38FF		    leave
seg002:3900		    retn
seg002:3901
seg002:3901 ;  S	U B R O	U T I N	E 
seg002:3901
seg002:3901 ; Attributes: bp-based frame
seg002:3901
seg002:3901 sub_54D1	    proc near		    ; CODE XREF: sub_4E96+2E6p
seg002:3901
seg002:3901 var_4	    = word ptr -4
seg002:3901 var_2	    = word ptr -2
seg002:3901 arg_0	    = word ptr	4
seg002:3901
seg002:3901		    enter   4, 0
seg002:3905		    cmp	    byte ptr ds:980h, 1
seg002:390A		    jz	    short loc_54FF
seg002:390C		    cmp	    byte ptr ds:980h, 3
seg002:3911		    jge	    short loc_54FF
seg002:3913		    push    0
seg002:3915		    push    [bp+arg_0]
seg002:3918		    call    loc_3A38
seg002:391B		    pop	    bx
seg002:391C		    pop	    bx
seg002:391D		    mov	    [bp+var_4],	ax
seg002:3920		    mov	    [bp+var_2],	dx
seg002:3923		    or	    dx,	ax
seg002:3925		    jz	    short loc_54FF
seg002:3927
seg002:3927 loc_54F7:				    ; CODE XREF: sub_54D1+47j
seg002:3927					    ; sub_54D1+59j
seg002:3927		    mov	    ax,	[bp+var_4]
seg002:392A		    mov	    dx,	[bp+var_2]
seg002:392D		    leave
seg002:392E		    retn
seg002:392F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:392F
seg002:392F loc_54FF:				    ; CODE XREF: sub_54D1+9j
seg002:392F					    ; sub_54D1+10j ...
seg002:392F		    call    sub_2D91
seg002:3932		    push    [bp+arg_0]
seg002:3935		    call    sub_552C
seg002:3938		    pop	    bx
seg002:3939		    mov	    [bp+var_4],	ax
seg002:393C		    mov	    [bp+var_2],	dx
seg002:393F		    call    sub_355A
seg002:3942		    mov	    ax,	[bp+var_2]
seg002:3945		    or	    ax,	[bp+var_4]
seg002:3948		    jnz	    short loc_54F7
seg002:394A		    push    0
seg002:394C		    push    [bp+arg_0]
seg002:394F		    call    loc_3A38
seg002:3952		    pop	    bx
seg002:3953		    pop	    bx
seg002:3954		    mov	    [bp+var_4],	ax
seg002:3957		    mov	    [bp+var_2],	dx
seg002:395A		    jmp	    short loc_54F7
seg002:395A sub_54D1	    endp
seg002:395A
seg002:395C
seg002:395C ;  S	U B R O	U T I N	E 
seg002:395C
seg002:395C ; Attributes: bp-based frame
seg002:395C
seg002:395C sub_552C	    proc near		    ; CODE XREF: sub_4E96+240p
seg002:395C					    ; seg002:38BDp ...
seg002:395C
seg002:395C var_D	    = byte ptr -0Dh
seg002:395C var_C	    = word ptr -0Ch
seg002:395C var_2	    = byte ptr -2
seg002:395C arg_0	    = word ptr	4
seg002:395C
seg002:395C		    enter   18h, 0
seg002:3960		    mov	    [bp+var_D],	48h ; 'H'
seg002:3964		    mov	    ax,	[bp+arg_0]
seg002:3967		    mov	    [bp+var_C],	ax
seg002:396A		    lea	    ax,	[bp-0Eh]
seg002:396D		    push    ax
seg002:396E		    push    ax
seg002:396F		    call    sub_42A0
seg002:3972		    pop	    bx
seg002:3973		    pop	    bx
seg002:3974		    test    [bp+var_2],	1
seg002:3978		    jz	    short loc_554F
seg002:397A		    sub	    ax,	ax
seg002:397C		    cwd
seg002:397D		    leave
seg002:397E		    retn
seg002:397F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:397F
seg002:397F loc_554F:				    ; CODE XREF: sub_552C+1Cj
seg002:397F		    mov	    ax,	[bp-0Eh]
seg002:3982		    sub	    dx,	dx
seg002:3984		    leave
seg002:3985		    retn
seg002:3985 sub_552C	    endp
seg002:3985
seg002:3986
seg002:3986 ;  S	U B R O	U T I N	E 
seg002:3986
seg002:3986
seg002:3986 sub_5556	    proc near		    ; CODE XREF: sub_4E96+ABp
seg002:3986					    ; sub_4E96:loc_4F4Fp ...
seg002:3986		    push    di
seg002:3987		    push    si
seg002:3988		    sub	    ax,	ax
seg002:398A		    mov	    ds:11D0h, ax
seg002:398D		    mov	    ds:1208h, ax
seg002:3990		    cmp	    ds:0Ah, ax
seg002:3994		    jnz	    short loc_55E0
seg002:3996		    mov	    si,	ds:0Eh
seg002:399A		    cmp	    ds:11D6h, ax
seg002:399E		    jz	    short loc_5574
seg002:39A0		    mov	    si,	ds:11D6h
seg002:39A4
seg002:39A4 loc_5574:				    ; CODE XREF: sub_5556+18j
seg002:39A4		    or	    si,	si
seg002:39A6		    jnz	    short loc_557B
seg002:39A8		    mov	    si,	800h
seg002:39AB
seg002:39AB loc_557B:				    ; CODE XREF: sub_5556+20j
seg002:39AB		    cmp	    si,	400h
seg002:39AF		    jnb	    short loc_5584
seg002:39B1		    mov	    si,	400h
seg002:39B4
seg002:39B4 loc_5584:				    ; CODE XREF: sub_5556+29j
seg002:39B4		    mov	    ax,	ds:9B8h
seg002:39B7		    dec	    ax
seg002:39B8		    sub	    bx,	bx
seg002:39BA		    mov	    es,	ax
seg002:39BC		    cmp	    byte ptr es:[bx], 4Dh ; 'M'
seg002:39C0		    jnz	    short loc_55AB
seg002:39C2		    mov	    ax,	ds:0CECh
seg002:39C5		    cmp	    es:[bx+1], ax
seg002:39C9		    jnz	    short loc_55AB
seg002:39CB		    mov	    di,	es:[bx+3]
seg002:39CF		    add	    di,	20h ; ' '
seg002:39D2		    shl	    di,	4
seg002:39D5		    cmp	    di,	si
seg002:39D7		    jbe	    short loc_55AB
seg002:39D9		    mov	    si,	di
seg002:39DB
seg002:39DB loc_55AB:				    ; CODE XREF: sub_5556+3Aj
seg002:39DB					    ; sub_5556+43j ...
seg002:39DB		    cmp	    si,	8200h
seg002:39DF		    jbe	    short loc_55B4
seg002:39E1		    mov	    si,	8200h
seg002:39E4
seg002:39E4 loc_55B4:				    ; CODE XREF: sub_5556+59j
seg002:39E4		    add	    si,	0Fh
seg002:39E7		    push    si
seg002:39E8		    call    sub_B12
seg002:39ED		    pop	    bx
seg002:39EE		    or	    ax,	ax
seg002:39F0		    jnz	    short loc_55C8
seg002:39F2
seg002:39F2 loc_55C2:				    ; CODE XREF: sub_5556+81j
seg002:39F2		    push    0Dh
seg002:39F4		    call    sub_3E7D
seg002:39F7		    pop	    bx
seg002:39F8
seg002:39F8 loc_55C8:				    ; CODE XREF: sub_5556+6Aj
seg002:39F8		    push    si
seg002:39F9		    call    sub_400E
seg002:39FC		    pop	    bx
seg002:39FD		    add	    ax,	0Fh
seg002:3A00		    and	    al,	0F0h
seg002:3A02		    mov	    ds:0Ah, ax
seg002:3A05		    or	    ax,	ax
seg002:3A07		    jz	    short loc_55C2
seg002:3A09		    mov	    ax,	si
seg002:3A0B		    and	    al,	0F0h
seg002:3A0D		    mov	    ds:0Eh, ax
seg002:3A10
seg002:3A10 loc_55E0:				    ; CODE XREF: sub_5556+Ej
seg002:3A10		    pop	    si
seg002:3A11		    pop	    di
seg002:3A12		    retn
seg002:3A12 sub_5556	    endp
seg002:3A12
seg002:3A13
seg002:3A13 ;  S	U B R O	U T I N	E 
seg002:3A13
seg002:3A13 ; Attributes: bp-based frame
seg002:3A13
seg002:3A13 sub_55E3	    proc near		    ; CODE XREF: sub_5659+1Bp
seg002:3A13					    ; sub_5659:loc_56D1p
seg002:3A13
seg002:3A13 var_E	    = word ptr -0Eh
seg002:3A13 var_C	    = word ptr -0Ch
seg002:3A13 var_A	    = word ptr -0Ah
seg002:3A13 var_8	    = word ptr -8
seg002:3A13 var_2	    = byte ptr -2
seg002:3A13
seg002:3A13		    enter   10h, 0
seg002:3A17		    call    sub_2D91
seg002:3A1A		    push    1
seg002:3A1C		    call    sub_2E36
seg002:3A1F		    pop	    bx
seg002:3A20		    mov	    [bp+var_E],	4201h
seg002:3A25		    mov	    ax,	ds:0E70h
seg002:3A28		    mov	    [bp+var_C],	ax
seg002:3A2B		    sub	    ax,	ax
seg002:3A2D		    mov	    [bp+var_8],	ax
seg002:3A30		    mov	    [bp+var_A],	ax
seg002:3A33		    lea	    ax,	[bp+var_E]
seg002:3A36		    push    ax
seg002:3A37		    push    ax
seg002:3A38		    call    sub_42A0
seg002:3A3B		    pop	    bx
seg002:3A3C		    pop	    bx
seg002:3A3D		    mov	    ah,	ds:0Fh
seg002:3A41
seg002:3A41 loc_5611:				    ; CODE XREF: seg002:2021J
seg002:3A41		    and	    ax,	0FE00h
seg002:3A44		    mov	    cx,	[bp+var_E]
seg002:3A47		    and	    ch,	1
seg002:3A4A		    sub	    ax,	cx
seg002:3A4C		    mov	    [bp+var_A],	ax
seg002:3A4F		    mov	    byte ptr [bp+var_E+1], 3Fh ; '?'
seg002:3A53		    mov	    ax,	ds:0Ah
seg002:3A56		    mov	    ds:11D0h, ax
seg002:3A59		    mov	    [bp+var_8],	ax
seg002:3A5C		    lea	    ax,	[bp+var_E]
seg002:3A5F		    push    ax
seg002:3A60		    push    ax
seg002:3A61		    call    sub_42A0
seg002:3A64		    pop	    bx
seg002:3A65		    pop	    bx
seg002:3A66		    test    [bp+var_2],	1
seg002:3A6A		    jz	    short loc_5641
seg002:3A6C		    mov	    [bp+var_E],	0
seg002:3A71
seg002:3A71 loc_5641:				    ; CODE XREF: sub_55E3+57j
seg002:3A71		    mov	    ax,	[bp+var_E]
seg002:3A74		    add	    ax,	ds:11D0h
seg002:3A78		    mov	    ds:1208h, ax
seg002:3A7B		    call    sub_355A
seg002:3A7E		    push    1
seg002:3A80		    call    sub_2E36
seg002:3A83		    pop	    bx
seg002:3A84		    mov	    ax,	[bp+var_E]
seg002:3A87		    leave
seg002:3A88		    retn
seg002:3A88 sub_55E3	    endp
seg002:3A88
seg002:3A89
seg002:3A89 ;  S	U B R O	U T I N	E 
seg002:3A89
seg002:3A89 ; Attributes: bp-based frame
seg002:3A89
seg002:3A89 sub_5659	    proc near		    ; CODE XREF: sub_4E96+151p
seg002:3A89					    ; sub_4E96+391p
seg002:3A89
seg002:3A89 var_2	    = word ptr -2
seg002:3A89 arg_0	    = word ptr	4
seg002:3A89 arg_2	    = word ptr	6
seg002:3A89 arg_4	    = word ptr	8
seg002:3A89
seg002:3A89		    enter   2, 0
seg002:3A8D		    push    di
seg002:3A8E		    push    si
seg002:3A8F		    mov	    ax,	[bp+arg_4]
seg002:3A92		    neg	    ax
seg002:3A94		    and	    ax,	0Fh
seg002:3A97		    mov	    [bp+var_2],	ax
seg002:3A9A
seg002:3A9A loc_566A:				    ; CODE XREF: sub_5659+74j
seg002:3A9A		    mov	    di,	ds:1208h
seg002:3A9E		    sub	    di,	ds:11D0h
seg002:3AA2		    jnz	    short loc_5677
seg002:3AA4		    call    sub_55E3
seg002:3AA7
seg002:3AA7 loc_5677:				    ; CODE XREF: sub_5659+19j
seg002:3AA7		    mov	    di,	ds:1208h
seg002:3AAB		    sub	    di,	ds:11D0h
seg002:3AAF		    jnz	    short loc_56A3
seg002:3AB1		    cmp	    [bp+arg_2],	0   ; CODE XREF: sub_3C60+FJ
seg002:3AB5		    jz	    short loc_569A
seg002:3AB7		    push    0
seg002:3AB9		    push    [bp+arg_4]
seg002:3ABC		    push    [bp+arg_2]
seg002:3ABF		    push    [bp+arg_0]
seg002:3AC2		    call    sub_3A47
seg002:3AC5		    add	    sp,	8
seg002:3AC8		    jmp	    short loc_56ED
seg002:3ACA ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:3ACA
seg002:3ACA loc_569A:				    ; CODE XREF: sub_5659+2Cj
seg002:3ACA		    call    sub_2D91
seg002:3ACD		    push    0FFF2h
seg002:3ACF		    call    sub_3E7D
seg002:3AD2		    pop	    bx
seg002:3AD3
seg002:3AD3 loc_56A3:				    ; CODE XREF: sub_5659+26j
seg002:3AD3		    mov	    si,	[bp+arg_4]
seg002:3AD6		    cmp	    si,	di
seg002:3AD8		    ja	    short loc_56AE
seg002:3ADA		    or	    si,	si
seg002:3ADC		    jnz	    short loc_56B0
seg002:3ADE
seg002:3ADE loc_56AE:				    ; CODE XREF: sub_5659+4Fj
seg002:3ADE		    mov	    si,	di
seg002:3AE0
seg002:3AE0 loc_56B0:				    ; CODE XREF: sub_5659+53j
seg002:3AE0		    push    si
seg002:3AE1		    push    [bp+arg_2]
seg002:3AE4		    push    [bp+arg_0]
seg002:3AE7		    push    word ptr ds:11D0h
seg002:3AEB		    push    20h	; ' '
seg002:3AED		    call    sub_7CD2
seg002:3AF0		    add	    sp,	0Ah
seg002:3AF3		    add	    [bp+arg_2],	si
seg002:3AF6		    add	    ds:11D0h, si
seg002:3AFA		    sub	    [bp+arg_4],	si
seg002:3AFD		    jnz	    short loc_566A
seg002:3AFF		    jmp	    short loc_56D8
seg002:3B01 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:3B01
seg002:3B01 loc_56D1:				    ; CODE XREF: sub_5659+92j
seg002:3B01		    call    sub_55E3
seg002:3B04		    or	    ax,	ax
seg002:3B06		    jz	    short loc_56ED
seg002:3B08
seg002:3B08 loc_56D8:				    ; CODE XREF: sub_5659+76j
seg002:3B08		    mov	    ax,	[bp+var_2]
seg002:3B0B		    add	    ds:11D0h, ax
seg002:3B0F		    mov	    ax,	ds:11D0h
seg002:3B12		    sub	    ax,	ds:1208h
seg002:3B16		    mov	    [bp+var_2],	ax
seg002:3B19		    or	    ax,	ax
seg002:3B1B		    jg	    short loc_56D1
seg002:3B1D
seg002:3B1D loc_56ED:				    ; CODE XREF: sub_5659+3Fj
seg002:3B1D					    ; sub_5659+7Dj
seg002:3B1D		    pop	    si
seg002:3B1E		    pop	    di
seg002:3B1F		    leave
seg002:3B20		    retn
seg002:3B20 sub_5659	    endp
seg002:3B20
seg002:3B21
seg002:3B21 ;  S	U B R O	U T I N	E 
seg002:3B21
seg002:3B21 ; Attributes: bp-based frame
seg002:3B21
seg002:3B21 sub_56F1	    proc near		    ; CODE XREF: sub_4E96+4CDp
seg002:3B21
seg002:3B21 var_16	    = word ptr -16h
seg002:3B21 var_E	    = word ptr -0Eh
seg002:3B21 var_C	    = word ptr -0Ch
seg002:3B21 var_A	    = dword ptr	-0Ah
seg002:3B21 var_6	    = word ptr -6
seg002:3B21 var_4	    = word ptr -4
seg002:3B21 var_2	    = byte ptr -2
seg002:3B21 arg_0	    = word ptr	4
seg002:3B21 arg_2	    = word ptr	6
seg002:3B21
seg002:3B21		    enter   16h, 0
seg002:3B25		    push    di
seg002:3B26		    push    si
seg002:3B27		    call    sub_355A
seg002:3B2A		    mov	    ax,	[bp+arg_0]
seg002:3B2D		    sub	    dx,	dx
seg002:3B2F		    mov	    cx,	ax
seg002:3B31		    mov	    bx,	dx
seg002:3B33		    mov	    [bp+var_6],	dx
seg002:3B36		    mov	    [bp+var_4],	ax
seg002:3B39		    sub	    ax,	8
seg002:3B3C		    mov	    [bp+var_E],	dx
seg002:3B3F		    mov	    [bp+var_C],	ax
seg002:3B42		    or	    bl,	8
seg002:3B45		    mov	    word ptr [bp+var_A], cx
seg002:3B48		    mov	    word ptr [bp+var_A+2], bx
seg002:3B4B		    mov	    es,	bx
seg002:3B4D		    assume es:nothing
seg002:3B4D		    mov	    bx,	cx
seg002:3B4F		    mov	    si,	es:[bx]
seg002:3B52		    inc	    si
seg002:3B53		    shr	    si,	1
seg002:3B55		    jmp	    short loc_5792
seg002:3B57 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:3B57
seg002:3B57 loc_5727:				    ; CODE XREF: sub_56F1+A2j
seg002:3B57		    mov	    bx,	si
seg002:3B59		    shl	    bx,	1
seg002:3B5B		    add	    bx,	[bp+var_E]
seg002:3B5E		    mov	    es,	[bp+var_C]
seg002:3B61		    assume es:nothing
seg002:3B61		    mov	    di,	es:[bx]
seg002:3B64		    cmp	    di,	80h ; ''
seg002:3B68		    jb	    short loc_5792
seg002:3B6A		    add	    di,	[bp+arg_2]
seg002:3B6D		    mov	    bx,	si
seg002:3B6F		    shl	    bx,	1
seg002:3B71		    mov	    ax,	bx
seg002:3B73		    add	    bx,	[bp+var_E]
seg002:3B76		    mov	    es:[bx], di
seg002:3B79		    mov	    cx,	di
seg002:3B7B		    sub	    dx,	dx
seg002:3B7D		    mov	    [bp+var_16], cx
seg002:3B80		    or	    dl,	8
seg002:3B83		    mov	    word ptr [bp+var_A], cx
seg002:3B86		    mov	    word ptr [bp+var_A+2], dx
seg002:3B89		    mov	    es,	dx
seg002:3B8B		    assume es:nothing
seg002:3B8B		    mov	    bx,	di
seg002:3B8D		    mov	    cl,	es:[bx+5]
seg002:3B91		    mov	    [bp+var_2],	cl
seg002:3B94		    mov	    byte ptr es:[bx+5],	92h ; ''
seg002:3B99		    mov	    bx,	ax
seg002:3B9B		    add	    bx,	[bp+var_6]
seg002:3B9E		    mov	    es,	[bp+var_4]
seg002:3BA1		    assume es:nothing
seg002:3BA1		    mov	    ax,	[bp+var_16]
seg002:3BA4		    mov	    cx,	es:[bx]
seg002:3BA7		    mov	    es,	ax
seg002:3BA9		    mov	    bx,	cx
seg002:3BAB		    cmp	    word ptr es:[bx], 80h ; ''
seg002:3BB0		    jb	    short loc_5788
seg002:3BB2		    mov	    dx,	[bp+arg_2]
seg002:3BB5		    add	    es:[bx], dx
seg002:3BB8
seg002:3BB8 loc_5788:				    ; CODE XREF: sub_56F1+8Fj
seg002:3BB8		    mov	    al,	[bp+var_2]
seg002:3BBB		    les	    bx,	[bp+var_A]
seg002:3BBE		    mov	    es:[bx+5], al
seg002:3BC2
seg002:3BC2 loc_5792:				    ; CODE XREF: sub_56F1+34j
seg002:3BC2					    ; sub_56F1+47j
seg002:3BC2		    dec	    si
seg002:3BC3		    jns	    short loc_5727
seg002:3BC5		    call    sub_2D91
seg002:3BC8		    pop	    si
seg002:3BC9		    pop	    di
seg002:3BCA		    leave
seg002:3BCB		    retn
seg002:3BCB sub_56F1	    endp
seg002:3BCB
seg002:3BCC
seg002:3BCC ;  S	U B R O	U T I N	E 
seg002:3BCC
seg002:3BCC ; Attributes: bp-based frame
seg002:3BCC
seg002:3BCC sub_579C	    proc near		    ; CODE XREF: sub_4E96+FDp
seg002:3BCC					    ; sub_7256+188p ...
seg002:3BCC
seg002:3BCC var_8	    = word ptr -8
seg002:3BCC var_6	    = dword ptr	-6
seg002:3BCC var_2	    = word ptr -2
seg002:3BCC arg_0	    = word ptr	4
seg002:3BCC
seg002:3BCC		    enter   8, 0
seg002:3BD0		    push    di
seg002:3BD1		    push    si
seg002:3BD2		    mov	    [bp+var_8],	0
seg002:3BD7		    call    sub_355A
seg002:3BDA		    mov	    word ptr [bp+var_6], 0
seg002:3BDF		    mov	    word ptr [bp+var_6+2], 8
seg002:3BE4		    cmp	    [bp+arg_0],	0
seg002:3BE8		    jle	    short loc_580E
seg002:3BEA		    mov	    bx,	8
seg002:3BED		    mov	    es,	bx
seg002:3BEF		    assume es:nothing
seg002:3BEF		    mov	    si,	es:[bx]
seg002:3BF2		    shr	    si,	3
seg002:3BF5		    dec	    si
seg002:3BF6		    dec	    si
seg002:3BF7		    mov	    ax,	[bp+arg_0]
seg002:3BFA		    add	    ax,	10h
seg002:3BFD		    mov	    [bp+var_2],	ax
seg002:3C00		    jmp	    short loc_57DB
seg002:3C02 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:3C02
seg002:3C02 loc_57D2:				    ; CODE XREF: sub_579C+4Fj
seg002:3C02		    cmp	    [bp+var_2],	si
seg002:3C05		    jl	    short loc_57DA
seg002:3C07		    jmp	    loc_5863
seg002:3C0A ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:3C0A
seg002:3C0A loc_57DA:				    ; CODE XREF: sub_579C+39j
seg002:3C0A		    dec	    si
seg002:3C0B
seg002:3C0B loc_57DB:				    ; CODE XREF: sub_579C+34j
seg002:3C0B					    ; sub_579C+70j
seg002:3C0B		    mov	    bx,	si
seg002:3C0D		    shl	    bx,	3
seg002:3C10		    add	    bx,	word ptr [bp+var_6]
seg002:3C13		    mov	    es,	word ptr [bp+var_6+2]
seg002:3C16		    assume es:nothing
seg002:3C16		    cmp	    byte ptr es:[bx+5],	0
seg002:3C1B		    jnz	    short loc_57D2
seg002:3C1D		    mov	    di,	[bp+arg_0]
seg002:3C20		    dec	    di
seg002:3C21
seg002:3C21 loc_57F1:				    ; CODE XREF: sub_579C+6Ej
seg002:3C21		    dec	    di
seg002:3C22		    jns	    short loc_57F9
seg002:3C24
seg002:3C24 loc_57F4:				    ; CODE XREF: sub_579C+B7j
seg002:3C24		    mov	    [bp+var_8],	si
seg002:3C27		    jmp	    short loc_5863
seg002:3C29 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:3C29
seg002:3C29 loc_57F9:				    ; CODE XREF: sub_579C+56j
seg002:3C29		    dec	    si
seg002:3C2A		    mov	    bx,	si
seg002:3C2C		    shl	    bx,	3
seg002:3C2F		    add	    bx,	word ptr [bp+var_6]
seg002:3C32		    mov	    es,	word ptr [bp+var_6+2]
seg002:3C35		    cmp	    byte ptr es:[bx+5],	0
seg002:3C3A		    jz	    short loc_57F1
seg002:3C3C		    jmp	    short loc_57DB
seg002:3C3E ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:3C3E
seg002:3C3E loc_580E:				    ; CODE XREF: sub_579C+1Cj
seg002:3C3E		    les	    bx,	[bp+var_6]
seg002:3C41		    mov	    ax,	es:[bx+8]
seg002:3C45		    shr	    ax,	3
seg002:3C48		    add	    ax,	[bp+arg_0]
seg002:3C4B		    dec	    ax
seg002:3C4C		    dec	    ax
seg002:3C4D		    mov	    [bp+var_2],	ax
seg002:3C50		    mov	    si,	10h
seg002:3C53		    jmp	    short loc_585D
seg002:3C55 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:3C55
seg002:3C55 loc_5825:				    ; CODE XREF: sub_579C+BDj
seg002:3C55					    ; sub_579C+C5j
seg002:3C55		    mov	    bx,	si
seg002:3C57		    shl	    bx,	3
seg002:3C5A		    add	    bx,	word ptr [bp+var_6]
seg002:3C5D		    cmp	    byte ptr es:[bx+5],	0
seg002:3C62		    jnz	    short loc_5855
seg002:3C64		    mov	    di,	[bp+arg_0]
seg002:3C67		    neg	    di
seg002:3C69		    add	    si,	di
seg002:3C6B
seg002:3C6B loc_583B:				    ; CODE XREF: sub_579C+B5j
seg002:3C6B		    dec	    si
seg002:3C6C		    mov	    bx,	si
seg002:3C6E		    shl	    bx,	3
seg002:3C71		    add	    bx,	word ptr [bp+var_6]
seg002:3C74		    mov	    es,	word ptr [bp+var_6+2]
seg002:3C77		    cmp	    byte ptr es:[bx+5],	0
seg002:3C7C		    jnz	    short loc_585D
seg002:3C7E		    dec	    di
seg002:3C7F		    or	    di,	di
seg002:3C81		    jg	    short loc_583B
seg002:3C83		    jmp	    short loc_57F4
seg002:3C85 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:3C85
seg002:3C85 loc_5855:				    ; CODE XREF: sub_579C+96j
seg002:3C85		    inc	    si
seg002:3C86		    cmp	    [bp+var_2],	si
seg002:3C89		    jg	    short loc_5825
seg002:3C8B		    jmp	    short loc_5863
seg002:3C8D ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:3C8D
seg002:3C8D loc_585D:				    ; CODE XREF: sub_579C+87j
seg002:3C8D					    ; sub_579C+B0j
seg002:3C8D		    cmp	    [bp+var_8],	0
seg002:3C91		    jz	    short loc_5825
seg002:3C93
seg002:3C93 loc_5863:				    ; CODE XREF: sub_579C+3Bj
seg002:3C93					    ; sub_579C+5Bj ...
seg002:3C93		    call    sub_2D91
seg002:3C96		    mov	    ax,	[bp+var_8]
seg002:3C99		    pop	    si
seg002:3C9A		    pop	    di
seg002:3C9B		    leave
seg002:3C9C		    retn
seg002:3C9C sub_579C	    endp
seg002:3C9C
seg002:3C9D
seg002:3C9D ;  S	U B R O	U T I N	E 
seg002:3C9D
seg002:3C9D ; Attributes: bp-based frame
seg002:3C9D
seg002:3C9D sub_586D	    proc near		    ; CODE XREF: sub_4E96+4FAp
seg002:3C9D
seg002:3C9D var_12	    = dword ptr	-12h
seg002:3C9D var_E	    = word ptr -0Eh
seg002:3C9D var_C	    = word ptr -0Ch
seg002:3C9D var_6	    = word ptr -6
seg002:3C9D var_4	    = word ptr -4
seg002:3C9D var_2	    = byte ptr -2
seg002:3C9D arg_0	    = word ptr	4
seg002:3C9D arg_2	    = word ptr	6
seg002:3C9D arg_4	    = word ptr	8
seg002:3C9D
seg002:3C9D		    enter   12h, 0
seg002:3CA1		    push    di
seg002:3CA2		    push    si
seg002:3CA3		    call    sub_355A
seg002:3CA6		    mov	    ax,	[bp+arg_0]
seg002:3CA9		    sub	    dx,	dx
seg002:3CAB		    mov	    cx,	ax
seg002:3CAD		    mov	    bx,	dx
seg002:3CAF		    mov	    [bp+var_6],	dx
seg002:3CB2		    mov	    [bp+var_4],	ax
seg002:3CB5		    sub	    ax,	8
seg002:3CB8		    mov	    [bp+var_E],	dx
seg002:3CBB		    mov	    [bp+var_C],	ax
seg002:3CBE		    or	    bl,	8
seg002:3CC1		    mov	    es,	bx
seg002:3CC3		    assume es:nothing
seg002:3CC3		    mov	    bx,	cx
seg002:3CC5		    mov	    si,	es:[bx]
seg002:3CC8		    inc	    si
seg002:3CC9		    shr	    si,	1
seg002:3CCB		    jmp	    short loc_5910
seg002:3CCD ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:3CCD
seg002:3CCD loc_589D:				    ; CODE XREF: sub_586D+A4j
seg002:3CCD		    mov	    bx,	si
seg002:3CCF		    shl	    bx,	1
seg002:3CD1		    add	    bx,	[bp+var_E]
seg002:3CD4		    mov	    es,	[bp+var_C]
seg002:3CD7		    assume es:nothing
seg002:3CD7		    mov	    di,	es:[bx]
seg002:3CDA		    cmp	    di,	80h ; ''
seg002:3CDE		    jb	    short loc_5910
seg002:3CE0		    cmp	    [bp+arg_2],	di
seg002:3CE3		    jnz	    short loc_58C2
seg002:3CE5		    mov	    ax,	[bp+arg_4]
seg002:3CE8		    mov	    bx,	si
seg002:3CEA		    shl	    bx,	1
seg002:3CEC		    add	    bx,	[bp+var_E]
seg002:3CEF		    mov	    es:[bx], ax
seg002:3CF2
seg002:3CF2 loc_58C2:				    ; CODE XREF: sub_586D+46j
seg002:3CF2		    mov	    ax,	[bp+arg_2]
seg002:3CF5		    mov	    bx,	si
seg002:3CF7		    shl	    bx,	1
seg002:3CF9		    add	    bx,	[bp+var_6]
seg002:3CFC		    mov	    es,	[bp+var_4]
seg002:3CFF		    mov	    bx,	es:[bx]
seg002:3D02		    mov	    cx,	di
seg002:3D04		    mov	    es,	cx
seg002:3D06		    mov	    word ptr [bp+var_12], bx
seg002:3D09		    mov	    word ptr [bp+var_12+2], es
seg002:3D0C		    cmp	    es:[bx], ax
seg002:3D0F		    jnz	    short loc_5910
seg002:3D11		    mov	    ax,	di
seg002:3D13		    and	    al,	0F8h
seg002:3D15		    mov	    bx,	ax
seg002:3D17		    mov	    cx,	8
seg002:3D1A		    mov	    es,	cx
seg002:3D1C		    assume es:nothing
seg002:3D1C		    mov	    al,	es:[bx+5]
seg002:3D20		    mov	    [bp+var_2],	al
seg002:3D23		    mov	    byte ptr es:[bx+5],	0F2h ; '๒'
seg002:3D28		    mov	    ax,	[bp+arg_4]
seg002:3D2B		    mov	    cx,	bx
seg002:3D2D		    mov	    dx,	es
seg002:3D2F		    les	    bx,	[bp+var_12]
seg002:3D32		    assume es:nothing
seg002:3D32		    mov	    es:[bx], ax
seg002:3D35		    mov	    al,	[bp+var_2]
seg002:3D38		    mov	    es,	dx
seg002:3D3A		    assume es:nothing
seg002:3D3A		    mov	    bx,	cx
seg002:3D3C		    mov	    es:[bx+5], al
seg002:3D40
seg002:3D40 loc_5910:				    ; CODE XREF: sub_586D+2Ej
seg002:3D40					    ; sub_586D+41j ...
seg002:3D40		    dec	    si
seg002:3D41		    jns	    short loc_589D
seg002:3D43		    mov	    ax,	[bp+arg_2]
seg002:3D46		    and	    al,	0F8h
seg002:3D48		    mov	    bx,	ax
seg002:3D4A		    mov	    cx,	8
seg002:3D4D		    mov	    es,	cx
seg002:3D4F		    mov	    byte ptr es:[bx+5],	80h ; ''
seg002:3D54		    mov	    ax,	[bp+arg_4]
seg002:3D57		    mov	    es:[bx+6], ax
seg002:3D5B		    call    sub_2D91
seg002:3D5E		    pop	    si
seg002:3D5F		    pop	    di
seg002:3D60		    leave
seg002:3D61		    retn
seg002:3D61 sub_586D	    endp
seg002:3D61
seg002:3D62
seg002:3D62 ;  S	U B R O	U T I N	E 
seg002:3D62
seg002:3D62 ; Attributes: bp-based frame
seg002:3D62
seg002:3D62 sub_5932	    proc near		    ; CODE XREF: sub_4E96+51Bp
seg002:3D62
seg002:3D62 arg_0	    = word ptr	4
seg002:3D62
seg002:3D62		    enter   16h, 0
seg002:3D66		    call    sub_355A
seg002:3D69		    push    [bp+arg_0]
seg002:3D6C		    call    sub_3656
seg002:3D6F		    pop	    bx
seg002:3D70		    mov	    ax,	[bp+arg_0]
seg002:3D73		    sub	    ax,	8
seg002:3D76		    push    ax
seg002:3D77		    call    sub_3656
seg002:3D7A		    pop	    bx
seg002:3D7B		    call    sub_2D91
seg002:3D7E		    leave
seg002:3D7F		    retn
seg002:3D7F sub_5932	    endp
seg002:3D7F
seg002:3D80
seg002:3D80 ;  S	U B R O	U T I N	E 
seg002:3D80
seg002:3D80 ; Attributes: bp-based frame
seg002:3D80
seg002:3D80 sub_5950	    proc near		    ; CODE XREF: sub_4E96+48Ep
seg002:3D80
seg002:3D80 var_10	    = word ptr -10h
seg002:3D80 var_E	    = word ptr -0Eh
seg002:3D80 var_8	    = dword ptr	-8
seg002:3D80 var_4	    = dword ptr	-4
seg002:3D80 arg_0	    = word ptr	4
seg002:3D80 arg_4	    = word ptr	8
seg002:3D80
seg002:3D80		    enter   10h, 0
seg002:3D84		    push    di
seg002:3D85		    push    si
seg002:3D86		    mov	    word ptr [bp+var_8], 0
seg002:3D8B		    mov	    word ptr [bp+var_8+2], 8
seg002:3D90
seg002:3D90 loc_5960:				    ; CODE XREF: sub_5950+92j
seg002:3D90		    mov	    ax,	[bp+arg_0]
seg002:3D93		    mov	    word ptr [bp+var_4], 0
seg002:3D98		    mov	    word ptr [bp+var_4+2], ax
seg002:3D9B
seg002:3D9B loc_596B:				    ; CODE XREF: sub_5950+86j
seg002:3D9B		    les	    bx,	[bp+var_4]
seg002:3D9E		    assume es:nothing
seg002:3D9E		    mov	    ax,	es:[bx]
seg002:3DA1		    mov	    [bp+var_10], ax
seg002:3DA4		    mov	    ax,	[bp+arg_4]
seg002:3DA7		    add	    es:[bx], ax
seg002:3DAA		    mov	    cx,	[bp+var_10]
seg002:3DAD		    and	    cl,	0F8h
seg002:3DB0		    add	    ax,	cx
seg002:3DB2		    mov	    si,	ax
seg002:3DB4		    mov	    word ptr [bp+var_8], ax
seg002:3DB7		    les	    bx,	[bp+var_8]
seg002:3DBA		    mov	    al,	es:[bx+5]
seg002:3DBE		    sub	    ah,	ah
seg002:3DC0		    mov	    [bp+var_E],	ax
seg002:3DC3		    mov	    byte ptr es:[bx+5],	92h ; ''
seg002:3DC8		    add	    word ptr [bp+var_4], 2
seg002:3DCC		    les	    bx,	[bp+var_4]
seg002:3DCF		    mov	    di,	es:[bx]
seg002:3DD2		    lea	    ax,	[bx+2]
seg002:3DD5		    mov	    word ptr [bp+var_4], ax
seg002:3DD8		    jmp	    short loc_59C5
seg002:3DDA ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:3DDA
seg002:3DDA loc_59AA:				    ; CODE XREF: sub_5950+76j
seg002:3DDA		    les	    bx,	[bp+var_4]
seg002:3DDD		    add	    word ptr [bp+var_4], 2
seg002:3DE1		    mov	    bx,	es:[bx]
seg002:3DE4		    mov	    cx,	si
seg002:3DE6		    mov	    es,	cx
seg002:3DE8		    cmp	    word ptr es:[bx], 80h ; ''
seg002:3DED		    jb	    short loc_59C5
seg002:3DEF		    mov	    ax,	[bp+arg_4]
seg002:3DF2		    add	    es:[bx], ax
seg002:3DF5
seg002:3DF5 loc_59C5:				    ; CODE XREF: sub_5950+58j
seg002:3DF5					    ; sub_5950+6Dj
seg002:3DF5		    dec	    di
seg002:3DF6		    jns	    short loc_59AA
seg002:3DF8		    mov	    al,	byte ptr [bp+var_E]
seg002:3DFB		    les	    bx,	[bp+var_8]
seg002:3DFE		    mov	    es:[bx+5], al
seg002:3E02		    test    byte ptr [bp+var_10], 3
seg002:3E06		    jz	    short loc_596B
seg002:3E08		    add	    [bp+arg_0],	8
seg002:3E0C		    test    byte ptr [bp+var_10], 2
seg002:3E10		    jnz	    short loc_59E5
seg002:3E12		    jmp	    loc_5960
seg002:3E15 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:3E15
seg002:3E15 loc_59E5:				    ; CODE XREF: sub_5950+90j
seg002:3E15		    pop	    si
seg002:3E16		    pop	    di
seg002:3E17		    leave
seg002:3E18		    retn
seg002:3E18 sub_5950	    endp
seg002:3E18
seg002:3E19
seg002:3E19 ;  S	U B R O	U T I N	E 
seg002:3E19
seg002:3E19 ; Attributes: bp-based frame
seg002:3E19
seg002:3E19 sub_59E9	    proc near		    ; CODE XREF: sub_4E96+49Cp
seg002:3E19
seg002:3E19 var_10	    = word ptr -10h
seg002:3E19 var_E	    = word ptr -0Eh
seg002:3E19 var_A	    = word ptr -0Ah
seg002:3E19 var_8	    = dword ptr	-8
seg002:3E19 var_4	    = dword ptr	-4
seg002:3E19 arg_0	    = word ptr	4
seg002:3E19 arg_4	    = word ptr	8
seg002:3E19 arg_6	    = byte ptr	0Ah
seg002:3E19
seg002:3E19		    enter   14h, 0
seg002:3E1D		    push    di
seg002:3E1E		    push    si
seg002:3E1F		    mov	    word ptr [bp+var_8], 0
seg002:3E24		    mov	    word ptr [bp+var_8+2], 8
seg002:3E29
seg002:3E29 loc_59F9:				    ; CODE XREF: sub_59E9+A0j
seg002:3E29		    mov	    ax,	[bp+arg_0]
seg002:3E2C		    mov	    word ptr [bp+var_4], 0
seg002:3E31		    mov	    word ptr [bp+var_4+2], ax
seg002:3E34
seg002:3E34 loc_5A04:				    ; CODE XREF: sub_59E9+94j
seg002:3E34		    les	    bx,	[bp+var_4]
seg002:3E37		    mov	    si,	es:[bx]
seg002:3E3A		    mov	    [bp+var_10], si
seg002:3E3D		    and	    si,	0FFF8h
seg002:3E40		    cmp	    si,	[bp+arg_4]
seg002:3E43		    jnz	    short loc_5A24
seg002:3E45		    mov	    al,	byte ptr [bp+var_10]
seg002:3E48		    xor	    al,	[bp+arg_6]
seg002:3E4B		    and	    ax,	7
seg002:3E4E		    xor	    ax,	word ptr [bp+arg_6]
seg002:3E51		    mov	    es:[bx], ax
seg002:3E54
seg002:3E54 loc_5A24:				    ; CODE XREF: sub_59E9+2Aj
seg002:3E54		    mov	    word ptr [bp+var_8], si
seg002:3E57		    mov	    [bp+var_A],	si
seg002:3E5A		    les	    bx,	[bp+var_8]
seg002:3E5D		    mov	    al,	es:[bx+5]
seg002:3E61		    sub	    ah,	ah
seg002:3E63		    mov	    [bp+var_E],	ax
seg002:3E66		    mov	    byte ptr es:[bx+5],	92h ; ''
seg002:3E6B		    add	    word ptr [bp+var_4], 2
seg002:3E6F		    les	    bx,	[bp+var_4]
seg002:3E72		    mov	    di,	es:[bx]
seg002:3E75		    lea	    ax,	[bx+2]
seg002:3E78		    mov	    word ptr [bp+var_4], ax
seg002:3E7B		    jmp	    short loc_5A6C
seg002:3E7D ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:3E7D
seg002:3E7D loc_5A4D:				    ; CODE XREF: sub_59E9+84j
seg002:3E7D		    les	    bx,	[bp+var_4]
seg002:3E80		    add	    word ptr [bp+var_4], 2
seg002:3E84		    mov	    ax,	es:[bx]
seg002:3E87		    mov	    dx,	[bp+var_A]
seg002:3E8A		    mov	    es,	dx
seg002:3E8C		    mov	    bx,	ax
seg002:3E8E		    mov	    cx,	[bp+arg_4]
seg002:3E91		    cmp	    es:[bx], cx
seg002:3E94		    jnz	    short loc_5A6C
seg002:3E96		    mov	    cx,	word ptr [bp+arg_6]
seg002:3E99		    mov	    es:[bx], cx
seg002:3E9C
seg002:3E9C loc_5A6C:				    ; CODE XREF: sub_59E9+62j
seg002:3E9C					    ; sub_59E9+7Bj
seg002:3E9C		    dec	    di
seg002:3E9D		    jns	    short loc_5A4D
seg002:3E9F		    mov	    al,	byte ptr [bp+var_E]
seg002:3EA2		    les	    bx,	[bp+var_8]
seg002:3EA5		    mov	    es:[bx+5], al
seg002:3EA9		    test    byte ptr [bp+var_10], 3
seg002:3EAD		    jz	    short loc_5A04
seg002:3EAF		    add	    [bp+arg_0],	8
seg002:3EB3		    test    byte ptr [bp+var_10], 2
seg002:3EB7		    jnz	    short loc_5A8C
seg002:3EB9		    jmp	    loc_59F9
seg002:3EBC ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:3EBC
seg002:3EBC loc_5A8C:				    ; CODE XREF: sub_59E9+9Ej
seg002:3EBC		    mov	    ax,	[bp+arg_4]
seg002:3EBF		    mov	    word ptr [bp+var_8], ax
seg002:3EC2		    les	    bx,	[bp+var_8]
seg002:3EC5		    mov	    byte ptr es:[bx+5],	80h ; ''
seg002:3ECA		    mov	    ax,	word ptr [bp+arg_6]
seg002:3ECD		    les	    bx,	[bp+var_8]
seg002:3ED0		    mov	    es:[bx+6], ax
seg002:3ED4		    pop	    si
seg002:3ED5		    pop	    di
seg002:3ED6		    leave
seg002:3ED7		    retn
seg002:3ED7 sub_59E9	    endp
seg002:3ED7
seg002:3ED8
seg002:3ED8 ;  S	U B R O	U T I N	E 
seg002:3ED8
seg002:3ED8 ; Attributes: bp-based frame
seg002:3ED8
seg002:3ED8 sub_5AA8	    proc near		    ; CODE XREF: sub_496C:loc_4A7Ap
seg002:3ED8
seg002:3ED8 var_EC	    = word ptr -0ECh
seg002:3ED8 var_E8	    = byte ptr -0E8h
seg002:3ED8 var_E6	    = word ptr -0E6h
seg002:3ED8 var_E4	    = word ptr -0E4h
seg002:3ED8 var_E2	    = word ptr -0E2h
seg002:3ED8 var_62	    = word ptr -62h
seg002:3ED8 var_60	    = word ptr -60h
seg002:3ED8 var_5E	    = byte ptr -5Eh
seg002:3ED8 var_5C	    = word ptr -5Ch
seg002:3ED8 var_58	    = word ptr -58h
seg002:3ED8 var_56	    = byte ptr -56h
seg002:3ED8 var_4	    = byte ptr -4
seg002:3ED8 var_2	    = word ptr -2
seg002:3ED8
seg002:3ED8 ; FUNCTION CHUNK AT	seg002:4548 SIZE 0000003F BYTES
seg002:3ED8
seg002:3ED8		    push    bp
seg002:3ED9		    mov	    bp,	sp
seg002:3EDB		    sub	    sp,	0ECh
seg002:3EDF		    push    di
seg002:3EE0		    push    si
seg002:3EE1		    sub	    al,	al
seg002:3EE3		    mov	    [bp+var_E8], al
seg002:3EE7		    mov	    [bp+var_56], al
seg002:3EEA		    mov	    [bp+var_5E], al
seg002:3EED		    mov	    [bp+var_5C], 0
seg002:3EF2		    call    sub_7EC8
seg002:3EF5		    mov	    word ptr ds:0ACh, 0
seg002:3EFB		    mov	    word ptr ds:0AEh, 10h
seg002:3F01		    mov	    [bp+var_E6], 0FFFEh
seg002:3F07		    mov	    [bp+var_E4], 0F000h
seg002:3F0D		    mov	    word ptr ds:11D4h, 2
seg002:3F13		    mov	    bx,	0F000h
seg002:3F16		    mov	    es,	bx
seg002:3F18		    assume es:nothing
seg002:3F18		    mov	    bx,	0FFFEh
seg002:3F1B		    mov	    si,	es:[bx]
seg002:3F1E		    and	    si,	0FFh
seg002:3F22		    cmp	    si,	0FBh ; '๛'
seg002:3F26		    jz	    short loc_5AFE
seg002:3F28		    cmp	    si,	0FDh ; ''
seg002:3F2C		    jl	    short loc_5B02
seg002:3F2E
seg002:3F2E loc_5AFE:				    ; CODE XREF: sub_5AA8+4Ej
seg002:3F2E		    inc	    byte ptr ds:11F0h
seg002:3F32
seg002:3F32 loc_5B02:				    ; CODE XREF: sub_5AA8+54j
seg002:3F32		    call    sub_8492
seg002:3F35		    mov	    ds:3Eh, al
seg002:3F38		    call    sub_4910
seg002:3F3B		    mov	    si,	ax
seg002:3F3D		    mov	    word ptr ds:11D4h, 3
seg002:3F43		    mov	    al,	1
seg002:3F45		    mov	    [bp+var_4],	al
seg002:3F48		    mov	    [bp+var_5E], al
seg002:3F4B		    or	    si,	si
seg002:3F4D		    jz	    short loc_5B22
seg002:3F4F		    jmp	    loc_5D74
seg002:3F52 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:3F52
seg002:3F52 loc_5B22:				    ; CODE XREF: sub_5AA8+75j
seg002:3F52		    mov	    si,	0Ah
seg002:3F55		    sub	    al,	al
seg002:3F57		    mov	    [bp+var_4],	al
seg002:3F5A		    mov	    [bp+var_5E], al
seg002:3F5D		    lea	    ax,	[bp+var_E2]
seg002:3F61		    push    ax
seg002:3F62		    mov	    cx,	0E84h
seg002:3F65		    push    cx
seg002:3F66		    call    sub_6235
seg002:3F69		    pop	    bx
seg002:3F6A		    pop	    bx
seg002:3F6B		    mov	    di,	ax
seg002:3F6D		    or	    di,	di
seg002:3F6F		    jnz	    short loc_5B58
seg002:3F71		    lea	    ax,	[bp+var_E2]
seg002:3F75		    push    ax
seg002:3F76		    mov	    ax,	0E8Ch
seg002:3F79		    push    ax
seg002:3F7A		    call    sub_6235
seg002:3F7D		    pop	    bx
seg002:3F7E		    pop	    bx
seg002:3F7F		    mov	    di,	ax
seg002:3F81		    or	    di,	di
seg002:3F83		    jnz	    short loc_5B58
seg002:3F85		    jmp	    loc_5D74
seg002:3F88 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:3F88
seg002:3F88 loc_5B58:				    ; CODE XREF: sub_5AA8+97j
seg002:3F88					    ; sub_5AA8+ABj
seg002:3F88		    push    di
seg002:3F89		    call    sub_6215
seg002:3F8C		    pop	    bx
seg002:3F8D		    push    ax
seg002:3F8E		    push    di
seg002:3F8F		    call    sub_34C1
seg002:3F92		    pop	    bx
seg002:3F93		    pop	    bx
seg002:3F94		    mov	    [bp+var_5C], di
seg002:3F97		    mov	    ax,	0E94h
seg002:3F9A		    push    ax
seg002:3F9B		    push    di
seg002:3F9C		    call    sub_352D
seg002:3F9F		    pop	    bx
seg002:3FA0		    pop	    bx
seg002:3FA1		    or	    ax,	ax
seg002:3FA3		    jz	    short loc_5B7F
seg002:3FA5		    mov	    si,	3
seg002:3FA8		    inc	    byte ptr ds:11F0h
seg002:3FAC		    inc	    [bp+var_4]
seg002:3FAF
seg002:3FAF loc_5B7F:				    ; CODE XREF: sub_5AA8+CBj
seg002:3FAF		    mov	    ax,	0E9Ch
seg002:3FB2		    push    ax
seg002:3FB3		    push    di
seg002:3FB4		    call    sub_352D
seg002:3FB7		    pop	    bx
seg002:3FB8		    pop	    bx
seg002:3FB9		    or	    ax,	ax
seg002:3FBB		    jz	    short loc_5B90
seg002:3FBD		    inc	    [bp+var_4]
seg002:3FC0
seg002:3FC0 loc_5B90:				    ; CODE XREF: sub_5AA8+E3j
seg002:3FC0		    mov	    ax,	0EA1h
seg002:3FC3		    push    ax
seg002:3FC4		    push    di
seg002:3FC5		    call    sub_352D
seg002:3FC8		    pop	    bx
seg002:3FC9		    pop	    bx
seg002:3FCA		    or	    ax,	ax
seg002:3FCC		    jz	    short loc_5BA4
seg002:3FCE		    mov	    si,	0Bh
seg002:3FD1		    inc	    [bp+var_4]
seg002:3FD4
seg002:3FD4 loc_5BA4:				    ; CODE XREF: sub_5AA8+F4j
seg002:3FD4		    mov	    ax,	0EA6h
seg002:3FD7		    push    ax
seg002:3FD8		    push    di
seg002:3FD9		    call    sub_352D
seg002:3FDC		    pop	    bx
seg002:3FDD		    pop	    bx
seg002:3FDE		    or	    ax,	ax
seg002:3FE0		    jz	    short loc_5BE2
seg002:3FE2		    mov	    ax,	31h ; '1'
seg002:3FE5		    push    ax
seg002:3FE6		    push    word ptr ds:30h
seg002:3FEA		    call    sub_7CF0
seg002:3FED		    pop	    bx
seg002:3FEE		    pop	    bx
seg002:3FEF		    mov	    [bp+var_2],	ax
seg002:3FF2		    push    ax
seg002:3FF3		    call    sub_41F0
seg002:3FF6		    pop	    bx
seg002:3FF7		    mov	    [bp+var_58], ax
seg002:3FFA		    jmp	    short loc_5BD7
seg002:3FFC ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:3FFC
seg002:3FFC loc_5BCC:				    ; CODE XREF: sub_5AA8+132j
seg002:3FFC		    mov	    bx,	[bp+var_58]
seg002:3FFF		    add	    bx,	[bp+var_2]
seg002:4002		    mov	    al,	[bx]
seg002:4004		    mov	    [bx+1], al
seg002:4007
seg002:4007 loc_5BD7:				    ; CODE XREF: sub_5AA8+122j
seg002:4007		    dec	    [bp+var_58]
seg002:400A		    jns	    short loc_5BCC
seg002:400C		    mov	    bx,	[bp+var_2]
seg002:400F		    mov	    byte ptr [bx], 20h ; ' '
seg002:4012
seg002:4012 loc_5BE2:				    ; CODE XREF: sub_5AA8+108j
seg002:4012		    mov	    ax,	0EABh
seg002:4015		    push    ax
seg002:4016		    push    di
seg002:4017		    call    sub_352D
seg002:401A		    pop	    bx
seg002:401B		    pop	    bx
seg002:401C		    or	    ax,	ax
seg002:401E		    jnz	    short loc_5BFE
seg002:4020		    mov	    ax,	0EAFh
seg002:4023		    push    ax
seg002:4024		    push    di
seg002:4025		    call    sub_352D
seg002:4028		    pop	    bx
seg002:4029		    pop	    bx
seg002:402A		    or	    ax,	ax
seg002:402C		    jz	    short loc_5C06
seg002:402E
seg002:402E loc_5BFE:				    ; CODE XREF: sub_5AA8+146j
seg002:402E		    mov	    si,	2
seg002:4031		    inc	    [bp+var_4]
seg002:4034		    jmp	    short loc_5C35
seg002:4036 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4036
seg002:4036 loc_5C06:				    ; CODE XREF: sub_5AA8+154j
seg002:4036		    push    di
seg002:4037		    call    sub_7C50
seg002:403A		    pop	    bx
seg002:403B		    mov	    [bp+var_62], ax
seg002:403E		    mov	    [bp+var_60], dx
seg002:4041		    or	    dx,	ax
seg002:4043		    jz	    short loc_5C35
seg002:4045		    inc	    [bp+var_4]
seg002:4048		    cmp	    [bp+var_60], 1
seg002:404C		    jl	    short loc_5C33
seg002:404E		    jg	    short loc_5C24
seg002:4050		    or	    ax,	ax
seg002:4052		    jz	    short loc_5C33
seg002:4054
seg002:4054 loc_5C24:				    ; CODE XREF: sub_5AA8+176j
seg002:4054		    mov	    dx,	[bp+var_60]
seg002:4057		    sub	    ax,	3880h
seg002:405A		    sbb	    dx,	1
seg002:405D		    mov	    [bp+var_62], ax
seg002:4060		    mov	    [bp+var_60], dx
seg002:4063
seg002:4063 loc_5C33:				    ; CODE XREF: sub_5AA8+174j
seg002:4063					    ; sub_5AA8+17Aj
seg002:4063		    mov	    si,	ax
seg002:4065
seg002:4065 loc_5C35:				    ; CODE XREF: sub_5AA8+15Cj
seg002:4065					    ; sub_5AA8+16Bj
seg002:4065		    mov	    ax,	2Ch ; ','
seg002:4068		    push    ax
seg002:4069		    mov	    [bp+var_2],	di
seg002:406C		    push    di
seg002:406D		    call    sub_7CF0
seg002:4070		    pop	    bx
seg002:4071		    pop	    bx
seg002:4072		    mov	    di,	ax
seg002:4074		    or	    di,	di
seg002:4076		    jz	    short loc_5C62
seg002:4078		    lea	    ax,	[di+1]
seg002:407B		    push    ax
seg002:407C		    call    sub_7C4C
seg002:407F		    pop	    bx
seg002:4080		    mov	    [bp+var_58], ax
seg002:4083		    or	    ax,	ax
seg002:4085		    jl	    short loc_5C62
seg002:4087		    inc	    ax
seg002:4088		    mov	    ds:12h, ax
seg002:408B		    mov	    ds:10h, ax
seg002:408E		    inc	    [bp+var_E8]
seg002:4092
seg002:4092 loc_5C62:				    ; CODE XREF: sub_5AA8+19Ej
seg002:4092					    ; sub_5AA8+1ADj
seg002:4092		    mov	    ax,	40h ; '@'
seg002:4095		    push    ax
seg002:4096		    push    [bp+var_2]
seg002:4099		    call    sub_7CF0
seg002:409C		    pop	    bx
seg002:409D		    pop	    bx
seg002:409E		    mov	    di,	ax
seg002:40A0		    or	    di,	di
seg002:40A2		    jz	    short loc_5CAF
seg002:40A4		    push    di
seg002:40A5		    call    sub_6193
seg002:40A8		    pop	    bx
seg002:40A9		    mov	    [bp+var_58], ax
seg002:40AC		    or	    ax,	ax
seg002:40AE		    jz	    short loc_5C88
seg002:40B0		    mov	    ds:0ECAh, ax
seg002:40B3		    or	    byte ptr ds:11D2h, 2
seg002:40B8
seg002:40B8 loc_5C88:				    ; CODE XREF: sub_5AA8+1D6j
seg002:40B8		    mov	    ax,	2Dh ; '-'
seg002:40BB		    push    ax
seg002:40BC		    push    di
seg002:40BD		    call    sub_7CF0
seg002:40C0		    pop	    bx
seg002:40C1		    pop	    bx
seg002:40C2		    mov	    di,	ax	    ; CODE XREF: sub_3C51+3J
seg002:40C4		    or	    di,	di
seg002:40C6		    jz	    short loc_5CAF
seg002:40C8		    push    di
seg002:40C9		    call    sub_6193
seg002:40CC		    pop	    bx
seg002:40CD		    mov	    [bp+var_58], ax
seg002:40D0		    or	    ax,	ax
seg002:40D2		    jz	    short loc_5CAF
seg002:40D4		    mov	    ds:0ECEh, ax
seg002:40D7		    inc	    [bp+var_5E]
seg002:40DA		    or	    byte ptr ds:11D2h, 4
seg002:40DF
seg002:40DF loc_5CAF:				    ; CODE XREF: sub_5AA8+1CAj
seg002:40DF					    ; sub_5AA8+1EEj ...
seg002:40DF		    mov	    ax,	3Ah ; ':'
seg002:40E2		    push    ax
seg002:40E3		    push    [bp+var_2]
seg002:40E6		    call    sub_7CF0
seg002:40E9		    pop	    bx
seg002:40EA		    pop	    bx
seg002:40EB		    mov	    di,	ax
seg002:40ED		    or	    di,	di
seg002:40EF		    jz	    short loc_5CD1
seg002:40F1		    push    di
seg002:40F2		    call    sub_6193
seg002:40F5		    pop	    bx
seg002:40F6		    mov	    ds:0ECCh, ax
seg002:40F9		    inc	    [bp+var_5E]
seg002:40FC		    or	    byte ptr ds:11D2h, 1
seg002:4101
seg002:4101 loc_5CD1:				    ; CODE XREF: sub_5AA8+217j
seg002:4101		    mov	    ax,	5Eh ; '^'
seg002:4104		    push    ax
seg002:4105		    push    [bp+var_2]
seg002:4108		    call    sub_7CF0
seg002:410B		    pop	    bx
seg002:410C		    pop	    bx
seg002:410D		    mov	    di,	ax
seg002:410F		    or	    di,	di
seg002:4111		    jz	    short loc_5CEB
seg002:4113		    push    di
seg002:4114		    call    sub_6193
seg002:4117		    pop	    bx
seg002:4118		    mov	    ds:14h, ax
seg002:411B
seg002:411B loc_5CEB:				    ; CODE XREF: sub_5AA8+239j
seg002:411B		    mov	    ax,	0EB4h
seg002:411E		    push    ax
seg002:411F		    push    [bp+var_2]
seg002:4122		    call    sub_7D1A
seg002:4125		    pop	    bx
seg002:4126		    pop	    bx
seg002:4127		    or	    ax,	ax
seg002:4129		    jz	    short loc_5CFF
seg002:412B		    inc	    byte ptr ds:11F1h
seg002:412F
seg002:412F loc_5CFF:				    ; CODE XREF: sub_5AA8+251j
seg002:412F		    mov	    ax,	0EB9h
seg002:4132		    push    ax
seg002:4133		    push    [bp+var_2]
seg002:4136		    call    sub_7D1A
seg002:4139		    pop	    bx
seg002:413A		    pop	    bx
seg002:413B		    or	    ax,	ax
seg002:413D		    jz	    short loc_5D14
seg002:413F		    mov	    byte ptr ds:36h, 80h ; ''
seg002:4144
seg002:4144 loc_5D14:				    ; CODE XREF: sub_5AA8+265j
seg002:4144		    mov	    ax,	2Bh ; '+'
seg002:4147		    push    ax
seg002:4148		    push    [bp+var_2]
seg002:414B		    call    sub_7CF0
seg002:414E		    pop	    bx
seg002:414F		    pop	    bx
seg002:4150		    or	    ax,	ax
seg002:4152		    jz	    short loc_5D29
seg002:4154		    or	    byte ptr ds:47h, 2
seg002:4159
seg002:4159 loc_5D29:				    ; CODE XREF: sub_5AA8+27Aj
seg002:4159		    mov	    ax,	56h ; 'V'
seg002:415C		    push    ax
seg002:415D		    push    [bp+var_2]
seg002:4160		    call    sub_7CF0
seg002:4163		    pop	    bx
seg002:4164		    pop	    bx
seg002:4165		    mov	    di,	ax
seg002:4167		    or	    di,	di
seg002:4169		    jz	    short loc_5D50
seg002:416B		    cmp	    byte ptr [di+1], 43h ; 'C'
seg002:416F		    jz	    short loc_5D50
seg002:4171		    push    di
seg002:4172		    call    sub_6193
seg002:4175		    pop	    bx
seg002:4176		    mov	    [bp+var_58], ax
seg002:4179		    or	    ax,	ax
seg002:417B		    jz	    short loc_5D50
seg002:417D		    mov	    ds:34h, al
seg002:4180
seg002:4180 loc_5D50:				    ; CODE XREF: sub_5AA8+291j
seg002:4180					    ; sub_5AA8+297j ...
seg002:4180		    mov	    ax,	0EBDh
seg002:4183		    push    ax
seg002:4184		    push    [bp+var_2]
seg002:4187		    call    sub_7D1A
seg002:418A		    pop	    bx
seg002:418B		    pop	    bx
seg002:418C		    mov	    di,	ax
seg002:418E		    or	    di,	di
seg002:4190		    jz	    short loc_5D74
seg002:4192		    lea	    ax,	[di+3]
seg002:4195		    push    ax
seg002:4196		    call    sub_6193
seg002:4199		    pop	    bx
seg002:419A		    mov	    [bp+var_58], ax
seg002:419D		    or	    ax,	ax
seg002:419F		    jz	    short loc_5D74
seg002:41A1		    mov	    ds:0D0Eh, ax
seg002:41A4
seg002:41A4 loc_5D74:				    ; CODE XREF: sub_5AA8+77j
seg002:41A4					    ; sub_5AA8+ADj ...
seg002:41A4		    push    si
seg002:41A5		    call    sub_6157
seg002:41A8		    pop	    bx
seg002:41A9		    or	    ax,	ax
seg002:41AB		    jz	    short loc_5D82
seg002:41AD		    call    sub_7F65
seg002:41B0		    jmp	    short loc_5D87
seg002:41B2 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:41B2
seg002:41B2 loc_5D82:				    ; CODE XREF: sub_5AA8+2D3j
seg002:41B2		    or	    byte ptr ds:47h, 1
seg002:41B7
seg002:41B7 loc_5D87:				    ; CODE XREF: sub_5AA8+2D8j
seg002:41B7		    call    sub_855B
seg002:41BA		    or	    si,	si
seg002:41BC		    jge	    short loc_5DA5
seg002:41BE		    inc	    [bp+var_56]
seg002:41C1		    mov	    ax,	si
seg002:41C3		    neg	    ax
seg002:41C5		    mov	    si,	ax
seg002:41C7		    cmp	    si,	0Bh
seg002:41CA		    jz	    short loc_5D9F
seg002:41CC		    jmp	    loc_5E97
seg002:41CF ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:41CF
seg002:41CF loc_5D9F:				    ; CODE XREF: sub_5AA8+2F2j
seg002:41CF		    call    sub_92AB
seg002:41D2		    jmp	    loc_5E97
seg002:41D5 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:41D5
seg002:41D5 loc_5DA5:				    ; CODE XREF: sub_5AA8+2E4j
seg002:41D5		    call    sub_8272
seg002:41D8		    or	    ax,	ax
seg002:41DA		    jz	    short loc_5DAF
seg002:41DC		    mov	    si,	10h
seg002:41DF
seg002:41DF loc_5DAF:				    ; CODE XREF: sub_5AA8+302j
seg002:41DF		    cmp	    si,	2
seg002:41E2		    jnz	    short loc_5DB7
seg002:41E4		    call    sub_8237
seg002:41E7
seg002:41E7 loc_5DB7:				    ; CODE XREF: sub_5AA8+30Aj
seg002:41E7		    cmp	    byte ptr ds:2Fh, 3
seg002:41EC		    jl	    short loc_5E27
seg002:41EE		    mov	    word ptr ds:9C2h, 296Dh
seg002:41F4		    call    loc_81E8
seg002:41F7		    mov	    ds:2Fh, al
seg002:41FA		    call    sub_896C
seg002:41FD		    mov	    [bp+var_58], ax
seg002:4200		    or	    ax,	ax
seg002:4202		    jz	    short loc_5DED
seg002:4204		    mov	    ax,	si
seg002:4206		    mov	    ds:46h, al
seg002:4209		    cmp	    si,	0Bh
seg002:420C		    jnz	    short loc_5DE8
seg002:420E		    call    sub_92AB
seg002:4211		    or	    ax,	ax
seg002:4213		    jle	    short loc_5DE8
seg002:4215		    jmp	    loc_5E97
seg002:4218 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4218
seg002:4218 loc_5DE8:				    ; CODE XREF: sub_5AA8+334j
seg002:4218					    ; sub_5AA8+33Bj
seg002:4218		    sub	    si,	si
seg002:421A		    jmp	    loc_6118
seg002:421D ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:421D
seg002:421D loc_5DED:				    ; CODE XREF: sub_5AA8+32Aj
seg002:421D		    call    sub_92AB
seg002:4220		    mov	    [bp+var_58], ax
seg002:4223		    or	    ax,	ax
seg002:4225		    jle	    short loc_5E02
seg002:4227		    mov	    ax,	si
seg002:4229		    mov	    ds:46h, al
seg002:422C		    mov	    si,	0Bh
seg002:422F		    jmp	    loc_5E97
seg002:4232 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4232
seg002:4232 loc_5E02:				    ; CODE XREF: sub_5AA8+34Dj
seg002:4232		    mov	    word ptr ds:11D4h, 4
seg002:4238		    or	    ax,	ax
seg002:423A		    jge	    short loc_5E14
seg002:423C		    mov	    ax,	11h
seg002:423F		    push    ax
seg002:4240		    call    sub_3E7D
seg002:4243		    pop	    bx
seg002:4244
seg002:4244 loc_5E14:				    ; CODE XREF: sub_5AA8+362j
seg002:4244		    push    si
seg002:4245		    call    sub_6157
seg002:4248		    pop	    bx
seg002:4249		    or	    ax,	ax
seg002:424B		    jnz	    short loc_5E27
seg002:424D		    mov	    si,	3
seg002:4250		    call    sub_8242
seg002:4253		    or	    ax,	ax
seg002:4255		    jz	    short loc_5E97
seg002:4257
seg002:4257 loc_5E27:				    ; CODE XREF: sub_5AA8+314j
seg002:4257					    ; sub_5AA8+373j
seg002:4257		    push    si
seg002:4258		    call    sub_6157
seg002:425B		    pop	    bx
seg002:425C		    or	    ax,	ax
seg002:425E		    jnz	    short loc_5E3C
seg002:4260		    call    sub_8242
seg002:4263		    or	    ax,	ax
seg002:4265		    jz	    short loc_5E3C
seg002:4267		    mov	    si,	2
seg002:426A		    jmp	    short loc_5E97
seg002:426C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:426C
seg002:426C loc_5E3C:				    ; CODE XREF: sub_5AA8+386j
seg002:426C					    ; sub_5AA8+38Dj
seg002:426C		    cmp	    [bp+var_4],	0
seg002:4270		    jnz	    short loc_5E97
seg002:4272		    call    sub_846E
seg002:4275		    push    dx
seg002:4276		    push    ax
seg002:4277		    call    sub_8439
seg002:427A		    pop	    bx
seg002:427B		    pop	    bx
seg002:427C		    mov	    [bp+var_EC], ax
seg002:427C sub_5AA8	    endp
seg002:427C
seg002:4280
seg002:4280 ;  S	U B R O	U T I N	E 
seg002:4280
seg002:4280
seg002:4280 sub_5E50	    proc near		    ; CODE XREF: sub_9832:loc_962AP
seg002:4280
seg002:4280 ; FUNCTION CHUNK AT	seg002:42EF SIZE 00000259 BYTES
seg002:4280
seg002:4280		    mov	    [bp-0EAh], dx
seg002:4284		    or	    dx,	ax
seg002:4286		    jnz	    short loc_5E7A
seg002:4288		    call    sub_8489
seg002:428B		    push    dx
seg002:428C		    push    ax
seg002:428D		    call    sub_8439
seg002:4290		    pop	    bx
seg002:4291		    pop	    bx
seg002:4292		    mov	    [bp-0ECh], ax
seg002:4296		    mov	    [bp-0EAh], dx
seg002:429A		    or	    dx,	ax
seg002:429C		    jnz	    short loc_5E7A
seg002:429E		    mov	    word ptr [bp-0ECh],	0
seg002:42A4		    mov	    word ptr [bp-0EAh],	9
seg002:42AA
seg002:42AA loc_5E7A:				    ; CODE XREF: sub_5E50+6j
seg002:42AA					    ; sub_5E50+1Cj
seg002:42AA		    cmp	    byte ptr [bp-0E8h],	0
seg002:42AF		    jnz	    short loc_5E93
seg002:42B1		    cmp	    word ptr [bp-0ECh],	0
seg002:42B6		    jz	    short loc_5E93
seg002:42B8		    mov	    ax,	[bp-0ECh]
seg002:42BC		    inc	    ax
seg002:42BD		    mov	    ds:12h, ax
seg002:42C0		    mov	    ds:10h, ax
seg002:42C3
seg002:42C3 loc_5E93:				    ; CODE XREF: sub_5E50+2Fj
seg002:42C3					    ; sub_5E50+36j
seg002:42C3		    mov	    si,	[bp-0EAh]
seg002:42C7
seg002:42C7 loc_5E97:				    ; CODE XREF: sub_5AA8+2F4j
seg002:42C7					    ; sub_5AA8+2FAj ...
seg002:42C7		    cmp	    si,	0Bh
seg002:42CA		    jz	    short loc_5EA6
seg002:42CC		    test    byte ptr ds:47h, 80h
seg002:42D1		    jz	    short loc_5EA6
seg002:42D3		    call    sub_857C
seg002:42D6
seg002:42D6 loc_5EA6:				    ; CODE XREF: sub_5E50+4Aj
seg002:42D6					    ; sub_5E50+51j
seg002:42D6		    mov	    byte ptr ds:10EEh, 0FFh
seg002:42DB		    mov	    ax,	si
seg002:42DD		    dec	    ax
seg002:42DE		    jnz	    short loc_5EB3
seg002:42E0		    jmp	    loc_5F3E
seg002:42E3 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:42E3
seg002:42E3 loc_5EB3:				    ; CODE XREF: sub_5E50+5Ej
seg002:42E3		    dec	    ax
seg002:42E4		    jnz	    short loc_5EB9
seg002:42E6		    jmp	    loc_5FBD
seg002:42E9 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:42E9
seg002:42E9 loc_5EB9:				    ; CODE XREF: sub_5E50+64j
seg002:42E9		    dec	    ax
seg002:42EA		    jnz	    short loc_5EBF  ; CODE XREF: seg002:7B1BP
seg002:42EA sub_5E50	    endp
seg002:42EA
seg002:42EC		    jmp	    loc_5FDE
seg002:42EF ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:42EF ; START OF FUNCTION	CHUNK FOR sub_5E50
seg002:42EF
seg002:42EF loc_5EBF:				    ; CODE XREF: sub_5E50+6Aj
seg002:42EF		    dec	    ax
seg002:42F0		    jnz	    short loc_5EC5
seg002:42F2		    jmp	    loc_6039
seg002:42F5 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:42F5
seg002:42F5 loc_5EC5:				    ; CODE XREF: sub_5E50+70j
seg002:42F5		    dec	    ax
seg002:42F6		    jnz	    short loc_5ECB
seg002:42F8		    jmp	    loc_5FF3
seg002:42FB ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:42FB
seg002:42FB loc_5ECB:				    ; CODE XREF: sub_5E50+76j
seg002:42FB		    dec	    ax
seg002:42FC		    jnz	    short loc_5ED1
seg002:42FE		    jmp	    loc_602C
seg002:4301 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4301
seg002:4301 loc_5ED1:				    ; CODE XREF: sub_5E50+7Cj
seg002:4301		    dec	    ax
seg002:4302		    jnz	    short loc_5ED7
seg002:4304		    jmp	    loc_603C
seg002:4307 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4307
seg002:4307 loc_5ED7:				    ; CODE XREF: sub_5E50+82j
seg002:4307		    dec	    ax
seg002:4308		    jnz	    short loc_5EDD
seg002:430A		    jmp	    loc_6056
seg002:430D ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:430D
seg002:430D loc_5EDD:				    ; CODE XREF: sub_5E50+88j
seg002:430D		    dec	    ax
seg002:430E		    jnz	    short loc_5EE3
seg002:4310		    jmp	    loc_603C
seg002:4313 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4313
seg002:4313 loc_5EE3:				    ; CODE XREF: sub_5E50+8Ej
seg002:4313		    dec	    ax
seg002:4314		    jnz	    short loc_5EE9
seg002:4316		    jmp	    loc_6073
seg002:4319 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4319
seg002:4319 loc_5EE9:				    ; CODE XREF: sub_5E50+94j
seg002:4319		    dec	    ax
seg002:431A		    jnz	    short loc_5EEF
seg002:431C		    jmp	    loc_607B
seg002:431F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:431F
seg002:431F loc_5EEF:				    ; CODE XREF: sub_5E50+9Aj
seg002:431F		    dec	    ax
seg002:4320		    jnz	    short loc_5EF5
seg002:4322		    jmp	    loc_6082
seg002:4325 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4325
seg002:4325 loc_5EF5:				    ; CODE XREF: sub_5E50+A0j
seg002:4325		    dec	    ax
seg002:4326		    jnz	    short loc_5EFB
seg002:4328		    jmp	    loc_6089
seg002:432B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:432B
seg002:432B loc_5EFB:				    ; CODE XREF: sub_5E50+A6j
seg002:432B		    dec	    ax
seg002:432C		    jnz	    short loc_5F01
seg002:432E		    jmp	    loc_6096
seg002:4331 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4331
seg002:4331 loc_5F01:				    ; CODE XREF: sub_5E50+ACj
seg002:4331		    dec	    ax
seg002:4332		    jnz	    short loc_5F07
seg002:4334		    jmp	    loc_609E
seg002:4337 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4337
seg002:4337 loc_5F07:				    ; CODE XREF: sub_5E50+B2j
seg002:4337		    dec	    ax
seg002:4338		    jnz	    short loc_5F0D
seg002:433A		    jmp	    loc_60B0
seg002:433D ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:433D
seg002:433D loc_5F0D:				    ; CODE XREF: sub_5E50+B8j
seg002:433D		    sub	    ax,	3
seg002:4340		    jnz	    short loc_5F15
seg002:4342		    jmp	    loc_6034
seg002:4345 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4345
seg002:4345 loc_5F15:				    ; CODE XREF: sub_5E50+C0j
seg002:4345		    dec	    ax
seg002:4346		    jnz	    short loc_5F1B
seg002:4348		    jmp	    loc_606B
seg002:434B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:434B
seg002:434B loc_5F1B:				    ; CODE XREF: sub_5E50+C6j
seg002:434B		    sub	    ax,	10Ah
seg002:434E		    jnz	    short loc_5F23
seg002:4350		    jmp	    loc_6039
seg002:4353 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4353
seg002:4353 loc_5F23:				    ; CODE XREF: sub_5E50+CEj
seg002:4353		    sub	    ax,	64h ; 'd'
seg002:4356		    jnz	    short loc_5F2B
seg002:4358		    jmp	    loc_5FDB
seg002:435B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:435B
seg002:435B loc_5F2B:				    ; CODE XREF: sub_5E50+D6j
seg002:435B		    sub	    ax,	171Ah
seg002:435E		    jnz	    short loc_5F33
seg002:4360		    jmp	    loc_6029
seg002:4363 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4363
seg002:4363 loc_5F33:				    ; CODE XREF: sub_5E50+DEj
seg002:4363		    sub	    ax,	0DADh
seg002:4366		    jz	    short loc_5F3B
seg002:4368		    jmp	    loc_60B7
seg002:436B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:436B
seg002:436B loc_5F3B:				    ; CODE XREF: sub_5E50+E6j
seg002:436B		    mov	    si,	1
seg002:436E
seg002:436E loc_5F3E:				    ; CODE XREF: sub_5E50+60j
seg002:436E		    mov	    word ptr [bp-5Ah], 381h
seg002:4373		    cmp	    byte ptr [bp-5Eh], 0
seg002:4377		    jnz	    short loc_5F56
seg002:4379		    call    sub_8844
seg002:437C		    or	    ax,	ax
seg002:437E		    jnz	    short loc_5F56
seg002:4380		    call    sub_7FD0
seg002:4383		    mov	    [bp-5Eh], al
seg002:4386
seg002:4386 loc_5F56:				    ; CODE XREF: sub_5E50+F7j
seg002:4386					    ; sub_5E50+FEj
seg002:4386		    mov	    word ptr ds:11FEh, 146h
seg002:438C		    mov	    word ptr ds:1200h, 40h ; '@'
seg002:4392		    les	    bx,	ds:11FEh
seg002:4396		    assume es:nothing
seg002:4396		    test    byte ptr es:[bx], 80h
seg002:439A		    jz	    short loc_5F7A
seg002:439C		    cmp	    word ptr ds:0ECAh, 500h
seg002:43A2		    jnb	    short loc_5F7A
seg002:43A4		    mov	    word ptr ds:0ECAh, 500h
seg002:43AA
seg002:43AA loc_5F7A:				    ; CODE XREF: sub_5E50+11Aj
seg002:43AA					    ; sub_5E50+122j ...
seg002:43AA		    or	    byte ptr ds:14h, 4
seg002:43AF		    mov	    word ptr ds:11D4h, 5
seg002:43B5		    cmp	    byte ptr [bp-5Eh], 0
seg002:43B9		    jnz	    short loc_5F9A
seg002:43BB		    call    sub_8844
seg002:43BE		    or	    ax,	ax
seg002:43C0		    jnz	    short loc_5F9A
seg002:43C2		    mov	    ax,	12h
seg002:43C5		    push    ax
seg002:43C6		    call    sub_3E7D
seg002:43C9		    pop	    bx
seg002:43CA
seg002:43CA loc_5F9A:				    ; CODE XREF: sub_5E50+139j
seg002:43CA					    ; sub_5E50+140j
seg002:43CA		    mov	    ax,	ds:0ECCh
seg002:43CD		    add	    ax,	ds:0ECAh
seg002:43D1		    mov	    [bp-58h], ax
seg002:43D4		    cmp	    ax,	ds:0ECEh
seg002:43D8		    jge	    short loc_5FAD
seg002:43DA		    mov	    ds:0ECEh, ax
seg002:43DD
seg002:43DD loc_5FAD:				    ; CODE XREF: sub_5E50+158j
seg002:43DD		    mov	    ax,	ds:0ECEh
seg002:43E0		    sub	    ax,	400h
seg002:43E3		    mov	    ds:0A8h, ax
seg002:43E6		    inc	    byte ptr ds:11F0h
seg002:43EA		    jmp	    loc_60EE
seg002:43ED ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:43ED
seg002:43ED loc_5FBD:				    ; CODE XREF: sub_5E50+66j
seg002:43ED		    mov	    word ptr [bp-5Ah], 8DAh
seg002:43F2		    call    sub_8242
seg002:43F5		    mov	    ds:120Ch, al
seg002:43F8		    cmp	    byte ptr [bp-56h], 0
seg002:43FC		    jz	    short loc_5FD3
seg002:43FE		    or	    byte ptr ds:120Ch, 2
seg002:4403
seg002:4403 loc_5FD3:				    ; CODE XREF: sub_5E50+17Cj
seg002:4403					    ; sub_5E50+243j
seg002:4403		    mov	    byte ptr ds:10EFh, 1
seg002:4408		    jmp	    loc_60EE
seg002:440B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:440B
seg002:440B loc_5FDB:				    ; CODE XREF: sub_5E50+D8j
seg002:440B		    mov	    si,	3
seg002:440E
seg002:440E loc_5FDE:				    ; CODE XREF: seg002:42ECj
seg002:440E		    mov	    word ptr [bp-5Ah], 2824h
seg002:4413		    mov	    byte ptr ds:10EEh, 9
seg002:4418
seg002:4418 loc_5FE8:				    ; CODE XREF: sub_5E50+1F6j
seg002:4418					    ; sub_5E50+1FDj ...
seg002:4418		    mov	    byte ptr ds:10EFh, 1
seg002:441D		    call    sub_85B0
seg002:4420		    jmp	    loc_60EE
seg002:4423 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4423
seg002:4423 loc_5FF3:				    ; CODE XREF: sub_5E50+78j
seg002:4423		    mov	    word ptr [bp-5Ah], 3A7h
seg002:4428		    cmp	    byte ptr ds:2Fh, 3
seg002:442D		    jl	    short loc_6007
seg002:442F
seg002:442F loc_5FFF:				    ; CODE XREF: sub_5E50:loc_60ADj
seg002:442F		    mov	    byte ptr ds:36h, 80h ; ''
seg002:4434		    jmp	    loc_5F7A
seg002:4437 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4437
seg002:4437 loc_6007:				    ; CODE XREF: sub_5E50+1ADj
seg002:4437		    cmp	    byte ptr ds:3Eh, 0
seg002:443C		    jnz	    short loc_6011
seg002:443E		    jmp	    loc_5F7A
seg002:4441 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4441
seg002:4441 loc_6011:				    ; CODE XREF: sub_5E50+1BCj
seg002:4441		    mov	    ax,	5Eh ; '^'
seg002:4444		    push    ax
seg002:4445		    call    sub_B12
seg002:444A		    pop	    bx
seg002:444B		    mov	    ax,	5Eh ; '^'
seg002:444E		    push    ax
seg002:444F		    call    sub_400E
seg002:4452		    pop	    bx
seg002:4453		    mov	    ds:0F82h, ax
seg002:4456		    jmp	    loc_5F7A
seg002:4459 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4459
seg002:4459 loc_6029:				    ; CODE XREF: sub_5E50+E0j
seg002:4459		    mov	    si,	6
seg002:445C
seg002:445C loc_602C:				    ; CODE XREF: sub_5E50+7Ej
seg002:445C		    mov	    word ptr [bp-5Ah], 71Ah
seg002:4461		    jmp	    loc_60EE
seg002:4464 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4464
seg002:4464 loc_6034:				    ; CODE XREF: sub_5E50+C2j
seg002:4464		    mov	    byte ptr ds:0ED0h, 0
seg002:4469
seg002:4469 loc_6039:				    ; CODE XREF: sub_5E50+72j
seg002:4469					    ; sub_5E50+D0j
seg002:4469		    mov	    si,	9
seg002:446C
seg002:446C loc_603C:				    ; CODE XREF: sub_5E50+84j
seg002:446C					    ; sub_5E50+90j
seg002:446C		    mov	    word ptr [bp-5Ah], 8B2h
seg002:4471		    cmp	    byte ptr ds:11F0h, 0
seg002:4476		    jz	    short loc_5FE8
seg002:4478		    cmp	    byte ptr ds:2Fh, 2
seg002:447D		    jnz	    short loc_5FE8
seg002:447F		    call    sub_8289
seg002:4482		    or	    ax,	ax
seg002:4484		    jz	    short loc_6066
seg002:4486
seg002:4486 loc_6056:				    ; CODE XREF: sub_5E50+8Aj
seg002:4486		    mov	    si,	8
seg002:4489		    mov	    byte ptr ds:10EEh, 0Ah
seg002:448E		    mov	    word ptr [bp-5Ah], 749h
seg002:4493		    jmp	    loc_60EE
seg002:4496 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4496
seg002:4496 loc_6066:				    ; CODE XREF: sub_5E50+204j
seg002:4496		    mov	    ax,	13h
seg002:4499		    jmp	    short loc_60E9
seg002:449B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:449B
seg002:449B loc_606B:				    ; CODE XREF: sub_5E50+C8j
seg002:449B		    mov	    byte ptr ds:0ED0h, 0
seg002:44A0		    mov	    si,	0Ah
seg002:44A3
seg002:44A3 loc_6073:				    ; CODE XREF: sub_5E50+96j
seg002:44A3		    mov	    word ptr [bp-5Ah], 905h
seg002:44A8		    jmp	    loc_5FE8
seg002:44AB ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:44AB
seg002:44AB loc_607B:				    ; CODE XREF: sub_5E50+9Cj
seg002:44AB		    mov	    word ptr [bp-5Ah], 29BCh
seg002:44B0		    jmp	    short loc_60EE
seg002:44B2 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:44B2
seg002:44B2 loc_6082:				    ; CODE XREF: sub_5E50+A2j
seg002:44B2		    mov	    word ptr [bp-5Ah], 679h
seg002:44B7		    jmp	    short loc_60EE
seg002:44B9 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:44B9
seg002:44B9 loc_6089:				    ; CODE XREF: sub_5E50+A8j
seg002:44B9		    mov	    word ptr [bp-5Ah], 8ACh
seg002:44BE		    mov	    byte ptr ds:10EEh, 9
seg002:44C3		    jmp	    loc_5FD3
seg002:44C6 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:44C6
seg002:44C6 loc_6096:				    ; CODE XREF: sub_5E50+AEj
seg002:44C6		    mov	    word ptr [bp-5Ah], 3D6h
seg002:44CB		    jmp	    loc_5F7A
seg002:44CE ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:44CE
seg002:44CE loc_609E:				    ; CODE XREF: sub_5E50+B4j
seg002:44CE		    mov	    word ptr [bp-5Ah], 462h
seg002:44D3		    cmp	    byte ptr ds:2Fh, 3
seg002:44D8		    jge	    short loc_60AD
seg002:44DA		    jmp	    loc_5F7A
seg002:44DD ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:44DD
seg002:44DD loc_60AD:				    ; CODE XREF: sub_5E50+258j
seg002:44DD		    jmp	    loc_5FFF
seg002:44E0 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:44E0
seg002:44E0 loc_60B0:				    ; CODE XREF: sub_5E50+BAj
seg002:44E0		    mov	    word ptr [bp-5Ah], 4F7h
seg002:44E5		    jmp	    short loc_60EE
seg002:44E7 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:44E7
seg002:44E7 loc_60B7:				    ; CODE XREF: sub_5E50+E8j
seg002:44E7		    mov	    di,	1190h
seg002:44EA		    mov	    byte ptr [di], 0
seg002:44ED		    cmp	    word ptr [bp-5Ch], 0
seg002:44F1		    jz	    short loc_60E0
seg002:44F3		    mov	    ax,	0EC2h
seg002:44F6		    push    ax
seg002:44F7		    mov	    ax,	di
seg002:44F9		    push    ax
seg002:44FA		    call    sub_41BE
seg002:44FD		    pop	    bx
seg002:44FE		    pop	    bx
seg002:44FF		    mov	    ax,	14h
seg002:4502		    push    ax
seg002:4503		    push    word ptr [bp-5Ch]
seg002:4506		    mov	    ax,	1197h
seg002:4509		    push    ax
seg002:450A		    call    sub_7C24
seg002:450D		    add	    sp,	6
seg002:4510
seg002:4510 loc_60E0:				    ; CODE XREF: sub_5E50+271j
seg002:4510		    mov	    word ptr ds:11D4h, 6
seg002:4516		    mov	    ax,	0FFECh
seg002:4519
seg002:4519 loc_60E9:				    ; CODE XREF: sub_5E50+219j
seg002:4519		    push    ax
seg002:451A		    call    sub_3E7D
seg002:451D		    pop	    bx
seg002:451E
seg002:451E loc_60EE:				    ; CODE XREF: sub_5E50+16Aj
seg002:451E					    ; sub_5E50+188j ...
seg002:451E		    cmp	    byte ptr ds:10EEh, 0FFh
seg002:4523		    jnz	    short loc_60FA
seg002:4525		    mov	    ax,	si
seg002:4527		    mov	    ds:10EEh, al
seg002:452A
seg002:452A loc_60FA:				    ; CODE XREF: sub_5E50+2A3j
seg002:452A		    mov	    ax,	si
seg002:452C		    mov	    ds:2Eh, al
seg002:452F		    push    word ptr [bp-5Ah]
seg002:4532		    mov	    [bp-0ECh], ax
seg002:4536		    call    sub_7E20
seg002:4539		    pop	    bx
seg002:453A		    cmp	    byte ptr ds:46h, 0
seg002:453F		    jnz	    short loc_6118
seg002:4541		    mov	    al,	[bp-0ECh]
seg002:4545		    mov	    ds:46h, al
seg002:4545 ; END OF FUNCTION CHUNK FOR	sub_5E50
seg002:4548 ; START OF FUNCTION	CHUNK FOR sub_5AA8
seg002:4548
seg002:4548 loc_6118:				    ; CODE XREF: sub_5AA8+342j
seg002:4548					    ; sub_5E50+2BFj
seg002:4548		    mov	    word ptr ds:42h, 9FAh
seg002:454E		    mov	    word ptr ds:44h, 20h ; ' '
seg002:4554		    and	    byte ptr ds:47h, 0FEh
seg002:4559		    mov	    al,	ds:46h
seg002:455C		    cbw
seg002:455D		    push    ax
seg002:455E		    call    sub_6157
seg002:4561		    pop	    bx
seg002:4562		    or	    ax,	ax
seg002:4564		    jnz	    short loc_613B
seg002:4566		    or	    byte ptr ds:47h, 1
seg002:456B
seg002:456B loc_613B:				    ; CODE XREF: sub_5AA8+68Cj
seg002:456B		    mov	    ax,	si
seg002:456D		    mov	    ds:2Eh, al
seg002:4570		    cmp	    si,	0Bh
seg002:4573		    jnz	    short loc_6148
seg002:4575		    call    sub_9832
seg002:4578
seg002:4578 loc_6148:				    ; CODE XREF: sub_5AA8+69Bj
seg002:4578		    cmp	    [bp+var_56], 0
seg002:457C		    jnz	    short loc_6151
seg002:457E		    call    sub_4CA8
seg002:4581
seg002:4581 loc_6151:				    ; CODE XREF: sub_5AA8+6A4j
seg002:4581		    pop	    si
seg002:4582		    pop	    di
seg002:4583		    mov	    sp,	bp
seg002:4585		    pop	    bp
seg002:4586		    retn
seg002:4586 ; END OF FUNCTION CHUNK FOR	sub_5AA8
seg002:4587
seg002:4587 ;  S	U B R O	U T I N	E 
seg002:4587
seg002:4587 ; Attributes: bp-based frame
seg002:4587
seg002:4587 sub_6157	    proc near		    ; CODE XREF: sub_5AA8+2CDp
seg002:4587					    ; sub_5AA8+36Dp ...
seg002:4587
seg002:4587 arg_0	    = word ptr	4
seg002:4587
seg002:4587		    push    bp
seg002:4588		    mov	    bp,	sp
seg002:458A		    cmp	    [bp+arg_0],	1
seg002:458E		    jz	    short loc_6172
seg002:4590		    cmp	    [bp+arg_0],	5
seg002:4594		    jz	    short loc_6172
seg002:4596		    cmp	    [bp+arg_0],	0Eh
seg002:459A		    jz	    short loc_6172
seg002:459C		    cmp	    [bp+arg_0],	0Fh
seg002:45A0		    jnz	    short loc_6177
seg002:45A2
seg002:45A2 loc_6172:				    ; CODE XREF: sub_6157+7j
seg002:45A2					    ; sub_6157+Dj ...
seg002:45A2		    mov	    ax,	1
seg002:45A5		    pop	    bp
seg002:45A6		    retn
seg002:45A7 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:45A7
seg002:45A7 loc_6177:				    ; CODE XREF: sub_6157+19j
seg002:45A7		    sub	    ax,	ax
seg002:45A9		    pop	    bp
seg002:45AA		    retn
seg002:45AA sub_6157	    endp
seg002:45AA
seg002:45AB
seg002:45AB ;  S	U B R O	U T I N	E 
seg002:45AB
seg002:45AB ; Attributes: bp-based frame
seg002:45AB
seg002:45AB sub_617B	    proc near		    ; CODE XREF: sub_6193+30p
seg002:45AB
seg002:45AB arg_0	    = word ptr	4
seg002:45AB
seg002:45AB		    push    bp
seg002:45AC		    mov	    bp,	sp
seg002:45AE		    cmp	    [bp+arg_0],	30h ; '0'
seg002:45B2		    jl	    short loc_618F
seg002:45B4		    cmp	    [bp+arg_0],	39h ; '9'
seg002:45B8		    jg	    short loc_618F
seg002:45BA		    mov	    ax,	1
seg002:45BD		    pop	    bp
seg002:45BE		    retn
seg002:45BF ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:45BF
seg002:45BF loc_618F:				    ; CODE XREF: sub_617B+7j
seg002:45BF					    ; sub_617B+Dj
seg002:45BF		    sub	    ax,	ax
seg002:45C1		    pop	    bp
seg002:45C2		    retn
seg002:45C2 sub_617B	    endp
seg002:45C2
seg002:45C3
seg002:45C3 ;  S	U B R O	U T I N	E 
seg002:45C3
seg002:45C3 ; Attributes: bp-based frame
seg002:45C3
seg002:45C3 sub_6193	    proc near		    ; CODE XREF: sub_5AA8+1CDp
seg002:45C3					    ; sub_5AA8+1F1p ...
seg002:45C3
seg002:45C3 arg_0	    = word ptr	4
seg002:45C3
seg002:45C3		    push    bp
seg002:45C4		    mov	    bp,	sp
seg002:45C6		    sub	    sp,	2
seg002:45C9		    push    di
seg002:45CA		    push    si
seg002:45CB		    mov	    si,	[bp+arg_0]
seg002:45CE		    sub	    di,	di
seg002:45D0		    mov	    ax,	0ED1h
seg002:45D3		    push    ax
seg002:45D4		    lea	    ax,	[si+1]
seg002:45D7		    push    ax
seg002:45D8		    call    sub_6215
seg002:45DB		    pop	    bx
seg002:45DC		    mov	    si,	ax
seg002:45DE		    push    si
seg002:45DF		    call    sub_352D
seg002:45E2		    pop	    bx
seg002:45E3		    pop	    bx
seg002:45E4		    or	    ax,	ax
seg002:45E6		    jnz	    short loc_61CE
seg002:45E8		    push    si
seg002:45E9		    call    sub_7C50
seg002:45EC		    pop	    bx
seg002:45ED		    mov	    di,	ax
seg002:45EF
seg002:45EF loc_61BF:				    ; CODE XREF: sub_6193+39j
seg002:45EF		    mov	    al,	[si]
seg002:45F1		    cbw
seg002:45F2		    push    ax
seg002:45F3		    call    sub_617B
seg002:45F6		    pop	    bx
seg002:45F7		    or	    ax,	ax
seg002:45F9		    jz	    short loc_61F2
seg002:45FB		    inc	    si
seg002:45FC		    jmp	    short loc_61BF
seg002:45FE ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:45FE
seg002:45FE loc_61CE:				    ; CODE XREF: sub_6193+23j
seg002:45FE		    inc	    si
seg002:45FF		    inc	    si
seg002:4600		    jmp	    short loc_61ED
seg002:4602 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4602
seg002:4602 loc_61D2:				    ; CODE XREF: sub_6193+5Dj
seg002:4602		    mov	    al,	[si]
seg002:4604		    cbw
seg002:4605		    push    ax
seg002:4606		    mov	    ax,	0AB0h
seg002:4609		    push    ax
seg002:460A		    call    sub_7CF0
seg002:460D		    pop	    bx
seg002:460E		    pop	    bx
seg002:460F		    or	    ax,	ax
seg002:4611		    jz	    short loc_61F2
seg002:4613		    mov	    cl,	4
seg002:4615		    shl	    di,	cl
seg002:4617		    sub	    ax,	0AB0h
seg002:461A		    add	    di,	ax
seg002:461C		    inc	    si
seg002:461D
seg002:461D loc_61ED:				    ; CODE XREF: sub_6193+3Dj
seg002:461D		    cmp	    byte ptr [si], 0
seg002:4620		    jnz	    short loc_61D2
seg002:4622
seg002:4622 loc_61F2:				    ; CODE XREF: sub_6193+36j
seg002:4622					    ; sub_6193+4Ej
seg002:4622		    push    si
seg002:4623		    call    sub_6215
seg002:4626		    pop	    bx
seg002:4627		    mov	    bx,	ax
seg002:4629		    cmp	    byte ptr [bx], 4Dh ; 'M'
seg002:462C		    jnz	    short loc_620D
seg002:462E		    test    di,	0FFC0h
seg002:4632		    jz	    short loc_6209
seg002:4634		    mov	    di,	0FFFFh
seg002:4637		    jmp	    short loc_620D
seg002:4639 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4639
seg002:4639 loc_6209:				    ; CODE XREF: sub_6193+6Fj
seg002:4639		    mov	    cl,	0Ah
seg002:463B		    shl	    di,	cl
seg002:463D
seg002:463D loc_620D:				    ; CODE XREF: sub_6193+69j
seg002:463D					    ; sub_6193+74j
seg002:463D		    mov	    ax,	di
seg002:463F		    pop	    si
seg002:4640		    pop	    di
seg002:4641		    mov	    sp,	bp
seg002:4643		    pop	    bp
seg002:4644		    retn
seg002:4644 sub_6193	    endp
seg002:4644
seg002:4645
seg002:4645 ;  S	U B R O	U T I N	E 
seg002:4645
seg002:4645 ; Attributes: bp-based frame
seg002:4645
seg002:4645 sub_6215	    proc near		    ; CODE XREF: sub_5AA8+B1p
seg002:4645					    ; sub_6193+15p ...
seg002:4645
seg002:4645 arg_0	    = word ptr	4
seg002:4645
seg002:4645		    push    bp
seg002:4646		    mov	    bp,	sp
seg002:4648		    push    si
seg002:4649		    mov	    si,	[bp+arg_0]
seg002:464C		    jmp	    short loc_6229
seg002:464E ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:464E
seg002:464E loc_621E:				    ; CODE XREF: sub_6215+17j
seg002:464E		    cmp	    byte ptr [si], 20h ; ' '
seg002:4651		    jz	    short loc_6228
seg002:4653		    cmp	    byte ptr [si], 9
seg002:4656		    jnz	    short loc_622E
seg002:4658
seg002:4658 loc_6228:				    ; CODE XREF: sub_6215+Cj
seg002:4658		    inc	    si
seg002:4659
seg002:4659 loc_6229:				    ; CODE XREF: sub_6215+7j
seg002:4659		    cmp	    byte ptr [si], 0
seg002:465C		    jnz	    short loc_621E
seg002:465E
seg002:465E loc_622E:				    ; CODE XREF: sub_6215+11j
seg002:465E		    mov	    ax,	si
seg002:4660		    pop	    si
seg002:4661		    mov	    sp,	bp
seg002:4663		    pop	    bp
seg002:4664		    retn
seg002:4664 sub_6215	    endp
seg002:4664
seg002:4665
seg002:4665 ;  S	U B R O	U T I N	E 
seg002:4665
seg002:4665 ; Attributes: bp-based frame
seg002:4665
seg002:4665 sub_6235	    proc near		    ; CODE XREF: sub_5AA8+8Ep
seg002:4665					    ; sub_5AA8+A2p ...
seg002:4665
seg002:4665 var_6	    = word ptr -6
seg002:4665 var_4	    = dword ptr	-4
seg002:4665 arg_0	    = word ptr	4
seg002:4665 arg_2	    = word ptr	6
seg002:4665
seg002:4665		    push    bp
seg002:4666		    mov	    bp,	sp
seg002:4668		    sub	    sp,	0Ah
seg002:466B		    push    si
seg002:466C		    cmp	    word ptr ds:9B8h, 0
seg002:4671		    jnz	    short loc_6247
seg002:4673
seg002:4673 loc_6243:				    ; CODE XREF: sub_6235+24j
seg002:4673		    sub	    ax,	ax
seg002:4675		    jmp	    short loc_62A9
seg002:4677 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4677
seg002:4677 loc_6247:				    ; CODE XREF: sub_6235+Cj
seg002:4677		    mov	    ax,	ds:9B8h
seg002:467A		    mov	    word ptr [bp+var_4], 0
seg002:467F		    mov	    word ptr [bp+var_4+2], ax
seg002:4682
seg002:4682 loc_6252:				    ; CODE XREF: sub_6235+3Fj
seg002:4682		    les	    bx,	[bp+var_4]
seg002:4685		    cmp	    byte ptr es:[bx], 0
seg002:4689		    jz	    short loc_6243
seg002:468B		    mov	    si,	[bp+arg_0]
seg002:468E		    jmp	    short loc_627C
seg002:4690 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4690
seg002:4690 loc_6260:				    ; CODE XREF: sub_6235+4Aj
seg002:4690		    mov	    al,	[si]
seg002:4692		    les	    bx,	[bp+var_4]
seg002:4695		    cmp	    es:[bx], al
seg002:4698		    jz	    short loc_6278
seg002:469A
seg002:469A loc_626A:				    ; CODE XREF: sub_6235+41j
seg002:469A		    mov	    bx,	word ptr [bp+var_4]
seg002:469D		    inc	    word ptr [bp+var_4]
seg002:46A0		    cmp	    byte ptr es:[bx], 0
seg002:46A4		    jz	    short loc_6252
seg002:46A6		    jmp	    short loc_626A
seg002:46A8 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:46A8
seg002:46A8 loc_6278:				    ; CODE XREF: sub_6235+33j
seg002:46A8		    inc	    si
seg002:46A9		    inc	    word ptr [bp+var_4]
seg002:46AC
seg002:46AC loc_627C:				    ; CODE XREF: sub_6235+29j
seg002:46AC		    cmp	    byte ptr [si], 0
seg002:46AF		    jnz	    short loc_6260
seg002:46B1		    mov	    [bp+var_6],	80h ; ''
seg002:46B6		    mov	    si,	[bp+arg_2]
seg002:46B9
seg002:46B9 loc_6289:				    ; CODE XREF: sub_6235+6Cj
seg002:46B9		    dec	    [bp+var_6]
seg002:46BC		    cmp	    [bp+var_6],	0
seg002:46C0		    jle	    short loc_62A3
seg002:46C2		    les	    bx,	[bp+var_4]
seg002:46C5		    inc	    word ptr [bp+var_4]
seg002:46C8		    mov	    al,	es:[bx]
seg002:46CB		    inc	    si
seg002:46CC		    mov	    [si-1], al
seg002:46CF		    or	    al,	al
seg002:46D1		    jnz	    short loc_6289
seg002:46D3
seg002:46D3 loc_62A3:				    ; CODE XREF: sub_6235+5Bj
seg002:46D3		    mov	    byte ptr [si], 0
seg002:46D6		    mov	    ax,	[bp+arg_2]
seg002:46D9
seg002:46D9 loc_62A9:				    ; CODE XREF: sub_6235+10j
seg002:46D9		    pop	    si
seg002:46DA		    mov	    sp,	bp
seg002:46DC		    pop	    bp
seg002:46DD		    retn
seg002:46DD sub_6235	    endp
seg002:46DD
seg002:46DE
seg002:46DE ;  S	U B R O	U T I N	E 
seg002:46DE
seg002:46DE ; Attributes: bp-based frame
seg002:46DE
seg002:46DE sub_62AE	    proc near		    ; CODE XREF: seg002:4893p
seg002:46DE
seg002:46DE var_4	    = word ptr -4
seg002:46DE var_2	    = word ptr -2
seg002:46DE arg_0	    = word ptr	4
seg002:46DE arg_2	    = word ptr	6
seg002:46DE arg_4	    = word ptr	8
seg002:46DE
seg002:46DE		    enter   4, 0
seg002:46E2		    cmp	    [bp+arg_2],	0
seg002:46E6		    jz	    short loc_62BF
seg002:46E8		    cmp	    [bp+arg_2],	7FFFh
seg002:46ED		    jnz	    short loc_62C4
seg002:46EF
seg002:46EF loc_62BF:				    ; CODE XREF: sub_62AE+8j
seg002:46EF		    mov	    [bp+arg_2],	800h
seg002:46F4
seg002:46F4 loc_62C4:				    ; CODE XREF: sub_62AE+Fj
seg002:46F4		    cmp	    word ptr ds:0ECCh, 3C00h
seg002:46FA		    jz	    short loc_62D2
seg002:46FC		    mov	    ax,	ds:0ECCh
seg002:46FF		    mov	    [bp+arg_2],	ax
seg002:4702
seg002:4702 loc_62D2:				    ; CODE XREF: sub_62AE+1Cj
seg002:4702		    cmp	    [bp+arg_2],	0
seg002:4706		    jnz	    short loc_62DB
seg002:4708		    jmp	    locret_6368
seg002:470B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:470B
seg002:470B loc_62DB:				    ; CODE XREF: sub_62AE+28j
seg002:470B		    mov	    ax,	[bp+arg_2]
seg002:470E		    sub	    dx,	dx
seg002:4710		    mov	    cl,	0Ah
seg002:4712		    call    sub_4374
seg002:4715		    push    dx
seg002:4716		    push    ax
seg002:4717		    call    near ptr sub_3C60
seg002:471A		    pop	    bx
seg002:471B		    pop	    bx
seg002:471C		    mov	    [bp+var_4],	ax
seg002:471F		    mov	    [bp+var_2],	dx
seg002:4722		    push    0Ah
seg002:4724		    lea	    ax,	[bp+var_4]
seg002:4727		    push    ax
seg002:4728		    call    sub_7D96
seg002:472B		    mov	    cx,	[bp+arg_0]
seg002:472E		    sub	    bx,	bx
seg002:4730		    cmp	    bx,	dx
seg002:4732		    jl	    short loc_6310
seg002:4734		    jg	    short loc_630A
seg002:4736		    cmp	    cx,	ax
seg002:4738		    jbe	    short loc_6310
seg002:473A
seg002:473A loc_630A:				    ; CODE XREF: sub_62AE+56j
seg002:473A		    push    6
seg002:473C		    call    sub_3E7D
seg002:473F		    pop	    bx
seg002:4740
seg002:4740 loc_6310:				    ; CODE XREF: sub_62AE+54j
seg002:4740					    ; sub_62AE+5Aj
seg002:4740		    cmp	    byte ptr ds:0ED8h, 0
seg002:4745		    jnz	    short locret_6368
seg002:4747		    inc	    byte ptr ds:0ED8h
seg002:474B		    cmp	    word ptr ds:11DEh, 5Ah ; 'Z'
seg002:4750		    jb	    short locret_6368
seg002:4752		    cmp	    [bp+var_2],	0
seg002:4756		    jg	    short loc_6330
seg002:4758		    jl	    short locret_6368
seg002:475A		    cmp	    [bp+var_4],	28h ; '('
seg002:475E		    jb	    short locret_6368
seg002:4760
seg002:4760 loc_6330:				    ; CODE XREF: sub_62AE+78j
seg002:4760		    cmp	    [bp+arg_4],	1
seg002:4764		    sbb	    ax,	ax
seg002:4766		    neg	    ax
seg002:4768		    test    al,	4
seg002:476A		    jnz	    short locret_6368
seg002:476C		    push    word ptr ds:0C34h
seg002:4770		    call    sub_8D30
seg002:4773		    pop	    bx
seg002:4774		    push    word ptr ds:0C4Ch
seg002:4778		    call    sub_8D30
seg002:477B		    pop	    bx
seg002:477C		    push    word ptr ds:0C3Ch
seg002:4780		    call    sub_8D30
seg002:4783		    pop	    bx
seg002:4784		    mov	    cl,	4
seg002:4786		    call    sub_7DB2
seg002:4789		    mov	    ds:0A10h, ax
seg002:478C		    mov	    ds:0A12h, dx
seg002:4790		    cmp	    dx,	1
seg002:4793		    jl	    short locret_6368
seg002:4795		    call    sub_8D75
seg002:4798
seg002:4798 locret_6368:			    ; CODE XREF: sub_62AE+2Aj
seg002:4798					    ; sub_62AE+67j ...
seg002:4798		    leave
seg002:4799		    retn
seg002:4799 sub_62AE	    endp
seg002:4799
seg002:479A
seg002:479A ;  S	U B R O	U T I N	E 
seg002:479A
seg002:479A ; Attributes: bp-based frame
seg002:479A
seg002:479A sub_636A	    proc near		    ; CODE XREF: sub_7FED-1A77p
seg002:479A					    ; sub_7FED-19B4p
seg002:479A
seg002:479A arg_0	    = word ptr	4
seg002:479A
seg002:479A		    push    bp
seg002:479B		    mov	    bp,	sp
seg002:479D		    mov	    ax,	0FF80h
seg002:47A0		    mov	    dx,	1301h
seg002:47A3		    mov	    es,	[bp+arg_0]
seg002:47A6		    int	    21h		    ; DOS - DOS	v??? - OEM FUNCTION
seg002:47A8		    jnb	    short locret_6380
seg002:47AA		    push    22h	; '"'
seg002:47AC		    call    sub_3E7D
seg002:47AF		    pop	    bx
seg002:47B0
seg002:47B0 locret_6380:			    ; CODE XREF: sub_636A+Ej
seg002:47B0		    leave
seg002:47B1		    retn
seg002:47B1 sub_636A	    endp
seg002:47B1
seg002:47B2 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:47B2
seg002:47B2 loc_6382:				    ; DATA XREF: sub_6707+4o
seg002:47B2		    enter   0CEh, 0
seg002:47B6		    push    di
seg002:47B7		    push    si
seg002:47B8		    sub	    ax,	ax
seg002:47BA		    mov	    [bp-4], ax
seg002:47BD		    mov	    [bp-6], ax
seg002:47C0		    mov	    word ptr ds:97Ch, 0FFFFh
seg002:47C6
seg002:47C6 loc_6396:				    ; CODE XREF: seg002:4813j
seg002:47C6		    push    0B0h ; 'ฐ'
seg002:47C9		    push    1
seg002:47CB		    lea	    ax,	[bp-0C8h]
seg002:47CF		    push    ax
seg002:47D0		    call    sub_4C1F
seg002:47D3		    add	    sp,	6
seg002:47D6		    mov	    ax,	[bp-0ACh]
seg002:47DA		    mov	    dx,	[bp-0AAh]
seg002:47DE		    mov	    ds:11F4h, ax
seg002:47E1		    mov	    ds:11F6h, dx
seg002:47E5		    push    0ED9h
seg002:47E8		    lea	    ax,	[bp-58h]
seg002:47EB		    push    ax
seg002:47EC		    call    sub_7D1A
seg002:47EF		    pop	    bx
seg002:47F0		    pop	    bx
seg002:47F1		    or	    ax,	ax
seg002:47F3		    jnz	    short loc_63D5
seg002:47F5		    push    0EDEh
seg002:47F8		    lea	    ax,	[bp-58h]
seg002:47FB		    push    ax
seg002:47FC		    call    sub_7D1A
seg002:47FF		    pop	    bx
seg002:4800		    pop	    bx
seg002:4801		    or	    ax,	ax
seg002:4803		    jz	    short loc_63E5
seg002:4805
seg002:4805 loc_63D5:				    ; CODE XREF: seg002:47F3j
seg002:4805		    mov	    ax,	ds:11F4h
seg002:4808		    mov	    dx,	ds:11F6h
seg002:480C		    mov	    ds:11DAh, ax
seg002:480F		    mov	    ds:11DCh, dx
seg002:4813		    jmp	    short loc_6396
seg002:4815 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4815
seg002:4815 loc_63E5:				    ; CODE XREF: seg002:4803j
seg002:4815		    add	    word ptr ds:11DAh, 0B0h ; 'ฐ'
seg002:481B		    adc	    word ptr ds:11DCh, 0
seg002:4820		    push    word ptr ds:11DCh
seg002:4824		    push    word ptr ds:11DAh
seg002:4828		    call    sub_7B9A
seg002:482B		    pop	    bx
seg002:482C		    pop	    bx
seg002:482D		    mov	    ax,	[bp-90h]
seg002:4831		    mov	    [bp-18h], ax
seg002:4834		    cmp	    word ptr [bp+6], 0
seg002:4838		    jnz	    short loc_6411
seg002:483A		    mov	    al,	[bp-8Ch]
seg002:483E		    mov	    ds:980h, al
seg002:4841
seg002:4841 loc_6411:				    ; CODE XREF: seg002:4838j
seg002:4841		    cmp	    word ptr [bp+6], 0
seg002:4845		    jge	    short loc_6421
seg002:4847		    mov	    word ptr [bp+6], 0
seg002:484C		    and	    byte ptr ds:14h, 0F7h
seg002:4851
seg002:4851 loc_6421:				    ; CODE XREF: seg002:4845j
seg002:4851		    test    byte ptr [bp-94h], 2
seg002:4856		    jz	    short loc_6432
seg002:4858		    mov	    word ptr [bp+6], 0FFFFh
seg002:485D		    or	    byte ptr ds:14h, 8
seg002:4862
seg002:4862 loc_6432:				    ; CODE XREF: seg002:4856j
seg002:4862		    test    byte ptr [bp-94h], 1
seg002:4867		    jnz	    short loc_643F
seg002:4869		    push    1Eh
seg002:486B		    call    sub_3E7D
seg002:486E		    pop	    bx
seg002:486F
seg002:486F loc_643F:				    ; CODE XREF: seg002:4867j
seg002:486F		    mov	    ax,	[bp-98h]
seg002:4873		    or	    ds:14h, ax
seg002:4877		    mov	    ax,	[bp-8Eh]
seg002:487B		    mov	    [bp-16h], ax
seg002:487E		    or	    ax,	ax
seg002:4880		    jnz	    short loc_6457
seg002:4882		    mov	    word ptr [bp-16h], 80h ; ''
seg002:4887
seg002:4887 loc_6457:				    ; CODE XREF: seg002:4880j
seg002:4887		    push    word ptr [bp-94h]
seg002:488B		    push    word ptr [bp-0BCh]
seg002:488F		    push    word ptr [bp-0BEh]
seg002:4893		    call    sub_62AE
seg002:4896		    add	    sp,	6
seg002:4899		    mov	    ax,	[bp-18h]
seg002:489C		    add	    ax,	[bp-16h]
seg002:489F		    sub	    ax,	7Fh ; ''
seg002:48A2		    mov	    [bp-14h], ax
seg002:48A5		    add	    ax,	0Fh
seg002:48A8		    shr	    ax,	4
seg002:48AB		    push    ax
seg002:48AC		    call    sub_6750
seg002:48AF		    pop	    bx
seg002:48B0		    mov	    [bp-4], ax
seg002:48B3		    or	    ax,	ax
seg002:48B5		    jnz	    short loc_648D
seg002:48B7		    push    0Ah
seg002:48B9		    call    sub_3E7D
seg002:48BC		    pop	    bx
seg002:48BD
seg002:48BD loc_648D:				    ; CODE XREF: seg002:48B5j
seg002:48BD		    push    0
seg002:48BF		    push    word ptr [bp-14h]
seg002:48C2		    push    0
seg002:48C4		    push    word ptr [bp-4]
seg002:48C7		    call    sub_3A47
seg002:48CA		    add	    sp,	8
seg002:48CD		    mov	    si,	[bp-14h]
seg002:48D0		    sub	    si,	[bp-16h]
seg002:48D3		    push    si
seg002:48D4		    mov	    ax,	[bp-16h]
seg002:48D7		    and	    al,	0F8h
seg002:48D9		    add	    ax,	[bp-6]
seg002:48DC		    mov	    dx,	[bp-4]
seg002:48DF		    push    dx
seg002:48E0		    push    ax
seg002:48E1		    call    sub_7BD3
seg002:48E4		    add	    sp,	6
seg002:48E7		    cmp	    si,	ax
seg002:48E9		    jbe	    short loc_64C1
seg002:48EB		    push    0Eh
seg002:48ED		    call    sub_3E7D
seg002:48F0		    pop	    bx
seg002:48F1
seg002:48F1 loc_64C1:				    ; CODE XREF: seg002:48E9j
seg002:48F1					    ; seg002:4906j
seg002:48F1		    sub	    word ptr [bp-14h], 8
seg002:48F5		    mov	    bx,	[bp-14h]
seg002:48F8		    and	    bl,	0F8h
seg002:48FB		    add	    bx,	[bp-6]
seg002:48FE		    mov	    es,	word ptr [bp-4]
seg002:4901		    cmp	    byte ptr es:[bx+5],	0
seg002:4906		    jz	    short loc_64C1
seg002:4908		    mov	    ax,	[bp-16h]
seg002:490B		    mov	    [bp-6], ax
seg002:490E ; START OF FUNCTION	CHUNK FOR sub_7FED
seg002:490E
seg002:490E loc_64DE:				    ; CODE XREF: sub_7FED-19D5j
seg002:490E		    mov	    ax,	[bp-6]
seg002:4911		    mov	    dx,	[bp-4]
seg002:4914		    push    si
seg002:4915		    push    di
seg002:4916		    push    ds
seg002:4917		    lea	    di,	[bp-10h]
seg002:491A		    mov	    si,	ax
seg002:491C		    push    ss
seg002:491D		    pop	    es
seg002:491E		    assume es:seg000
seg002:491E		    mov	    ds,	dx
seg002:4920		    movsw
seg002:4921		    movsw
seg002:4922		    movsw
seg002:4923		    movsw
seg002:4924		    pop	    ds
seg002:4925		    pop	    di
seg002:4926		    pop	    si
seg002:4927		    mov	    si,	[bp-10h]
seg002:492A		    mov	    al,	[bp-0Bh]
seg002:492D		    sub	    ah,	ah
seg002:492F		    mov	    [bp-2], ax
seg002:4932		    or	    ax,	ax
seg002:4934		    jnz	    short loc_6509
seg002:4936		    jmp	    loc_660C
seg002:4939 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4939
seg002:4939 loc_6509:				    ; CODE XREF: sub_7FED-1AE9j
seg002:4939		    mov	    ax,	[bp-0Ah]
seg002:493C		    and	    ah,	1Fh
seg002:493F		    mov	    [bp-0CAh], ax
seg002:4943		    sub	    di,	di
seg002:4945		    or	    si,	si
seg002:4947		    jz	    short loc_6520
seg002:4949		    push    si
seg002:494A		    call    sub_2DAD
seg002:494D		    pop	    bx
seg002:494E		    mov	    di,	ax
seg002:4950
seg002:4950 loc_6520:				    ; CODE XREF: sub_7FED-1AD6j
seg002:4950		    test    byte ptr [bp-9], 20h
seg002:4954		    jz	    short loc_6528
seg002:4956		    sub	    si,	si
seg002:4958
seg002:4958 loc_6528:				    ; CODE XREF: sub_7FED-1AC9j
seg002:4958		    cmp	    [bp-0CAh], di
seg002:495C		    jbe	    short loc_6532
seg002:495E		    mov	    di,	[bp-0CAh]
seg002:4962
seg002:4962 loc_6532:				    ; CODE XREF: sub_7FED-1AC1j
seg002:4962		    mov	    al,	ds:980h
seg002:4965		    cbw
seg002:4966		    mov	    [bp-12h], ax
seg002:4969		    mov	    cx,	[bp-0BAh]
seg002:496D		    cmp	    [bp-6], cx
seg002:4970		    jnz	    short loc_6552
seg002:4972		    or	    ax,	ax
seg002:4974		    jnz	    short loc_6552
seg002:4976		    test    byte ptr [bp-94h], 4
seg002:497B		    jnz	    short loc_6552
seg002:497D		    mov	    byte ptr ds:980h, 1
seg002:4982
seg002:4982 loc_6552:				    ; CODE XREF: sub_7FED-1AADj
seg002:4982					    ; sub_7FED-1AA9j ...
seg002:4982		    push    di
seg002:4983		    call    sub_6750
seg002:4986		    pop	    bx
seg002:4987		    mov	    [bp-8], ax
seg002:498A		    or	    ax,	ax
seg002:498C		    jnz	    short loc_6564
seg002:498E		    push    6
seg002:4990		    call    sub_3E7D
seg002:4993		    pop	    bx
seg002:4994
seg002:4994 loc_6564:				    ; CODE XREF: sub_7FED-1A91j
seg002:4994		    mov	    al,	[bp-12h]
seg002:4997		    mov	    ds:980h, al
seg002:499A		    mov	    ax,	[bp-0BAh]
seg002:499E		    cmp	    [bp-6], ax
seg002:49A1		    jnz	    short loc_657A
seg002:49A3		    push    word ptr [bp-8]
seg002:49A6		    call    sub_636A
seg002:49A9		    pop	    bx
seg002:49AA
seg002:49AA loc_657A:				    ; CODE XREF: sub_7FED-1A7Cj
seg002:49AA		    mov	    ax,	[bp-8]
seg002:49AD		    les	    bx,	[bp-6]
seg002:49B0		    assume es:nothing
seg002:49B0		    mov	    es:[bx+6], ax
seg002:49B4		    mov	    bx,	ax
seg002:49B6		    shr	    bx,	3
seg002:49B9		    add	    bx,	ds:0AA0h
seg002:49BD		    mov	    es,	word ptr ds:0AA2h
seg002:49C1		    mov	    byte ptr es:[bx], 1
seg002:49C5		    test    byte ptr [bp-9], 40h
seg002:49C9		    jz	    short loc_659F
seg002:49CB		    mov	    byte ptr es:[bx], 3
seg002:49CF
seg002:49CF loc_659F:				    ; CODE XREF: sub_7FED-1A54j
seg002:49CF		    or	    si,	si
seg002:49D1		    jz	    short loc_65D8
seg002:49D3		    test    si,	0Fh
seg002:49D7		    jz	    short loc_65AA
seg002:49D9		    inc	    si
seg002:49DA
seg002:49DA loc_65AA:				    ; CODE XREF: sub_7FED-1A46j
seg002:49DA		    lea	    ax,	[si-1]
seg002:49DD		    push    ax
seg002:49DE		    mov	    cx,	[bp-8]
seg002:49E1		    sub	    dx,	dx
seg002:49E3		    push    cx
seg002:49E4		    push    dx
seg002:49E5		    mov	    [bp-0CEh], dx
seg002:49E9		    mov	    [bp-0CCh], cx
seg002:49ED		    call    sub_7BD3
seg002:49F0		    add	    sp,	6
seg002:49F3		    push    1
seg002:49F5		    lea	    ax,	[si-1]
seg002:49F8		    or	    ax,	[bp-0CEh]
seg002:49FC		    mov	    dx,	[bp-0CCh]
seg002:4A00		    push    dx
seg002:4A01		    push    ax
seg002:4A02		    call    sub_7BD3
seg002:4A05		    add	    sp,	6
seg002:4A08
seg002:4A08 loc_65D8:				    ; CODE XREF: sub_7FED-1A4Cj
seg002:4A08		    cmp	    word ptr [bp-0CAh],	0
seg002:4A0D		    jz	    short loc_65F7
seg002:4A0F		    mov	    di,	[bp-0CAh]
seg002:4A13		    shl	    di,	4
seg002:4A16		    sub	    di,	si
seg002:4A18		    jz	    short loc_65F7
seg002:4A1A		    push    0
seg002:4A1C		    push    di
seg002:4A1D		    push    si
seg002:4A1E		    push    word ptr [bp-8]
seg002:4A21		    call    sub_3A47
seg002:4A21 ; END OF FUNCTION CHUNK FOR	sub_7FED
seg002:4A21 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4A24		    db 83h
seg002:4A25 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4A25 ; START OF FUNCTION	CHUNK FOR sub_7FED
seg002:4A25
seg002:4A25 loc_65F5:				    ; CODE XREF: sub_7FED+53J
seg002:4A25		    les	    cx,	[bx+si]
seg002:4A27
seg002:4A27 loc_65F7:				    ; CODE XREF: sub_7FED-1A10j
seg002:4A27					    ; sub_7FED-1A05j
seg002:4A27		    mov	    ax,	[bp-16h]
seg002:4A2A		    cmp	    [bp-6], ax
seg002:4A2D		    jnz	    short loc_6605
seg002:4A2F		    mov	    ax,	[bp-8]
seg002:4A32		    mov	    ds:0C40h, ax
seg002:4A35
seg002:4A35 loc_6605:				    ; CODE XREF: sub_7FED-19F0j
seg002:4A35		    push    word ptr [bp-8]
seg002:4A38		    call    sub_8DA1
seg002:4A3B		    pop	    bx
seg002:4A3C
seg002:4A3C loc_660C:				    ; CODE XREF: sub_7FED-1AE7j
seg002:4A3C		    mov	    ax,	[bp-14h]
seg002:4A3F		    add	    word ptr [bp-6], 8
seg002:4A43		    cmp	    [bp-6], ax
seg002:4A46		    ja	    short loc_661B
seg002:4A48		    jmp	    loc_64DE
seg002:4A4B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4A4B
seg002:4A4B loc_661B:				    ; CODE XREF: sub_7FED-19D7j
seg002:4A4B		    mov	    word ptr [bp-6], 0
seg002:4A50		    mov	    bx,	[bp-0BAh]
seg002:4A54		    and	    bl,	0F8h
seg002:4A57		    add	    bx,	[bp-6]
seg002:4A5A		    mov	    es,	word ptr [bp-4]
seg002:4A5D		    mov	    ax,	es:[bx+6]
seg002:4A61		    les	    bx,	[bp+8]
seg002:4A64		    mov	    es:[bx+2], ax
seg002:4A68		    push    ax
seg002:4A69		    call    sub_636A
seg002:4A6C		    pop	    bx
seg002:4A6D		    mov	    ax,	[bp-0B8h]
seg002:4A71		    sub	    ax,	0Ch
seg002:4A74		    and	    al,	0FEh
seg002:4A76		    les	    bx,	[bp+8]
seg002:4A79		    mov	    es:[bx+0Eh], ax
seg002:4A7D		    mov	    bx,	[bp-0B2h]
seg002:4A81		    and	    bl,	0F8h
seg002:4A84		    add	    bx,	[bp-6]
seg002:4A87		    mov	    es,	word ptr [bp-4]
seg002:4A8A		    mov	    ax,	es:[bx+6]
seg002:4A8E		    les	    bx,	[bp+8]
seg002:4A91		    mov	    es:[bx+22h], ax
seg002:4A95		    mov	    ax,	[bp-0B4h]
seg002:4A99		    mov	    es:[bx+1Eh], ax
seg002:4A9D		    mov	    ax,	ds:0C40h
seg002:4AA0		    mov	    es:[bx+0Ah], ax
seg002:4AA4		    mov	    ax,	[bp-8]
seg002:4AA7		    mov	    es:[bx+8], ax
seg002:4AAB		    push    es
seg002:4AAC		    push    bx
seg002:4AAD		    push    word ptr [bp+6] ; CODE XREF: sub_8087+43J
seg002:4AB0		    call    nullsub_3
seg002:4AB3		    add	    sp,	6
seg002:4AB6		    cmp	    word ptr [bp+6], 0
seg002:4ABA		    jl	    short loc_6699
seg002:4ABC		    call    sub_7BC7
seg002:4ABF		    sub	    ax,	ax
seg002:4AC1		    mov	    ds:11DCh, ax
seg002:4AC4		    mov	    ds:11DAh, ax
seg002:4AC7		    jmp	    short loc_66A7
seg002:4AC9 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4AC9
seg002:4AC9 loc_6699:				    ; CODE XREF: sub_7FED-1963j
seg002:4AC9		    mov	    ax,	ds:11F4h
seg002:4ACC		    mov	    dx,	ds:11F6h
seg002:4AD0		    mov	    ds:11DAh, ax
seg002:4AD3		    mov	    ds:11DCh, dx
seg002:4AD7
seg002:4AD7 loc_66A7:				    ; CODE XREF: sub_7FED-1956j
seg002:4AD7		    mov	    ax,	ds:0C2Ah
seg002:4ADA		    les	    bx,	[bp+8]
seg002:4ADD		    mov	    es:[bx+4], ax
seg002:4AE1		    mov	    es:[bx+6], ax
seg002:4AE5		    mov	    word ptr es:[bx+26h], 200h
seg002:4AEB		    cmp	    word ptr [bp-0B6h],	0
seg002:4AF0		    jz	    short loc_66D8
seg002:4AF2		    mov	    ax,	[bp-0B6h]
seg002:4AF6		    mov	    [bp-14h], ax
seg002:4AF9		    push    word ptr [bp-16h]
seg002:4AFC		    push    ax
seg002:4AFD		    push    word ptr [bp-4]
seg002:4B00		    push    word ptr [bp-6]
seg002:4B03		    call    sub_67AD
seg002:4B06		    jmp	    short loc_66E7
seg002:4B08 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4B08
seg002:4B08 loc_66D8:				    ; CODE XREF: sub_7FED-192Dj
seg002:4B08		    push    word ptr [bp-16h]
seg002:4B0B		    push    word ptr [bp-14h]
seg002:4B0E		    push    word ptr [bp-4]
seg002:4B11		    push    word ptr [bp-6]
seg002:4B14		    call    sub_6871
seg002:4B17
seg002:4B17 loc_66E7:				    ; CODE XREF: sub_7FED-1917j
seg002:4B17		    add	    sp,	8
seg002:4B1A		    push    word ptr [bp-16h]
seg002:4B1D		    push    word ptr [bp-14h]
seg002:4B20		    push    word ptr [bp-4]
seg002:4B23		    push    word ptr [bp-6]
seg002:4B26		    call    sub_6761
seg002:4B29		    add	    sp,	8
seg002:4B2C		    push    word ptr [bp-4]
seg002:4B2F		    call    sub_3656
seg002:4B32		    pop	    bx
seg002:4B33		    pop	    si
seg002:4B34		    pop	    di
seg002:4B35		    leave
seg002:4B36		    retf
seg002:4B36 ; END OF FUNCTION CHUNK FOR	sub_7FED
seg002:4B37
seg002:4B37 ;  S	U B R O	U T I N	E 
seg002:4B37
seg002:4B37 ; Attributes: bp-based frame
seg002:4B37
seg002:4B37 sub_6707	    proc near		    ; CODE XREF: sub_8E60+62p
seg002:4B37
seg002:4B37 var_6	    = word ptr -6
seg002:4B37 var_4	    = dword ptr	-4
seg002:4B37 arg_0	    = word ptr	4
seg002:4B37
seg002:4B37		    enter   8, 0
seg002:4B3B		    mov	    word ptr [bp+var_4], offset	loc_6382
seg002:4B40		    mov	    word ptr [bp+var_4+2], seg seg002
seg002:4B45		    mov	    [bp+var_6],	ds
seg002:4B48		    cmp	    word ptr ds:0E70h, 0
seg002:4B4D		    jge	    short loc_6726
seg002:4B4F		    push    1190h
seg002:4B52		    call    sub_7B88
seg002:4B55		    pop	    bx
seg002:4B56
seg002:4B56 loc_6726:				    ; CODE XREF: sub_6707+16j
seg002:4B56		    cmp	    word ptr ds:0E70h, 0
seg002:4B5B		    jge	    short loc_6733
seg002:4B5D		    push    0FFF8h
seg002:4B5F		    call    sub_3E7D
seg002:4B62		    pop	    bx
seg002:4B63
seg002:4B63 loc_6733:				    ; CODE XREF: sub_6707+24j
seg002:4B63		    mov	    ax,	ds:0C26h
seg002:4B66		    mov	    word ptr [bp+var_4+2], ax
seg002:4B69		    push    ds
seg002:4B6A		    push    [bp+arg_0]
seg002:4B6D		    push    0
seg002:4B6F		    call    [bp+var_4]
seg002:4B72		    mov	    ax,	[bp+var_6]
seg002:4B75		    mov	    word ptr ds:42h, 9FAh
seg002:4B7B		    mov	    ds:44h, ax
seg002:4B7E		    leave
seg002:4B7F		    retn
seg002:4B7F sub_6707	    endp
seg002:4B7F
seg002:4B80
seg002:4B80 ;  S	U B R O	U T I N	E 
seg002:4B80
seg002:4B80 ; Attributes: bp-based frame
seg002:4B80
seg002:4B80 sub_6750	    proc near		    ; CODE XREF: seg002:48ACp
seg002:4B80					    ; sub_7FED-1A9Ap ...
seg002:4B80
seg002:4B80 arg_0	    = word ptr	4
seg002:4B80
seg002:4B80		    push    bp
seg002:4B81		    mov	    bp,	sp
seg002:4B83		    mov	    ah,	48h ; 'H'
seg002:4B85		    mov	    bx,	[bp+arg_0]
seg002:4B88		    int	    21h		    ; DOS - 2+ - ALLOCATE MEMORY
seg002:4B88					    ; BX = number of 16-byte paragraphs	desired
seg002:4B8A		    cmc
seg002:4B8B		    sbb	    bx,	bx
seg002:4B8D		    and	    ax,	bx
seg002:4B8F		    leave
seg002:4B90		    retn
seg002:4B90 sub_6750	    endp
seg002:4B90
seg002:4B91
seg002:4B91 ;  S	U B R O	U T I N	E 
seg002:4B91
seg002:4B91 ; Attributes: bp-based frame
seg002:4B91
seg002:4B91 sub_6761	    proc near		    ; CODE XREF: sub_7FED-18F7p
seg002:4B91
seg002:4B91 var_E	    = word ptr -0Eh
seg002:4B91 var_C	    = word ptr -0Ch
seg002:4B91 var_A	    = word ptr -0Ah
seg002:4B91 arg_0	    = word ptr	4
seg002:4B91 arg_2	    = word ptr	6
seg002:4B91 arg_4	    = word ptr	8
seg002:4B91 arg_6	    = word ptr	0Ah
seg002:4B91
seg002:4B91		    enter   0Eh, 0
seg002:4B95		    push    si
seg002:4B96		    shr	    [bp+arg_4],	3
seg002:4B9A		    push    word ptr ds:0C26h
seg002:4B9E		    call    sub_8900
seg002:4BA1		    pop	    bx
seg002:4BA2		    mov	    [bp+var_A],	ax
seg002:4BA5		    mov	    si,	[bp+arg_6]
seg002:4BA8		    shr	    si,	3
seg002:4BAB		    jmp	    short loc_67A5
seg002:4BAD ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4BAD
seg002:4BAD loc_677D:				    ; CODE XREF: sub_6761+47j
seg002:4BAD		    mov	    bx,	si
seg002:4BAF		    shl	    bx,	3
seg002:4BB2		    add	    bx,	[bp+arg_0]
seg002:4BB5		    mov	    es,	[bp+arg_2]
seg002:4BB8		    mov	    al,	es:[bx+5]
seg002:4BBC		    and	    al,	18h
seg002:4BBE		    cmp	    al,	18h
seg002:4BC0		    jnz	    short loc_67A4
seg002:4BC2		    mov	    ax,	es:[bx+6]
seg002:4BC6		    mov	    [bp+var_C],	ax
seg002:4BC9		    lea	    ax,	[bp+var_E]
seg002:4BCC		    push    ax
seg002:4BCD		    push    9
seg002:4BCF		    call    sub_8992
seg002:4BD2		    pop	    bx
seg002:4BD3		    pop	    bx
seg002:4BD4
seg002:4BD4 loc_67A4:				    ; CODE XREF: sub_6761+2Fj
seg002:4BD4		    inc	    si
seg002:4BD5
seg002:4BD5 loc_67A5:				    ; CODE XREF: sub_6761+1Aj
seg002:4BD5		    cmp	    [bp+arg_4],	si
seg002:4BD8		    ja	    short loc_677D
seg002:4BDA		    pop	    si
seg002:4BDB		    leave
seg002:4BDC		    retn
seg002:4BDC sub_6761	    endp
seg002:4BDC
seg002:4BDD
seg002:4BDD ;  S	U B R O	U T I N	E 
seg002:4BDD
seg002:4BDD ; Attributes: bp-based frame
seg002:4BDD
seg002:4BDD sub_67AD	    proc near		    ; CODE XREF: sub_7FED-191Ap
seg002:4BDD
seg002:4BDD var_E	    = word ptr -0Eh
seg002:4BDD var_C	    = word ptr -0Ch
seg002:4BDD var_A	    = dword ptr	-0Ah
seg002:4BDD var_6	    = word ptr -6
seg002:4BDD var_4	    = dword ptr	-4
seg002:4BDD arg_0	    = word ptr	4
seg002:4BDD arg_2	    = word ptr	6
seg002:4BDD arg_4	    = word ptr	8
seg002:4BDD arg_6	    = word ptr	0Ah
seg002:4BDD
seg002:4BDD		    enter   0Eh, 0
seg002:4BE1		    push    di
seg002:4BE2		    push    si
seg002:4BE3		    mov	    ax,	[bp+arg_4]
seg002:4BE6		    shr	    ax,	3
seg002:4BE9		    mov	    [bp+var_C],	ax
seg002:4BEC		    shr	    [bp+arg_6],	3
seg002:4BF0
seg002:4BF0 loc_67C0:				    ; CODE XREF: sub_67AD+A9j
seg002:4BF0		    mov	    bx,	[bp+var_C]
seg002:4BF3		    shl	    bx,	3
seg002:4BF6		    add	    bx,	[bp+arg_0]
seg002:4BF9		    mov	    es,	[bp+arg_2]
seg002:4BFC		    mov	    ax,	es:[bx+6]
seg002:4C00		    mov	    word ptr [bp+var_4], 0
seg002:4C05		    mov	    word ptr [bp+var_4+2], ax
seg002:4C08
seg002:4C08 loc_67D8:				    ; CODE XREF: sub_67AD+9Ej
seg002:4C08		    les	    bx,	[bp+var_4]
seg002:4C0B		    add	    word ptr [bp+var_4], 2
seg002:4C0F		    mov	    bx,	es:[bx]
seg002:4C12		    mov	    [bp+var_E],	bx
seg002:4C15		    and	    bl,	0F8h
seg002:4C18		    add	    bx,	[bp+arg_0]
seg002:4C1B		    mov	    es,	[bp+arg_2]
seg002:4C1E		    mov	    si,	es:[bx+6]
seg002:4C22		    les	    bx,	[bp+var_4]
seg002:4C25		    add	    word ptr [bp+var_4], 2
seg002:4C29		    mov	    di,	es:[bx]
seg002:4C2C		    jmp	    short loc_6844
seg002:4C2E ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4C2E
seg002:4C2E loc_67FE:				    ; CODE XREF: sub_67AD+98j
seg002:4C2E		    les	    bx,	[bp+var_4]
seg002:4C31		    add	    word ptr [bp+var_4], 2
seg002:4C35		    mov	    bx,	es:[bx]
seg002:4C38		    mov	    cx,	si
seg002:4C3A		    mov	    es,	si
seg002:4C3C		    mov	    word ptr [bp+var_A], bx
seg002:4C3F		    mov	    word ptr [bp+var_A+2], es
seg002:4C42		    mov	    ax,	es:[bx]
seg002:4C45		    mov	    [bp+var_6],	ax
seg002:4C48		    cmp	    ax,	80h ; ''
seg002:4C4B		    jb	    short loc_6831
seg002:4C4D		    mov	    bx,	ax
seg002:4C4F		    and	    bl,	0F8h
seg002:4C52		    add	    bx,	[bp+arg_0]
seg002:4C55		    mov	    es,	[bp+arg_2]
seg002:4C58		    mov	    ax,	es:[bx+6]
seg002:4C5C		    les	    bx,	[bp+var_A]
seg002:4C5F		    jmp	    short loc_6841
seg002:4C61 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4C61
seg002:4C61 loc_6831:				    ; CODE XREF: sub_67AD+6Ej
seg002:4C61		    mov	    bx,	[bp+var_6]
seg002:4C64		    and	    bl,	0FBh
seg002:4C67		    shr	    bx,	2
seg002:4C6A		    mov	    ax,	[bx+0C20h]
seg002:4C6E		    mov	    bx,	word ptr [bp+var_A]
seg002:4C71
seg002:4C71 loc_6841:				    ; CODE XREF: sub_67AD+82j
seg002:4C71		    mov	    es:[bx], ax
seg002:4C74
seg002:4C74 loc_6844:				    ; CODE XREF: sub_67AD+4Fj
seg002:4C74		    dec	    di
seg002:4C75		    jns	    short loc_67FE
seg002:4C77		    test    byte ptr [bp+var_E], 3
seg002:4C7B		    jz	    short loc_67D8
seg002:4C7D		    inc	    [bp+var_C]
seg002:4C80		    test    byte ptr [bp+var_E], 2
seg002:4C84		    jnz	    short loc_6859
seg002:4C86		    jmp	    loc_67C0
seg002:4C89 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4C89
seg002:4C89 loc_6859:				    ; CODE XREF: sub_67AD+A7j
seg002:4C89		    mov	    bx,	[bp+arg_4]
seg002:4C8C		    and	    bl,	0F8h
seg002:4C8F		    add	    bx,	[bp+arg_0]
seg002:4C92		    mov	    es,	[bp+arg_2]
seg002:4C95		    push    word ptr es:[bx+6]
seg002:4C99		    call    sub_3656
seg002:4C9C		    pop	    bx
seg002:4C9D		    pop	    si
seg002:4C9E		    pop	    di
seg002:4C9F		    leave
seg002:4CA0		    retn
seg002:4CA0 sub_67AD	    endp
seg002:4CA0
seg002:4CA1
seg002:4CA1 ;  S	U B R O	U T I N	E 
seg002:4CA1
seg002:4CA1 ; Attributes: bp-based frame
seg002:4CA1
seg002:4CA1 sub_6871	    proc near		    ; CODE XREF: sub_7FED-1909p
seg002:4CA1
seg002:4CA1 var_C	    = dword ptr	-0Ch
seg002:4CA1 var_8	    = dword ptr	-8
seg002:4CA1 var_4	    = word ptr -4
seg002:4CA1 var_2	    = word ptr -2
seg002:4CA1 arg_0	    = word ptr	4
seg002:4CA1 arg_2	    = word ptr	6
seg002:4CA1 arg_4	    = word ptr	8
seg002:4CA1 arg_6	    = word ptr	0Ah
seg002:4CA1
seg002:4CA1		    enter   0Ch, 0
seg002:4CA5		    push    di
seg002:4CA6		    push    si
seg002:4CA7		    shr	    [bp+arg_4],	3
seg002:4CAB		    mov	    bx,	[bp+arg_4]
seg002:4CAE		    shl	    bx,	3
seg002:4CB1		    add	    bx,	[bp+arg_0]
seg002:4CB4		    mov	    es,	[bp+arg_2]
seg002:4CB7		    mov	    ax,	es:[bx+6]
seg002:4CBB		    mov	    [bp+var_4],	0
seg002:4CC0		    mov	    [bp+var_2],	ax
seg002:4CC3		    mov	    ax,	es:[bx-2]
seg002:4CC7		    mov	    word ptr [bp+var_8], 0
seg002:4CCC		    mov	    word ptr [bp+var_8+2], ax
seg002:4CCF		    mov	    si,	es:[bx]
seg002:4CD2		    inc	    si
seg002:4CD3		    shr	    si,	1
seg002:4CD5		    jmp	    short loc_691B
seg002:4CD7 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4CD7
seg002:4CD7 loc_68A7:				    ; CODE XREF: sub_6871+ABj
seg002:4CD7		    mov	    bx,	si
seg002:4CD9		    shl	    bx,	1
seg002:4CDB		    add	    bx,	word ptr [bp+var_8]
seg002:4CDE		    mov	    es,	word ptr [bp+var_8+2]
seg002:4CE1		    mov	    di,	es:[bx]
seg002:4CE4		    cmp	    di,	80h ; ''
seg002:4CE8		    jb	    short loc_691B
seg002:4CEA		    mov	    bx,	di
seg002:4CEC		    and	    bl,	0F8h
seg002:4CEF		    add	    bx,	[bp+arg_0]
seg002:4CF2		    mov	    es,	[bp+arg_2]
seg002:4CF5		    mov	    di,	es:[bx+6]
seg002:4CF9		    mov	    bx,	si
seg002:4CFB		    shl	    bx,	1
seg002:4CFD		    mov	    ax,	bx
seg002:4CFF		    add	    bx,	word ptr [bp+var_8]
seg002:4D02		    mov	    es,	word ptr [bp+var_8+2]
seg002:4D05		    mov	    es:[bx], di
seg002:4D08		    mov	    bx,	ax
seg002:4D0A		    add	    bx,	[bp+var_4]
seg002:4D0D		    mov	    es,	[bp+var_2]
seg002:4D10		    mov	    ax,	es:[bx]
seg002:4D13		    mov	    dx,	di
seg002:4D15		    mov	    word ptr [bp+var_C], ax
seg002:4D18		    mov	    word ptr [bp+var_C+2], dx
seg002:4D1B		    mov	    es,	di
seg002:4D1D		    mov	    bx,	ax
seg002:4D1F		    mov	    di,	es:[bx]
seg002:4D22		    cmp	    di,	80h ; ''
seg002:4D26		    jb	    short loc_6909
seg002:4D28		    mov	    bx,	di
seg002:4D2A		    and	    bl,	0F8h
seg002:4D2D		    add	    bx,	[bp+arg_0]
seg002:4D30		    mov	    es,	[bp+arg_2]
seg002:4D33		    mov	    ax,	es:[bx+6]
seg002:4D37		    jmp	    short loc_6915
seg002:4D39 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4D39
seg002:4D39 loc_6909:				    ; CODE XREF: sub_6871+85j
seg002:4D39		    mov	    bx,	di
seg002:4D3B		    and	    bl,	0FBh
seg002:4D3E		    shr	    bx,	2
seg002:4D41		    mov	    ax,	[bx+0C20h]
seg002:4D45
seg002:4D45 loc_6915:				    ; CODE XREF: sub_6871+96j
seg002:4D45		    les	    bx,	[bp+var_C]
seg002:4D48		    mov	    es:[bx], ax
seg002:4D4B
seg002:4D4B loc_691B:				    ; CODE XREF: sub_6871+34j
seg002:4D4B					    ; sub_6871+47j
seg002:4D4B		    dec	    si
seg002:4D4C		    jns	    short loc_68A7
seg002:4D4E		    push    word ptr [bp+var_8+2]
seg002:4D51		    call    sub_3656
seg002:4D54		    pop	    bx
seg002:4D55		    push    [bp+var_2]
seg002:4D58		    call    sub_3656
seg002:4D5B		    pop	    bx
seg002:4D5C		    cmp	    byte ptr ds:2Eh, 0
seg002:4D61		    jz	    short loc_6936
seg002:4D63		    jmp	    loc_69C3
seg002:4D66 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4D66
seg002:4D66 loc_6936:				    ; CODE XREF: sub_6871+C0j
seg002:4D66		    cmp	    word ptr ds:0ED6h, 0
seg002:4D6B		    jz	    short loc_6940
seg002:4D6D		    jmp	    loc_69C3
seg002:4D70 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4D70
seg002:4D70 loc_6940:				    ; CODE XREF: sub_6871+CAj
seg002:4D70		    mov	    ax,	[bp+arg_4]
seg002:4D73		    shl	    ax,	1
seg002:4D75		    add	    ax,	0Fh
seg002:4D78		    shr	    ax,	4
seg002:4D7B		    push    ax
seg002:4D7C		    call    sub_6750
seg002:4D7F		    pop	    bx
seg002:4D80		    mov	    si,	ax
seg002:4D82		    or	    si,	si
seg002:4D84		    jz	    short loc_69C3
seg002:4D86		    sub	    cx,	cx
seg002:4D88		    mov	    ds:0ED4h, cx
seg002:4D8C		    mov	    ds:0ED6h, ax
seg002:4D8F		    mov	    word ptr [bp+var_8], cx
seg002:4D92		    mov	    word ptr [bp+var_8+2], ax
seg002:4D95		    mov	    si,	10h
seg002:4D98		    jmp	    short loc_697B
seg002:4D9A ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4D9A
seg002:4D9A loc_696A:				    ; CODE XREF: sub_6871+10Dj
seg002:4D9A		    mov	    bx,	si
seg002:4D9C		    shl	    bx,	1
seg002:4D9E		    mov	    ax,	[bx+0C20h]
seg002:4DA2		    add	    bx,	word ptr [bp+var_8]
seg002:4DA5		    mov	    es,	word ptr [bp+var_8+2]
seg002:4DA8		    mov	    es:[bx], ax
seg002:4DAB
seg002:4DAB loc_697B:				    ; CODE XREF: sub_6871+F7j
seg002:4DAB		    dec	    si
seg002:4DAC		    or	    si,	si
seg002:4DAE		    jg	    short loc_696A
seg002:4DB0		    mov	    ax,	[bp+arg_6]
seg002:4DB3		    sub	    ax,	80h ; ''
seg002:4DB6		    les	    bx,	[bp+var_8]
seg002:4DB9		    mov	    es:[bx], ax
seg002:4DBC		    shr	    ax,	3
seg002:4DBF		    mov	    di,	ax
seg002:4DC1		    sub	    ax,	[bp+arg_4]
seg002:4DC4		    neg	    ax
seg002:4DC6		    dec	    ax
seg002:4DC7		    mov	    es:[bx+2], ax
seg002:4DCB		    mov	    si,	ax
seg002:4DCD		    jmp	    short loc_69BE
seg002:4DCF ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4DCF
seg002:4DCF loc_699F:				    ; CODE XREF: sub_6871+150j
seg002:4DCF		    mov	    bx,	si
seg002:4DD1		    add	    bx,	di
seg002:4DD3		    shl	    bx,	3
seg002:4DD6		    add	    bx,	[bp+arg_0]
seg002:4DD9		    mov	    es,	[bp+arg_2]
seg002:4DDC		    mov	    ax,	es:[bx+6]
seg002:4DE0		    mov	    bx,	si
seg002:4DE2		    shl	    bx,	1
seg002:4DE4		    add	    bx,	word ptr [bp+var_8]
seg002:4DE7		    mov	    es,	word ptr [bp+var_8+2]
seg002:4DEA		    mov	    es:[bx], ax
seg002:4DED		    dec	    si
seg002:4DEE
seg002:4DEE loc_69BE:				    ; CODE XREF: sub_6871+12Cj
seg002:4DEE		    cmp	    si,	10h
seg002:4DF1		    jge	    short loc_699F
seg002:4DF3
seg002:4DF3 loc_69C3:				    ; CODE XREF: sub_6871+C2j
seg002:4DF3					    ; sub_6871+CCj ...
seg002:4DF3		    pop	    si
seg002:4DF4		    pop	    di
seg002:4DF5		    leave
seg002:4DF6		    retn
seg002:4DF6 sub_6871	    endp
seg002:4DF6
seg002:4DF6 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4DF7		    align 2
seg002:4DF8		    db 0C8h, 0Ah, 2 dup(0), 6Ah, 8, 8Dh, 46h, 0F6h, 50h, 6Ah
seg002:4DF8		    db 0Ah, 0FFh, 76h, 4, 0E8h,	0D7h, 18h, 83h,	0C4h, 8, 68h
seg002:4DF8		    db 0E4h, 0Eh, 8Dh, 46h, 0F6h, 50h, 0E8h, 46h, 0CBh,	5Bh
seg002:4E18		    db 5Bh
seg002:4E19 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4E19		    or	    ax,	ax
seg002:4E1B		    jz	    short loc_6A00
seg002:4E1D		    mov	    byte ptr ds:36h, 80h ; ''
seg002:4E22		    cmp	    word ptr ds:0ECAh, 440h
seg002:4E28		    jnb	    short loc_6A00
seg002:4E2A		    mov	    word ptr ds:0ECAh, 440h
seg002:4E30
seg002:4E30 loc_6A00:				    ; CODE XREF: seg002:4E1Bj
seg002:4E30					    ; seg002:4E28j
seg002:4E30		    mov	    al,	ds:36h
seg002:4E33		    cbw
seg002:4E34		    leave
seg002:4E35		    retn
seg002:4E36
seg002:4E36 ;  S	U B R O	U T I N	E 
seg002:4E36
seg002:4E36 ; Attributes: bp-based frame
seg002:4E36
seg002:4E36 sub_6A06	    proc near		    ; CODE XREF: sub_6C1E+135p
seg002:4E36
seg002:4E36 var_3E	    = word ptr -3Eh
seg002:4E36 var_39	    = byte ptr -39h
seg002:4E36 var_38	    = word ptr -38h
seg002:4E36 var_34	    = word ptr -34h
seg002:4E36 var_22	    = word ptr -22h
seg002:4E36 var_1D	    = byte ptr -1Dh
seg002:4E36 var_8	    = word ptr -8
seg002:4E36 var_6	    = word ptr -6
seg002:4E36 arg_0	    = word ptr	4
seg002:4E36 arg_2	    = word ptr	6
seg002:4E36
seg002:4E36		    enter   3Eh, 0
seg002:4E3A		    push    30h	; '0'
seg002:4E3C		    lea	    ax,	[bp+var_34]
seg002:4E3F		    push    ax
seg002:4E40		    push    [bp+arg_2]
seg002:4E43		    push    [bp+arg_0]
seg002:4E46		    call    sub_82B1
seg002:4E49		    add	    sp,	8
seg002:4E4C		    mov	    [bp+var_1D], 0
seg002:4E50		    cmp	    byte ptr ds:0CEEh, 4
seg002:4E55		    jge	    short loc_6A52
seg002:4E57		    push    0EEEh
seg002:4E5A		    lea	    ax,	[bp+var_22]
seg002:4E5D		    push    ax
seg002:4E5E		    call    sub_352D
seg002:4E61		    pop	    bx
seg002:4E62		    pop	    bx
seg002:4E63		    or	    ax,	ax
seg002:4E65		    jz	    short loc_6A52
seg002:4E67		    mov	    ax,	[bp+var_8]
seg002:4E6A		    mov	    dx,	[bp+var_6]
seg002:4E6D		    and	    al,	0F0h
seg002:4E6F		    sub	    dh,	dh
seg002:4E71		    mov	    cl,	4
seg002:4E73		    call    sub_4380
seg002:4E76		    mov	    ds:98h, ax
seg002:4E79		    mov	    ds:9Ah, dx
seg002:4E7D		    mov	    ax,	1
seg002:4E80		    leave
seg002:4E81		    retn
seg002:4E82 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4E82
seg002:4E82 loc_6A52:				    ; CODE XREF: sub_6A06+1Fj
seg002:4E82					    ; sub_6A06+2Fj
seg002:4E82		    push    0Ah
seg002:4E84		    lea	    ax,	[bp+var_3E]
seg002:4E87		    push    ax
seg002:4E88		    push    0C8h ; 'ศ'
seg002:4E8B		    push    [bp+arg_0]
seg002:4E8E		    call    sub_82B1
seg002:4E91		    add	    sp,	8
seg002:4E94		    cmp	    [bp+var_3E], 0FF2Eh
seg002:4E99		    jnz	    short loc_6A80
seg002:4E9B		    cmp	    [bp+var_39], 24h ; '$'
seg002:4E9F		    jnz	    short loc_6A80
seg002:4EA1		    push    [bp+var_38]
seg002:4EA4		    call    sub_831C
seg002:4EA7		    pop	    bx
seg002:4EA8		    add	    ds:98h, ax
seg002:4EAC		    adc	    ds:9Ah, dx
seg002:4EB0
seg002:4EB0 loc_6A80:				    ; CODE XREF: sub_6A06+63j
seg002:4EB0					    ; sub_6A06+69j
seg002:4EB0		    sub	    ax,	ax
seg002:4EB2		    leave
seg002:4EB3		    retn
seg002:4EB3 sub_6A06	    endp
seg002:4EB3
seg002:4EB4
seg002:4EB4 ;  S	U B R O	U T I N	E 
seg002:4EB4
seg002:4EB4 ; Attributes: bp-based frame
seg002:4EB4
seg002:4EB4 sub_6A84	    proc near		    ; CODE XREF: sub_6C1E:loc_6D63p
seg002:4EB4
seg002:4EB4 var_C	    = word ptr -0Ch
seg002:4EB4 var_A	    = word ptr -0Ah
seg002:4EB4 var_8	    = word ptr -8
seg002:4EB4
seg002:4EB4		    enter   0Ch, 0
seg002:4EB8		    push    5
seg002:4EBA		    lea	    ax,	[bp+var_8]
seg002:4EBD		    push    ax
seg002:4EBE		    push    10h
seg002:4EC0		    push    3
seg002:4EC2		    call    sub_2DBD
seg002:4EC5		    add	    sp,	8
seg002:4EC8		    push    0EEEh
seg002:4ECB		    lea	    ax,	[bp+var_8]
seg002:4ECE		    push    ax
seg002:4ECF		    call    sub_352D
seg002:4ED2		    pop	    bx
seg002:4ED3		    pop	    bx
seg002:4ED4		    or	    ax,	ax
seg002:4ED6		    jz	    short locret_6AF8
seg002:4ED8		    push    2
seg002:4EDA		    lea	    ax,	[bp+var_C]
seg002:4EDD		    push    ax
seg002:4EDE		    push    10h
seg002:4EE0		    push    1Eh
seg002:4EE2		    call    sub_2DBD
seg002:4EE5		    add	    sp,	8
seg002:4EE8		    push    [bp+var_C]
seg002:4EEB		    call    sub_831C
seg002:4EEE		    pop	    bx
seg002:4EEF		    mov	    [bp+var_C],	ax
seg002:4EF2		    mov	    [bp+var_A],	dx
seg002:4EF5		    mov	    ax,	ds:98h
seg002:4EF8		    mov	    dx,	ds:9Ah
seg002:4EFC		    cmp	    [bp+var_A],	dx
seg002:4EFF		    jb	    short locret_6AF8
seg002:4F01		    ja	    short loc_6AD8
seg002:4F03		    cmp	    [bp+var_C],	ax
seg002:4F06		    jbe	    short locret_6AF8
seg002:4F08
seg002:4F08 loc_6AD8:				    ; CODE XREF: sub_6A84+4Dj
seg002:4F08		    mov	    ax,	ds:9Ch
seg002:4F0B		    mov	    dx,	ds:9Eh
seg002:4F0F		    cmp	    [bp+var_A],	dx
seg002:4F12		    ja	    short locret_6AF8
seg002:4F14		    jb	    short loc_6AEB
seg002:4F16		    cmp	    [bp+var_C],	ax
seg002:4F19		    jnb	    short locret_6AF8
seg002:4F1B
seg002:4F1B loc_6AEB:				    ; CODE XREF: sub_6A84+60j
seg002:4F1B		    mov	    ax,	[bp+var_C]
seg002:4F1E		    mov	    dx,	[bp+var_A]
seg002:4F21		    mov	    ds:98h, ax
seg002:4F24		    mov	    ds:9Ah, dx
seg002:4F28
seg002:4F28 locret_6AF8:			    ; CODE XREF: sub_6A84+22j
seg002:4F28					    ; sub_6A84+4Bj ...
seg002:4F28		    leave
seg002:4F29		    retn
seg002:4F29 sub_6A84	    endp
seg002:4F29
seg002:4F2A
seg002:4F2A ;  S	U B R O	U T I N	E 
seg002:4F2A
seg002:4F2A ; Attributes: bp-based frame
seg002:4F2A
seg002:4F2A sub_6AFA	    proc near		    ; CODE XREF: sub_6C1E+115p
seg002:4F2A
seg002:4F2A var_16	    = word ptr -16h
seg002:4F2A var_4	    = word ptr -4
seg002:4F2A var_2	    = word ptr -2
seg002:4F2A
seg002:4F2A		    enter   16h, 0
seg002:4F2E		    push    12h
seg002:4F30		    lea	    ax,	[bp+var_16]
seg002:4F33		    push    ax
seg002:4F34		    push    10h
seg002:4F36		    push    0
seg002:4F38		    call    sub_2DBD
seg002:4F3B		    add	    sp,	8
seg002:4F3E		    push    0EF4h
seg002:4F41		    lea	    ax,	[bp+var_16]
seg002:4F44		    push    ax
seg002:4F45		    call    sub_352D
seg002:4F48		    pop	    bx
seg002:4F49		    pop	    bx
seg002:4F4A		    or	    ax,	ax
seg002:4F4C		    jz	    short loc_6B4F
seg002:4F4E		    push    4
seg002:4F50		    lea	    ax,	[bp+var_4]
seg002:4F53		    push    ax
seg002:4F54		    push    10h
seg002:4F56		    push    32h	; '2'
seg002:4F58		    call    sub_2DBD
seg002:4F5B		    add	    sp,	8
seg002:4F5E		    mov	    ax,	[bp+var_4]
seg002:4F61		    sub	    ax,	[bp+var_2]
seg002:4F64		    add	    ah,	4
seg002:4F67		    sub	    dx,	dx
seg002:4F69		    add	    ax,	1
seg002:4F6C		    adc	    dx,	dx
seg002:4F6E		    mov	    cl,	6
seg002:4F70		    call    sub_4374
seg002:4F73		    mov	    ds:98h, ax
seg002:4F76		    mov	    ds:9Ah, dx
seg002:4F7A		    mov	    ax,	1
seg002:4F7D		    leave
seg002:4F7E		    retn
seg002:4F7F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4F7F
seg002:4F7F loc_6B4F:				    ; CODE XREF: sub_6AFA+22j
seg002:4F7F		    sub	    ax,	ax
seg002:4F81		    leave
seg002:4F82		    retn
seg002:4F82 sub_6AFA	    endp
seg002:4F82
seg002:4F83
seg002:4F83 ;  S	U B R O	U T I N	E 
seg002:4F83
seg002:4F83 ; Attributes: bp-based frame
seg002:4F83
seg002:4F83 sub_6B53	    proc near		    ; CODE XREF: sub_6BC2+6p
seg002:4F83					    ; sub_6C1E+141p
seg002:4F83
seg002:4F83 var_1A	    = dword ptr	-1Ah
seg002:4F83 var_16	    = word ptr -16h
seg002:4F83 var_D	    = byte ptr -0Dh
seg002:4F83 var_C	    = word ptr -0Ch
seg002:4F83 arg_0	    = word ptr	4
seg002:4F83
seg002:4F83		    enter   1Ah, 0
seg002:4F87		    push    si
seg002:4F88		    mov	    si,	22h ; '"'
seg002:4F8B		    cmp	    byte ptr ds:0CEEh, 2
seg002:4F90		    jnz	    short loc_6B65
seg002:4F92		    mov	    si,	17h
seg002:4F95
seg002:4F95 loc_6B65:				    ; CODE XREF: sub_6B53+Dj
seg002:4F95		    cmp	    byte ptr ds:0CEEh, 3
seg002:4F9A		    jnz	    short loc_6B76
seg002:4F9C		    cmp	    byte ptr ds:0CEFh, 0
seg002:4FA1		    jnz	    short loc_6B76
seg002:4FA3		    mov	    si,	28h ; '('
seg002:4FA6
seg002:4FA6 loc_6B76:				    ; CODE XREF: sub_6B53+17j
seg002:4FA6					    ; sub_6B53+1Ej
seg002:4FA6		    mov	    [bp+var_D],	52h ; 'R'
seg002:4FAA		    lea	    ax,	[bp+var_16]
seg002:4FAD		    push    ax
seg002:4FAE		    lea	    cx,	[bp-0Eh]
seg002:4FB1		    push    cx
seg002:4FB2		    push    cx
seg002:4FB3		    call    sub_42E8
seg002:4FB6		    add	    sp,	6
seg002:4FB9		    mov	    ax,	[bp+var_C]
seg002:4FBC		    add	    ax,	si
seg002:4FBE		    mov	    word ptr [bp+var_1A], ax
seg002:4FC1		    mov	    ax,	[bp+var_16]
seg002:4FC4		    mov	    word ptr [bp+var_1A+2], ax
seg002:4FC7		    mov	    si,	28h ; '('
seg002:4FCA		    jmp	    short loc_6BAC
seg002:4FCC ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:4FCC
seg002:4FCC loc_6B9C:				    ; CODE XREF: sub_6B53+6Aj
seg002:4FCC		    dec	    si
seg002:4FCD		    jz	    short loc_6BBF
seg002:4FCF		    push    word ptr [bp+var_1A]
seg002:4FD2		    push    dx
seg002:4FD3		    call    [bp+arg_0]
seg002:4FD6		    pop	    bx
seg002:4FD7		    pop	    bx
seg002:4FD8		    or	    ax,	ax
seg002:4FDA		    jnz	    short loc_6BBF
seg002:4FDC
seg002:4FDC loc_6BAC:				    ; CODE XREF: sub_6B53+47j
seg002:4FDC		    les	    bx,	[bp+var_1A]
seg002:4FDF		    mov	    ax,	es:[bx]
seg002:4FE2		    mov	    dx,	es:[bx+2]
seg002:4FE6		    mov	    word ptr [bp+var_1A], ax
seg002:4FE9		    mov	    word ptr [bp+var_1A+2], dx
seg002:4FEC		    inc	    ax
seg002:4FED		    jnz	    short loc_6B9C
seg002:4FEF
seg002:4FEF loc_6BBF:				    ; CODE XREF: sub_6B53+4Aj
seg002:4FEF					    ; sub_6B53+57j
seg002:4FEF		    pop	    si
seg002:4FF0		    leave
seg002:4FF1		    retn
seg002:4FF1 sub_6B53	    endp
seg002:4FF1
seg002:4FF2
seg002:4FF2 ;  S	U B R O	U T I N	E 
seg002:4FF2
seg002:4FF2
seg002:4FF2 sub_6BC2	    proc near		    ; CODE XREF: sub_6C1E+E7p
seg002:4FF2					    ; sub_8128+49p
seg002:4FF2		    call    sub_8844
seg002:4FF5		    push    4DF8h
seg002:4FF8		    call    sub_6B53
seg002:4FFB		    pop	    bx
seg002:4FFC		    retn
seg002:4FFC sub_6BC2	    endp
seg002:4FFC
seg002:4FFD
seg002:4FFD ;  S	U B R O	U T I N	E 
seg002:4FFD
seg002:4FFD ; Attributes: bp-based frame
seg002:4FFD
seg002:4FFD sub_6BCD	    proc near		    ; CODE XREF: sub_6E32+29p
seg002:4FFD					    ; sub_6E32+40p ...
seg002:4FFD
seg002:4FFD var_4	    = word ptr -4
seg002:4FFD var_2	    = word ptr -2
seg002:4FFD arg_0	    = word ptr	4
seg002:4FFD arg_2	    = word ptr	6
seg002:4FFD
seg002:4FFD		    enter   4, 0
seg002:5001		    push    4
seg002:5003		    lea	    ax,	[bp+arg_0]
seg002:5006		    push    ax
seg002:5007		    call    sub_7D7A
seg002:500A		    cmp	    dx,	10h
seg002:500D		    jg	    short loc_6BE1
seg002:500F		    jl	    short loc_6C1A
seg002:5011
seg002:5011 loc_6BE1:				    ; CODE XREF: sub_6BCD+10j
seg002:5011		    push    4
seg002:5013		    push    0F08h
seg002:5016		    push    [bp+arg_2]
seg002:5019		    push    [bp+arg_0]
seg002:501C		    call    sub_2DF2
seg002:501F		    add	    sp,	8
seg002:5022		    push    4
seg002:5024		    lea	    ax,	[bp+var_4]
seg002:5027		    push    ax
seg002:5028		    push    [bp+arg_2]
seg002:502B		    push    [bp+arg_0]
seg002:502E		    call    sub_2DBD
seg002:5031		    add	    sp,	8
seg002:5034		    mov	    ax,	ds:0F08h
seg002:5037		    mov	    dx,	ds:0F0Ah
seg002:503B		    cmp	    [bp+var_4],	ax
seg002:503E		    jnz	    short loc_6C1A
seg002:5040		    cmp	    [bp+var_2],	dx
seg002:5043		    jnz	    short loc_6C1A
seg002:5045		    mov	    ax,	1
seg002:5048		    leave
seg002:5049		    retn
seg002:504A ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:504A
seg002:504A loc_6C1A:				    ; CODE XREF: sub_6BCD+12j
seg002:504A					    ; sub_6BCD+41j ...
seg002:504A		    sub	    ax,	ax
seg002:504C		    leave
seg002:504D		    retn
seg002:504D sub_6BCD	    endp
seg002:504D
seg002:504E
seg002:504E ;  S	U B R O	U T I N	E 
seg002:504E
seg002:504E ; Attributes: bp-based frame
seg002:504E
seg002:504E sub_6C1E	    proc near		    ; CODE XREF: sub_7250p
seg002:504E
seg002:504E var_1C	    = word ptr -1Ch
seg002:504E var_1A	    = word ptr -1Ah
seg002:504E var_12	    = word ptr -12h
seg002:504E var_10	    = word ptr -10h
seg002:504E var_D	    = byte ptr -0Dh
seg002:504E
seg002:504E		    enter   1Ch, 0
seg002:5052		    sub	    ax,	ax
seg002:5054		    mov	    ds:0A6h, ax
seg002:5057		    mov	    ds:0A4h, ax
seg002:505A		    mov	    ds:9Eh, ax
seg002:505D		    mov	    ds:9Ch, ax
seg002:5060		    mov	    ds:9Ah, ax
seg002:5063		    mov	    ds:98h, ax
seg002:5066		    mov	    word ptr ds:0A0h, 98h ; ''
seg002:506C		    mov	    word ptr ds:0A2h, ds
seg002:5070		    cmp	    byte ptr ds:2Eh, 0Bh
seg002:5075		    jnz	    short loc_6C7C
seg002:5077		    push    word ptr ds:0ECAh
seg002:507B		    call    sub_831C
seg002:507E		    pop	    bx
seg002:507F		    mov	    ds:98h, ax
seg002:5082		    mov	    ds:9Ah, dx
seg002:5086		    mov	    ax,	ds:0ECCh
seg002:5089		    add	    ax,	ds:0ECAh
seg002:508D		    mov	    [bp+var_1C], ax
seg002:5090		    cmp	    ax,	ds:0ECAh
seg002:5094		    jnb	    short loc_6C6B
seg002:5096		    mov	    [bp+var_1C], 0FF00h
seg002:509B
seg002:509B loc_6C6B:				    ; CODE XREF: sub_6C1E+46j
seg002:509B		    push    [bp+var_1C]
seg002:509E		    call    sub_831C
seg002:50A1		    pop	    bx
seg002:50A2		    mov	    ds:9Ch, ax
seg002:50A5		    mov	    ds:9Eh, dx
seg002:50A9		    jmp	    loc_6D66
seg002:50AC ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:50AC
seg002:50AC loc_6C7C:				    ; CODE XREF: sub_6C1E+27j
seg002:50AC		    test    byte ptr ds:47h, 1
seg002:50B1		    jnz	    short loc_6CC7
seg002:50B3		    push    word ptr ds:0ECAh
seg002:50B7		    call    sub_831C
seg002:50BA		    pop	    bx
seg002:50BB		    mov	    ds:98h, ax
seg002:50BE		    mov	    ds:9Ah, dx
seg002:50C2		    push    word ptr ds:0ECEh
seg002:50C6		    call    sub_831C
seg002:50C9		    pop	    bx
seg002:50CA		    mov	    ds:9Ch, ax
seg002:50CD		    mov	    ds:9Eh, dx
seg002:50D1		    call    sub_8854
seg002:50D4		    or	    ax,	ax
seg002:50D6		    jnz	    short loc_6CAB
seg002:50D8		    jmp	    loc_6D66
seg002:50DB ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:50DB
seg002:50DB loc_6CAB:				    ; CODE XREF: sub_6C1E+88j
seg002:50DB					    ; sub_6C1E+C5j
seg002:50DB		    mov	    ax,	ds:0ECCh
seg002:50DE		    mov	    ds:0A8h, ax
seg002:50E1		    push    ax
seg002:50E2		    call    sub_831C
seg002:50E5		    pop	    bx
seg002:50E6		    add	    ax,	ds:98h
seg002:50EA		    adc	    dx,	ds:9Ah
seg002:50EE
seg002:50EE loc_6CBE:				    ; CODE XREF: sub_6C1E+1E0j
seg002:50EE		    mov	    ds:9Ch, ax
seg002:50F1		    mov	    ds:9Eh, dx
seg002:50F5		    leave
seg002:50F6		    retn
seg002:50F7 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:50F7
seg002:50F7 loc_6CC7:				    ; CODE XREF: sub_6C1E+63j
seg002:50F7		    mov	    [bp+var_D],	88h ; ''
seg002:50FB		    lea	    ax,	[bp-0Eh]
seg002:50FE		    push    ax
seg002:50FF		    push    ax
seg002:5100		    push    15h
seg002:5102		    call    sub_7C54
seg002:5105		    add	    sp,	6
seg002:5108		    mov	    ax,	[bp-0Eh]
seg002:510B		    mov	    ds:0A8h, ax
seg002:510E		    call    sub_8854
seg002:5111		    or	    ax,	ax
seg002:5113		    jnz	    short loc_6CAB
seg002:5115		    cmp	    word ptr ds:0A8h, 0FC00h
seg002:511B		    jb	    short loc_6CF1
seg002:511D		    dec	    word ptr ds:0A8h
seg002:5121
seg002:5121 loc_6CF1:				    ; CODE XREF: sub_6C1E+CDj
seg002:5121		    push    word ptr ds:0A8h
seg002:5125		    call    sub_831C
seg002:5128		    pop	    bx
seg002:5129		    add	    ax,	0
seg002:512C		    adc	    dx,	1
seg002:512F		    mov	    [bp+var_12], ax
seg002:5132		    mov	    [bp+var_10], dx
seg002:5135		    call    sub_6BC2
seg002:5138		    cmp	    word ptr [bp-0Eh], 0
seg002:513C		    jz	    short loc_6D66
seg002:513E		    mov	    word ptr ds:0AA4h, 1B41h
seg002:5144		    mov	    word ptr ds:0AA6h, 1BB5h
seg002:514A		    mov	    word ptr ds:98h, 0
seg002:5150		    mov	    word ptr ds:9Ah, 1
seg002:5156		    mov	    ax,	[bp+var_12]
seg002:5159		    mov	    dx,	[bp+var_10]
seg002:515C		    mov	    ds:9Ch, ax
seg002:515F		    mov	    ds:9Eh, dx
seg002:5163		    call    sub_6AFA
seg002:5166		    or	    ax,	ax
seg002:5168		    jnz	    short loc_6D66
seg002:516A		    mov	    word ptr [bp-0Eh], 3519h
seg002:516F		    lea	    ax,	[bp+var_1A]
seg002:5172		    push    ax
seg002:5173		    lea	    cx,	[bp-0Eh]
seg002:5176		    push    cx
seg002:5177		    push    cx
seg002:5178		    call    sub_42E8
seg002:517B		    add	    sp,	6
seg002:517E		    push    0
seg002:5180		    push    [bp+var_1A]
seg002:5183		    call    sub_6A06
seg002:5186		    pop	    bx
seg002:5187		    pop	    bx
seg002:5188		    or	    ax,	ax
seg002:518A		    jnz	    short loc_6D63
seg002:518C		    push    4E36h
seg002:518F		    call    sub_6B53
seg002:5192		    pop	    bx
seg002:5193
seg002:5193 loc_6D63:				    ; CODE XREF: sub_6C1E+13Cj
seg002:5193		    call    sub_6A84
seg002:5196
seg002:5196 loc_6D66:				    ; CODE XREF: sub_6C1E+5Bj
seg002:5196					    ; sub_6C1E+8Aj ...
seg002:5196		    cmp	    word ptr ds:0ECCh, 0
seg002:519B		    jnz	    short loc_6D77
seg002:519D		    sub	    ax,	ax
seg002:519F		    mov	    ds:9Eh, ax
seg002:51A2		    mov	    ds:9Ch, ax
seg002:51A5		    leave
seg002:51A6		    retn
seg002:51A7 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:51A7
seg002:51A7 loc_6D77:				    ; CODE XREF: sub_6C1E+14Dj
seg002:51A7		    mov	    ax,	ds:9Ch
seg002:51AA		    mov	    dx,	ds:9Eh
seg002:51AE		    mov	    cl,	6
seg002:51B0		    call    sub_7DB2
seg002:51B3		    cmp	    ax,	ds:0ECEh
seg002:51B7		    jbe	    short loc_6D98
seg002:51B9		    push    word ptr ds:0ECEh
seg002:51BD		    call    sub_831C
seg002:51C0		    pop	    bx
seg002:51C1		    mov	    ds:9Ch, ax
seg002:51C4		    mov	    ds:9Eh, dx
seg002:51C8
seg002:51C8 loc_6D98:				    ; CODE XREF: sub_6C1E+169j
seg002:51C8		    push    word ptr ds:0ECCh
seg002:51CC		    call    sub_831C
seg002:51CF		    pop	    bx
seg002:51D0		    add	    ax,	ds:98h
seg002:51D4		    adc	    dx,	ds:9Ah
seg002:51D8		    mov	    [bp+var_12], ax
seg002:51DB		    mov	    [bp+var_10], dx
seg002:51DE		    mov	    ax,	ds:98h
seg002:51E1		    mov	    dx,	ds:9Ah
seg002:51E5		    mov	    cl,	6
seg002:51E7		    call    sub_7DB2
seg002:51EA		    cmp	    ax,	ds:0ECAh
seg002:51EE		    jnb	    short loc_6E01
seg002:51F0		    push    word ptr ds:0ECAh
seg002:51F4		    call    sub_831C
seg002:51F7		    pop	    bx
seg002:51F8		    mov	    ds:98h, ax
seg002:51FB		    mov	    ds:9Ah, dx
seg002:51FF		    push    word ptr ds:0ECCh
seg002:5203		    call    sub_831C
seg002:5206		    pop	    bx
seg002:5207		    add	    ax,	ds:98h
seg002:520B		    adc	    dx,	ds:9Ah
seg002:520F		    mov	    [bp+var_12], ax
seg002:5212		    mov	    [bp+var_10], dx
seg002:5215		    mov	    ax,	ds:9Ch
seg002:5218		    mov	    dx,	ds:9Eh
seg002:521C		    cmp	    [bp+var_10], dx
seg002:521F		    ja	    short locret_6E30
seg002:5221		    jb	    short loc_6DF8
seg002:5223		    cmp	    [bp+var_12], ax
seg002:5226		    jnb	    short locret_6E30
seg002:5228
seg002:5228 loc_6DF8:				    ; CODE XREF: sub_6C1E+1D3j
seg002:5228		    mov	    ax,	[bp+var_12]
seg002:522B		    mov	    dx,	[bp+var_10]
seg002:522E		    jmp	    loc_6CBE
seg002:5231 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5231
seg002:5231 loc_6E01:				    ; CODE XREF: sub_6C1E+1A0j
seg002:5231		    mov	    ax,	ds:9Ch
seg002:5234		    mov	    dx,	ds:9Eh
seg002:5238		    cmp	    [bp+var_10], dx
seg002:523B		    ja	    short locret_6E30
seg002:523D		    jb	    short loc_6E14
seg002:523F		    cmp	    [bp+var_12], ax
seg002:5242		    jnb	    short locret_6E30
seg002:5244
seg002:5244 loc_6E14:				    ; CODE XREF: sub_6C1E+1EFj
seg002:5244		    push    word ptr ds:0ECCh
seg002:5248		    call    sub_831C
seg002:524B		    pop	    bx
seg002:524C		    mov	    cx,	ds:9Ch
seg002:5250		    mov	    bx,	ds:9Eh
seg002:5254		    sub	    cx,	ax
seg002:5256		    sbb	    bx,	dx
seg002:5258		    mov	    ds:98h, cx
seg002:525C		    mov	    ds:9Ah, bx
seg002:5260
seg002:5260 locret_6E30:			    ; CODE XREF: sub_6C1E+1D1j
seg002:5260					    ; sub_6C1E+1D8j ...
seg002:5260		    leave
seg002:5261		    retn
seg002:5261 sub_6C1E	    endp
seg002:5261
seg002:5262
seg002:5262 ;  S	U B R O	U T I N	E 
seg002:5262
seg002:5262 ; Attributes: bp-based frame
seg002:5262
seg002:5262 sub_6E32	    proc near		    ; CODE XREF: sub_6FB0+CDp
seg002:5262
seg002:5262 var_4	    = word ptr -4
seg002:5262 var_2	    = word ptr -2
seg002:5262 arg_0	    = word ptr	4
seg002:5262
seg002:5262		    enter   4, 0
seg002:5266		    test    byte ptr ds:47h, 2
seg002:526B		    jz	    short loc_6EB5
seg002:526D		    mov	    [bp+var_4],	0A000h
seg002:5272		    mov	    [bp+var_2],	0Fh
seg002:5277
seg002:5277 loc_6E47:				    ; CODE XREF: sub_6E32+6Aj
seg002:5277		    cmp	    [bp+var_2],	0Fh
seg002:527B		    jg	    short loc_6E9E
seg002:527D		    jl	    short loc_6E55
seg002:527F		    cmp	    [bp+var_4],	0FFFFh
seg002:5283		    jnb	    short loc_6E9E
seg002:5285
seg002:5285 loc_6E55:				    ; CODE XREF: sub_6E32+1Bj
seg002:5285		    push    [bp+var_2]
seg002:5288		    push    [bp+var_4]
seg002:528B		    call    sub_6BCD
seg002:528E		    pop	    bx
seg002:528F		    pop	    bx
seg002:5290		    or	    ax,	ax
seg002:5292		    jz	    short loc_6E9E
seg002:5294		    mov	    ax,	[bp+var_4]
seg002:5297		    mov	    dx,	[bp+var_2]
seg002:529A		    add	    ax,	3FFh
seg002:529D		    adc	    dx,	0
seg002:52A0		    push    dx
seg002:52A1		    push    ax
seg002:52A2		    call    sub_6BCD
seg002:52A5		    pop	    bx
seg002:52A6		    pop	    bx
seg002:52A7		    or	    ax,	ax
seg002:52A9		    jz	    short loc_6E9E
seg002:52AB		    push    4000h
seg002:52AE		    push    0
seg002:52B0		    mov	    ax,	[bp+var_4]
seg002:52B3		    mov	    dx,	[bp+var_2]
seg002:52B6		    mov	    cl,	4
seg002:52B8		    call    sub_4374
seg002:52BB		    push    dx
seg002:52BC		    push    ax
seg002:52BD		    call    sub_2DF2
seg002:52C0		    add	    sp,	8
seg002:52C3		    add	    [bp+var_4],	400h
seg002:52C8		    adc	    [bp+var_2],	0
seg002:52CC		    jmp	    short loc_6E47
seg002:52CE ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:52CE
seg002:52CE loc_6E9E:				    ; CODE XREF: sub_6E32+19j
seg002:52CE					    ; sub_6E32+21j ...
seg002:52CE		    mov	    ax,	[bp+var_4]
seg002:52D1		    add	    ah,	60h ; '`'
seg002:52D4		    mov	    bx,	[bp+arg_0]
seg002:52D7		    mov	    [bx], ax
seg002:52D9		    or	    ax,	ax
seg002:52DB		    jz	    short loc_6EB5
seg002:52DD		    mov	    ax,	0A000h
seg002:52E0		    mov	    dx,	0Fh
seg002:52E3		    leave
seg002:52E4		    retn
seg002:52E5 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:52E5
seg002:52E5 loc_6EB5:				    ; CODE XREF: sub_6E32+9j
seg002:52E5					    ; sub_6E32+79j
seg002:52E5		    and	    byte ptr ds:47h, 0FDh
seg002:52EA		    sub	    ax,	ax
seg002:52EC		    cwd
seg002:52ED		    leave
seg002:52EE		    retn
seg002:52EE sub_6E32	    endp
seg002:52EE
seg002:52EF
seg002:52EF ;  S	U B R O	U T I N	E 
seg002:52EF
seg002:52EF ; Attributes: bp-based frame
seg002:52EF
seg002:52EF sub_6EBF	    proc near		    ; CODE XREF: sub_6FB0+BBp
seg002:52EF
seg002:52EF var_A	    = word ptr -0Ah
seg002:52EF var_8	    = word ptr -8
seg002:52EF var_6	    = word ptr -6
seg002:52EF var_4	    = dword ptr	-4
seg002:52EF arg_0	    = word ptr	4
seg002:52EF
seg002:52EF		    enter   0Ah, 0
seg002:52F3		    push    di
seg002:52F4		    push    si
seg002:52F5		    mov	    word ptr [bp+var_4], 0FFE0h
seg002:52FA		    mov	    word ptr [bp+var_4+2], 0F000h
seg002:52FF		    mov	    ax,	ds:9Ch
seg002:5302		    mov	    dx,	ds:9Eh
seg002:5306		    mov	    [bp+var_8],	ax
seg002:5309		    mov	    [bp+var_6],	dx
seg002:530C		    cmp	    dx,	1
seg002:530F		    jg	    short loc_6EED
seg002:5311		    jge	    short loc_6EED
seg002:5313		    mov	    [bp+var_8],	0
seg002:5318		    mov	    [bp+var_6],	1
seg002:531D
seg002:531D loc_6EED:				    ; CODE XREF: sub_6EBF+20j
seg002:531D					    ; sub_6EBF+22j
seg002:531D		    mov	    ax,	ds:0F0Ch
seg002:5320		    mov	    dx,	ds:0F0Eh
seg002:5324		    les	    bx,	[bp+var_4]
seg002:5327		    cmp	    es:[bx+0Ah], ax
seg002:532B		    jnz	    short loc_6F2D
seg002:532D		    cmp	    es:[bx+0Ch], dx
seg002:5331		    jnz	    short loc_6F2D
seg002:5333		    mov	    ax,	ds:0F11h
seg002:5336		    cmp	    es:[bx+0Eh], ax
seg002:533A		    jnz	    short loc_6F2D
seg002:533C		    cmp	    word ptr ds:0ECEh, 3E00h
seg002:5342		    jb	    short loc_6F2D
seg002:5344		    mov	    ax,	[bp+var_8]
seg002:5347		    mov	    dx,	[bp+var_6]
seg002:534A		    sub	    ax,	ds:98h
seg002:534E		    sbb	    dx,	ds:9Ah
seg002:5352		    mov	    cl,	6
seg002:5354		    call    sub_7DB2
seg002:5357		    cmp	    ax,	ds:0ECCh
seg002:535B		    jb	    short loc_6F32
seg002:535D
seg002:535D loc_6F2D:				    ; CODE XREF: sub_6EBF+3Cj
seg002:535D					    ; sub_6EBF+42j ...
seg002:535D		    sub	    ax,	ax
seg002:535F		    cwd
seg002:5360		    jmp	    short loc_6FAC
seg002:5362 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5362
seg002:5362 loc_6F32:				    ; CODE XREF: sub_6EBF+6Cj
seg002:5362		    les	    bx,	[bp+var_4]
seg002:5365		    mov	    ax,	es:[bx]
seg002:5368		    mov	    word ptr [bp+var_4], ax
seg002:536B		    mov	    ds:11ECh, ax
seg002:536E		    mov	    bx,	ax
seg002:5370		    cmp	    word ptr es:[bx], 0FFFFh
seg002:5374		    jz	    short loc_6F2D
seg002:5376		    mov	    ax,	es:[bx+4]
seg002:537A		    cmp	    es:[bx+2], ax
seg002:537E		    jb	    short loc_6F2D
seg002:5380		    cmp	    ax,	es:[bx+6]
seg002:5384		    jnb	    short loc_6F2D
seg002:5386		    mov	    [bp+var_A],	ax
seg002:5389		    mov	    bx,	[bp+arg_0]
seg002:538C		    mov	    [bx], ax
seg002:538E		    cmp	    ax,	1000h
seg002:5391		    jb	    short loc_6F2D
seg002:5393		    mov	    bx,	word ptr [bp+var_4]
seg002:5396		    mov	    ax,	es:[bx+6]
seg002:539A		    mov	    dx,	0Fh
seg002:539D		    mov	    cx,	ax
seg002:539F		    mov	    bx,	dx
seg002:53A1		    sub	    ax,	1
seg002:53A4		    sbb	    dx,	0
seg002:53A7		    push    dx
seg002:53A8		    push    ax
seg002:53A9		    mov	    si,	cx
seg002:53AB		    mov	    di,	bx
seg002:53AD		    call    sub_6BCD
seg002:53B0		    pop	    bx
seg002:53B1		    pop	    bx
seg002:53B2		    or	    ax,	ax
seg002:53B4		    jz	    short loc_6F2D
seg002:53B6		    sub	    si,	[bp+var_A]
seg002:53B9		    sbb	    di,	0
seg002:53BC		    push    di
seg002:53BD		    push    si
seg002:53BE		    call    sub_6BCD
seg002:53C1		    pop	    bx
seg002:53C2		    pop	    bx
seg002:53C3		    or	    ax,	ax
seg002:53C5		    jz	    short loc_6F2D
seg002:53C7		    push    [bp+var_A]
seg002:53CA		    call    sub_38E1
seg002:53CD		    pop	    bx
seg002:53CE		    or	    ax,	ax
seg002:53D0		    jz	    short loc_6F2D
seg002:53D2		    les	    bx,	[bp+var_4]
seg002:53D5		    mov	    ax,	es:[bx+6]
seg002:53D9		    mov	    dx,	0Fh
seg002:53DC
seg002:53DC loc_6FAC:				    ; CODE XREF: sub_6EBF+71j
seg002:53DC		    pop	    si
seg002:53DD		    pop	    di
seg002:53DE		    leave
seg002:53DF		    retn
seg002:53DF sub_6EBF	    endp
seg002:53DF
seg002:53E0
seg002:53E0 ;  S	U B R O	U T I N	E 
seg002:53E0
seg002:53E0 ; Attributes: bp-based frame
seg002:53E0
seg002:53E0 sub_6FB0	    proc near		    ; CODE XREF: sub_7250+3j
seg002:53E0					    ; sub_7256+21Fp
seg002:53E0
seg002:53E0 var_28	    = word ptr -28h
seg002:53E0 var_26	    = word ptr -26h
seg002:53E0 var_24	    = word ptr -24h
seg002:53E0 var_22	    = word ptr -22h
seg002:53E0 var_1A	    = word ptr -1Ah
seg002:53E0 var_18	    = word ptr -18h
seg002:53E0 var_16	    = word ptr -16h
seg002:53E0 var_14	    = word ptr -14h
seg002:53E0 var_12	    = word ptr -12h
seg002:53E0 var_10	    = word ptr -10h
seg002:53E0 var_6	    = word ptr -6
seg002:53E0 var_4	    = word ptr -4
seg002:53E0 var_2	    = word ptr -2
seg002:53E0
seg002:53E0		    enter   28h, 0
seg002:53E4		    push    di
seg002:53E5		    push    si
seg002:53E6		    mov	    ax,	ds:98h
seg002:53E9		    mov	    dx,	ds:9Ah
seg002:53ED		    cmp	    ds:9Eh, dx
seg002:53F1		    jnb	    short loc_6FC6
seg002:53F3		    jmp	    loc_704C
seg002:53F6 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:53F6
seg002:53F6 loc_6FC6:				    ; CODE XREF: sub_6FB0+11j
seg002:53F6		    ja	    short loc_6FCE
seg002:53F8		    cmp	    ds:9Ch, ax
seg002:53FC		    jbe	    short loc_6FD5
seg002:53FE
seg002:53FE loc_6FCE:				    ; CODE XREF: sub_6FB0:loc_6FC6j
seg002:53FE		    cmp	    byte ptr ds:2Eh, 0Bh
seg002:5403		    jnz	    short loc_6FD7
seg002:5405
seg002:5405 loc_6FD5:				    ; CODE XREF: sub_6FB0+1Cj
seg002:5405		    jmp	    short loc_704C
seg002:5407 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5407
seg002:5407 loc_6FD7:				    ; CODE XREF: sub_6FB0+23j
seg002:5407		    mov	    [bp+var_4],	ax
seg002:540A		    mov	    [bp+var_2],	dx
seg002:540D		    push    dx
seg002:540E		    push    ax
seg002:540F		    call    sub_6BCD
seg002:5412		    pop	    bx
seg002:5413		    pop	    bx
seg002:5414		    or	    ax,	ax
seg002:5416		    jz	    short loc_703F
seg002:5418
seg002:5418 loc_6FE8:				    ; CODE XREF: sub_6FB0+75j
seg002:5418		    mov	    ax,	[bp+var_4]
seg002:541B		    mov	    dx,	[bp+var_2]
seg002:541E		    add	    ax,	3FFh
seg002:5421		    adc	    dx,	0
seg002:5424		    mov	    [bp+var_1A], ax
seg002:5427		    mov	    [bp+var_18], dx
seg002:542A		    cmp	    dx,	ds:9Eh
seg002:542E		    ja	    short loc_7027
seg002:5430		    jb	    short loc_7008
seg002:5432		    cmp	    ax,	ds:9Ch
seg002:5436		    jnb	    short loc_7027
seg002:5438
seg002:5438 loc_7008:				    ; CODE XREF: sub_6FB0+50j
seg002:5438		    push    dx
seg002:5439		    push    ax
seg002:543A		    call    sub_6BCD
seg002:543D		    pop	    bx
seg002:543E		    pop	    bx
seg002:543F		    or	    ax,	ax
seg002:5441		    jz	    short loc_703F
seg002:5443		    mov	    ax,	[bp+var_1A]
seg002:5446		    mov	    dx,	[bp+var_18]
seg002:5449		    add	    ax,	1
seg002:544C		    adc	    dx,	0
seg002:544F		    mov	    [bp+var_4],	ax
seg002:5452		    mov	    [bp+var_2],	dx
seg002:5455		    jmp	    short loc_6FE8
seg002:5457 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5457
seg002:5457 loc_7027:				    ; CODE XREF: sub_6FB0+4Ej
seg002:5457					    ; sub_6FB0+56j
seg002:5457		    mov	    ax,	ds:9Ch
seg002:545A		    mov	    dx,	ds:9Eh
seg002:545E		    sub	    ax,	1
seg002:5461		    sbb	    dx,	0
seg002:5464		    push    dx
seg002:5465		    push    ax
seg002:5466		    call    sub_6BCD
seg002:5469		    pop	    bx
seg002:546A		    pop	    bx
seg002:546B		    or	    ax,	ax
seg002:546D		    jnz	    short loc_704C
seg002:546F
seg002:546F loc_703F:				    ; CODE XREF: sub_6FB0+36j
seg002:546F					    ; sub_6FB0+61j
seg002:546F		    mov	    ax,	[bp+var_4]
seg002:5472		    mov	    dx,	[bp+var_2]
seg002:5475		    mov	    ds:9Ch, ax
seg002:5478		    mov	    ds:9Eh, dx
seg002:547C
seg002:547C loc_704C:				    ; CODE XREF: sub_6FB0+13j
seg002:547C					    ; sub_6FB0:loc_6FD5j ...
seg002:547C		    sub	    ax,	ax
seg002:547E		    mov	    ds:0A6h, ax
seg002:5481		    mov	    ds:0A4h, ax
seg002:5484		    mov	    [bp+var_10], ax
seg002:5487		    mov	    [bp+var_12], ax
seg002:548A		    mov	    [bp+var_18], ax
seg002:548D		    mov	    [bp+var_1A], ax
seg002:5490		    cmp	    byte ptr ds:2Eh, 3
seg002:5495		    jnz	    short loc_7079
seg002:5497		    lea	    ax,	[bp+var_6]
seg002:549A		    push    ax
seg002:549B		    call    sub_6EBF
seg002:549E		    pop	    bx
seg002:549F		    mov	    [bp+var_1A], ax
seg002:54A2		    mov	    [bp+var_18], dx
seg002:54A5		    or	    dx,	ax
seg002:54A7		    jnz	    short loc_708B
seg002:54A9
seg002:54A9 loc_7079:				    ; CODE XREF: sub_6FB0+B5j
seg002:54A9		    lea	    ax,	[bp+var_6]
seg002:54AC		    push    ax
seg002:54AD		    call    sub_6E32
seg002:54B0		    pop	    bx
seg002:54B1		    mov	    [bp+var_1A], ax
seg002:54B4		    mov	    [bp+var_18], dx
seg002:54B7		    or	    dx,	ax
seg002:54B9		    jz	    short loc_70C2
seg002:54BB
seg002:54BB loc_708B:				    ; CODE XREF: sub_6FB0+C7j
seg002:54BB		    mov	    ax,	ds:98h
seg002:54BE		    mov	    dx,	ds:9Ah
seg002:54C2		    cmp	    ds:9Eh, dx
seg002:54C6		    ja	    short loc_70C2
seg002:54C8		    jb	    short loc_70A0
seg002:54CA		    cmp	    ds:9Ch, ax
seg002:54CE		    ja	    short loc_70C2
seg002:54D0
seg002:54D0 loc_70A0:				    ; CODE XREF: sub_6FB0+E8j
seg002:54D0		    mov	    ax,	[bp+var_1A]
seg002:54D3		    mov	    dx,	[bp+var_18]
seg002:54D6		    mov	    ds:98h, ax
seg002:54D9		    mov	    ds:9Ah, dx
seg002:54DD		    add	    ax,	[bp+var_6]
seg002:54E0		    adc	    dx,	0
seg002:54E3		    mov	    ds:9Ch, ax
seg002:54E6		    mov	    ds:9Eh, dx
seg002:54EA		    sub	    ax,	ax
seg002:54EC		    mov	    [bp+var_18], ax
seg002:54EF		    mov	    [bp+var_1A], ax
seg002:54F2
seg002:54F2 loc_70C2:				    ; CODE XREF: sub_6FB0+D9j
seg002:54F2					    ; sub_6FB0+E6j ...
seg002:54F2		    mov	    ax,	ds:98h
seg002:54F5		    mov	    dx,	ds:9Ah
seg002:54F9		    cmp	    ds:9Eh, dx
seg002:54FD		    jnb	    short loc_70D2
seg002:54FF		    jmp	    loc_71DE
seg002:5502 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5502
seg002:5502 loc_70D2:				    ; CODE XREF: sub_6FB0+11Dj
seg002:5502		    ja	    short loc_70DD
seg002:5504		    cmp	    ds:9Ch, ax
seg002:5508		    ja	    short loc_70DD
seg002:550A		    jmp	    loc_71DE
seg002:550D ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:550D
seg002:550D loc_70DD:				    ; CODE XREF: sub_6FB0:loc_70D2j
seg002:550D					    ; sub_6FB0+128j
seg002:550D		    add	    ax,	1
seg002:5510		    adc	    dx,	0
seg002:5513		    mov	    [bp+var_16], ax
seg002:5516		    mov	    [bp+var_14], dx
seg002:5519		    mov	    [bp+var_4],	ax
seg002:551C		    mov	    [bp+var_2],	dx
seg002:551F		    mov	    word ptr ds:11D4h, 9
seg002:5525		    cmp	    byte ptr ds:2Eh, 0Bh
seg002:552A		    jnz	    short loc_7136
seg002:552C		    push    dx
seg002:552D		    push    ax
seg002:552E		    call    loc_9658
seg002:5531		    pop	    bx
seg002:5532		    pop	    bx
seg002:5533		    or	    ax,	ax
seg002:5535		    jnz	    short loc_710D
seg002:5537		    push    1Bh
seg002:5539		    call    sub_3E7D
seg002:553C		    pop	    bx
seg002:553D
seg002:553D loc_710D:				    ; CODE XREF: sub_6FB0+155j
seg002:553D		    test    byte ptr ds:0A16h, 2
seg002:5542		    jz	    short loc_7136
seg002:5544		    mov	    ax,	ds:9Ch
seg002:5547		    mov	    dx,	ds:9Eh
seg002:554B		    sub	    ax,	1
seg002:554E		    sbb	    dx,	0
seg002:5551		    push    dx
seg002:5552		    push    ax
seg002:5553		    call    loc_9658
seg002:5556		    pop	    bx
seg002:5557		    pop	    bx
seg002:5558		    mov	    ax,	ds:0ACh
seg002:555B		    mov	    dx,	ds:0AEh
seg002:555F		    mov	    ds:9Ch, ax
seg002:5562		    mov	    ds:9Eh, dx
seg002:5566
seg002:5566 loc_7136:				    ; CODE XREF: sub_6FB0+14Aj
seg002:5566					    ; sub_6FB0+162j
seg002:5566		    push    10h
seg002:5568		    lea	    ax,	[bp+var_16]
seg002:556B		    push    ax
seg002:556C		    mov	    ax,	ds:98h
seg002:556F		    mov	    dx,	ds:9Ah
seg002:5573		    mov	    cl,	4
seg002:5575		    call    sub_4374
seg002:5578		    push    dx
seg002:5579		    push    ax
seg002:557A		    call    sub_2DF2
seg002:557D		    add	    sp,	8
seg002:5580		    mov	    ax,	ds:9Ch
seg002:5583		    mov	    dx,	ds:9Eh
seg002:5587		    sub	    ax,	[bp+var_16]
seg002:558A		    sbb	    dx,	[bp+var_14]
seg002:558D		    mov	    [bp+var_12], ax
seg002:5590		    mov	    [bp+var_10], dx
seg002:5593		    mov	    ds:0A4h, ax
seg002:5596		    mov	    ds:0A6h, dx
seg002:559A		    mov	    ax,	[bp+var_1A]
seg002:559D		    mov	    dx,	[bp+var_18]
seg002:55A0		    mov	    [bp+var_16], ax
seg002:55A3		    mov	    [bp+var_14], dx
seg002:55A6		    push    10h
seg002:55A8		    lea	    cx,	[bp+var_16]
seg002:55AB		    push    cx
seg002:55AC		    mov	    ax,	[bp+var_4]
seg002:55AF		    mov	    dx,	[bp+var_2]
seg002:55B2		    mov	    cl,	4
seg002:55B4		    call    sub_4374
seg002:55B7		    push    dx
seg002:55B8		    push    ax
seg002:55B9		    call    sub_2DF2
seg002:55BC		    add	    sp,	8
seg002:55BF		    mov	    ax,	[bp+var_18]
seg002:55C2		    or	    ax,	[bp+var_1A]
seg002:55C5		    jz	    short loc_71DE
seg002:55C7		    sub	    ax,	ax
seg002:55C9		    mov	    [bp+var_14], ax
seg002:55CC		    mov	    [bp+var_16], ax
seg002:55CF		    mov	    ax,	[bp+var_6]
seg002:55D2		    sub	    dx,	dx
seg002:55D4		    mov	    [bp+var_12], ax
seg002:55D7		    mov	    [bp+var_10], dx
seg002:55DA		    add	    ds:0A4h, ax
seg002:55DE		    adc	    ds:0A6h, dx
seg002:55E2		    push    10h
seg002:55E4		    lea	    ax,	[bp+var_16]
seg002:55E7		    push    ax
seg002:55E8		    mov	    ax,	[bp+var_1A]
seg002:55EB		    mov	    dx,	[bp+var_18]
seg002:55EE		    mov	    cl,	4
seg002:55F0		    call    sub_4374
seg002:55F3		    push    dx
seg002:55F4		    push    ax
seg002:55F5		    call    sub_2DF2
seg002:55F8		    add	    sp,	8
seg002:55FB		    mov	    ax,	[bp+var_1A]
seg002:55FE		    mov	    dx,	[bp+var_18]
seg002:5601		    add	    ax,	[bp+var_12]
seg002:5604		    adc	    dx,	[bp+var_10]
seg002:5607		    mov	    ds:9Ch, ax
seg002:560A		    mov	    ds:9Eh, dx
seg002:560E
seg002:560E loc_71DE:				    ; CODE XREF: sub_6FB0+11Fj
seg002:560E					    ; sub_6FB0+12Aj ...
seg002:560E		    test    byte ptr ds:47h, 80h
seg002:5613		    jz	    short loc_7232
seg002:5615		    mov	    byte ptr ds:0A16h, 1
seg002:561A		    mov	    [bp+var_28], 0BFDEh
seg002:561F		    mov	    [bp+var_26], 4
seg002:5624		    mov	    [bp+var_24], 1
seg002:5629		    cmp	    word ptr ds:0ADCh, 0 ; CODE	XREF: sub_A5AE+5F5J
seg002:562E		    jnz	    short loc_7207
seg002:5630		    cmp	    byte ptr ds:2Eh, 0Bh
seg002:5635		    jnz	    short loc_720C
seg002:5637
seg002:5637 loc_7207:				    ; CODE XREF: sub_6FB0+24Ej
seg002:5637		    mov	    [bp+var_24], 0
seg002:563C
seg002:563C loc_720C:				    ; CODE XREF: sub_6FB0+255j
seg002:563C		    lea	    ax,	[bp+var_28]
seg002:563F		    push    ax
seg002:5640		    push    ax
seg002:5641		    push    15h
seg002:5643		    call    sub_7C54
seg002:5646		    add	    sp,	6
seg002:5649		    mov	    ax,	[bp+var_22]
seg002:564C		    mov	    dx,	[bp+var_24]
seg002:564F		    mov	    ds:0A0h, ax
seg002:5652		    mov	    ds:0A2h, dx
seg002:5656		    mov	    di,	ax
seg002:5658		    mov	    si,	98h ; ''
seg002:565B		    mov	    es,	dx
seg002:565D		    mov	    cx,	0Ch
seg002:5660		    rep	movsw
seg002:5662
seg002:5662 loc_7232:				    ; CODE XREF: sub_6FB0+233j
seg002:5662		    cmp	    byte ptr ds:2Eh, 0Bh
seg002:5667		    jz	    short loc_724C
seg002:5669		    mov	    ax,	ds:0A4h
seg002:566C		    mov	    dx,	ds:0A6h
seg002:5670		    mov	    cl,	4
seg002:5672		    call    sub_4374
seg002:5675		    mov	    ds:0AA8h, ax
seg002:5678		    mov	    ds:0AAAh, dx
seg002:567C
seg002:567C loc_724C:				    ; CODE XREF: sub_6FB0+287j
seg002:567C		    pop	    si
seg002:567D		    pop	    di
seg002:567E		    leave
seg002:567F		    retn
seg002:567F sub_6FB0	    endp
seg002:567F
seg002:5680
seg002:5680 ;  S	U B R O	U T I N	E 
seg002:5680
seg002:5680
seg002:5680 sub_7250	    proc near		    ; CODE XREF: sub_8176+7p
seg002:5680		    call    sub_6C1E
seg002:5683		    jmp	    sub_6FB0
seg002:5683 sub_7250	    endp
seg002:5683
seg002:5686
seg002:5686 ;  S	U B R O	U T I N	E 
seg002:5686
seg002:5686 ; Attributes: bp-based frame
seg002:5686
seg002:5686 sub_7256	    proc near		    ; CODE XREF: seg002:2F5Ep
seg002:5686					    ; sub_4E96+B4p
seg002:5686
seg002:5686 var_A	    = word ptr -0Ah
seg002:5686 var_4	    = word ptr -4
seg002:5686 var_2	    = word ptr -2
seg002:5686
seg002:5686		    enter   0Ah, 0
seg002:568A		    push    di
seg002:568B		    push    si
seg002:568C		    push    word ptr ds:120Eh
seg002:5690		    call    sub_831C
seg002:5693		    pop	    bx
seg002:5694		    les	    bx,	ds:0A0h
seg002:5698		    mov	    cx,	es:[bx+0Ch]
seg002:569C		    mov	    si,	es:[bx+0Eh]
seg002:56A0		    add	    cx,	1
seg002:56A3		    adc	    si,	0
seg002:56A6		    cmp	    si,	dx
seg002:56A8		    jg	    short loc_7286
seg002:56AA		    jl	    short loc_7280
seg002:56AC		    cmp	    cx,	ax
seg002:56AE		    jnb	    short loc_7286
seg002:56B0
seg002:56B0 loc_7280:				    ; CODE XREF: sub_7256+24j
seg002:56B0		    push    28h	; '('
seg002:56B2		    call    sub_3E7D
seg002:56B5		    pop	    bx
seg002:56B6
seg002:56B6 loc_7286:				    ; CODE XREF: sub_7256+22j
seg002:56B6					    ; sub_7256+28j
seg002:56B6		    call    sub_356A
seg002:56B9		    call    sub_1D3C
seg002:56BC		    push    word ptr ds:97Ch
seg002:56C0		    call    sub_2DAD
seg002:56C3		    pop	    bx
seg002:56C4		    mov	    [bp+var_2],	ax
seg002:56C7		    shl	    ax,	1
seg002:56C9		    push    ax
seg002:56CA		    call    sub_2DAD
seg002:56CD		    pop	    bx
seg002:56CE		    mov	    [bp+var_A],	ax
seg002:56D1		    mov	    ax,	[bp+var_2]
seg002:56D4		    add	    ax,	[bp+var_A]
seg002:56D7		    push    ax
seg002:56D8		    cmp	    byte ptr ds:981h, 0
seg002:56DD		    jz	    short loc_72B4
seg002:56DF		    mov	    ax,	395Ch
seg002:56E2		    jmp	    short loc_72B7
seg002:56E4 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:56E4
seg002:56E4 loc_72B4:				    ; CODE XREF: sub_7256+57j
seg002:56E4		    mov	    ax,	38AFh
seg002:56E7
seg002:56E7 loc_72B7:				    ; CODE XREF: sub_7256+5Cj
seg002:56E7		    call    ax
seg002:56E9		    pop	    bx
seg002:56EA		    mov	    cl,	4
seg002:56EC		    call    sub_4374
seg002:56EF		    mov	    ds:98Eh, ax
seg002:56F2		    mov	    ds:990h, dx
seg002:56F6		    mov	    word ptr ds:11D4h, 0Bh
seg002:56FC		    mov	    ax,	dx
seg002:56FE		    or	    ax,	ds:98Eh
seg002:5702		    jnz	    short loc_72DA
seg002:5704		    push    0Ah
seg002:5706		    call    sub_3E7D
seg002:5709		    pop	    bx
seg002:570A
seg002:570A loc_72DA:				    ; CODE XREF: sub_7256+7Cj
seg002:570A		    mov	    word ptr ds:11D4h, 0Ah
seg002:5710		    shl	    [bp+var_A],	4
seg002:5714		    mov	    ax,	[bp+var_A]
seg002:5717		    dec	    ax
seg002:5718		    mov	    ds:910h, ax
seg002:571B		    mov	    ax,	[bp+var_2]
seg002:571E		    sub	    dx,	dx
seg002:5720		    mov	    cl,	4
seg002:5722		    call    sub_4374
seg002:5725		    add	    ax,	ds:98Eh
seg002:5729		    adc	    dx,	ds:990h
seg002:572D		    mov	    bx,	dx
seg002:572F		    mov	    ds:912h, ax
seg002:5732		    mov	    ds:914h, bl
seg002:5736		    mov	    ax,	dx
seg002:5738		    mov	    al,	ah
seg002:573A		    cbw
seg002:573B		    mov	    ah,	al
seg002:573D		    sub	    al,	al
seg002:573F		    mov	    ds:916h, ax
seg002:5742		    mov	    ax,	ds:97Ch
seg002:5745		    mov	    ds:938h, ax
seg002:5748		    mov	    ds:928h, ax
seg002:574B		    mov	    cx,	ds:98Eh
seg002:574F		    mov	    ds:93Ah, cx
seg002:5753		    mov	    ds:92Ah, cx
seg002:5757		    mov	    cl,	ds:990h
seg002:575B		    mov	    ds:93Ch, cl
seg002:575F		    mov	    ds:92Ch, cl
seg002:5763		    mov	    al,	ds:991h
seg002:5766		    cbw
seg002:5767		    mov	    ah,	al
seg002:5769		    sub	    al,	al
seg002:576B		    mov	    ds:93Eh, ax
seg002:576E		    mov	    ds:92Eh, ax
seg002:5771		    mov	    al,	92h ; ''
seg002:5773		    mov	    ds:915h, al
seg002:5776		    mov	    ds:93Dh, al
seg002:5779		    push    word ptr ds:97Ch
seg002:577D		    push    0
seg002:577F		    push    78h	; 'x'
seg002:5781		    call    sub_82D1
seg002:5784		    add	    sp,	6
seg002:5787		    mov	    ax,	ds:8C8h
seg002:578A		    inc	    ax
seg002:578B		    push    ax
seg002:578C		    push    8C0h
seg002:578F		    push    word ptr ds:990h
seg002:5793		    push    word ptr ds:98Eh
seg002:5797		    call    sub_2DF2
seg002:579A		    add	    sp,	8
seg002:579D		    push    0FFh
seg002:57A0		    push    word ptr ds:0CECh
seg002:57A4		    push    5
seg002:57A6		    call    sub_38CB
seg002:57A9		    add	    sp,	6
seg002:57AC		    push    7FFFh
seg002:57AF		    push    word ptr ds:9B8h
seg002:57B3		    push    6
seg002:57B5		    call    sub_38CB
seg002:57B8		    add	    sp,	6
seg002:57BB		    push    8
seg002:57BD		    push    938h
seg002:57C0		    mov	    ax,	ds:98Eh
seg002:57C3		    mov	    dx,	ds:990h
seg002:57C7		    add	    ax,	8
seg002:57CA		    adc	    dx,	0
seg002:57CD		    push    dx
seg002:57CE		    push    ax
seg002:57CF		    call    sub_2DF2
seg002:57D2		    add	    sp,	8
seg002:57D5		    mov	    ax,	8C8h
seg002:57D8		    mov	    di,	ax
seg002:57DA		    mov	    si,	938h
seg002:57DD		    push    ds
seg002:57DE		    pop	    es
seg002:57DF		    movsw
seg002:57E0		    movsw
seg002:57E1		    movsw
seg002:57E2		    movsw
seg002:57E3		    mov	    ax,	ds:98Eh
seg002:57E6		    mov	    dx,	ds:990h
seg002:57EA		    mov	    ds:976h, ax
seg002:57ED		    mov	    ds:978h, dx
seg002:57F1		    mov	    ax,	ds:97Ch
seg002:57F4		    mov	    ds:974h, ax
seg002:57F7		    push    [bp+var_A]
seg002:57FA		    push    0
seg002:57FC		    push    50h	; 'P'
seg002:57FE		    call    sub_82D1
seg002:5801		    add	    sp,	6
seg002:5804		    call    sub_4B97
seg002:5807		    mov	    ax,	1Ch
seg002:580A		    mov	    [bp+var_4],	ax
seg002:580D		    push    ax
seg002:580E		    call    sub_579C
seg002:5811		    pop	    bx
seg002:5812		    mov	    ds:0F54h, ax
seg002:5815		    or	    ax,	ax
seg002:5817		    jnz	    short loc_73EF
seg002:5819		    push    0Bh
seg002:581B		    call    sub_3E7D
seg002:581E		    pop	    bx
seg002:581F
seg002:581F loc_73EF:				    ; CODE XREF: sub_7256+191j
seg002:581F		    mov	    ax,	ds:0F54h
seg002:5822		    add	    ax,	8
seg002:5825		    shl	    ax,	3
seg002:5828		    mov	    ds:0A9Ch, ax
seg002:582B		    add	    ax,	8
seg002:582E		    mov	    ds:0C14h, ax
seg002:5831		    jmp	    short loc_7416
seg002:5833 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5833
seg002:5833 loc_7403:				    ; CODE XREF: sub_7256+1C3j
seg002:5833		    push    0FFFFh
seg002:5835		    push    0E000h
seg002:5838		    mov	    ax,	[bp+var_4]
seg002:583B		    add	    ax,	ds:0F54h
seg002:583F		    push    ax
seg002:5840		    call    sub_38CB
seg002:5843		    add	    sp,	6
seg002:5846
seg002:5846 loc_7416:				    ; CODE XREF: sub_7256+1ABj
seg002:5846		    dec	    [bp+var_4]
seg002:5849		    jns	    short loc_7403
seg002:584B		    shl	    word ptr ds:0F54h, 3
seg002:5850		    cmp	    byte ptr ds:2Fh, 3
seg002:5855		    jl	    short loc_7458
seg002:5857		    mov	    ax,	3
seg002:585A		    mov	    [bp+var_4],	ax
seg002:585D		    push    ax
seg002:585E		    call    sub_579C
seg002:5861		    pop	    bx
seg002:5862		    mov	    ds:0A87h, ax
seg002:5865		    or	    ax,	ax
seg002:5867		    jz	    short loc_7458
seg002:5869		    jmp	    short loc_744E
seg002:586B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:586B
seg002:586B loc_743B:				    ; CODE XREF: sub_7256+1FBj
seg002:586B		    push    0FFFFh
seg002:586D		    push    0D000h
seg002:5870		    mov	    ax,	[bp+var_4]
seg002:5873		    add	    ax,	ds:0A87h
seg002:5877		    push    ax
seg002:5878		    call    sub_38CB
seg002:587B		    add	    sp,	6
seg002:587E
seg002:587E loc_744E:				    ; CODE XREF: sub_7256+1E3j
seg002:587E		    dec	    [bp+var_4]
seg002:5881		    jns	    short loc_743B
seg002:5883		    shl	    word ptr ds:0A87h, 3
seg002:5888
seg002:5888 loc_7458:				    ; CODE XREF: sub_7256+1CFj
seg002:5888					    ; sub_7256+1E1j
seg002:5888		    call    sub_9240
seg002:588B		    test    byte ptr ds:47h, 80h
seg002:5890		    jz	    short loc_7478
seg002:5892		    mov	    ax,	ds:98h
seg002:5895		    mov	    dx,	ds:9Ah
seg002:5899		    cmp	    ds:0ACh, ax
seg002:589D		    jnz	    short loc_7478
seg002:589F		    cmp	    ds:0AEh, dx
seg002:58A3		    jnz	    short loc_7478
seg002:58A5		    call    sub_6FB0
seg002:58A8
seg002:58A8 loc_7478:				    ; CODE XREF: sub_7256+20Aj
seg002:58A8					    ; sub_7256+217j ...
seg002:58A8		    cmp	    byte ptr ds:2Eh, 0Bh
seg002:58AD		    jnz	    short loc_74B2
seg002:58AF		    push    3
seg002:58B1		    call    sub_579C
seg002:58B4		    pop	    bx
seg002:58B5		    mov	    [bp+var_4],	ax
seg002:58B8		    or	    ax,	ax
seg002:58BA		    jnz	    short loc_7492
seg002:58BC		    push    0Ch
seg002:58BE		    call    sub_3E7D
seg002:58C1		    pop	    bx
seg002:58C2
seg002:58C2 loc_7492:				    ; CODE XREF: sub_7256+234j
seg002:58C2		    push    18h
seg002:58C4		    push    940h
seg002:58C7		    mov	    ax,	[bp+var_4]
seg002:58CA		    shl	    ax,	3
seg002:58CD		    mov	    ds:0D70h, ax
seg002:58D0		    sub	    dx,	dx
seg002:58D2		    add	    ax,	ds:98Eh
seg002:58D6		    adc	    dx,	ds:990h
seg002:58DA		    push    dx
seg002:58DB		    push    ax
seg002:58DC		    call    sub_2DF2
seg002:58DF		    add	    sp,	8
seg002:58E2
seg002:58E2 loc_74B2:				    ; CODE XREF: sub_7256+227j
seg002:58E2		    pop	    si
seg002:58E3		    pop	    di
seg002:58E4		    leave
seg002:58E5		    retn
seg002:58E5 sub_7256	    endp
seg002:58E5
seg002:58E6
seg002:58E6 ;  S	U B R O	U T I N	E 
seg002:58E6
seg002:58E6 ; Attributes: bp-based frame
seg002:58E6
seg002:58E6 sub_74B6	    proc near		    ; CODE XREF: sub_4A99+39p
seg002:58E6
seg002:58E6 var_14	    = word ptr -14h
seg002:58E6 var_12	    = word ptr -12h
seg002:58E6 var_10	    = word ptr -10h
seg002:58E6 var_E	    = word ptr -0Eh
seg002:58E6 var_C	    = word ptr -0Ch
seg002:58E6 var_A	    = word ptr -0Ah
seg002:58E6 var_8	    = word ptr -8
seg002:58E6
seg002:58E6		    enter   14h, 0
seg002:58EA		    cmp	    word ptr ds:0A12h, 1
seg002:58EF		    jl	    short loc_74C4
seg002:58F1		    jmp	    locret_7560
seg002:58F4 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:58F4
seg002:58F4 loc_74C4:				    ; CODE XREF: sub_74B6+9j
seg002:58F4		    sub	    ax,	ax
seg002:58F6		    mov	    [bp+var_10], ax
seg002:58F9		    mov	    [bp+var_12], ax
seg002:58FC		    test    byte ptr ds:47h, 80h
seg002:5901		    jz	    short loc_74FA
seg002:5903		    mov	    ax,	ds:0DF4h
seg002:5906		    mov	    ds:0AAh, ax
seg002:5909		    mov	    [bp+var_E],	0BFDEh
seg002:590E		    mov	    [bp+var_C],	2
seg002:5913		    sub	    ax,	ax
seg002:5915		    mov	    [bp+var_A],	ax
seg002:5918		    mov	    [bp+var_8],	ax
seg002:591B		    lea	    ax,	[bp+var_E]
seg002:591E		    push    ax
seg002:591F		    push    ax
seg002:5920		    push    15h
seg002:5922		    call    sub_7C54
seg002:5925		    add	    sp,	6
seg002:5928		    leave
seg002:5929		    retn
seg002:592A ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:592A
seg002:592A loc_74FA:				    ; CODE XREF: sub_74B6+1Bj
seg002:592A		    mov	    ax,	[bp+var_10]
seg002:592D		    or	    ax,	[bp+var_12]
seg002:5930		    jnz	    short loc_7548
seg002:5932		    call    sub_3AF4
seg002:5935		    mov	    [bp+var_14], ax
seg002:5938		    call    sub_355A
seg002:593B		    mov	    ax,	[bp+var_14]
seg002:593E		    shr	    ax,	4
seg002:5941		    push    0
seg002:5943		    push    ax
seg002:5944		    call    loc_3A38
seg002:5947		    pop	    bx
seg002:5948		    pop	    bx
seg002:5949		    mov	    [bp+var_12], ax
seg002:594C		    mov	    [bp+var_10], dx
seg002:594F		    or	    dx,	ax
seg002:5951		    jz	    short loc_7545
seg002:5953		    push    92h	; ''
seg002:5956		    push    0FFFFh
seg002:5958		    push    [bp+var_10]
seg002:595B		    push    ax
seg002:595C		    push    60h	; '`'
seg002:595E		    call    sub_3A4C
seg002:5961		    add	    sp,	0Ah
seg002:5964		    push    [bp+var_14]
seg002:5967		    push    0
seg002:5969		    push    60h	; '`'
seg002:596B		    push    0
seg002:596D		    push    70h	; 'p'
seg002:596F		    call    sub_7CD2
seg002:5972		    add	    sp,	0Ah
seg002:5975
seg002:5975 loc_7545:				    ; CODE XREF: sub_74B6+6Bj
seg002:5975		    call    sub_2D91
seg002:5978
seg002:5978 loc_7548:				    ; CODE XREF: sub_74B6+4Aj
seg002:5978		    mov	    ax,	[bp+var_10]
seg002:597B		    or	    ax,	[bp+var_12]
seg002:597E		    jz	    short locret_7560
seg002:5980		    mov	    ax,	[bp+var_12]
seg002:5983		    mov	    dx,	[bp+var_10]
seg002:5986		    mov	    ds:0A10h, ax
seg002:5989		    mov	    ds:0A12h, dx
seg002:598D		    call    sub_3AFE
seg002:5990
seg002:5990 locret_7560:			    ; CODE XREF: sub_74B6+Bj
seg002:5990					    ; sub_74B6+98j
seg002:5990		    leave
seg002:5991		    retn
seg002:5991 sub_74B6	    endp
seg002:5991
seg002:5992
seg002:5992 ;  S	U B R O	U T I N	E 
seg002:5992
seg002:5992 ; Attributes: bp-based frame
seg002:5992
seg002:5992 sub_7562	    proc near		    ; CODE XREF: sub_496C:loc_4A50p
seg002:5992					    ; sub_496C+FCp
seg002:5992
seg002:5992 var_10A	    = word ptr -10Ah
seg002:5992 var_108	    = word ptr -108h
seg002:5992 var_106	    = word ptr -106h
seg002:5992 var_104	    = word ptr -104h
seg002:5992 var_102	    = word ptr -102h
seg002:5992 var_100	    = word ptr -100h
seg002:5992
seg002:5992		    push    bp
seg002:5993		    mov	    bp,	sp
seg002:5995		    sub	    sp,	10Ah
seg002:5999		    mov	    ax,	ds:0E70h
seg002:599C		    mov	    [bp+var_108], ax
seg002:59A0		    cmp	    byte ptr ds:0F21h, 0
seg002:59A5		    jg	    short loc_757E
seg002:59A7		    cmp	    byte ptr ds:0CEEh, 3
seg002:59AC		    jge	    short loc_7581
seg002:59AE
seg002:59AE loc_757E:				    ; CODE XREF: sub_7562+13j
seg002:59AE		    jmp	    loc_76A2
seg002:59B1 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:59B1
seg002:59B1 loc_7581:				    ; CODE XREF: sub_7562+1Aj
seg002:59B1		    call    sub_84BC
seg002:59B4		    mov	    [bp+var_106], ax
seg002:59B8		    call    sub_4965
seg002:59BB		    mov	    ds:0E70h, ax
seg002:59BE		    or	    ax,	ax
seg002:59C0		    jge	    short loc_75AD  ; CODE XREF: sub_AEC5+131J
seg002:59C2		    lea	    ax,	[bp+var_100]
seg002:59C6		    push    ax
seg002:59C7		    mov	    cx,	0F14h
seg002:59CA		    push    cx
seg002:59CB		    call    sub_6235
seg002:59CE		    pop	    bx
seg002:59CF		    pop	    bx
seg002:59D0		    or	    ax,	ax
seg002:59D2		    jz	    short loc_75AD
seg002:59D4		    lea	    ax,	[bp+var_100]
seg002:59D8		    push    ax
seg002:59D9		    call    sub_7B88
seg002:59DC		    pop	    bx
seg002:59DD
seg002:59DD loc_75AD:				    ; CODE XREF: sub_7562+2Ej
seg002:59DD					    ; sub_7562+40j
seg002:59DD		    cmp	    word ptr ds:0E70h, 0
seg002:59E2		    jge	    short loc_7618
seg002:59E4		    mov	    ax,	[bp+var_108]
seg002:59E8		    mov	    ds:0E70h, ax
seg002:59EB		    call    sub_7BC7
seg002:59EE		    mov	    [bp+var_108], 0FFFFh
seg002:59F4		    mov	    ax,	1190h	    ; CODE XREF: sub_AEC5+1A1J
seg002:59F7		    push    ax
seg002:59F8		    call    sub_7B88
seg002:59FB		    pop	    bx
seg002:59FC		    mov	    ax,	1Ch
seg002:59FF		    push    ax
seg002:5A00		    lea	    ax,	[bp+var_104]
seg002:5A04		    push    ax
seg002:5A05		    call    sub_7BB2
seg002:5A08		    pop	    bx
seg002:5A09		    pop	    bx
seg002:5A0A		    lea	    ax,	[bp+var_104]
seg002:5A0E		    push    ax
seg002:5A0F		    call    sub_76D9
seg002:5A12		    pop	    bx
seg002:5A13		    push    dx
seg002:5A14		    push    ax
seg002:5A15		    call    sub_7B9A
seg002:5A18		    pop	    bx
seg002:5A19		    pop	    bx
seg002:5A1A		    mov	    byte ptr [bp+var_104], 0
seg002:5A1F		    mov	    ax,	6
seg002:5A22		    push    ax
seg002:5A23		    lea	    ax,	[bp+var_104]
seg002:5A27		    push    ax
seg002:5A28		    call    sub_7BB2
seg002:5A2B		    pop	    bx
seg002:5A2C		    pop	    bx
seg002:5A2D		    cmp	    byte ptr [bp+var_104], 4Dh ; 'M'
seg002:5A32		    jnz	    short loc_760B
seg002:5A34		    cmp	    byte ptr [bp+var_104+1], 46h ; 'F'
seg002:5A34					    ; CODE XREF: sub_AEC5+140J
seg002:5A39		    jz	    short loc_7618
seg002:5A3B
seg002:5A3B loc_760B:				    ; CODE XREF: sub_7562+A0j
seg002:5A3B		    mov	    ax,	ds:0E70h
seg002:5A3E		    mov	    [bp+var_108], ax
seg002:5A42		    mov	    word ptr ds:0E70h, 0FFFFh
seg002:5A48
seg002:5A48 loc_7618:				    ; CODE XREF: sub_7562+50j
seg002:5A48					    ; sub_7562+A7j
seg002:5A48		    cmp	    word ptr ds:0E70h, 0
seg002:5A4D		    jge	    short loc_764B
seg002:5A4F		    mov	    ax,	1190h
seg002:5A52		    push    ax
seg002:5A53		    lea	    cx,	[bp+var_100]
seg002:5A57		    push    cx
seg002:5A58		    call    sub_41BE
seg002:5A5B		    pop	    bx
seg002:5A5C		    pop	    bx
seg002:5A5D		    mov	    ax,	0F1Ch
seg002:5A60		    push    ax
seg002:5A61		    call    sub_3474
seg002:5A64		    pop	    bx
seg002:5A65		    mov	    ax,	1190h
seg002:5A68		    push    ax
seg002:5A69
seg002:5A69 loc_7639:				    ; CODE XREF: sub_AEC5+193J
seg002:5A69		    call    sub_7B88
seg002:5A6C		    pop	    bx
seg002:5A6D		    lea	    ax,	[bp+var_100]
seg002:5A71		    push    ax
seg002:5A72		    mov	    ax,	1190h
seg002:5A75		    push    ax
seg002:5A76		    call    sub_41BE
seg002:5A79		    pop	    bx
seg002:5A7A		    pop	    bx
seg002:5A7B
seg002:5A7B loc_764B:				    ; CODE XREF: sub_7562+BBj
seg002:5A7B		    cmp	    word ptr ds:0E70h, 0
seg002:5A80		    jl	    short loc_7691
seg002:5A82		    lea	    ax,	[bp+var_104]
seg002:5A86		    mov	    ds:1188h, ax
seg002:5A89		    sub	    ax,	ax
seg002:5A8B		    mov	    [bp+var_102], ax
seg002:5A8F		    mov	    [bp+var_10A], ax
seg002:5A93		    mov	    ax,	1
seg002:5A96		    push    ax
seg002:5A97		    lea	    ax,	[bp+var_10A]
seg002:5A9B		    push    ax
seg002:5A9C		    call    sub_7BB2
seg002:5A9F		    pop	    bx
seg002:5AA0		    pop	    bx
seg002:5AA1		    cmp	    [bp+var_10A], 4Dh ;	'M'
seg002:5AA6		    jnz	    short loc_767D
seg002:5AA8		    call    sub_79A2
seg002:5AAB		    jmp	    short loc_768C
seg002:5AAD ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5AAD
seg002:5AAD loc_767D:				    ; CODE XREF: sub_7562+114j
seg002:5AAD		    push    [bp+var_106]
seg002:5AB1		    call    sub_77AB
seg002:5AB4		    pop	    bx
seg002:5AB5		    or	    ax,	ax
seg002:5AB7		    jz	    short loc_7691
seg002:5AB9		    call    sub_785B
seg002:5ABC
seg002:5ABC loc_768C:				    ; CODE XREF: sub_7562+119j
seg002:5ABC		    mov	    byte ptr ds:0F21h, 1
seg002:5AC1
seg002:5AC1 loc_7691:				    ; CODE XREF: sub_7562+EEj
seg002:5AC1					    ; sub_7562+125j
seg002:5AC1		    cmp	    [bp+var_108], 0
seg002:5AC6		    jl	    short loc_76A2
seg002:5AC8		    call    sub_7BC7
seg002:5ACB		    mov	    ax,	[bp+var_108]
seg002:5ACF		    mov	    ds:0E70h, ax
seg002:5AD2
seg002:5AD2 loc_76A2:				    ; CODE XREF: sub_7562:loc_757Ej
seg002:5AD2					    ; sub_7562+134j
seg002:5AD2		    mov	    sp,	bp
seg002:5AD4		    pop	    bp
seg002:5AD5		    retn
seg002:5AD5 sub_7562	    endp
seg002:5AD5
seg002:5AD6
seg002:5AD6 ;  S	U B R O	U T I N	E 
seg002:5AD6
seg002:5AD6
seg002:5AD6 sub_76A6	    proc near		    ; CODE XREF: sub_7721:loc_772Dp
seg002:5AD6					    ; sub_7721+45p ...
seg002:5AD6		    push    si
seg002:5AD7		    mov	    si,	ds:1188h
seg002:5ADB		    inc	    word ptr [si]
seg002:5ADD		    mov	    ax,	[si]
seg002:5ADF		    cmp	    [si+2], ax
seg002:5AE2		    ja	    short loc_76D1
seg002:5AE4		    mov	    ax,	100h
seg002:5AE7		    push    ax
seg002:5AE8		    lea	    ax,	[si+4]
seg002:5AEB		    push    ax
seg002:5AEC		    call    sub_7BB2
seg002:5AEF		    pop	    bx
seg002:5AF0		    pop	    bx
seg002:5AF1		    mov	    [si+2], ax
seg002:5AF4		    or	    ax,	ax
seg002:5AF6		    jg	    short loc_76CD
seg002:5AF8		    mov	    ax,	0FFFFh
seg002:5AFB		    pop	    si
seg002:5AFC		    retn
seg002:5AFD ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5AFD
seg002:5AFD loc_76CD:				    ; CODE XREF: sub_76A6+20j
seg002:5AFD		    mov	    word ptr [si], 0
seg002:5B01
seg002:5B01 loc_76D1:				    ; CODE XREF: sub_76A6+Cj
seg002:5B01		    mov	    bx,	[si]
seg002:5B03		    mov	    al,	[bx+si+4]
seg002:5B06		    cbw
seg002:5B07		    pop	    si
seg002:5B08		    retn
seg002:5B08 sub_76A6	    endp
seg002:5B08
seg002:5B09
seg002:5B09 ;  S	U B R O	U T I N	E 
seg002:5B09
seg002:5B09 ; Attributes: bp-based frame
seg002:5B09
seg002:5B09 sub_76D9	    proc near		    ; CODE XREF: sub_7562+7Dp
seg002:5B09
seg002:5B09 var_6	    = word ptr -6
seg002:5B09 var_4	    = word ptr -4
seg002:5B09 var_2	    = word ptr -2
seg002:5B09 arg_0	    = word ptr	4
seg002:5B09
seg002:5B09		    push    bp
seg002:5B0A		    mov	    bp,	sp
seg002:5B0C		    sub	    sp,	6
seg002:5B0F		    mov	    bx,	[bp+arg_0]
seg002:5B12		    mov	    ax,	[bx+4]
seg002:5B15		    sub	    dx,	dx
seg002:5B17		    mov	    cl,	9
seg002:5B19		    call    sub_4374
seg002:5B1C		    mov	    [bp+var_4],	ax
seg002:5B1F		    mov	    [bp+var_2],	dx
seg002:5B22		    mov	    [bp+var_6],	0
seg002:5B27		    mov	    bx,	[bp+arg_0]
seg002:5B2A		    cmp	    word ptr [bx+2], 0
seg002:5B2E		    jz	    short loc_7717
seg002:5B30		    cmp	    byte ptr [bx], 4Dh ; 'M'
seg002:5B33		    jnz	    short loc_770A
seg002:5B35		    mov	    [bp+var_6],	200h
seg002:5B3A
seg002:5B3A loc_770A:				    ; CODE XREF: sub_76D9+2Aj
seg002:5B3A		    mov	    ax,	[bx+2]
seg002:5B3D		    sub	    ax,	[bp+var_6]
seg002:5B40		    cwd
seg002:5B41		    add	    [bp+var_4],	ax
seg002:5B44		    adc	    [bp+var_2],	dx
seg002:5B47
seg002:5B47 loc_7717:				    ; CODE XREF: sub_76D9+25j
seg002:5B47		    mov	    ax,	[bp+var_4]
seg002:5B4A		    mov	    dx,	[bp+var_2]
seg002:5B4D		    mov	    sp,	bp
seg002:5B4F		    pop	    bp
seg002:5B50		    retn
seg002:5B50 sub_76D9	    endp
seg002:5B50
seg002:5B51
seg002:5B51 ;  S	U B R O	U T I N	E 
seg002:5B51
seg002:5B51 ; Attributes: bp-based frame
seg002:5B51
seg002:5B51 sub_7721	    proc near		    ; CODE XREF: sub_77AB:loc_77E1p
seg002:5B51					    ; sub_785B:loc_78ABp
seg002:5B51
seg002:5B51 var_2	    = word ptr -2
seg002:5B51
seg002:5B51		    push    bp
seg002:5B52		    mov	    bp,	sp
seg002:5B54		    sub	    sp,	2
seg002:5B57		    push    si
seg002:5B58		    mov	    [bp+var_2],	0
seg002:5B5D
seg002:5B5D loc_772D:				    ; CODE XREF: sub_7721+35j
seg002:5B5D		    call    sub_76A6
seg002:5B60		    mov	    si,	ax
seg002:5B62		    cmp	    si,	0Ah
seg002:5B65		    jnz	    short loc_773C
seg002:5B67		    mov	    ax,	0FFFEh
seg002:5B6A		    jmp	    short loc_7776
seg002:5B6C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5B6C
seg002:5B6C loc_773C:				    ; CODE XREF: sub_7721+14j
seg002:5B6C		    cmp	    si,	2Ah ; '*'
seg002:5B6F		    jnz	    short loc_7746
seg002:5B71		    mov	    ax,	0FFFDh
seg002:5B74		    jmp	    short loc_7776
seg002:5B76 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5B76
seg002:5B76 loc_7746:				    ; CODE XREF: sub_7721+1Ej
seg002:5B76		    cmp	    si,	40h ; '@'
seg002:5B79		    jnz	    short loc_7750
seg002:5B7B		    mov	    ax,	0FFFCh
seg002:5B7E		    jmp	    short loc_7776
seg002:5B80 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5B80
seg002:5B80 loc_7750:				    ; CODE XREF: sub_7721+28j
seg002:5B80		    lea	    ax,	[si-30h]
seg002:5B83		    cmp	    ax,	9
seg002:5B86		    ja	    short loc_772D
seg002:5B88
seg002:5B88 loc_7758:				    ; CODE XREF: sub_7721+50j
seg002:5B88		    mov	    ax,	0Ah
seg002:5B8B		    imul    [bp+var_2]
seg002:5B8E		    add	    ax,	si
seg002:5B90		    sub	    ax,	30h ; '0'
seg002:5B93		    mov	    [bp+var_2],	ax
seg002:5B96		    call    sub_76A6
seg002:5B99		    mov	    si,	ax
seg002:5B9B		    lea	    ax,	[si-30h]
seg002:5B9E		    cmp	    ax,	9
seg002:5BA1		    jbe	    short loc_7758
seg002:5BA3		    mov	    ax,	[bp+var_2]
seg002:5BA6
seg002:5BA6 loc_7776:				    ; CODE XREF: sub_7721+19j
seg002:5BA6					    ; sub_7721+23j ...
seg002:5BA6		    pop	    si
seg002:5BA7		    mov	    sp,	bp
seg002:5BA9		    pop	    bp
seg002:5BAA		    retn
seg002:5BAA sub_7721	    endp
seg002:5BAA
seg002:5BAB
seg002:5BAB ;  S	U B R O	U T I N	E 
seg002:5BAB
seg002:5BAB ; Attributes: bp-based frame
seg002:5BAB
seg002:5BAB sub_777B	    proc near		    ; CODE XREF: sub_77AB+2Ep
seg002:5BAB					    ; sub_785B+3Ep ...
seg002:5BAB
seg002:5BAB var_2	    = word ptr -2
seg002:5BAB arg_0	    = word ptr	4
seg002:5BAB
seg002:5BAB		    push    bp
seg002:5BAC		    mov	    bp,	sp
seg002:5BAE		    sub	    sp,	2
seg002:5BB1		    jmp	    short loc_779C
seg002:5BB3 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5BB3
seg002:5BB3 loc_7783:				    ; CODE XREF: sub_777B+27j
seg002:5BB3		    mov	    [bp+var_2],	bx
seg002:5BB6		    inc	    [bp+arg_0]
seg002:5BB9		    call    sub_76A6
seg002:5BBC		    mov	    bx,	[bp+var_2]
seg002:5BBF		    mov	    cx,	ax
seg002:5BC1		    mov	    al,	[bx]
seg002:5BC3		    cbw
seg002:5BC4		    cmp	    cx,	ax
seg002:5BC6		    jz	    short loc_779C
seg002:5BC8		    sub	    ax,	ax
seg002:5BCA		    jmp	    short loc_77A7
seg002:5BCC ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5BCC
seg002:5BCC loc_779C:				    ; CODE XREF: sub_777B+6j
seg002:5BCC					    ; sub_777B+1Bj
seg002:5BCC		    mov	    bx,	[bp+arg_0]
seg002:5BCF		    cmp	    byte ptr [bx], 0
seg002:5BD2		    jnz	    short loc_7783
seg002:5BD4		    mov	    ax,	1
seg002:5BD7
seg002:5BD7 loc_77A7:				    ; CODE XREF: sub_777B+1Fj
seg002:5BD7		    mov	    sp,	bp
seg002:5BD9		    pop	    bp
seg002:5BDA		    retn
seg002:5BDA sub_777B	    endp
seg002:5BDA
seg002:5BDB
seg002:5BDB ;  S	U B R O	U T I N	E 
seg002:5BDB
seg002:5BDB ; Attributes: bp-based frame
seg002:5BDB
seg002:5BDB sub_77AB	    proc near		    ; CODE XREF: sub_7562+11Fp
seg002:5BDB
seg002:5BDB var_42	    = word ptr -42h
seg002:5BDB arg_0	    = word ptr	4
seg002:5BDB
seg002:5BDB		    push    bp
seg002:5BDC		    mov	    bp,	sp
seg002:5BDE		    sub	    sp,	42h
seg002:5BE1		    push    di
seg002:5BE2		    push    si
seg002:5BE3
seg002:5BE3 loc_77B3:				    ; CODE XREF: sub_77AB+20j
seg002:5BE3					    ; sub_77AB+34j ...
seg002:5BE3		    call    sub_76A6
seg002:5BE6		    inc	    ax
seg002:5BE7		    jz	    short loc_77FA
seg002:5BE9		    sub	    ax,	3Ch ; '<'
seg002:5BEC		    jnz	    short loc_77C1
seg002:5BEE		    jmp	    loc_7842
seg002:5BF1 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5BF1
seg002:5BF1 loc_77C1:				    ; CODE XREF: sub_77AB+11j
seg002:5BF1		    sub	    ax,	0Ah
seg002:5BF4		    jz	    short loc_77CD
seg002:5BF6		    sub	    ax,	0Dh
seg002:5BF9
seg002:5BF9 loc_77C9:				    ; CODE XREF: sub_77AB+28j
seg002:5BF9		    jz	    short loc_77D5
seg002:5BFB		    jmp	    short loc_77B3
seg002:5BFD ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5BFD
seg002:5BFD loc_77CD:				    ; CODE XREF: sub_77AB+19j
seg002:5BFD		    call    sub_76A6
seg002:5C00		    cmp	    ax,	52h ; 'R'
seg002:5C03		    jmp	    short loc_77C9
seg002:5C05 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5C05
seg002:5C05 loc_77D5:				    ; CODE XREF: sub_77AB:loc_77C9j
seg002:5C05		    mov	    ax,	0F24h
seg002:5C08		    push    ax
seg002:5C09		    call    sub_777B
seg002:5C0C		    pop	    bx
seg002:5C0D		    or	    ax,	ax
seg002:5C0F		    jz	    short loc_77B3
seg002:5C11
seg002:5C11 loc_77E1:				    ; CODE XREF: sub_77AB+92j
seg002:5C11		    call    sub_7721
seg002:5C14		    mov	    si,	ax
seg002:5C16		    cmp	    si,	[bp+arg_0]
seg002:5C19		    jz	    short loc_77F0
seg002:5C1B		    cmp	    si,	0FFFDh
seg002:5C1E		    jnz	    short loc_77F5
seg002:5C20
seg002:5C20 loc_77F0:				    ; CODE XREF: sub_77AB+3Ej
seg002:5C20		    mov	    ax,	1
seg002:5C23		    jmp	    short loc_7855
seg002:5C25 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5C25
seg002:5C25 loc_77F5:				    ; CODE XREF: sub_77AB+43j
seg002:5C25		    cmp	    si,	0FFFFh
seg002:5C28		    jnz	    short loc_77FE
seg002:5C2A
seg002:5C2A loc_77FA:				    ; CODE XREF: sub_77AB+Cj
seg002:5C2A					    ; sub_77AB:loc_7838j ...
seg002:5C2A		    sub	    ax,	ax
seg002:5C2C		    jmp	    short loc_7855
seg002:5C2E ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5C2E
seg002:5C2E loc_77FE:				    ; CODE XREF: sub_77AB+4Dj
seg002:5C2E		    cmp	    si,	3Bh ; ';'
seg002:5C31		    jz	    short loc_7842
seg002:5C33		    cmp	    si,	0FFFCh
seg002:5C36		    jnz	    short loc_783A
seg002:5C38		    lea	    di,	[bp+var_42]
seg002:5C3B		    jmp	    short loc_780E
seg002:5C3D ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5C3D
seg002:5C3D loc_780D:				    ; CODE XREF: sub_77AB+6Aj
seg002:5C3D		    inc	    di
seg002:5C3E
seg002:5C3E loc_780E:				    ; CODE XREF: sub_77AB+60j
seg002:5C3E		    call    sub_76A6
seg002:5C41		    mov	    [di], al
seg002:5C43		    cmp	    al,	20h ; ' '
seg002:5C45		    jg	    short loc_780D
seg002:5C47		    call    sub_7BC7
seg002:5C4A		    mov	    bx,	ds:1188h
seg002:5C4E		    mov	    word ptr [bx+2], 0
seg002:5C53		    mov	    byte ptr [di], 0
seg002:5C56		    lea	    ax,	[bp+var_42]
seg002:5C59		    push    ax
seg002:5C5A		    call    sub_7B88
seg002:5C5D		    pop	    bx
seg002:5C5E		    cmp	    word ptr ds:0E70h, 0
seg002:5C63		    jl	    short loc_7838
seg002:5C65		    jmp	    loc_77B3
seg002:5C68 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5C68
seg002:5C68 loc_7838:				    ; CODE XREF: sub_77AB+88j
seg002:5C68		    jmp	    short loc_77FA
seg002:5C6A ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5C6A
seg002:5C6A loc_783A:				    ; CODE XREF: sub_77AB+5Bj
seg002:5C6A		    cmp	    si,	0FFFEh
seg002:5C6D		    jnz	    short loc_77E1
seg002:5C6F		    jmp	    loc_77B3
seg002:5C72 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5C72
seg002:5C72 loc_7842:				    ; CODE XREF: sub_77AB+13j
seg002:5C72					    ; sub_77AB+56j ...
seg002:5C72		    call    sub_76A6
seg002:5C75		    mov	    si,	ax
seg002:5C77		    cmp	    si,	0Ah
seg002:5C7A		    jnz	    short loc_784F
seg002:5C7C		    jmp	    loc_77B3
seg002:5C7F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5C7F
seg002:5C7F loc_784F:				    ; CODE XREF: sub_77AB+9Fj
seg002:5C7F		    or	    si,	si
seg002:5C81		    jge	    short loc_7842
seg002:5C83		    jmp	    short loc_77FA
seg002:5C85 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5C85
seg002:5C85 loc_7855:				    ; CODE XREF: sub_77AB+48j
seg002:5C85					    ; sub_77AB+51j
seg002:5C85		    pop	    si
seg002:5C86		    pop	    di
seg002:5C87		    mov	    sp,	bp
seg002:5C89		    pop	    bp
seg002:5C8A		    retn
seg002:5C8A sub_77AB	    endp
seg002:5C8A
seg002:5C8B
seg002:5C8B ;  S	U B R O	U T I N	E 
seg002:5C8B
seg002:5C8B ; Attributes: bp-based frame
seg002:5C8B
seg002:5C8B sub_785B	    proc near		    ; CODE XREF: sub_7562+127p
seg002:5C8B
seg002:5C8B var_4	    = word ptr -4
seg002:5C8B var_2	    = byte ptr -2
seg002:5C8B
seg002:5C8B		    push    bp
seg002:5C8C		    mov	    bp,	sp
seg002:5C8E		    sub	    sp,	6
seg002:5C91		    push    si
seg002:5C92		    mov	    [bp+var_2],	0
seg002:5C96		    mov	    si,	15E8h
seg002:5C99
seg002:5C99 loc_7869:				    ; CODE XREF: sub_785B+38j
seg002:5C99					    ; sub_785B+44j ...
seg002:5C99		    call    sub_76A6
seg002:5C9C		    mov	    [bp+var_4],	ax
seg002:5C9F		    inc	    ax
seg002:5CA0		    jz	    short loc_78E8
seg002:5CA2		    sub	    ax,	23h ; '#'
seg002:5CA5		    jnz	    short loc_787A
seg002:5CA7		    jmp	    loc_78FB
seg002:5CAA ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5CAA
seg002:5CAA loc_787A:				    ; CODE XREF: sub_785B+1Aj
seg002:5CAA		    sub	    ax,	5
seg002:5CAD		    jz	    short loc_78FB
seg002:5CAF		    sub	    ax,	14h
seg002:5CB2		    jnz	    short loc_7887
seg002:5CB4		    jmp	    loc_7932
seg002:5CB7 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5CB7
seg002:5CB7 loc_7887:				    ; CODE XREF: sub_785B+27j
seg002:5CB7		    sub	    ax,	8
seg002:5CBA		    jz	    short loc_78B8
seg002:5CBC		    dec	    ax
seg002:5CBD		    dec	    ax
seg002:5CBE		    jz	    short loc_78DC
seg002:5CC0		    sub	    ax,	8
seg002:5CC3		    jnz	    short loc_7869
seg002:5CC5		    mov	    ax,	0F29h
seg002:5CC8		    push    ax
seg002:5CC9		    call    sub_777B
seg002:5CCC		    pop	    bx
seg002:5CCD		    or	    ax,	ax
seg002:5CCF		    jz	    short loc_7869
seg002:5CD1		    cmp	    [bp+var_2],	0
seg002:5CD5		    jz	    short loc_78AB
seg002:5CD7		    mov	    byte ptr [si], 0
seg002:5CDA		    inc	    si
seg002:5CDB
seg002:5CDB loc_78AB:				    ; CODE XREF: sub_785B+4Aj
seg002:5CDB		    call    sub_7721
seg002:5CDE		    mov	    [si], ax
seg002:5CE0		    inc	    si
seg002:5CE1		    inc	    si
seg002:5CE2		    mov	    [bp+var_2],	1
seg002:5CE6		    jmp	    short loc_7869
seg002:5CE8 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5CE8
seg002:5CE8 loc_78B8:				    ; CODE XREF: sub_785B+2Fj
seg002:5CE8		    mov	    ax,	0F30h
seg002:5CEB		    push    ax
seg002:5CEC		    call    sub_777B
seg002:5CEF		    pop	    bx
seg002:5CF0		    or	    ax,	ax
seg002:5CF2		    jz	    short loc_7869
seg002:5CF4		    cmp	    [bp+var_2],	0
seg002:5CF8		    jnz	    short loc_78CB
seg002:5CFA		    dec	    si
seg002:5CFB
seg002:5CFB loc_78CB:				    ; CODE XREF: sub_785B+6Dj
seg002:5CFB		    mov	    byte ptr [si], 0Dh
seg002:5CFE		    inc	    si
seg002:5CFF		    mov	    byte ptr [si], 0Ah
seg002:5D02		    sub	    al,	al
seg002:5D04		    mov	    [bp+var_2],	al
seg002:5D07		    inc	    si
seg002:5D08		    mov	    [si], al
seg002:5D0A		    jmp	    short loc_790E
seg002:5D0C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5D0C
seg002:5D0C loc_78DC:				    ; CODE XREF: sub_785B+33j
seg002:5D0C		    mov	    ax,	0F38h
seg002:5D0F		    push    ax
seg002:5D10		    call    sub_777B
seg002:5D13		    pop	    bx
seg002:5D14		    or	    ax,	ax
seg002:5D16		    jz	    short loc_7869
seg002:5D18
seg002:5D18 loc_78E8:				    ; CODE XREF: sub_785B+15j
seg002:5D18					    ; sub_785B+D5j
seg002:5D18		    mov	    word ptr [si], 0FFFFh
seg002:5D1C		    inc	    si
seg002:5D1D		    inc	    si
seg002:5D1E		    mov	    ds:0F22h, si
seg002:5D22		    mov	    ax,	si
seg002:5D24		    and	    al,	0FEh
seg002:5D26		    mov	    ds:0CDEh, ax
seg002:5D29		    jmp	    short loc_7944
seg002:5D2B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5D2B
seg002:5D2B loc_78FB:				    ; CODE XREF: sub_785B+1Cj
seg002:5D2B					    ; sub_785B+22j
seg002:5D2B		    cmp	    [bp+var_2],	0
seg002:5D2F		    jnz	    short loc_7902
seg002:5D31		    dec	    si
seg002:5D32
seg002:5D32 loc_7902:				    ; CODE XREF: sub_785B+A4j
seg002:5D32		    mov	    [bp+var_2],	0
seg002:5D36
seg002:5D36 loc_7906:				    ; CODE XREF: sub_785B+C4j
seg002:5D36					    ; sub_785B+D2j
seg002:5D36		    call    sub_76A6
seg002:5D39		    cmp	    ax,	[bp+var_4]
seg002:5D3C		    jnz	    short loc_7912
seg002:5D3E
seg002:5D3E loc_790E:				    ; CODE XREF: sub_785B+7Fj
seg002:5D3E		    inc	    si
seg002:5D3F		    jmp	    loc_7869
seg002:5D42 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5D42
seg002:5D42 loc_7912:				    ; CODE XREF: sub_785B+B1j
seg002:5D42		    sub	    ah,	ah
seg002:5D44		    mov	    [si], ax
seg002:5D46		    mov	    ax,	ds:0CE6h
seg002:5D49		    sub	    ax,	10h
seg002:5D4C		    inc	    si
seg002:5D4D		    cmp	    ax,	si
seg002:5D4F		    jnb	    short loc_7906
seg002:5D51		    mov	    ax,	200h
seg002:5D54		    push    ax
seg002:5D55		    call    sub_B12
seg002:5D5A		    pop	    bx
seg002:5D5B		    or	    ax,	ax
seg002:5D5D		    jnz	    short loc_7906
seg002:5D5F		    inc	    si
seg002:5D60		    jmp	    short loc_78E8
seg002:5D62 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5D62
seg002:5D62 loc_7932:				    ; CODE XREF: sub_785B+29j
seg002:5D62					    ; sub_785B+E7j
seg002:5D62		    call    sub_76A6
seg002:5D65		    mov	    [bp+var_4],	ax
seg002:5D68		    cmp	    ax,	0Ah
seg002:5D6B		    jnz	    short loc_7940
seg002:5D6D		    jmp	    loc_7869
seg002:5D70 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5D70
seg002:5D70 loc_7940:				    ; CODE XREF: sub_785B+E0j
seg002:5D70		    or	    ax,	ax
seg002:5D72		    jge	    short loc_7932
seg002:5D74
seg002:5D74 loc_7944:				    ; CODE XREF: sub_785B+9Ej
seg002:5D74		    pop	    si
seg002:5D75		    mov	    sp,	bp
seg002:5D77		    pop	    bp
seg002:5D78		    retn
seg002:5D78 sub_785B	    endp
seg002:5D78
seg002:5D79
seg002:5D79 ;  S	U B R O	U T I N	E 
seg002:5D79
seg002:5D79 ; Attributes: bp-based frame
seg002:5D79
seg002:5D79 sub_7949	    proc near		    ; CODE XREF: sub_79A2+28p
seg002:5D79					    ; sub_79A2+6Ap
seg002:5D79
seg002:5D79 var_D	    = byte ptr -0Dh
seg002:5D79 var_C	    = word ptr -0Ch
seg002:5D79 var_2	    = word ptr -2
seg002:5D79 arg_0	    = word ptr	4
seg002:5D79 arg_2	    = word ptr	6
seg002:5D79
seg002:5D79		    push    bp
seg002:5D7A		    mov	    bp,	sp
seg002:5D7C		    sub	    sp,	0Eh
seg002:5D7F		    mov	    ax,	[bp+arg_2]
seg002:5D82		    mov	    [bp+var_C],	ax
seg002:5D85
seg002:5D85 loc_7955:				    ; CODE XREF: sub_7949+31j
seg002:5D85		    mov	    [bp+var_D],	48h ; 'H'
seg002:5D89		    lea	    ax,	[bp-0Eh]
seg002:5D8C		    push    ax
seg002:5D8D		    push    ax
seg002:5D8E		    call    sub_42A0
seg002:5D91		    pop	    bx
seg002:5D92		    pop	    bx
seg002:5D93		    cmp	    [bp+var_2],	0
seg002:5D97		    jnz	    short loc_796E
seg002:5D99		    mov	    ax,	[bp-0Eh]
seg002:5D9C		    jmp	    short loc_797E
seg002:5D9E ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5D9E
seg002:5D9E loc_796E:				    ; CODE XREF: sub_7949+1Ej
seg002:5D9E		    cmp	    word ptr [bp-0Eh], 8
seg002:5DA2		    jnz	    short loc_797C
seg002:5DA4		    mov	    ax,	[bp+arg_0]
seg002:5DA7		    cmp	    [bp+var_C],	ax
seg002:5DAA		    jnb	    short loc_7955
seg002:5DAC
seg002:5DAC loc_797C:				    ; CODE XREF: sub_7949+29j
seg002:5DAC		    sub	    ax,	ax
seg002:5DAE
seg002:5DAE loc_797E:				    ; CODE XREF: sub_7949+23j
seg002:5DAE		    mov	    sp,	bp
seg002:5DB0		    pop	    bp
seg002:5DB1		    retn
seg002:5DB1 sub_7949	    endp
seg002:5DB1
seg002:5DB2
seg002:5DB2 ;  S	U B R O	U T I N	E 
seg002:5DB2
seg002:5DB2 ; Attributes: bp-based frame
seg002:5DB2
seg002:5DB2 sub_7982	    proc near		    ; CODE XREF: sub_79A2+188p
seg002:5DB2					    ; sub_79A2+18Fp ...
seg002:5DB2
seg002:5DB2 var_16	    = word ptr -16h
seg002:5DB2 var_D	    = byte ptr -0Dh
seg002:5DB2 arg_0	    = word ptr	4
seg002:5DB2
seg002:5DB2		    push    bp
seg002:5DB3		    mov	    bp,	sp
seg002:5DB5		    sub	    sp,	16h
seg002:5DB8		    mov	    [bp+var_D],	49h ; 'I'
seg002:5DBC		    mov	    ax,	[bp+arg_0]
seg002:5DBF		    mov	    [bp+var_16], ax
seg002:5DC2		    lea	    ax,	[bp+var_16]
seg002:5DC5		    push    ax
seg002:5DC6		    lea	    ax,	[bp-0Eh]
seg002:5DC9		    push    ax
seg002:5DCA		    push    ax
seg002:5DCB		    call    sub_42E8
seg002:5DCE		    mov	    sp,	bp
seg002:5DD0		    pop	    bp
seg002:5DD1		    retn
seg002:5DD1 sub_7982	    endp
seg002:5DD1
seg002:5DD2
seg002:5DD2 ;  S	U B R O	U T I N	E 
seg002:5DD2
seg002:5DD2 ; Attributes: bp-based frame
seg002:5DD2
seg002:5DD2 sub_79A2	    proc near		    ; CODE XREF: sub_7562+116p
seg002:5DD2
seg002:5DD2 var_26	    = word ptr -26h
seg002:5DD2 var_24	    = word ptr -24h
seg002:5DD2 var_22	    = word ptr -22h
seg002:5DD2 var_20	    = word ptr -20h
seg002:5DD2 var_1E	    = word ptr -1Eh
seg002:5DD2 var_1C	    = word ptr -1Ch
seg002:5DD2 var_1A	    = word ptr -1Ah
seg002:5DD2 var_18	    = word ptr -18h
seg002:5DD2 var_16	    = word ptr -16h
seg002:5DD2 var_13	    = byte ptr -13h
seg002:5DD2 var_E	    = word ptr -0Eh
seg002:5DD2 var_6	    = dword ptr	-6
seg002:5DD2 var_2	    = word ptr -2
seg002:5DD2
seg002:5DD2		    push    bp
seg002:5DD3		    mov	    bp,	sp
seg002:5DD5		    sub	    sp,	26h
seg002:5DD8		    push    di
seg002:5DD9		    push    si
seg002:5DDA		    mov	    si,	ds:1188h
seg002:5DDE		    mov	    byte ptr [si], 4Dh ; 'M'
seg002:5DE1		    mov	    ax,	1Bh
seg002:5DE4		    push    ax
seg002:5DE5		    lea	    ax,	[si+1]
seg002:5DE8		    push    ax
seg002:5DE9		    call    sub_7BB2
seg002:5DEC		    pop	    bx
seg002:5DED		    pop	    bx
seg002:5DEE		    or	    ax,	ax
seg002:5DF0		    jl	    short loc_7A18
seg002:5DF2		    mov	    ax,	[si+8]
seg002:5DF5		    mov	    [bp+var_1A], ax
seg002:5DF8		    push    ax
seg002:5DF9		    push    ax
seg002:5DFA		    call    sub_7949
seg002:5DFD		    pop	    bx
seg002:5DFE		    pop	    bx
seg002:5DFF		    mov	    [bp+var_1C], ax
seg002:5E02		    or	    ax,	ax
seg002:5E04		    jz	    short loc_7A18
seg002:5E06		    mov	    cl,	4
seg002:5E08		    shl	    [bp+var_1A], cl
seg002:5E0B		    mov	    ax,	[bp+var_1A]
seg002:5E0E		    sub	    ax,	1Ch
seg002:5E11		    mov	    [bp+var_1E], ax
seg002:5E14		    push    ax
seg002:5E15		    mov	    cx,	[bp+var_1C]
seg002:5E18		    sub	    dx,	dx
seg002:5E1A		    push    cx
seg002:5E1B		    push    dx
seg002:5E1C		    mov	    di,	ax
seg002:5E1E		    call    sub_7BD3
seg002:5E21		    add	    sp,	6
seg002:5E24		    cmp	    ax,	di
seg002:5E26		    jl	    short loc_7A18
seg002:5E28		    mov	    cl,	5
seg002:5E2A		    mov	    ax,	[si+4]
seg002:5E2D		    shl	    ax,	cl
seg002:5E2F		    mov	    [bp+var_1E], ax
seg002:5E32		    push    word ptr [si+0Ch]
seg002:5E35		    add	    ax,	[si+0Ah]
seg002:5E38		    add	    ax,	10h
seg002:5E3B		    push    ax
seg002:5E3C		    call    sub_7949
seg002:5E3F		    pop	    bx
seg002:5E40		    pop	    bx
seg002:5E41		    mov	    [bp+var_2],	ax
seg002:5E44		    or	    ax,	ax
seg002:5E46		    jnz	    short loc_7A1B
seg002:5E48
seg002:5E48 loc_7A18:				    ; CODE XREF: sub_79A2+1Ej
seg002:5E48					    ; sub_79A2+32j ...
seg002:5E48		    jmp	    loc_7B75
seg002:5E4B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5E4B
seg002:5E4B loc_7A1B:				    ; CODE XREF: sub_79A2+74j
seg002:5E4B		    mov	    cl,	4
seg002:5E4D		    shl	    [bp+var_1E], cl
seg002:5E50		    cmp	    word ptr [si+2], 0
seg002:5E54		    jz	    short loc_7A2F
seg002:5E56		    mov	    ax,	[si+2]
seg002:5E59		    sub	    ax,	200h
seg002:5E5C		    add	    [bp+var_1E], ax
seg002:5E5F
seg002:5E5F loc_7A2F:				    ; CODE XREF: sub_79A2+82j
seg002:5E5F		    mov	    ax,	[bp+var_1A]
seg002:5E62		    sub	    [bp+var_1E], ax
seg002:5E65		    mov	    ax,	[bp+var_2]
seg002:5E68		    add	    ax,	10h
seg002:5E6B		    sub	    cx,	cx
seg002:5E6D		    mov	    [bp+var_18], cx
seg002:5E70		    mov	    [bp+var_16], ax
seg002:5E73		    push    [bp+var_1E]
seg002:5E76		    push    ax
seg002:5E77		    push    cx
seg002:5E78		    call    sub_7BD3
seg002:5E7B		    add	    sp,	6
seg002:5E7E		    cmp	    ax,	[bp+var_1E]
seg002:5E81		    jge	    short loc_7A56
seg002:5E83		    jmp	    loc_7B75
seg002:5E86 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5E86
seg002:5E86 loc_7A56:				    ; CODE XREF: sub_79A2+AFj
seg002:5E86		    mov	    [bp+var_13], 26h ; '&'
seg002:5E8A		    mov	    ax,	[bp+var_2]
seg002:5E8D		    mov	    [bp+var_E],	ax
seg002:5E90		    lea	    cx,	[bp-14h]
seg002:5E93		    push    cx
seg002:5E94		    push    cx
seg002:5E95		    call    sub_42A0
seg002:5E98		    pop	    bx
seg002:5E99		    pop	    bx
seg002:5E9A		    mov	    ax,	[bp+var_2]
seg002:5E9D		    dec	    ax
seg002:5E9E		    mov	    bx,	3
seg002:5EA1		    mov	    es,	ax
seg002:5EA3		    mov	    ax,	es:[bx]
seg002:5EA6		    mov	    cx,	[bp+var_2]
seg002:5EA9		    sub	    bx,	bx
seg002:5EAB		    mov	    [bp+var_26], bx
seg002:5EAE		    mov	    [bp+var_24], cx
seg002:5EB1		    or	    bl,	2
seg002:5EB4		    mov	    es,	cx
seg002:5EB6		    mov	    es:[bx], ax
seg002:5EB9		    mov	    ax,	[bp+var_26]
seg002:5EBC		    mov	    dx,	[bp+var_24]
seg002:5EBF		    or	    al,	18h
seg002:5EC1		    mov	    cx,	18h
seg002:5EC4		    mov	    bx,	ds:0CECh
seg002:5EC8		    push    si
seg002:5EC9		    push    ds
seg002:5ECA		    mov	    di,	ax
seg002:5ECC		    mov	    si,	cx
seg002:5ECE		    mov	    es,	dx
seg002:5ED0		    mov	    ds,	bx
seg002:5ED2		    mov	    cx,	0Ah
seg002:5ED5		    rep	movsw
seg002:5ED7		    pop	    ds
seg002:5ED8		    pop	    si
seg002:5ED9		    mov	    ax,	[si+18h]
seg002:5EDC		    sub	    ax,	1Ch
seg002:5EDF		    mov	    cx,	[bp+var_1C]
seg002:5EE2		    mov	    word ptr [bp+var_6], ax
seg002:5EE5		    mov	    word ptr [bp+var_6+2], cx
seg002:5EE8		    mov	    ax,	[si+6]
seg002:5EEB		    mov	    [bp+var_1A], ax
seg002:5EEE		    jmp	    short loc_7ADB
seg002:5EF0 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5EF0
seg002:5EF0 loc_7AC0:				    ; CODE XREF: sub_79A2+13Cj
seg002:5EF0		    mov	    ax,	[bp+var_16]
seg002:5EF3		    les	    bx,	[bp+var_6]
seg002:5EF6		    mov	    cx,	es:[bx+2]
seg002:5EFA		    mov	    bx,	es:[bx]
seg002:5EFD		    add	    bx,	[bp+var_18]
seg002:5F00		    adc	    cx,	ax
seg002:5F02		    mov	    es,	cx
seg002:5F04		    add	    es:[bx], ax
seg002:5F07		    add	    word ptr [bp+var_6], 4
seg002:5F0B
seg002:5F0B loc_7ADB:				    ; CODE XREF: sub_79A2+11Cj
seg002:5F0B		    dec	    [bp+var_1A]
seg002:5F0E		    jns	    short loc_7AC0
seg002:5F10		    mov	    [bp+var_20], 15E8h
seg002:5F15		    lea	    ax,	[si+68h]
seg002:5F18		    mov	    [bp+var_22], ax
seg002:5F1B		    jmp	    short loc_7AF8
seg002:5F1D ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5F1D
seg002:5F1D loc_7AED:				    ; CODE XREF: sub_79A2+154j
seg002:5F1D					    ; sub_79A2+16Bj
seg002:5F1D		    mov	    bx,	[bp+var_20]
seg002:5F20		    inc	    [bp+var_20]
seg002:5F23		    cmp	    byte ptr [bx], 0
seg002:5F26		    jnz	    short loc_7AED
seg002:5F28
seg002:5F28 loc_7AF8:				    ; CODE XREF: sub_79A2+149j
seg002:5F28		    mov	    bx,	[bp+var_20]
seg002:5F2B		    mov	    ax,	[bx]
seg002:5F2D		    mov	    bx,	[bp+var_22]
seg002:5F30		    add	    [bp+var_22], 2
seg002:5F34		    mov	    [bx], ax
seg002:5F36		    add	    [bp+var_20], 2
seg002:5F3A		    cmp	    word ptr [bx], 0FFFFh
seg002:5F3D		    jnz	    short loc_7AED
seg002:5F3F		    lea	    ax,	[bp+var_1A]
seg002:5F42		    push    ax
seg002:5F43		    lea	    cx,	[si+68h]
seg002:5F46		    push    cx
seg002:5F47		    push    si
seg002:5F48		    push    [bp+var_2]
seg002:5F4B		    call    near ptr sub_84D7
seg002:5F4E		    add	    sp,	8
seg002:5F51		    mov	    word ptr [bp+var_6], ax
seg002:5F54		    mov	    word ptr [bp+var_6+2], dx
seg002:5F57		    push    [bp+var_1C]
seg002:5F5A		    call    sub_7982
seg002:5F5D		    pop	    bx
seg002:5F5E		    push    [bp+var_2]
seg002:5F61		    call    sub_7982
seg002:5F64		    pop	    bx
seg002:5F65		    cmp	    word ptr [bp+var_6+2], 0
seg002:5F69		    jz	    short loc_7B75
seg002:5F6B		    push    [bp+var_1A]
seg002:5F6E		    call    sub_B12
seg002:5F73		    pop	    bx
seg002:5F74		    or	    ax,	ax
seg002:5F76		    jz	    short loc_7B6E
seg002:5F78		    push    [bp+var_1A]
seg002:5F7B		    mov	    ax,	15E8h
seg002:5F7E		    push    ax
seg002:5F7F		    push    word ptr ds:9B4h
seg002:5F83		    push    word ptr [bp+var_6]
seg002:5F86		    push    word ptr [bp+var_6+2]
seg002:5F89		    call    sub_7CD2
seg002:5F8C		    add	    sp,	0Ah
seg002:5F8F		    mov	    ax,	[bp+var_1A]
seg002:5F92		    add	    ax,	15E8h
seg002:5F95		    mov	    ds:0F22h, ax
seg002:5F98		    inc	    ax
seg002:5F99		    and	    al,	0FEh
seg002:5F9B		    mov	    ds:0CDEh, ax
seg002:5F9E
seg002:5F9E loc_7B6E:				    ; CODE XREF: sub_79A2+1A4j
seg002:5F9E		    push    word ptr [bp+var_6+2]
seg002:5FA1		    call    sub_7982
seg002:5FA4		    pop	    bx
seg002:5FA5
seg002:5FA5 loc_7B75:				    ; CODE XREF: sub_79A2:loc_7A18j
seg002:5FA5					    ; sub_79A2+B1j ...
seg002:5FA5		    pop	    si
seg002:5FA6		    pop	    di
seg002:5FA7		    mov	    sp,	bp
seg002:5FA9		    pop	    bp
seg002:5FAA		    retn
seg002:5FAA sub_79A2	    endp
seg002:5FAA
seg002:5FAA ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:5FAB		    align 2
seg002:5FAC
seg002:5FAC ;  S	U B R O	U T I N	E 
seg002:5FAC
seg002:5FAC
seg002:5FAC sub_7B7C	    proc near		    ; CODE XREF: sub_4E96+283p
seg002:5FAC		    pop	    cx
seg002:5FAD		    push    cx
seg002:5FAE		    push    cx
seg002:5FAF		    mov	    ax,	sp
seg002:5FB1		    jmp	    cx
seg002:5FB1 sub_7B7C	    endp
seg002:5FB1
seg002:5FB3
seg002:5FB3 ;  S	U B R O	U T I N	E 
seg002:5FB3
seg002:5FB3
seg002:5FB3 sub_7B83	    proc near		    ; CODE XREF: sub_4E96+4A1p
seg002:5FB3					    ; sub_4E96+4FEp
seg002:5FB3		    pop	    cx
seg002:5FB4		    pop	    ax
seg002:5FB5		    pop	    ax
seg002:5FB6		    jmp	    cx
seg002:5FB6 sub_7B83	    endp
seg002:5FB6
seg002:5FB8
seg002:5FB8 ;  S	U B R O	U T I N	E 
seg002:5FB8
seg002:5FB8
seg002:5FB8 sub_7B88	    proc near		    ; CODE XREF: sub_4CA8+1Cp
seg002:5FB8					    ; sub_53ED+Ap ...
seg002:5FB8		    mov	    bx,	sp
seg002:5FBA		    mov	    dx,	[bx+2]
seg002:5FBD		    mov	    ax,	3D00h
seg002:5FC0		    int	    21h		    ; DOS - 2+ - OPEN DISK FILE	WITH HANDLE
seg002:5FC0					    ; DS:DX -> ASCIZ filename
seg002:5FC0					    ; AL = access mode
seg002:5FC0					    ; 0	- read
seg002:5FC2		    sbb	    bx,	bx
seg002:5FC4		    or	    ax,	bx
seg002:5FC6		    mov	    ds:0E70h, ax
seg002:5FC9		    retn
seg002:5FC9 sub_7B88	    endp
seg002:5FC9
seg002:5FCA
seg002:5FCA ;  S	U B R O	U T I N	E 
seg002:5FCA
seg002:5FCA
seg002:5FCA sub_7B9A	    proc near		    ; CODE XREF: sub_4C1F+11p
seg002:5FCA					    ; sub_4CA8+C1p ...
seg002:5FCA		    mov	    bx,	sp
seg002:5FCC		    mov	    dx,	[bx+2]
seg002:5FCF		    mov	    cx,	[bx+4]
seg002:5FD2		    mov	    bx,	ds:0E70h
seg002:5FD6		    mov	    ax,	4200h
seg002:5FD9		    int	    21h		    ; DOS - 2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
seg002:5FD9					    ; AL = method: offset from beginning of file
seg002:5FDB		    sbb	    bx,	bx
seg002:5FDD		    or	    ax,	bx
seg002:5FDF		    or	    dx,	bx
seg002:5FE1		    retn
seg002:5FE1 sub_7B9A	    endp
seg002:5FE1
seg002:5FE2
seg002:5FE2 ;  S	U B R O	U T I N	E 
seg002:5FE2
seg002:5FE2
seg002:5FE2 sub_7BB2	    proc near		    ; CODE XREF: sub_4C1F+1Cp
seg002:5FE2					    ; sub_4CA8+CEp ...
seg002:5FE2		    mov	    bx,	sp
seg002:5FE4		    mov	    dx,	[bx+2]
seg002:5FE7		    mov	    cx,	[bx+4]
seg002:5FEA		    mov	    bx,	ds:0E70h
seg002:5FEE		    mov	    ah,	3Fh
seg002:5FF0		    int	    21h		    ; DOS - 2+ - READ FROM FILE	WITH HANDLE
seg002:5FF0					    ; BX = file	handle,	CX = number of bytes to	read
seg002:5FF0					    ; DS:DX -> buffer
seg002:5FF2		    sbb	    bx,	bx
seg002:5FF4		    or	    ax,	bx
seg002:5FF6		    retn
seg002:5FF6 sub_7BB2	    endp
seg002:5FF6
seg002:5FF7
seg002:5FF7 ;  S	U B R O	U T I N	E 
seg002:5FF7
seg002:5FF7
seg002:5FF7 sub_7BC7	    proc near		    ; CODE XREF: sub_4E96+44Bp
seg002:5FF7					    ; sub_7FED-1961p ...
seg002:5FF7		    mov	    bx,	0FFFFh
seg002:5FFA		    xchg    bx,	ds:0E70h
seg002:5FFE		    mov	    ah,	3Eh
seg002:6000		    int	    21h		    ; DOS - 2+ - CLOSE A FILE WITH HANDLE
seg002:6000					    ; BX = file	handle
seg002:6002		    retn
seg002:6002 sub_7BC7	    endp
seg002:6002
seg002:6003
seg002:6003 ;  S	U B R O	U T I N	E 
seg002:6003
seg002:6003
seg002:6003 sub_7BD3	    proc near		    ; CODE XREF: seg002:48E1p
seg002:6003					    ; sub_7FED-1A30p ...
seg002:6003		    mov	    bx,	sp
seg002:6005		    push    ds
seg002:6006		    mov	    ax,	ds:0E70h
seg002:6009		    mov	    cx,	[bx+6]
seg002:600C		    mov	    dx,	[bx+2]
seg002:600F		    mov	    ds,	word ptr [bx+4]
seg002:6012		    xchg    ax,	bx
seg002:6013		    mov	    ah,	3Fh
seg002:6015		    int	    21h		    ; DOS - 2+ - READ FROM FILE	WITH HANDLE
seg002:6015					    ; BX = file	handle,	CX = number of bytes to	read
seg002:6015					    ; DS:DX -> buffer
seg002:6017		    pop	    ds
seg002:6018		    sbb	    bx,	bx
seg002:601A		    or	    ax,	bx
seg002:601C		    retn
seg002:601C sub_7BD3	    endp
seg002:601C
seg002:601D
seg002:601D ;  S	U B R O	U T I N	E 
seg002:601D
seg002:601D
seg002:601D sub_7BED	    proc near		    ; CODE XREF: sub_4E96+294p
seg002:601D		    pop	    ax
seg002:601E		    pop	    bx
seg002:601F		    mov	    sp,	ds:0F50h
seg002:6023		    push    bx
seg002:6024		    push    ax
seg002:6025		    jmp	    sub_3E7D
seg002:6025 sub_7BED	    endp
seg002:6025
seg002:6028
seg002:6028 ;  S	U B R O	U T I N	E 
seg002:6028
seg002:6028 ; Attributes: bp-based frame
seg002:6028
seg002:6028 sub_7BF8	    proc near		    ; CODE XREF: sub_496C+F0p
seg002:6028
seg002:6028 arg_0	    = word ptr	4
seg002:6028 arg_2	    = word ptr	6
seg002:6028
seg002:6028		    push    bp
seg002:6029		    mov	    bp,	sp
seg002:602B		    mov	    dx,	di
seg002:602D		    mov	    bx,	si
seg002:602F		    mov	    ax,	ds
seg002:6031		    mov	    es,	ax
seg002:6033		    mov	    si,	[bp+arg_0]
seg002:6036		    mov	    di,	[bp+arg_2]
seg002:6039		    xor	    ax,	ax
seg002:603B		    mov	    cx,	0FFFFh
seg002:603E		    repne scasb
seg002:6040		    not	    cx
seg002:6042		    sub	    di,	cx
seg002:6044		    repe cmpsb
seg002:6046		    jz	    short loc_7C1D
seg002:6048		    sbb	    ax,	ax
seg002:604A		    sbb	    ax,	0FFFFh
seg002:604D
seg002:604D loc_7C1D:				    ; CODE XREF: sub_7BF8+1Ej
seg002:604D		    mov	    si,	bx
seg002:604F		    mov	    di,	dx
seg002:6051		    pop	    bp
seg002:6052		    retn
seg002:6052 sub_7BF8	    endp
seg002:6052
seg002:6052 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6053		    align 2
seg002:6054
seg002:6054 ;  S	U B R O	U T I N	E 
seg002:6054
seg002:6054 ; Attributes: bp-based frame
seg002:6054
seg002:6054 sub_7C24	    proc near		    ; CODE XREF: sub_5E50+28Ap
seg002:6054
seg002:6054 arg_0	    = word ptr	4
seg002:6054 arg_2	    = word ptr	6
seg002:6054 arg_4	    = word ptr	8
seg002:6054
seg002:6054		    push    bp
seg002:6055		    mov	    bp,	sp
seg002:6057		    push    di
seg002:6058		    push    si
seg002:6059		    push    ds
seg002:605A		    pop	    es
seg002:605B		    mov	    di,	[bp+arg_0]
seg002:605E		    mov	    si,	[bp+arg_2]
seg002:6061		    mov	    bx,	di
seg002:6063		    mov	    cx,	[bp+arg_4]
seg002:6066		    jcxz    short loc_7C44
seg002:6068
seg002:6068 loc_7C38:				    ; CODE XREF: sub_7C24+1Aj
seg002:6068		    lodsb
seg002:6069		    or	    al,	al
seg002:606B		    jz	    short loc_7C40
seg002:606D		    stosb
seg002:606E		    loop    loc_7C38
seg002:6070
seg002:6070 loc_7C40:				    ; CODE XREF: sub_7C24+17j
seg002:6070		    xor	    al,	al
seg002:6072		    rep	stosb
seg002:6074
seg002:6074 loc_7C44:				    ; CODE XREF: sub_7C24+12j
seg002:6074		    mov	    ax,	bx
seg002:6076		    pop	    si
seg002:6077		    pop	    di
seg002:6078		    mov	    sp,	bp
seg002:607A		    pop	    bp
seg002:607B		    retn
seg002:607B sub_7C24	    endp
seg002:607B
seg002:607C
seg002:607C ;  S	U B R O	U T I N	E 
seg002:607C
seg002:607C ; Attributes: thunk
seg002:607C
seg002:607C sub_7C4C	    proc near		    ; CODE XREF: sub_5AA8+1A4p
seg002:607C		    jmp	    sub_7DBE
seg002:607C sub_7C4C	    endp
seg002:607C
seg002:607C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:607F		    align 2
seg002:6080
seg002:6080 ;  S	U B R O	U T I N	E 
seg002:6080
seg002:6080 ; Attributes: thunk
seg002:6080
seg002:6080 sub_7C50	    proc near		    ; CODE XREF: sub_5AA8+15Fp
seg002:6080					    ; sub_6193+26p
seg002:6080		    jmp	    sub_7DBE
seg002:6080 sub_7C50	    endp
seg002:6080
seg002:6080 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6083		    align 2
seg002:6084
seg002:6084 ;  S	U B R O	U T I N	E 
seg002:6084
seg002:6084 ; Attributes: bp-based frame
seg002:6084
seg002:6084 sub_7C54	    proc near		    ; CODE XREF: sub_6C1E+B4p
seg002:6084					    ; sub_6FB0+263p ...
seg002:6084
seg002:6084 var_E	    = dword ptr	-0Eh
seg002:6084 var_A	    = word ptr -0Ah
seg002:6084 var_8	    = byte ptr -8
seg002:6084 var_7	    = byte ptr -7
seg002:6084 var_6	    = byte ptr -6
seg002:6084 arg_0	    = word ptr	4
seg002:6084 arg_2	    = word ptr	6
seg002:6084 arg_4	    = word ptr	8
seg002:6084
seg002:6084		    push    bp
seg002:6085		    mov	    bp,	sp
seg002:6087		    push    si
seg002:6088		    push    di
seg002:6089		    sub	    sp,	0Ah
seg002:608C		    mov	    byte ptr [bp+var_A], 0CDh ;	'อ'
seg002:6090		    mov	    ax,	[bp+arg_0]
seg002:6093		    mov	    byte ptr [bp+var_A+1], al
seg002:6096		    cmp	    al,	25h ; '%'
seg002:6098		    jz	    short loc_7C74
seg002:609A		    cmp	    al,	26h ; '&'
seg002:609C		    jz	    short loc_7C74
seg002:609E		    mov	    [bp+var_8],	0CBh ; 'ห'
seg002:60A2		    jmp	    short loc_7C80
seg002:60A4 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:60A4
seg002:60A4 loc_7C74:				    ; CODE XREF: sub_7C54+14j
seg002:60A4					    ; sub_7C54+18j
seg002:60A4		    mov	    [bp+var_6],	0CBh ; 'ห'
seg002:60A8		    mov	    [bp+var_7],	44h ; 'D'
seg002:60AC		    mov	    [bp+var_8],	44h ; 'D'
seg002:60B0
seg002:60B0 loc_7C80:				    ; CODE XREF: sub_7C54+1Ej
seg002:60B0		    mov	    word ptr [bp+var_E+2], ss
seg002:60B3		    lea	    ax,	[bp+var_A]
seg002:60B6		    mov	    word ptr [bp+var_E], ax
seg002:60B9		    mov	    di,	[bp+arg_2]
seg002:60BC		    mov	    ax,	[di]
seg002:60BE		    mov	    bx,	[di+2]
seg002:60C1		    mov	    cx,	[di+4]
seg002:60C4		    mov	    dx,	[di+6]
seg002:60C7		    mov	    si,	[di+8]
seg002:60CA		    mov	    di,	[di+0Ah]
seg002:60CD		    push    bp
seg002:60CE		    call    [bp+var_E]
seg002:60D1		    pop	    bp
seg002:60D2		    cld
seg002:60D3		    push    di
seg002:60D4		    mov	    di,	[bp+arg_4]
seg002:60D7		    mov	    [di], ax
seg002:60D9		    mov	    [di+2], bx
seg002:60DC		    mov	    [di+4], cx
seg002:60DF		    mov	    [di+6], dx
seg002:60E2		    mov	    [di+8], si
seg002:60E5		    pop	    word ptr [di+0Ah]
seg002:60E8		    jb	    short loc_7CBE
seg002:60EA		    xor	    si,	si
seg002:60EC		    jmp	    short loc_7CC6
seg002:60EE ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:60EE
seg002:60EE loc_7CBE:				    ; CODE XREF: sub_7C54+64j
seg002:60EE		    call    sub_43AE
seg002:60F1		    mov	    si,	1
seg002:60F4		    mov	    ax,	[di]
seg002:60F6
seg002:60F6 loc_7CC6:				    ; CODE XREF: sub_7C54+68j
seg002:60F6		    mov	    [di+0Ch], si
seg002:60F9		    add	    sp,	0Ah
seg002:60FC		    pop	    di
seg002:60FD		    pop	    si
seg002:60FE		    mov	    sp,	bp
seg002:6100		    pop	    bp
seg002:6101		    retn
seg002:6101 sub_7C54	    endp
seg002:6101
seg002:6102
seg002:6102 ;  S	U B R O	U T I N	E 
seg002:6102
seg002:6102 ; Attributes: bp-based frame
seg002:6102
seg002:6102 sub_7CD2	    proc near		    ; CODE XREF: sub_5659+64p
seg002:6102					    ; sub_74B6+89p ...
seg002:6102
seg002:6102 arg_0	    = word ptr	4
seg002:6102 arg_2	    = word ptr	6
seg002:6102 arg_4	    = word ptr	8
seg002:6102 arg_6	    = word ptr	0Ah
seg002:6102 arg_8	    = word ptr	0Ch
seg002:6102
seg002:6102		    push    bp
seg002:6103		    mov	    bp,	sp
seg002:6105		    push    si
seg002:6106		    push    di
seg002:6107		    push    ds
seg002:6108		    mov	    ds,	[bp+arg_0]
seg002:610B		    mov	    si,	[bp+arg_2]
seg002:610E		    mov	    es,	[bp+arg_4]
seg002:6111		    mov	    di,	[bp+arg_6]
seg002:6114		    mov	    cx,	[bp+arg_8]
seg002:6117		    rep	movsb
seg002:6119		    pop	    ds
seg002:611A		    pop	    di
seg002:611B		    pop	    si
seg002:611C		    mov	    sp,	bp
seg002:611E		    pop	    bp
seg002:611F		    retn
seg002:611F sub_7CD2	    endp
seg002:611F
seg002:6120
seg002:6120 ;  S	U B R O	U T I N	E 
seg002:6120
seg002:6120 ; Attributes: bp-based frame
seg002:6120
seg002:6120 sub_7CF0	    proc near		    ; CODE XREF: sub_5AA8+112p
seg002:6120					    ; sub_5AA8+195p ...
seg002:6120
seg002:6120 arg_0	    = word ptr	4
seg002:6120 arg_2	    = byte ptr	6
seg002:6120
seg002:6120		    push    bp
seg002:6121		    mov	    bp,	sp
seg002:6123		    push    di
seg002:6124		    mov	    di,	[bp+arg_0]
seg002:6127		    push    ds
seg002:6128		    pop	    es
seg002:6129		    mov	    bx,	di
seg002:612B		    xor	    ax,	ax
seg002:612D		    mov	    cx,	0FFFFh
seg002:6130		    repne scasb
seg002:6132		    inc	    cx
seg002:6133		    neg	    cx
seg002:6135		    mov	    al,	[bp+arg_2]
seg002:6138		    mov	    di,	bx
seg002:613A		    repne scasb
seg002:613C		    dec	    di
seg002:613D		    cmp	    [di], al
seg002:613F		    jz	    short loc_7D13
seg002:6141		    xor	    di,	di
seg002:6143
seg002:6143 loc_7D13:				    ; CODE XREF: sub_7CF0+1Fj
seg002:6143		    mov	    ax,	di
seg002:6145		    pop	    di
seg002:6146		    mov	    sp,	bp
seg002:6148		    pop	    bp
seg002:6149		    retn
seg002:6149 sub_7CF0	    endp
seg002:6149
seg002:614A
seg002:614A ;  S	U B R O	U T I N	E 
seg002:614A
seg002:614A ; Attributes: bp-based frame
seg002:614A
seg002:614A sub_7D1A	    proc near		    ; CODE XREF: sub_496C+33p
seg002:614A					    ; sub_496C+44p ...
seg002:614A
seg002:614A var_2	    = word ptr -2
seg002:614A arg_0	    = word ptr	4
seg002:614A arg_2	    = word ptr	6
seg002:614A
seg002:614A		    push    bp
seg002:614B		    mov	    bp,	sp
seg002:614D		    sub	    sp,	2
seg002:6150		    push    si
seg002:6151		    push    di
seg002:6152		    push    ds
seg002:6153		    pop	    es
seg002:6154		    mov	    di,	[bp+arg_2]
seg002:6157		    xor	    ax,	ax
seg002:6159		    mov	    cx,	0FFFFh
seg002:615C		    repne scasb
seg002:615E		    not	    cx
seg002:6160		    dec	    cx
seg002:6161		    jcxz    short loc_7D6D
seg002:6163		    dec	    cx
seg002:6164		    mov	    [bp+var_2],	cx
seg002:6167		    mov	    di,	[bp+arg_0]
seg002:616A		    mov	    bx,	di
seg002:616C		    xor	    ax,	ax
seg002:616E		    mov	    cx,	0FFFFh
seg002:6171		    repne scasb
seg002:6173		    not	    cx
seg002:6175		    dec	    cx
seg002:6176		    mov	    dx,	cx
seg002:6178		    sub	    dx,	[bp+var_2]
seg002:617B		    jbe	    short loc_7D72
seg002:617D		    mov	    di,	bx
seg002:617F
seg002:617F loc_7D4F:				    ; CODE XREF: sub_7D1A+4Cj
seg002:617F		    mov	    si,	[bp+arg_2]
seg002:6182		    lodsb
seg002:6183		    mov	    di,	bx
seg002:6185		    mov	    cx,	dx
seg002:6187		    repne scasb
seg002:6189		    jnz	    short loc_7D72
seg002:618B		    mov	    dx,	cx
seg002:618D		    mov	    bx,	di
seg002:618F		    mov	    cx,	[bp+var_2]
seg002:6192		    jcxz    short loc_7D68
seg002:6194		    repe cmpsb
seg002:6196		    jnz	    short loc_7D4F
seg002:6198
seg002:6198 loc_7D68:				    ; CODE XREF: sub_7D1A+48j
seg002:6198		    lea	    ax,	[bx-1]
seg002:619B		    jmp	    short loc_7D74
seg002:619D ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:619D
seg002:619D loc_7D6D:				    ; CODE XREF: sub_7D1A+17j
seg002:619D		    mov	    ax,	[bp+arg_0]
seg002:61A0		    jmp	    short loc_7D74
seg002:61A2 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:61A2
seg002:61A2 loc_7D72:				    ; CODE XREF: sub_7D1A+31j
seg002:61A2					    ; sub_7D1A+3Fj
seg002:61A2		    xor	    ax,	ax
seg002:61A4
seg002:61A4 loc_7D74:				    ; CODE XREF: sub_7D1A+51j
seg002:61A4					    ; sub_7D1A+56j
seg002:61A4		    pop	    di
seg002:61A5		    pop	    si
seg002:61A6		    mov	    sp,	bp
seg002:61A8		    pop	    bp
seg002:61A9		    retn
seg002:61A9 sub_7D1A	    endp
seg002:61A9
seg002:61AA
seg002:61AA ;  S	U B R O	U T I N	E 
seg002:61AA
seg002:61AA ; Attributes: bp-based frame
seg002:61AA
seg002:61AA sub_7D7A	    proc near		    ; CODE XREF: sub_6BCD+Ap
seg002:61AA
seg002:61AA arg_0	    = word ptr	4
seg002:61AA arg_2	    = word ptr	6
seg002:61AA
seg002:61AA		    push    bp
seg002:61AB		    mov	    bp,	sp
seg002:61AD		    push    bx
seg002:61AE		    mov	    bx,	[bp+arg_0]
seg002:61B1		    mov	    ax,	[bx]
seg002:61B3		    mov	    dx,	[bx+2]
seg002:61B6		    mov	    cx,	[bp+arg_2]
seg002:61B9		    call    sub_4374
seg002:61BC		    mov	    [bx], ax
seg002:61BE		    mov	    [bx+2], dx
seg002:61C1		    pop	    bx
seg002:61C2		    pop	    bp
seg002:61C3		    retn    4
seg002:61C3 sub_7D7A	    endp
seg002:61C3
seg002:61C6
seg002:61C6 ;  S	U B R O	U T I N	E 
seg002:61C6
seg002:61C6 ; Attributes: bp-based frame
seg002:61C6
seg002:61C6 sub_7D96	    proc near		    ; CODE XREF: sub_62AE+4Ap
seg002:61C6
seg002:61C6 arg_0	    = word ptr	4
seg002:61C6 arg_2	    = word ptr	6
seg002:61C6
seg002:61C6		    push    bp
seg002:61C7		    mov	    bp,	sp
seg002:61C9		    push    bx
seg002:61CA		    mov	    bx,	[bp+arg_0]
seg002:61CD		    mov	    ax,	[bx]
seg002:61CF		    mov	    dx,	[bx+2]
seg002:61D2		    mov	    cx,	[bp+arg_2]
seg002:61D5		    call    sub_4380
seg002:61D8		    mov	    [bx], ax
seg002:61DA		    mov	    [bx+2], dx
seg002:61DD		    pop	    bx
seg002:61DE		    pop	    bp
seg002:61DF		    retn    4
seg002:61DF sub_7D96	    endp
seg002:61DF
seg002:61E2
seg002:61E2 ;  S	U B R O	U T I N	E 
seg002:61E2
seg002:61E2
seg002:61E2 sub_7DB2	    proc near		    ; CODE XREF: sub_62AE+A8p
seg002:61E2					    ; sub_6C1E+162p ...
seg002:61E2		    xor	    ch,	ch
seg002:61E4		    jcxz    short locret_7DBC
seg002:61E6
seg002:61E6 loc_7DB6:				    ; CODE XREF: sub_7DB2+8j
seg002:61E6		    shr	    dx,	1
seg002:61E8		    rcr	    ax,	1
seg002:61EA		    loop    loc_7DB6
seg002:61EC
seg002:61EC locret_7DBC:			    ; CODE XREF: sub_7DB2+2j
seg002:61EC		    retn
seg002:61EC sub_7DB2	    endp
seg002:61EC
seg002:61EC ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:61ED		    align 2
seg002:61EE
seg002:61EE ;  S	U B R O	U T I N	E 
seg002:61EE
seg002:61EE ; Attributes: bp-based frame
seg002:61EE
seg002:61EE sub_7DBE	    proc near		    ; CODE XREF: sub_7C4Cj
seg002:61EE					    ; sub_7C50j
seg002:61EE
seg002:61EE arg_0	    = word ptr	4
seg002:61EE
seg002:61EE		    push    bp
seg002:61EF		    mov	    bp,	sp
seg002:61F1		    push    di
seg002:61F2		    push    si
seg002:61F3		    mov	    si,	[bp+arg_0]
seg002:61F6		    xor	    ax,	ax
seg002:61F8		    cwd
seg002:61F9		    xor	    bx,	bx
seg002:61FB
seg002:61FB loc_7DCB:				    ; CODE XREF: sub_7DBE+10j
seg002:61FB					    ; sub_7DBE+14j
seg002:61FB		    lodsb
seg002:61FC		    cmp	    al,	20h ; ' '
seg002:61FE		    jz	    short loc_7DCB
seg002:6200		    cmp	    al,	9
seg002:6202		    jz	    short loc_7DCB
seg002:6204		    push    ax
seg002:6205		    cmp	    al,	2Dh ; '-'
seg002:6207		    jz	    short loc_7DDD
seg002:6209		    cmp	    al,	2Bh ; '+'
seg002:620B		    jnz	    short loc_7DDE
seg002:620D
seg002:620D loc_7DDD:				    ; CODE XREF: sub_7DBE+19j
seg002:620D					    ; sub_7DBE+41j
seg002:620D		    lodsb
seg002:620E
seg002:620E loc_7DDE:				    ; CODE XREF: sub_7DBE+1Dj
seg002:620E		    cmp	    al,	39h ; '9'
seg002:6210		    ja	    short loc_7E01
seg002:6212		    sub	    al,	30h ; '0'
seg002:6214		    jb	    short loc_7E01
seg002:6216		    shl	    bx,	1
seg002:6218		    rcl	    dx,	1
seg002:621A		    mov	    cx,	bx
seg002:621C		    mov	    di,	dx
seg002:621E		    shl	    bx,	1
seg002:6220		    rcl	    dx,	1
seg002:6222		    shl	    bx,	1
seg002:6224		    rcl	    dx,	1
seg002:6226		    add	    bx,	cx
seg002:6228		    adc	    dx,	di
seg002:622A		    add	    bx,	ax
seg002:622C		    adc	    dx,	0
seg002:622F		    jmp	    short loc_7DDD
seg002:6231 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6231
seg002:6231 loc_7E01:				    ; CODE XREF: sub_7DBE+22j
seg002:6231					    ; sub_7DBE+26j
seg002:6231		    pop	    ax
seg002:6232		    cmp	    al,	2Dh ; '-'
seg002:6234		    xchg    ax,	bx
seg002:6235		    jnz	    short loc_7E0E
seg002:6237		    neg	    ax
seg002:6239		    adc	    dx,	0
seg002:623C		    neg	    dx
seg002:623E
seg002:623E loc_7E0E:				    ; CODE XREF: sub_7DBE+47j
seg002:623E		    pop	    si
seg002:623F		    pop	    di
seg002:6240		    pop	    bp
seg002:6241		    retn
seg002:6241 sub_7DBE	    endp
seg002:6241
seg002:6241 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6242		    align 10h
seg002:6250
seg002:6250 ;  S	U B R O	U T I N	E 
seg002:6250
seg002:6250
seg002:6250 sub_7E20	    proc near		    ; CODE XREF: sub_5E50+2B6p
seg002:6250					    ; seg002:6538p
seg002:6250		    mov	    bx,	sp
seg002:6252		    mov	    bx,	[bx+2]
seg002:6255		    mov	    ds:9BAh, bx
seg002:6259		    cmp	    byte ptr ds:2Fh, 3
seg002:625E		    jb	    short loc_7E40
seg002:6260		    mov	    cs:byte_1EEF, 66h ;	'f'
seg002:6266		    cmp	    byte ptr ds:2Eh, 2
seg002:626B		    jnz	    short loc_7E40
seg002:626D		    mov	    bx,	2824h
seg002:6270
seg002:6270 loc_7E40:				    ; CODE XREF: sub_7E20+Ej
seg002:6270					    ; sub_7E20+1Bj
seg002:6270		    mov	    ax,	cs:[bx-4]
seg002:6274		    mov	    ds:9BCh, ax
seg002:6277		    mov	    ax,	cs:[bx-2]
seg002:627B		    mov	    ds:9BEh, ax
seg002:627E		    retn
seg002:627E sub_7E20	    endp
seg002:627E
seg002:627F
seg002:627F ;  S	U B R O	U T I N	E 
seg002:627F
seg002:627F
seg002:627F sub_7E4F	    proc near		    ; CODE XREF: sub_496C:loc_4A92p
seg002:627F		    mov	    sp,	ds:0CDCh
seg002:6283		    smsw    word ptr ds:0F88h
seg002:6288		    call    sub_5414
seg002:628B		    call    sub_27DD
seg002:628E		    mov	    ds:35h, cl
seg002:6292		    mov	    ds:37h, cl
seg002:6296		    call    nullsub_2
seg002:6299		    cmp	    byte ptr ds:2Eh, 0
seg002:629E		    jz	    short loc_7E93
seg002:62A0		    call    sub_356A
seg002:62A3		    cmp	    byte ptr ds:2Eh, 0Ah
seg002:62A8		    jnz	    short loc_7E7D
seg002:62AA		    call    near ptr sub_8087
seg002:62AD
seg002:62AD loc_7E7D:				    ; CODE XREF: sub_7E4F+29j
seg002:62AD		    cmp	    byte ptr ds:2Eh, 9
seg002:62B2		    jnz	    short loc_7E87
seg002:62B4		    call    near ptr sub_7FED
seg002:62B7
seg002:62B7 loc_7E87:				    ; CODE XREF: sub_7E4F+33j
seg002:62B7		    call    sub_1D3C
seg002:62BA		    call    sub_8176
seg002:62BD		    mov	    word ptr ds:0AC2h, 32h ; '2'
seg002:62C3
seg002:62C3 loc_7E93:				    ; CODE XREF: sub_7E4F+1Fj
seg002:62C3		    push    0F8Ah
seg002:62C6		    call    sub_2E50
seg002:62C9		    pop	    cx
seg002:62CA		    mov	    es,	word ptr ds:0CECh
seg002:62CE		    mov	    bx,	0Ah
seg002:62D1		    mov	    ax,	es:[bx]
seg002:62D4		    mov	    ds:10C2h, ax
seg002:62D7		    mov	    ax,	es:[bx+2]
seg002:62DB		    mov	    ds:10C4h, ax
seg002:62DE		    mov	    ds:0F50h, sp
seg002:62E2		    cmp	    byte ptr ds:2Eh, 0
seg002:62E7		    jz	    short loc_7EC5
seg002:62E9		    mov	    word ptr es:[bx], 10h
seg002:62EE		    mov	    word ptr es:[bx+2],	cs
seg002:62F2		    jmp	    loc_1E21
seg002:62F5 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:62F5
seg002:62F5 loc_7EC5:				    ; CODE XREF: sub_7E4F+68j
seg002:62F5		    call    near ptr sub_8E60
seg002:62F5 sub_7E4F	    endp
seg002:62F5
seg002:62F8
seg002:62F8 ;  S	U B R O	U T I N	E 
seg002:62F8
seg002:62F8
seg002:62F8 sub_7EC8	    proc near		    ; CODE XREF: sub_5AA8+1Ap
seg002:62F8		    pusha
seg002:62F9		    push    ds
seg002:62FA		    mov	    ax,	0
seg002:62FD		    mov	    ds,	ax
seg002:62FF		    assume ds:seg000
seg002:62FF		    mov	    si,	2F6h
seg002:6302		    std
seg002:6303
seg002:6303 loc_7ED3:				    ; CODE XREF: sub_7EC8+15j
seg002:6303		    mov	    bx,	si
seg002:6305		    lodsw
seg002:6306		    mov	    dx,	ax
seg002:6308		    lodsw
seg002:6309
seg002:6309 loc_7ED9:				    ; CODE XREF: sub_7EC8+1Fj
seg002:6309					    ; sub_7EC8+23j
seg002:6309		    cmp	    bx,	2FAh
seg002:630D		    jnb	    short loc_7ED3
seg002:630F		    inc	    bx
seg002:6310		    inc	    bx
seg002:6311		    cmp	    [bx], ax
seg002:6313		    pushf
seg002:6314		    inc	    bx
seg002:6315		    inc	    bx
seg002:6316		    popf
seg002:6317		    jnz	    short loc_7ED9
seg002:6319		    cmp	    [bx], dx
seg002:631B		    jnz	    short loc_7ED9
seg002:631D		    pop	    ds
seg002:631E		    assume ds:nothing
seg002:631E		    mov	    ds:56h, ax
seg002:6321		    mov	    ds:58h, dx
seg002:6325		    popa
seg002:6326		    cld
seg002:6327		    retn
seg002:6327 sub_7EC8	    endp
seg002:6327
seg002:6328 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6328		    push    bp
seg002:6329		    mov	    bp,	sp
seg002:632B		    push    dx
seg002:632C		    push    di
seg002:632D		    mov	    ax,	ds:56h
seg002:6330		    mov	    dx,	ds:58h
seg002:6334		    push    ds
seg002:6335		    mov	    di,	0
seg002:6338		    mov	    ds,	di
seg002:633A		    assume ds:seg000
seg002:633A		    mov	    di,	[bp+4]
seg002:633D
seg002:633D loc_7F0D:				    ; CODE XREF: seg002:6343j
seg002:633D					    ; seg002:6347j
seg002:633D		    sub	    di,	4
seg002:6340		    cmp	    [di+2], dx
seg002:6343		    jnz	    short loc_7F0D
seg002:6345		    cmp	    [di], ax
seg002:6347		    jnz	    short loc_7F0D
seg002:6349		    mov	    ax,	di
seg002:634B		    pop	    ds
seg002:634C		    assume ds:nothing
seg002:634C		    pop	    di
seg002:634D		    pop	    dx
seg002:634E		    retn
seg002:634E ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:634F		    db 0Fh, 0, 10h, 4, 14h, 4, 2, 0, 8,	10h, 2 dup(0), 2, 0
seg002:634F		    db 5, 3 dup(0), 10h, 0, 2, 0, 40h, 48h, 40h, 0, 2, 0, 0Eh
seg002:634F		    db 0, 10h, 0, 18h, 0, 2, 0,	8, 10h,	8, 0, 2, 0, 10h, 0
seg002:634F		    db 20h, 0, 0A0h, 0,	1, 0, 8, 70h, 40h, 0, 1, 0, 1, 3 dup(0)
seg002:634F		    db 8, 0, 2,	0, 8, 10h, 71h,	0, 2, 0
seg002:6395
seg002:6395 ;  S	U B R O	U T I N	E 
seg002:6395
seg002:6395
seg002:6395 sub_7F65	    proc near		    ; CODE XREF: sub_5AA8+2D5p
seg002:6395		    push    es
seg002:6396		    mov	    di,	6341h
seg002:6399
seg002:6399 loc_7F69:				    ; CODE XREF: sub_7F65+10j
seg002:6399		    add	    di,	0Eh
seg002:639C		    cmp	    word ptr cs:[di], 1
seg002:63A0		    jz	    short loc_7F77
seg002:63A2		    cmp	    cs:[di], si
seg002:63A5		    jnz	    short loc_7F69
seg002:63A7
seg002:63A7 loc_7F77:				    ; CODE XREF: sub_7F65+Bj
seg002:63A7		    push    si
seg002:63A8		    mov	    si,	di
seg002:63AA		    push    ss
seg002:63AB		    pop	    es
seg002:63AC		    assume es:seg000
seg002:63AC		    mov	    di,	4Ah ; 'J'
seg002:63AF		    cld
seg002:63B0		    lodsw
seg002:63B1		    mov	    cx,	6
seg002:63B4		    rep	movs word ptr es:[di], word ptr	cs:[si]
seg002:63B7		    pop	    si
seg002:63B8		    cmp	    byte ptr ds:34h, 15h
seg002:63BD		    jnz	    short loc_7F94
seg002:63BF		    mov	    byte ptr ds:34h, 7Fh ; ''
seg002:63C4
seg002:63C4 loc_7F94:				    ; CODE XREF: sub_7F65+28j
seg002:63C4		    mov	    bx,	0
seg002:63C7		    mov	    es,	bx
seg002:63C9		    mov	    bl,	ds:34h
seg002:63CD		    shl	    bx,	2
seg002:63D0		    lds	    di,	es:[bx]
seg002:63D3		    mov	    ax,	ds
seg002:63D5		    mov	    word ptr ss:dword_F84+2, ax
seg002:63D9		    mov	    word ptr ss:dword_F84, di
seg002:63DE		    sub	    ax,	[di-2]
seg002:63E1		    sub	    di,	[di-4]
seg002:63E4		    push    ss
seg002:63E5		    pop	    ds
seg002:63E6		    assume ds:seg000
seg002:63E6		    or	    ax,	di
seg002:63E8		    jz	    short loc_7FC3
seg002:63EA		    mov	    word ptr es:[bx], 9F9h
seg002:63EF		    mov	    word ptr es:[bx+2],	ds
seg002:63F3
seg002:63F3 loc_7FC3:				    ; CODE XREF: sub_7F65+53j
seg002:63F3		    mov	    al,	byte_34
seg002:63F6		    mov	    cs:byte_2AC5, al
seg002:63FA		    mov	    cs:987Fh, al
seg002:63FE		    pop	    es
seg002:63FF		    assume es:nothing
seg002:63FF		    retn
seg002:63FF sub_7F65	    endp
seg002:63FF
seg002:6400
seg002:6400 ;  S	U B R O	U T I N	E 
seg002:6400
seg002:6400
seg002:6400 sub_7FD0	    proc near		    ; CODE XREF: sub_5E50+100p
seg002:6400		    xor	    ax,	ax
seg002:6402		    xor	    bx,	bx
seg002:6404		    mov	    cl,	82h ; ''
seg002:6406		    int	    0DCh	    ; used by BASIC while in interpreter
seg002:6408		    mov	    al,	bl
seg002:640A		    or	    al,	bh
seg002:640C		    jz	    short locret_7FEC
seg002:640E		    shl	    bx,	6
seg002:6411		    mov	    word_ECA, bx
seg002:6415		    shl	    dx,	6
seg002:6418		    mov	    word_ECE, dx
seg002:641C
seg002:641C locret_7FEC:			    ; CODE XREF: sub_7FD0+Cj
seg002:641C		    retn
seg002:641C sub_7FD0	    endp
seg002:641C
seg002:641D
seg002:641D ;  S	U B R O	U T I N	E 
seg002:641D
seg002:641D
seg002:641D sub_7FED	    proc far		    ; CODE XREF: sub_7E4F+35p
seg002:641D
seg002:641D ; FUNCTION CHUNK AT	seg002:490E SIZE 00000116 BYTES
seg002:641D ; FUNCTION CHUNK AT	seg002:4A25 SIZE 00000112 BYTES
seg002:641D
seg002:641D		    push    bp
seg002:641E		    cli
seg002:641F		    call    sub_27B9
seg002:6422		    xor	    ax,	ax
seg002:6424		    mov	    ds,	ax
seg002:6426		    push    word_0
seg002:642A		    push    word_2
seg002:642E		    push    word_4
seg002:6432		    mov	    ss:word_F7A, sp
seg002:6437		    mov	    cx,	14h
seg002:643A
seg002:643A loc_800A:				    ; CODE XREF: sub_7FED+1Ej
seg002:643A		    push    ax
seg002:643B		    loop    loc_800A
seg002:643D		    mov	    word_469, ss
seg002:6441		    mov	    word_467, sp
seg002:6445		    mov	    al,	0Fh
seg002:6447		    out	    70h, al	    ; CMOS Memory:
seg002:6447					    ; shutdown status byte
seg002:6449		    mov	    byte ptr word_0, 0EAh ; '๊'
seg002:644E		    mov	    word_0+1, offset loc_8055
seg002:6454		    mov	    word_2+1, cs
seg002:6458		    mov	    al,	9
seg002:645A		    out	    71h, al	    ; CMOS Memory:
seg002:645A					    ; used by real-time	clock
seg002:645C		    lgdt    fword ptr ss:byte_8C8
seg002:6462		    lidt    fword ptr ss:byte_8D0
seg002:6468		    smsw    ax
seg002:646B		    or	    al,	1
seg002:646D		    lmsw    ax
seg002:6470		    jmp	    18h:6475h
seg002:6470 sub_7FED	    endp
seg002:6470
seg002:6470 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6475		    db 0B8h, 20h, 0, 8Eh, 0D8h,	8Eh, 0C0h, 8Eh,	0D0h, 0B0h
seg002:6475		    db 0FEh, 0E6h, 64h,	0F4h, 0EBh, 0FDh
seg002:6485 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6485
seg002:6485 loc_8055:				    ; DATA XREF: sub_7FED+31o
seg002:6485		    call    sub_27DD
seg002:6488		    mov	    ax,	ss:word_F7A
seg002:648C		    xchg    ax,	sp
seg002:648D		    sub	    ax,	sp
seg002:648F		    push    0
seg002:6491		    pop	    ds
seg002:6492		    pop	    word_4
seg002:6496		    pop	    word_2
seg002:649A		    pop	    word_0
seg002:649E		    push    ss
seg002:649F		    pop	    ds
seg002:64A0		    jcxz    short loc_8076
seg002:64A2		    mov	    byte_35+0Ah, cl
seg002:64A6
seg002:64A6 loc_8076:				    ; CODE XREF: seg002:64A0j
seg002:64A6		    add	    word ptr byte_9C2+2, ax
seg002:64AA		    cmp	    byte_35, 0
seg002:64AF		    jz	    short loc_8084
seg002:64B1		    call    sub_27B9
seg002:64B4
seg002:64B4 loc_8084:				    ; CODE XREF: seg002:64AFj
seg002:64B4		    sti
seg002:64B5		    pop	    bp
seg002:64B6		    retn
seg002:64B7
seg002:64B7 ;  S	U B R O	U T I N	E 
seg002:64B7
seg002:64B7
seg002:64B7 sub_8087	    proc far		    ; CODE XREF: sub_7E4F+2Bp
seg002:64B7		    push    bp
seg002:64B8		    cli
seg002:64B9		    call    sub_27B9
seg002:64BC		    in	    al,	21h	    ; Interrupt	controller, 8259A.
seg002:64BE		    mov	    ah,	al
seg002:64C0		    mov	    al,	0FFh
seg002:64C2		    out	    21h, al	    ; Interrupt	controller, 8259A.
seg002:64C4		    in	    al,	0A1h	    ; Interrupt	Controller #2, 8259A
seg002:64C6		    push    ax
seg002:64C7		    not	    al
seg002:64C9		    out	    0A1h, al	    ; Interrupt	Controller #2, 8259A
seg002:64CB		    xor	    ax,	ax
seg002:64CD		    mov	    ds,	ax
seg002:64CF		    assume es:nothing, ss:nothing
seg002:64CF		    mov	    al,	0Fh
seg002:64D1		    out	    70h, al	    ; CMOS Memory:
seg002:64D1					    ; shutdown status byte
seg002:64D3		    mov	    word_469, cs
seg002:64D7		    mov	    word_467, 6506h
seg002:64DD		    mov	    al,	0Ah
seg002:64DF		    out	    71h, al	    ; CMOS Memory:
seg002:64DF					    ; used by real-time	clock
seg002:64E1		    mov	    ss:0F7Ah, sp
seg002:64E6		    lgdt    fword ptr ss:8C8h
seg002:64EC		    lidt    fword ptr ss:8D0h
seg002:64F2		    smsw    ax
seg002:64F5		    or	    al,	1
seg002:64F7		    lmsw    ax
seg002:64FA		    jmp	    18h:64FFh
seg002:64FA sub_8087	    endp
seg002:64FA
seg002:64FA ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:64FF		    db 0B0h, 0FEh, 0E6h, 64h, 0F4h, 0EBh, 0FDh,	0FAh, 0B8h
seg002:6508		    dw seg seg000
seg002:650A ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:650A		    mov	    ds,	ax
seg002:650C		    assume ds:nothing
seg002:650C		    mov	    ss,	ax
seg002:650E		    assume ss:nothing
seg002:650E		    mov	    sp,	ds:0F7Ah
seg002:6512		    in	    al,	0A1h	    ; Interrupt	Controller #2, 8259A
seg002:6514		    not	    al
seg002:6516		    mov	    bl,	al
seg002:6518		    in	    al,	21h	    ; Interrupt	controller, 8259A.
seg002:651A		    mov	    bh,	al
seg002:651C		    pop	    ax
seg002:651D		    out	    0A1h, al	    ; Interrupt	Controller #2, 8259A
seg002:651F		    mov	    cl,	al
seg002:6521		    mov	    al,	ah
seg002:6523		    out	    21h, al	    ; Interrupt	controller, 8259A.
seg002:6525		    mov	    ch,	0FFh
seg002:6527		    cmp	    bx,	cx
seg002:6529		    jz	    short loc_810C
seg002:652B		    mov	    byte ptr ds:2Eh, 9
seg002:6530		    mov	    byte ptr ds:10EEh, 9
seg002:6535		    push    8B2h
seg002:6538		    call    sub_7E20
seg002:653B		    pop	    ax
seg002:653C
seg002:653C loc_810C:				    ; CODE XREF: seg002:6529j
seg002:653C		    cmp	    byte ptr ds:35h, 0
seg002:6541		    jnz	    short loc_8116
seg002:6543		    call    sub_27CB
seg002:6546
seg002:6546 loc_8116:				    ; CODE XREF: seg002:6541j
seg002:6546		    sti
seg002:6547		    pop	    bp
seg002:6548		    retn
seg002:6549 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6549 ; START OF FUNCTION	CHUNK FOR sub_4922
seg002:6549
seg002:6549 loc_8119:				    ; CODE XREF: sub_4922+36j
seg002:6549		    test    byte ptr ds:47h, 1
seg002:654E		    jz	    short locret_8127
seg002:6550		    mov	    ah,	0Fh
seg002:6552		    int	    10h		    ; -	VIDEO -	GET CURRENT VIDEO MODE
seg002:6552					    ; Return: AH = number of columns on	screen
seg002:6552					    ; AL = current video mode
seg002:6552					    ; BH = current active display page
seg002:6554		    mov	    ds:0A17h, al
seg002:6557
seg002:6557 locret_8127:			    ; CODE XREF: sub_4922+37FCj
seg002:6557		    retn
seg002:6557 ; END OF FUNCTION CHUNK FOR	sub_4922
seg002:6558
seg002:6558 ;  S	U B R O	U T I N	E 
seg002:6558
seg002:6558
seg002:6558 sub_8128	    proc near		    ; CODE XREF: sub_8176p
seg002:6558		    mov	    ah,	35h ; '5'
seg002:655A		    mov	    al,	ds:34h
seg002:655D		    int	    21h		    ; DOS - 2+ - GET INTERRUPT VECTOR
seg002:655D					    ; AL = interrupt number
seg002:655D					    ; Return: ES:BX = value of interrupt vector
seg002:655F		    mov	    word ptr cs:dword_2E94, bx
seg002:6564		    mov	    word ptr cs:dword_2E94+2, es
seg002:6569		    cmp	    word ptr ds:0A2h, 0
seg002:656E		    jnz	    short locret_8175
seg002:6570		    xor	    si,	si
seg002:6572		    xor	    dx,	dx
seg002:6574		    mov	    ax,	0BF01h
seg002:6577		    pushf
seg002:6578		    call    cs:dword_2E94
seg002:657D		    push    dx
seg002:657E		    or	    dx,	dx
seg002:6580		    jz	    short loc_8174
seg002:6582		    mov	    byte ptr ds:0A16h, 0
seg002:6587		    push    ss
seg002:6588		    pop	    es
seg002:6589		    assume es:nothing
seg002:6589		    mov	    di,	98h ; ''
seg002:658C		    mov	    ds,	dx
seg002:658E		    assume ds:seg000
seg002:658E		    mov	    cx,	0Ch
seg002:6591		    rep	movsw
seg002:6593		    push    ss
seg002:6594		    pop	    ds
seg002:6595		    assume ds:nothing
seg002:6595		    mov	    word ptr ds:0A4h, 0
seg002:659B		    mov	    word ptr ds:0A6h, 0
seg002:65A1		    call    sub_6BC2
seg002:65A4
seg002:65A4 loc_8174:				    ; CODE XREF: sub_8128+28j
seg002:65A4		    pop	    ax
seg002:65A5
seg002:65A5 locret_8175:			    ; CODE XREF: sub_8128+16j
seg002:65A5		    retn
seg002:65A5 sub_8128	    endp ; sp =	-2
seg002:65A5
seg002:65A6
seg002:65A6 ;  S	U B R O	U T I N	E 
seg002:65A6
seg002:65A6
seg002:65A6 sub_8176	    proc near		    ; CODE XREF: sub_7E4F+3Bp
seg002:65A6		    call    sub_8128
seg002:65A9		    or	    ax,	ax
seg002:65AB		    jnz	    short loc_8180
seg002:65AD		    call    sub_7250
seg002:65B0
seg002:65B0 loc_8180:				    ; CODE XREF: sub_8176+5j
seg002:65B0		    mov	    dx,	12CCh
seg002:65B3		    mov	    ah,	25h ; '%'
seg002:65B5		    mov	    al,	ds:34h
seg002:65B8		    push    cs
seg002:65B9		    pop	    ds
seg002:65BA		    assume ds:seg002
seg002:65BA		    mov	    word_2E9A, cs
seg002:65BE		    int	    21h		    ; DOS - SET	INTERRUPT VECTOR
seg002:65BE					    ; AL = interrupt number
seg002:65BE					    ; DS:DX = new vector to be used for	specified interrupt
seg002:65C0		    push    ss
seg002:65C1		    pop	    ds
seg002:65C2		    assume ds:nothing
seg002:65C2		    retn
seg002:65C2 sub_8176	    endp
seg002:65C2
seg002:65C3
seg002:65C3 ;  S	U B R O	U T I N	E 
seg002:65C3
seg002:65C3
seg002:65C3 sub_8193	    proc near		    ; CODE XREF: sub_400E+9p
seg002:65C3					    ; sub_92AB+1C2p
seg002:65C3		    mov	    ax,	ds:0CDEh
seg002:65C6		    inc	    ax
seg002:65C7		    and	    al,	0FEh
seg002:65C9		    mov	    bx,	sp
seg002:65CB		    mov	    cx,	[bx+2]
seg002:65CE		    add	    cx,	ax
seg002:65D0		    jb	    short loc_81AD
seg002:65D2		    cmp	    cx,	ds:0CE6h
seg002:65D6		    ja	    short loc_81AD
seg002:65D8		    mov	    ds:0CDEh, cx
seg002:65DC		    retn
seg002:65DD ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:65DD
seg002:65DD loc_81AD:				    ; CODE XREF: sub_8193+Dj
seg002:65DD					    ; sub_8193+13j
seg002:65DD		    mov	    ax,	0FFFFh
seg002:65E0		    retn
seg002:65E0 sub_8193	    endp
seg002:65E0
seg002:65E1
seg002:65E1 ;  S	U B R O	U T I N	E 
seg002:65E1
seg002:65E1
seg002:65E1 sub_81B1	    proc near		    ; CODE XREF: sub_496C+6p
seg002:65E1		    pushf
seg002:65E2		    xor	    ax,	ax
seg002:65E4		    push    ax
seg002:65E5		    popf
seg002:65E6		    pushf
seg002:65E7		    pop	    ax
seg002:65E8		    and	    ah,	0F0h
seg002:65EB		    cmp	    ah,	0F0h ; '๐'
seg002:65EE		    jz	    short loc_81E4
seg002:65F0		    push    sp
seg002:65F1		    pop	    bx
seg002:65F2		    cmp	    bx,	sp
seg002:65F4		    jnz	    short loc_81DF
seg002:65F6		    mov	    ax,	0F000h
seg002:65F9		    push    ax
seg002:65FA		    popf
seg002:65FB		    pushf
seg002:65FC		    pop	    bx
seg002:65FD		    and	    bx,	ax
seg002:65FF		    jz	    short loc_81DA
seg002:6601		    mov	    ax,	3
seg002:6604		    mov	    ds:10F2h, eax
seg002:6608		    jmp	    short loc_81E6
seg002:660A ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:660A
seg002:660A loc_81DA:				    ; CODE XREF: sub_81B1+1Ej
seg002:660A		    mov	    ax,	2
seg002:660D		    jmp	    short loc_81E6
seg002:660F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:660F
seg002:660F loc_81DF:				    ; CODE XREF: sub_81B1+13j
seg002:660F		    mov	    ax,	1
seg002:6612		    jmp	    short loc_81E6
seg002:6614 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6614
seg002:6614 loc_81E4:				    ; CODE XREF: sub_81B1+Dj
seg002:6614		    xor	    ax,	ax
seg002:6616
seg002:6616 loc_81E6:				    ; CODE XREF: sub_81B1+27j
seg002:6616					    ; sub_81B1+2Cj ...
seg002:6616		    popf
seg002:6617		    retn
seg002:6617 sub_81B1	    endp
seg002:6617
seg002:6618 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6618
seg002:6618 loc_81E8:				    ; CODE XREF: sub_5AA8+31Cp
seg002:6618		    pushfd
seg002:661A		    pushfd
seg002:661C		    pop	    edx
seg002:661E		    mov	    ecx, edx
seg002:6621		    btc	    edx, 15h
seg002:6626		    btc	    edx, 12h
seg002:662B		    push    edx
seg002:662D		    popfd
seg002:662F		    pushfd
seg002:6631		    pop	    edx
seg002:6633		    mov	    ax,	3
seg002:6636		    xor	    edx, ecx
seg002:6639		    shr	    edx, 13h
seg002:663D		    jnb	    short loc_8222
seg002:663F		    inc	    ax
seg002:6640		    test    dl,	4
seg002:6643		    jz	    short loc_8222
seg002:6645		    mov	    eax, 1
seg002:6645 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:664B		    db 0Fh, 0A2h, 8Ah, 0C4h, 25h, 0Fh, 0
seg002:6652 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6652
seg002:6652 loc_8222:				    ; CODE XREF: seg002:663Dj
seg002:6652					    ; seg002:6643j
seg002:6652		    popfd
seg002:6654		    retn
seg002:6655
seg002:6655 ;  S	U B R O	U T I N	E 
seg002:6655
seg002:6655
seg002:6655 sub_8225	    proc near		    ; CODE XREF: sub_4922+4p
seg002:6655					    ; sub_495B+5p
seg002:6655		    mov	    ax,	3300h
seg002:6658		    int	    21h		    ; DOS - EXTENDED CONTROL-BREAK CHECKING
seg002:6658					    ; AL = 00h get state / 01h set state / 02h set AND get
seg002:6658					    ; DL = 00h for OFF or 01h for ON
seg002:665A		    mov	    cl,	dl
seg002:665C		    mov	    bx,	sp
seg002:665E		    mov	    dl,	[bx+2]
seg002:6661		    inc	    ax
seg002:6662		    int	    21h		    ; DOS - EXTENDED CONTROL-BREAK CHECKING
seg002:6662					    ; AL = 00h get state / 01h set state / 02h set AND get
seg002:6662					    ; DL = 00h for OFF or 01h for ON
seg002:6664		    xchg    ax,	cx
seg002:6665		    cbw
seg002:6666		    retn
seg002:6666 sub_8225	    endp
seg002:6666
seg002:6667
seg002:6667 ;  S	U B R O	U T I N	E 
seg002:6667
seg002:6667
seg002:6667 sub_8237	    proc near		    ; CODE XREF: sub_5AA8+30Cp
seg002:6667		    mov	    al,	0FFh
seg002:6669		    out	    94h, al
seg002:666B		    jmp	    short $+2
seg002:666D		    xor	    al,	al
seg002:666F		    out	    96h, al
seg002:6671		    retn
seg002:6671 sub_8237	    endp
seg002:6671
seg002:6672
seg002:6672 ;  S	U B R O	U T I N	E 
seg002:6672
seg002:6672
seg002:6672 sub_8242	    proc near		    ; CODE XREF: sub_5AA8+378p
seg002:6672					    ; sub_5AA8+388p ...
seg002:6672		    cmp	    byte ptr ds:34h, 15h
seg002:6677		    mov	    ax,	0
seg002:667A		    jnz	    short locret_8271
seg002:667C		    mov	    ah,	0C0h ; 'ภ'
seg002:667E		    int	    15h
seg002:6680		    mov	    ax,	0
seg002:6683		    jb	    short locret_8271
seg002:6685		    mov	    cx,	es:[bx+2]
seg002:6689		    cmp	    cl,	0E0h ; 'เ'
seg002:668C		    jb	    short locret_8271
seg002:668E		    cmp	    cl,	0F8h ; '๘'
seg002:6691		    jle	    short loc_826D
seg002:6693		    cmp	    cl,	0FCh ; ''
seg002:6696		    jnz	    short locret_8271
seg002:6698		    cmp	    ch,	4
seg002:669B		    jl	    short locret_8271
seg002:669D
seg002:669D loc_826D:				    ; CODE XREF: sub_8242+1Fj
seg002:669D		    mov	    al,	es:[bx+5]
seg002:66A1
seg002:66A1 locret_8271:			    ; CODE XREF: sub_8242+8j
seg002:66A1					    ; sub_8242+11j ...
seg002:66A1		    retn
seg002:66A1 sub_8242	    endp
seg002:66A1
seg002:66A2
seg002:66A2 ;  S	U B R O	U T I N	E 
seg002:66A2
seg002:66A2
seg002:66A2 sub_8272	    proc near		    ; CODE XREF: sub_5AA8:loc_5DA5p
seg002:66A2		    push    es
seg002:66A3		    mov	    ax,	0F000h
seg002:66A6		    mov	    es,	ax
seg002:66A8		    assume es:nothing
seg002:66A8		    mov	    ax,	0
seg002:66AB		    mov	    cl,	es:0FFFEh
seg002:66B0		    pop	    es
seg002:66B1		    assume es:nothing
seg002:66B1		    cmp	    cl,	0E1h ; 'แ'
seg002:66B4		    jnz	    short locret_8288
seg002:66B6		    mov	    ax,	cx
seg002:66B8
seg002:66B8 locret_8288:			    ; CODE XREF: sub_8272+12j
seg002:66B8		    retn
seg002:66B8 sub_8272	    endp
seg002:66B8
seg002:66B9
seg002:66B9 ;  S	U B R O	U T I N	E 
seg002:66B9
seg002:66B9
seg002:66B9 sub_8289	    proc near		    ; CODE XREF: sub_5E50+1FFp
seg002:66B9		    call    sub_27DD
seg002:66BC		    mov	    al,	45h ; 'E'
seg002:66BE		    call    sub_2303
seg002:66C1		    test    al,	80h
seg002:66C3		    jnz	    short loc_82A1
seg002:66C5		    neg	    cx
seg002:66C7		    and	    ch,	40h
seg002:66CA		    xor	    ch,	al
seg002:66CC		    jz	    short loc_82A1
seg002:66CE		    mov	    al,	1
seg002:66D0		    retn
seg002:66D1 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:66D1
seg002:66D1 loc_82A1:				    ; CODE XREF: sub_8289+Aj
seg002:66D1					    ; sub_8289+13j
seg002:66D1		    xor	    ax,	ax
seg002:66D3		    retn
seg002:66D3 sub_8289	    endp
seg002:66D3
seg002:66D4
seg002:66D4 ;  S	U B R O	U T I N	E 
seg002:66D4
seg002:66D4
seg002:66D4 sub_82A4	    proc near		    ; CODE XREF: sub_92AB:loc_9310p
seg002:66D4					    ; sub_92AB:loc_9321p
seg002:66D4		    pushf
seg002:66D5		    pop	    ax
seg002:66D6		    and	    ah,	0CFh
seg002:66D9		    push    ax
seg002:66DA		    popf
seg002:66DB		    pushf
seg002:66DC		    pop	    ax
seg002:66DD		    and	    ax,	3000h
seg002:66E0		    retn
seg002:66E0 sub_82A4	    endp
seg002:66E0
seg002:66E1
seg002:66E1 ;  S	U B R O	U T I N	E 
seg002:66E1
seg002:66E1
seg002:66E1 sub_82B1	    proc near		    ; CODE XREF: sub_496C+1Cp
seg002:66E1					    ; sub_6A06+10p ...
seg002:66E1		    mov	    bx,	sp
seg002:66E3		    push    si
seg002:66E4		    push    di
seg002:66E5		    mov	    ax,	ds
seg002:66E7		    push    ax
seg002:66E8		    mov	    es,	ax
seg002:66EA		    mov	    cx,	ss:[bx+8]
seg002:66EE		    mov	    di,	ss:[bx+6]
seg002:66F2		    mov	    si,	ss:[bx+4]
seg002:66F6		    mov	    ds,	word ptr ss:[bx+2]
seg002:66FA		    cld
seg002:66FB		    rep	movsb
seg002:66FD		    pop	    ds
seg002:66FE		    pop	    di
seg002:66FF		    pop	    si
seg002:6700		    retn
seg002:6700 sub_82B1	    endp
seg002:6700
seg002:6701
seg002:6701 ;  S	U B R O	U T I N	E 
seg002:6701
seg002:6701 ; Attributes: bp-based frame
seg002:6701
seg002:6701 sub_82D1	    proc near		    ; CODE XREF: sub_7256+FBp
seg002:6701					    ; sub_7256+178p
seg002:6701
seg002:6701 arg_0	    = word ptr	4
seg002:6701 arg_2	    = word ptr	6
seg002:6701 arg_4	    = word ptr	8
seg002:6701
seg002:6701		    push    bp
seg002:6702		    mov	    bp,	sp
seg002:6704		    push    di
seg002:6705		    mov	    cx,	[bp+arg_4]
seg002:6708		    jcxz    short loc_8316
seg002:670A		    call    sub_1E60
seg002:670D		    push    8
seg002:670F		    pop	    es
seg002:6710		    assume es:nothing
seg002:6710		    mov	    bx,	[bp+arg_0]
seg002:6713		    and	    bl,	0F8h
seg002:6716		    mov	    ax,	es:[bx+2]
seg002:671A		    mov	    es:62h, ax
seg002:671E		    mov	    al,	es:[bx+4]
seg002:6722		    mov	    es:64h, al
seg002:6726		    mov	    al,	es:[bx+7]
seg002:672A		    mov	    es:67h, al
seg002:672E		    push    60h	; '`'
seg002:6730		    pop	    es
seg002:6731		    assume es:nothing
seg002:6731		    mov	    di,	[bp+arg_2]
seg002:6734		    cld
seg002:6735		    xor	    ax,	ax
seg002:6737		    mov	    cx,	[bp+arg_4]
seg002:673A		    shr	    cx,	1
seg002:673C		    jz	    short loc_8310
seg002:673E		    rep	stosw
seg002:6740
seg002:6740 loc_8310:				    ; CODE XREF: sub_82D1+3Bj
seg002:6740		    jnb	    short loc_8313
seg002:6742		    stosb
seg002:6743
seg002:6743 loc_8313:				    ; CODE XREF: sub_82D1:loc_8310j
seg002:6743		    call    sub_24F9
seg002:6746
seg002:6746 loc_8316:				    ; CODE XREF: sub_82D1+7j
seg002:6746		    pop	    di
seg002:6747		    mov	    sp,	bp
seg002:6749		    pop	    bp
seg002:674A		    sti
seg002:674B		    retn
seg002:674B sub_82D1	    endp
seg002:674B
seg002:674C
seg002:674C ;  S	U B R O	U T I N	E 
seg002:674C
seg002:674C
seg002:674C sub_831C	    proc near		    ; CODE XREF: sub_6A06+6Ep
seg002:674C					    ; sub_6A84+37p ...
seg002:674C		    mov	    cx,	6
seg002:674F
seg002:674F loc_831F:				    ; CODE XREF: seg002:675Fj
seg002:674F		    pop	    bx
seg002:6750		    pop	    ax
seg002:6751		    push    ax
seg002:6752		    xor	    dx,	dx
seg002:6754
seg002:6754 loc_8324:				    ; CODE XREF: sub_831C+Cj
seg002:6754		    shl	    ax,	1
seg002:6756		    rcl	    dx,	1
seg002:6758		    loop    loc_8324
seg002:675A		    jmp	    bx
seg002:675A sub_831C	    endp
seg002:675A
seg002:675C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:675C		    mov	    cx,	4
seg002:675F		    jmp	    short loc_831F
seg002:675F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6761		    db 96h, 71h, 12h, 9Fh, 0Ah,	0, 4Eh,	3Fh, 0ACh
seg002:676A ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:676A
seg002:676A loc_833A:				    ; CODE XREF: seg002:6775j
seg002:676A		    add	    al,	0Ah
seg002:676C		    add	    [di], al
seg002:676E		    aad	    0C0h
seg002:6770		    wait
seg002:6771		    or	    al,	[bx+si]
seg002:6773		    setalc
seg002:6774		    inc	    si
seg002:6775		    jnb	    short loc_833A
seg002:6777		    add	    [bx+si], ax
seg002:6779		    push    ds
seg002:677A		    pop	    es
seg002:677B		    assume es:nothing
seg002:677B		    popa
seg002:677C		    jge	    short near ptr loc_834E+1
seg002:677E
seg002:677E loc_834E:				    ; CODE XREF: seg002:677Cj
seg002:677E		    add	    dl,	ch
seg002:6780		    xor	    ds:109h, bl
seg002:6784		    add	    [di-603Ah],	bh
seg002:6788		    push    bp
seg002:6789		    add	    [bx+si], ax
seg002:678B		    db	    64h
seg002:678B		    mov	    ax,	di
seg002:678E		    popa
seg002:678F		    or	    al,	[bx+si]
seg002:6791		    mov	    [bx+si], cx
seg002:6793		    jns	    short loc_83A4
seg002:6795		    or	    al,	[bx+si]
seg002:6797		    pusha
seg002:6798		    mov	    ch,	82h ; ''
seg002:679A		    aas
seg002:679B		    or	    al,	[bx+si]
seg002:679D		    add	    [bp+di+22h], cl
seg002:67A0		    popa
seg002:67A1		    add	    [bx+si], ax
seg002:67A3		    db	    65h
seg002:67A3		    xchg    ax,	cx
seg002:67A5		    div	    byte ptr [bx]
seg002:67A7		    or	    al,	[bx+si]
seg002:67A9		    add	    [bp+si+18h], bh
seg002:67AC		    aam
seg002:67AE		    add	    bh,	ah
seg002:67B0		    mov	    [di+0AB4h],	gs
seg002:67B4		    add	    cl,	ch
seg002:67B4 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:67B6		    db 8Fh, 0FAh, 42h, 0Dh, 0, 1Eh, 0AEh, 4Ah, 0C5h, 0Dh, 0
seg002:67B6		    db 52h, 0A2h, 0BCh,	1Fh, 6,	0, 0B0h, 99h, 55h, 57h,	6
seg002:67B6		    db 0, 91h, 0F8h, 0EDh, 67h,	6, 0, 1
seg002:67D4 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:67D4
seg002:67D4 loc_83A4:				    ; CODE XREF: seg002:6793j
seg002:67D4		    push    0FFA7h
seg002:67D6		    loope   loc_83AE
seg002:67D8		    add	    [bx+si-5Ch], dh
seg002:67DB		    pusha
seg002:67DC		    bound   dx,	[bp+di]
seg002:67DE
seg002:67DE loc_83AE:				    ; CODE XREF: seg002:67D6j
seg002:67DE		    add	    dh,	al
seg002:67E0		    pop	    sp
seg002:67E1		    leave
seg002:67E2		    or	    al,	[eax]
seg002:67E5		    into
seg002:67E6		    jb	    short loc_83D2
seg002:67E8		    ror	    word ptr [bp+si], cl
seg002:67EA		    add	    [bp-7BC4h],	bh
seg002:67EE		    pop	    di
seg002:67EF		    or	    al,	[bx+si]
seg002:67F1		    idiv    word ptr [bx-5D0Ah]
seg002:67F5		    or	    al,	[bx+si]
seg002:67F7		    inc	    dx
seg002:67F8		    add	    [di+0AE3h],	dl
seg002:67FC		    add	    [bp+di+15h], ah
seg002:67FF		    push    bp
seg002:6800		    loope   loc_83DC
seg002:6802
seg002:6802 loc_83D2:				    ; CODE XREF: seg002:67E6j
seg002:6802		    add	    ah,	dh
seg002:6804		    cmc
seg002:6805		    push    es
seg002:6806		    dec	    di
seg002:6807		    or	    al,	[bx+si]
seg002:6809		    add	    [bp+si-5Ah], cl
seg002:680C
seg002:680C loc_83DC:				    ; CODE XREF: seg002:6800j
seg002:680C		    add	    cl,	[bp+si]
seg002:680E		    add	    [bx+si-2694h], dh
seg002:6812		    fimul   dword ptr [bp+si]
seg002:6814		    add	    [di], dl
seg002:6816		    insb
seg002:6817		    inc	    ax
seg002:6818		    mov	    ch,	0Dh
seg002:681A		    add	    bl,	ah
seg002:681C		    push    cs
seg002:681D		    mov	    word ptr [bp+0Dh], 9F5Ch ; CODE XREF: seg002:6823j
seg002:6823		    ja	    short near ptr loc_83ED+4
seg002:6825		    or	    ax,	1500h
seg002:6828		    scasb
seg002:6829		    das
seg002:682A		    cmpsw
seg002:682B		    or	    al,	[bx+si]
seg002:682D		    xor	    al,	44h
seg002:682F		    db	    3Eh
seg002:682F		    push    sp
seg002:6831		    or	    ch,	[bx]
seg002:6833		    dec	    di
seg002:6834		    fist    dword ptr [bp+di+24h]
seg002:6837		    or	    al,	[bx+si]
seg002:6839		    iret
seg002:6839 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:683A		    db 72h, 0, 3, 9, 15h, 18h, 2 dup(7Eh), 8Eh,	0Ah, 0,	8
seg002:683A		    db 0AAh, 0D5h, 86h,	0Ah, 0,	74h, 5,	0D9h, 0D6h, 9, 0FFh
seg002:683A		    db 0BCh, 0BAh, 2 dup(31h), 0Ah, 0, 1Eh, 16h, 0C7h, 0Eh
seg002:683A		    db 0Ah, 40h, 0Bh, 0CEh, 0Eh, 3Eh, 3, 40h, 0C0h, 56h, 77h
seg002:683A		    db 25h, 3, 40h
seg002:6869
seg002:6869 ;  S	U B R O	U T I N	E 
seg002:6869
seg002:6869
seg002:6869 sub_8439	    proc near		    ; CODE XREF: sub_5AA8+39Fp
seg002:6869					    ; sub_5E50+Dp
seg002:6869		    mov	    bx,	sp
seg002:686B		    mov	    dx,	[bx+4]
seg002:686E		    mov	    bx,	[bx+2]
seg002:6871		    push    si
seg002:6872		    push    di
seg002:6873		    push    cs
seg002:6874		    pop	    ds
seg002:6875		    assume ds:seg002
seg002:6875		    mov	    cx,	2Ch ; ','
seg002:6878		    mov	    si,	6761h
seg002:687B		    jmp	    short $+2
seg002:687D
seg002:687D loc_844D:				    ; CODE XREF: sub_8439:loc_8459j
seg002:687D		    lodsw
seg002:687E		    xchg    ax,	di
seg002:687F		    lodsw
seg002:6880		    cmp	    ax,	dx
seg002:6882		    lodsb
seg002:6883		    jnz	    short loc_8459
seg002:6885		    cmp	    di,	bx
seg002:6887		    jz	    short loc_8461
seg002:6889
seg002:6889 loc_8459:				    ; CODE XREF: sub_8439+1Aj
seg002:6889		    loop    loc_844D
seg002:688B		    xor	    ax,	ax
seg002:688D		    xor	    dx,	dx
seg002:688F		    jmp	    short loc_8469
seg002:6891 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6891
seg002:6891 loc_8461:				    ; CODE XREF: sub_8439+1Ej
seg002:6891		    xor	    ah,	ah
seg002:6893		    mov	    dx,	ax
seg002:6895		    lodsb
seg002:6896		    shl	    ax,	4
seg002:6899
seg002:6899 loc_8469:				    ; CODE XREF: sub_8439+26j
seg002:6899		    push    ss
seg002:689A		    pop	    ds
seg002:689B		    assume ds:nothing
seg002:689B		    pop	    di
seg002:689C		    pop	    si
seg002:689D		    retn
seg002:689D sub_8439	    endp
seg002:689D
seg002:689E
seg002:689E ;  S	U B R O	U T I N	E 
seg002:689E
seg002:689E
seg002:689E sub_846E	    proc near		    ; CODE XREF: sub_5AA8+39Ap
seg002:689E		    push    si
seg002:689F		    xor	    si,	si
seg002:68A1		    mov	    cx,	4000h
seg002:68A4
seg002:68A4 loc_8474:				    ; CODE XREF: sub_8489+7j
seg002:68A4		    xor	    dx,	dx
seg002:68A6		    push    0F000h
seg002:68A9		    pop	    ds
seg002:68AA		    assume ds:nothing
seg002:68AA		    xor	    bx,	bx
seg002:68AC
seg002:68AC loc_847C:				    ; CODE XREF: sub_846E+14j
seg002:68AC		    lodsw
seg002:68AD		    add	    bx,	ax
seg002:68AF		    lodsw
seg002:68B0		    adc	    dx,	ax
seg002:68B2		    loop    loc_847C
seg002:68B4		    pop	    si
seg002:68B5		    push    ss
seg002:68B6		    pop	    ds
seg002:68B7		    assume ds:nothing
seg002:68B7		    xchg    ax,	bx
seg002:68B8		    retn
seg002:68B8 sub_846E	    endp
seg002:68B8
seg002:68B9
seg002:68B9 ;  S	U B R O	U T I N	E 
seg002:68B9
seg002:68B9
seg002:68B9 sub_8489	    proc near		    ; CODE XREF: sub_5E50+8p
seg002:68B9		    push    si
seg002:68BA		    mov	    si,	8000h
seg002:68BD		    mov	    cx,	2000h
seg002:68C0		    jmp	    short loc_8474
seg002:68C0 sub_8489	    endp
seg002:68C0
seg002:68C2
seg002:68C2 ;  S	U B R O	U T I N	E 
seg002:68C2
seg002:68C2 ; Attributes: bp-based frame
seg002:68C2
seg002:68C2 sub_8492	    proc near		    ; CODE XREF: sub_5AA8:loc_5B02p
seg002:68C2
seg002:68C2 var_2	    = word ptr -2
seg002:68C2
seg002:68C2		    push    bp
seg002:68C3		    mov	    bp,	sp
seg002:68C5		    xor	    cx,	cx
seg002:68C7		    push    0FFFFh
seg002:68C9		    smsw    ax
seg002:68CC		    test    al,	4
seg002:68CE		    jnz	    short locret_84B9
seg002:68D0		    fninit
seg002:68D2		    fnstsw  [bp+var_2]
seg002:68D5		    cmp	    byte ptr [bp+var_2], cl
seg002:68D8		    jnz	    short locret_84B9
seg002:68DA		    fnstcw  [bp+var_2]
seg002:68DD		    mov	    ax,	[bp+var_2]
seg002:68E0		    and	    ax,	103Fh
seg002:68E3		    cmp	    ax,	3Fh ; '?'
seg002:68E6		    jnz	    short locret_84B9
seg002:68E8		    inc	    cx
seg002:68E9
seg002:68E9 locret_84B9:			    ; CODE XREF: sub_8492+Cj
seg002:68E9					    ; sub_8492+16j ...
seg002:68E9		    leave
seg002:68EA		    xchg    ax,	cx
seg002:68EB		    retn
seg002:68EB sub_8492	    endp
seg002:68EB
seg002:68EC
seg002:68EC ;  S	U B R O	U T I N	E 
seg002:68EC
seg002:68EC
seg002:68EC sub_84BC	    proc near		    ; CODE XREF: sub_7562:loc_7581p
seg002:68EC		    mov	    ax,	1
seg002:68EF		    cmp	    byte ptr ds:0CEEh, 2
seg002:68F4		    jbe	    short locret_84D4
seg002:68F6		    sub	    sp,	22h
seg002:68F9		    mov	    dx,	sp
seg002:68FB		    mov	    ax,	3800h
seg002:68FE		    int	    21h		    ; DOS - 2+ - GET COUNTRY-DEPENDENT INFORMATION
seg002:68FE					    ; get current-country info
seg002:68FE					    ; DS:DX -> buffer for returned info
seg002:6900		    add	    sp,	22h
seg002:6903		    xchg    ax,	bx
seg002:6904
seg002:6904 locret_84D4:			    ; CODE XREF: sub_84BC+8j
seg002:6904		    retn
seg002:6904 sub_84BC	    endp
seg002:6904
seg002:6904 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6905 word_84D5	    dw 0		    ; DATA XREF: sub_84D7+32w
seg002:6907
seg002:6907 ;  S	U B R O	U T I N	E 
seg002:6907
seg002:6907 ; Attributes: bp-based frame
seg002:6907
seg002:6907 sub_84D7	    proc far		    ; CODE XREF: sub_79A2+179p
seg002:6907
seg002:6907 arg_0	    = word ptr	6
seg002:6907 arg_2	    = word ptr	8
seg002:6907
seg002:6907		    push    bp
seg002:6908		    mov	    bp,	sp
seg002:690A		    push    si
seg002:690B		    push    di
seg002:690C		    mov	    dx,	[bp+4]
seg002:690F		    mov	    bx,	dx
seg002:6911		    add	    dx,	10h
seg002:6914		    mov	    di,	80h ; ''
seg002:6917		    xor	    ax,	ax
seg002:6919		    mov	    es,	ax
seg002:691B		    assume es:seg000
seg002:691B		    push    es:word_2
seg002:6920		    push    es:word_0
seg002:6925		    mov	    es,	bx
seg002:6927		    assume es:nothing
seg002:6927		    stosb
seg002:6928		    mov	    ax,	6956h
seg002:692B		    stosw
seg002:692C		    mov	    ax,	cs
seg002:692E		    stosw
seg002:692F		    mov	    ax,	[bp+arg_2]
seg002:6932		    stosw
seg002:6933		    mov	    ax,	ss
seg002:6935		    stosw
seg002:6936		    mov	    al,	0Dh
seg002:6938		    stosb
seg002:6939		    mov	    cs:word_84D5, sp
seg002:693E		    mov	    bx,	[bp+arg_0]
seg002:6941		    mov	    ax,	[bx+16h]
seg002:6944		    add	    ax,	dx
seg002:6946		    mov	    cx,	[bx+14h]
seg002:6949		    add	    dx,	[bx+0Eh]
seg002:694C		    mov	    ss,	dx
seg002:694E		    mov	    sp,	[bx+10h]
seg002:6951		    push    es
seg002:6952		    pop	    ds
seg002:6953		    push    ax
seg002:6954		    push    cx
seg002:6955		    retf
seg002:6955 sub_84D7	    endp ; sp =	-0Eh
seg002:6955
seg002:6955 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6956		    db 3 dup(58h), 5Ah,	59h, 2Eh, 8Eh, 16h, 2 dup(0), 2Eh
seg002:6956		    db 8Bh, 26h, 5, 69h, 33h, 0DBh, 8Eh, 0DBh, 8Fh, 6, 2 dup(0)
seg002:6956		    db 8Fh, 6, 2, 0, 16h, 1Fh, 8Bh, 0ECh, 8Dh, 6Eh, 4, 8Bh
seg002:6956		    db 5Eh, 0Ah, 89h, 0Fh, 8Bh,	1Eh, 0ECh, 0Ch,	50h, 0B4h
seg002:6956		    db 50h, 0CDh, 21h, 58h, 5Fh, 5Eh, 5Dh, 0C3h
seg002:698B
seg002:698B ;  S	U B R O	U T I N	E 
seg002:698B
seg002:698B
seg002:698B sub_855B	    proc near		    ; CODE XREF: sub_5AA8:loc_5D87p
seg002:698B					    ; sub_92AB+2p
seg002:698B		    test    byte ptr ds:47h, 80h
seg002:6990		    jnz	    short locret_857B
seg002:6992		    mov	    ax,	0BFDEh
seg002:6995		    mov	    bx,	8
seg002:6998		    mov	    cx,	cs
seg002:699A		    xor	    dx,	dx
seg002:699C		    call    near ptr byte_2AC4
seg002:699F		    or	    bx,	bx
seg002:69A1		    jnz	    short locret_857B
seg002:69A3		    or	    ds:47h, al
seg002:69A7		    mov	    ds:0DECh, dx
seg002:69AB
seg002:69AB locret_857B:			    ; CODE XREF: sub_855B+5j
seg002:69AB					    ; sub_855B+16j
seg002:69AB		    retn
seg002:69AB sub_855B	    endp
seg002:69AB
seg002:69AC
seg002:69AC ;  S	U B R O	U T I N	E 
seg002:69AC
seg002:69AC
seg002:69AC sub_857C	    proc near		    ; CODE XREF: sub_5E50+53p
seg002:69AC		    mov	    bx,	0Bh
seg002:69AF		    mov	    ax,	0BFDEh
seg002:69B2		    jmp	    near ptr byte_2AC4
seg002:69B2 sub_857C	    endp
seg002:69B2
seg002:69B5 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:69B5		    in	    al,	92h
seg002:69B7		    or	    al,	2
seg002:69B9		    jmp	    short $+2
seg002:69BB		    out	    92h, al
seg002:69BD		    retn
seg002:69BE ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:69BE		    in	    al,	92h
seg002:69C0		    and	    al,	0FDh
seg002:69C2		    jmp	    short $+2
seg002:69C4		    out	    92h, al
seg002:69C6		    retn
seg002:69C7
seg002:69C7 ;  S	U B R O	U T I N	E 
seg002:69C7
seg002:69C7
seg002:69C7 sub_8597	    proc near		    ; CODE XREF: sub_85B0+4p
seg002:69C7					    ; sub_85B0+Fp ...
seg002:69C7		    call    sub_27DD
seg002:69CA		    cmp	    cl,	1
seg002:69CD		    sbb	    dx,	dx
seg002:69CF		    in	    al,	92h
seg002:69D1		    mov	    bx,	ax
seg002:69D3		    and	    bx,	2
seg002:69D6		    cmp	    bl,	2
seg002:69D9		    sbb	    bx,	bx
seg002:69DB		    xor	    bx,	dx
seg002:69DD		    or	    si,	bx
seg002:69DF		    retn
seg002:69DF sub_8597	    endp
seg002:69DF
seg002:69E0
seg002:69E0 ;  S	U B R O	U T I N	E 
seg002:69E0
seg002:69E0
seg002:69E0 sub_85B0	    proc near		    ; CODE XREF: sub_5E50+19Dp
seg002:69E0		    push    si
seg002:69E1		    push    di
seg002:69E2		    xor	    si,	si
seg002:69E4		    call    sub_8597
seg002:69E7		    jnz	    short loc_85F9
seg002:69E9		    push    dx
seg002:69EA		    xor	    al,	2
seg002:69EC		    push    ax
seg002:69ED		    out	    92h, al
seg002:69EF		    call    sub_8597
seg002:69F2		    pop	    cx
seg002:69F3		    pop	    bx
seg002:69F4		    mov	    ch,	al
seg002:69F6		    and	    cx,	303h
seg002:69FA		    cmp	    ch,	cl
seg002:69FC		    jnz	    short loc_85F9
seg002:69FE		    xor	    al,	2
seg002:6A00		    out	    92h, al
seg002:6A02		    xor	    dx,	bx
seg002:6A04		    jz	    short loc_85F9
seg002:6A06		    call    sub_8597
seg002:6A09		    jnz	    short loc_85F9
seg002:6A0B		    push    cs
seg002:6A0C		    pop	    ds
seg002:6A0D		    assume ds:seg002
seg002:6A0D		    push    cs
seg002:6A0E		    pop	    es
seg002:6A0F		    assume es:seg002
seg002:6A0F		    mov	    si,	69B5h
seg002:6A12		    mov	    di,	0BE9h
seg002:6A15		    mov	    cx,	9
seg002:6A18		    rep	movsb
seg002:6A1A		    mov	    di,	0BFBh
seg002:6A1D		    mov	    cx,	9
seg002:6A20		    rep	movsb
seg002:6A22		    push    ss
seg002:6A23		    pop	    ds
seg002:6A24		    assume ds:nothing
seg002:6A24		    mov	    byte ptr ds:3Fh, 0FFh
seg002:6A29
seg002:6A29 loc_85F9:				    ; CODE XREF: sub_85B0+7j
seg002:6A29					    ; sub_85B0+1Cj ...
seg002:6A29		    sti
seg002:6A2A		    pop	    di
seg002:6A2B		    pop	    si
seg002:6A2C		    retn
seg002:6A2C sub_85B0	    endp
seg002:6A2C
seg002:6A2D
seg002:6A2D ;  S	U B R O	U T I N	E 
seg002:6A2D
seg002:6A2D ; Attributes: bp-based frame
seg002:6A2D
seg002:6A2D sub_85FD	    proc near		    ; CODE XREF: sub_496C+121p
seg002:6A2D
seg002:6A2D arg_0	    = word ptr	4
seg002:6A2D arg_2	    = word ptr	6
seg002:6A2D
seg002:6A2D		    push    bp
seg002:6A2E		    mov	    bp,	sp
seg002:6A30		    call    sub_8638
seg002:6A33		    mov	    si,	[bp+arg_2]
seg002:6A36		    test    si,	si
seg002:6A38		    jz	    short loc_8612
seg002:6A3A		    push    ds
seg002:6A3B		    pop	    es
seg002:6A3C		    assume es:nothing
seg002:6A3C		    mov	    di,	0A2Ch
seg002:6A3F		    cld
seg002:6A40		    jmp	    short loc_8630
seg002:6A42 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6A42
seg002:6A42 loc_8612:				    ; CODE XREF: sub_85FD+Bj
seg002:6A42		    mov	    si,	[bp+arg_0]
seg002:6A45		    push    ds
seg002:6A46		    pop	    es
seg002:6A47		    cld
seg002:6A48		    mov	    di,	0A2Ch
seg002:6A4B		    mov	    bx,	di
seg002:6A4D
seg002:6A4D loc_861D:				    ; CODE XREF: sub_85FD+28j
seg002:6A4D					    ; sub_85FD+2Cj
seg002:6A4D		    lodsb
seg002:6A4E		    test    al,	al
seg002:6A50		    jz	    short loc_862B
seg002:6A52		    stosb
seg002:6A53		    cmp	    al,	5Ch ; '\'
seg002:6A55		    jnz	    short loc_861D
seg002:6A57		    mov	    bx,	di
seg002:6A59		    jmp	    short loc_861D
seg002:6A5B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6A5B
seg002:6A5B loc_862B:				    ; CODE XREF: sub_85FD+23j
seg002:6A5B		    mov	    di,	bx
seg002:6A5D		    mov	    si,	0A7Ch
seg002:6A60
seg002:6A60 loc_8630:				    ; CODE XREF: sub_85FD+13j
seg002:6A60					    ; sub_85FD+37j
seg002:6A60		    lodsb
seg002:6A61		    stosb
seg002:6A62		    test    al,	al
seg002:6A64		    jnz	    short loc_8630
seg002:6A66		    pop	    bp
seg002:6A67		    retn
seg002:6A67 sub_85FD	    endp
seg002:6A67
seg002:6A68
seg002:6A68 ;  S	U B R O	U T I N	E 
seg002:6A68
seg002:6A68
seg002:6A68 sub_8638	    proc near		    ; CODE XREF: sub_85FD+3p
seg002:6A68		    mov	    word ptr ds:1586h, ds
seg002:6A6C		    mov	    ax,	98h ; ''
seg002:6A6F		    mov	    ds:1584h, ax
seg002:6A72		    mov	    word ptr ds:158Eh, 20h ; ' '
seg002:6A78		    mov	    word ptr ds:158Ch, 70h ; 'p'
seg002:6A7E		    mov	    word ptr ds:158Ah, 1BC7h
seg002:6A84		    mov	    ax,	1D50h
seg002:6A87		    sub	    ax,	1D47h
seg002:6A8A		    mov	    ds:1590h, ax
seg002:6A8D		    mov	    ax,	ds
seg002:6A8F		    movzx   eax, ax
seg002:6A93		    shl	    eax, 4
seg002:6A97		    mov	    bx,	98Eh
seg002:6A9A		    movzx   ebx, bx
seg002:6A9E		    add	    eax, ebx
seg002:6AA1		    mov	    ds:1598h, eax
seg002:6AA5		    mov	    word ptr ds:1596h, 1
seg002:6AAB		    retn
seg002:6AAB sub_8638	    endp
seg002:6AAB
seg002:6AAC ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6AAC
seg002:6AAC loc_867C:				    ; CODE XREF: seg002:6AC9j
seg002:6AAC					    ; seg002:6ACEj
seg002:6AAC		    mov	    si,	[bp+1Eh]
seg002:6AAF		    mov	    ds,	word ptr [bp+22h]
seg002:6AB2		    mov	    word ptr [si], 0
seg002:6AB6		    pop	    bp
seg002:6AB7		    pop	    si
seg002:6AB8		    pop	    ds
seg002:6AB9		    db	    66h
seg002:6AB9		    retf
seg002:6ABB ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6ABB		    push    ds
seg002:6ABC		    push    si
seg002:6ABD		    push    bp
seg002:6ABE		    mov	    bp,	sp
seg002:6AC0		    mov	    si,	[bp+12h]
seg002:6AC3		    mov	    ds,	word ptr [bp+16h]
seg002:6AC6		    cmp	    byte ptr [si], 7
seg002:6AC9		    jz	    short loc_867C
seg002:6ACB		    cmp	    byte ptr [si], 1Fh
seg002:6ACE		    jz	    short loc_867C
seg002:6AD0		    pop	    bp
seg002:6AD1		    pop	    si
seg002:6AD2		    pop	    ds
seg002:6AD3		    call    near ptr loc_86A6+1
seg002:6AD6
seg002:6AD6 loc_86A6:				    ; CODE XREF: seg002:6AD3p
seg002:6AD6		    or	    ax,	6050h
seg002:6AD9		    push    es
seg002:6ADA		    push    ds
seg002:6ADB		    push    ss
seg002:6ADC		    push    0
seg002:6ADE		    mov	    si,	sp
seg002:6AE0		    push    ss
seg002:6AE1		    pop	    ds
seg002:6AE2		    mov	    bx,	[si+1Ah]
seg002:6AE5		    mov	    al,	cs:[bx]
seg002:6AE8		    or	    al,	al
seg002:6AEA		    js	    short loc_86D3
seg002:6AEC		    and	    ax,	1Fh
seg002:6AEF		    mov	    [si+18h], ax
seg002:6AF2		    mov	    ax,	[si+34h]
seg002:6AF5		    mov	    [si+0Eh], ax
seg002:6AF8		    mov	    ax,	[si+38h]
seg002:6AFB		    mov	    [si+2], ax
seg002:6AFE		    mov	    bx,	0Ah
seg002:6B01		    jmp	    short loc_86DF
seg002:6B03 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6B03
seg002:6B03 loc_86D3:				    ; CODE XREF: seg002:6AEAj
seg002:6B03		    and	    ax,	1Fh
seg002:6B06		    mov	    [si+18h], ax
seg002:6B09		    add	    word ptr [si+0Eh], 0Ah
seg002:6B0D		    xor	    bx,	bx
seg002:6B0F
seg002:6B0F loc_86DF:				    ; CODE XREF: seg002:6B01j
seg002:6B0F		    les	    di,	cs:dword_3392
seg002:6B14		    mov	    ax,	di
seg002:6B16		    cld
seg002:6B17		    mov	    cx,	0Dh
seg002:6B1A		    rep	movsw
seg002:6B1C		    add	    si,	bx
seg002:6B1E		    movsd
seg002:6B20		    movsd
seg002:6B22		    movsd
seg002:6B24		    movsd
seg002:6B26		    or	    bx,	bx
seg002:6B28		    jz	    short loc_871D
seg002:6B2A		    mov	    si,	sp
seg002:6B2C		    mov	    word ptr [si+38h], es
seg002:6B2F		    mov	    [si+34h], ax
seg002:6B32		    mov	    word ptr [si+2Ch], cs
seg002:6B35		    mov	    word ptr [si+28h], 6B51h
seg002:6B3A		    sub	    ax,	ax
seg002:6B3C		    mov	    [si+36h], ax
seg002:6B3F		    mov	    [si+2Ah], ax
seg002:6B42		    add	    sp,	4
seg002:6B45		    pop	    ds
seg002:6B46		    pop	    es
seg002:6B47		    popa
seg002:6B48		    add	    sp,	4
seg002:6B4B		    db	    66h
seg002:6B4B		    retf
seg002:6B4D ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6B4D
seg002:6B4D loc_871D:				    ; CODE XREF: seg002:6B28j
seg002:6B4D		    push    es
seg002:6B4E		    pop	    ss
seg002:6B4F		    mov	    sp,	ax
seg002:6B51		    sti
seg002:6B52		    mov	    bp,	sp
seg002:6B54		    cmp	    word ptr [bp+18h], 0Dh
seg002:6B58		    jz	    short loc_879D
seg002:6B5A		    jmp	    cs:dword_338E
seg002:6B5F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6B5F		    jmp	    short loc_8747
seg002:6B5F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6B61		    db 66h, 52h, 66h, 2Eh, 8Bh,	16h, 66h, 6Dh, 2Eh, 8Bh, 0Eh
seg002:6B61		    db 6Ah, 6Dh, 0B3h, 21h, 0B8h, 5, 2,	0CDh, 31h, 66h,	5Ah
seg002:6B77 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6B77
seg002:6B77 loc_8747:				    ; CODE XREF: seg002:6B5Fj
seg002:6B77		    mov	    ax,	cs:word_3C5E
seg002:6B7B		    mov	    ds,	ax
seg002:6B7D		    assume ds:nothing
seg002:6B7D		    dec	    byte ptr ds:0A9Eh
seg002:6B81		    jz	    short loc_8764
seg002:6B83		    mov	    ds:996h, sp
seg002:6B87		    mov	    cx,	ss
seg002:6B89		    cmp	    ax,	cx
seg002:6B8B		    jz	    short loc_8761
seg002:6B8D		    mov	    sp,	ds:0F50h
seg002:6B91
seg002:6B91 loc_8761:				    ; CODE XREF: seg002:6B8Bj
seg002:6B91		    call    near ptr byte_3C70
seg002:6B94
seg002:6B94 loc_8764:				    ; CODE XREF: seg002:6B81j
seg002:6B94		    jmp	    loc_8DCC
seg002:6B97 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6B97
seg002:6B97 loc_8767:				    ; CODE XREF: seg002:6BDAj
seg002:6B97		    mov	    si,	[bp+1Eh]
seg002:6B9A		    mov	    ds,	word ptr [bp+22h]
seg002:6B9D		    assume ds:nothing
seg002:6B9D		    lodsw
seg002:6B9E		    cmp	    ax,	5EFFh
seg002:6BA1		    jnz	    short loc_8798
seg002:6BA3		    lodsb
seg002:6BA4		    cbw
seg002:6BA5		    add	    ax,	[bp+0Ch]
seg002:6BA8		    xchg    ax,	si
seg002:6BA9		    mov	    ds,	word ptr [bp+2]
seg002:6BAC		    mov	    bx,	[si+2]
seg002:6BAF		    mov	    ax,	6
seg002:6BB2		    int	    31h		    ; DPMI Services   ax=func xxxxh
seg002:6BB2					    ; GET SEGMENT BASE ADDRESS
seg002:6BB2					    ; BX = selector
seg002:6BB2					    ; Return: CF set on	error
seg002:6BB2					    ; CF clear if successful, CX:DX = linear base address of segment
seg002:6BB4		    jb	    short loc_8798
seg002:6BB6		    mov	    es,	cs:word_3C5E
seg002:6BBB		    assume es:nothing
seg002:6BBB		    mov	    bx,	es:0A9Ch
seg002:6BC0		    mov	    [si+2], bx
seg002:6BC3		    inc	    ax
seg002:6BC4		    int	    31h		    ; DPMI Services   ax=func xxxxh
seg002:6BC4					    ; SET SEGMENT BASE ADDRESS
seg002:6BC4					    ; BX = selector, CX:DX = linear base address
seg002:6BC4					    ; Return: CF set on	error
seg002:6BC4					    ; CF clear if successful
seg002:6BC6		    jnb	    short loc_8816
seg002:6BC8
seg002:6BC8 loc_8798:				    ; CODE XREF: seg002:6BA1j
seg002:6BC8					    ; seg002:6BB4j ...
seg002:6BC8		    jmp	    cs:dword_338E
seg002:6BCD ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6BCD
seg002:6BCD loc_879D:				    ; CODE XREF: seg002:6B58j
seg002:6BCD		    lsl	    ax,	[bp+22h]
seg002:6BD1		    sub	    ax,	[bp+1Eh]
seg002:6BD4		    jbe	    short loc_8798
seg002:6BD6		    cmp	    word ptr [bp+1Ah], 0
seg002:6BDA		    jnz	    short loc_8767
seg002:6BDC		    sub	    ax,	4
seg002:6BDF		    jbe	    short loc_8798
seg002:6BE1		    mov	    cx,	[bp+4]
seg002:6BE4		    jcxz    short loc_8798
seg002:6BE6		    lsl	    bx,	cx
seg002:6BE9		    mov	    es,	cx
seg002:6BEB		    assume es:nothing
seg002:6BEB		    mov	    si,	[bp+1Eh]
seg002:6BEE		    mov	    ds,	word ptr [bp+22h]
seg002:6BF1		    cld
seg002:6BF2		    lodsw
seg002:6BF3		    mov	    cx,	2
seg002:6BF6		    mov	    di,	[bp+0Ah]
seg002:6BF9		    cmp	    bx,	di
seg002:6BFB		    jbe	    short loc_8798
seg002:6BFD		    mov	    bx,	es:[di]
seg002:6C00		    mov	    dx,	[bp+16h]
seg002:6C03		    cmp	    ax,	489h
seg002:6C06		    jz	    short loc_87FA
seg002:6C08		    sub	    dx,	bx
seg002:6C0A		    neg	    dx
seg002:6C0C		    cmp	    ax,	429h
seg002:6C0F		    jz	    short loc_87FA
seg002:6C11		    inc	    cx
seg002:6C12		    mov	    dx,	bx
seg002:6C14		    mov	    dl,	[si]
seg002:6C16		    cmp	    ax,	4C6h
seg002:6C19		    jz	    short loc_87FA
seg002:6C1B		    or	    dl,	bl
seg002:6C1D		    cmp	    ax,	0C80h
seg002:6C20		    jz	    short loc_87FA
seg002:6C22		    inc	    cx
seg002:6C23		    mov	    dx,	[si]
seg002:6C25		    cmp	    ax,	4C7h
seg002:6C28		    jnz	    short loc_8798
seg002:6C2A
seg002:6C2A loc_87FA:				    ; CODE XREF: seg002:6C06j
seg002:6C2A					    ; seg002:6C0Fj ...
seg002:6C2A		    add	    [bp+1Eh], cx
seg002:6C2D		    mov	    bx,	[bp+4]
seg002:6C30		    mov	    ax,	0Ah
seg002:6C33		    int	    31h		    ; DPMI Services   ax=func xxxxh
seg002:6C33					    ; CREATE CODE SEGMENT ALIAS	DESCRIPTOR
seg002:6C33					    ; BX = code	segment	selector
seg002:6C33					    ; Return: CF set on	error
seg002:6C33					    ; CF clear if successful, AX = new data selector
seg002:6C35		    jb	    short loc_8798
seg002:6C37		    mov	    es,	ax
seg002:6C39		    assume es:nothing
seg002:6C39		    mov	    bx,	ax
seg002:6C3B		    mov	    di,	[bp+0Ah]
seg002:6C3E		    mov	    es:[di], dx
seg002:6C41		    mov	    ax,	1
seg002:6C44		    int	    31h		    ; DPMI Services   ax=func xxxxh
seg002:6C44					    ; FREE LDT DESCRIPTOR
seg002:6C44					    ; BX = selector to free
seg002:6C44					    ; Return: CF set on	error
seg002:6C44					    ; CF clear if successful
seg002:6C46
seg002:6C46 loc_8816:				    ; CODE XREF: seg002:6BC6j
seg002:6C46		    mov	    es,	word ptr [bp+2]
seg002:6C49		    assume es:nothing
seg002:6C49		    mov	    di,	[bp+0Eh]
seg002:6C4C		    dec	    di
seg002:6C4D		    dec	    di
seg002:6C4E		    lea	    si,	[bp+26h]
seg002:6C51		    push    ss
seg002:6C52		    pop	    ds
seg002:6C53		    std
seg002:6C54		    mov	    cx,	15h
seg002:6C57		    rep	movsw
seg002:6C59		    mov	    ax,	es
seg002:6C5B		    mov	    ss,	ax
seg002:6C5D		    mov	    sp,	di
seg002:6C5F		    add	    sp,	6
seg002:6C62		    pop	    ds
seg002:6C63		    pop	    es
seg002:6C64		    popa
seg002:6C65		    add	    sp,	6
seg002:6C68		    iretd
seg002:6C6A ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6C6A ; START OF FUNCTION	CHUNK FOR sub_8854
seg002:6C6A
seg002:6C6A loc_883A:				    ; CODE XREF: sub_8854+1Dj
seg002:6C6A		    push    26h	; '&'
seg002:6C6C		    call    sub_307C
seg002:6C6F		    pop	    cx
seg002:6C70		    xor	    ax,	ax
seg002:6C72		    jmp	    short loc_888F
seg002:6C72 ; END OF FUNCTION CHUNK FOR	sub_8854
seg002:6C74
seg002:6C74 ;  S	U B R O	U T I N	E 
seg002:6C74
seg002:6C74
seg002:6C74 sub_8844	    proc near		    ; CODE XREF: sub_5E50+F9p
seg002:6C74					    ; sub_5E50+13Bp ...
seg002:6C74		    mov	    ax,	4300h
seg002:6C77		    int	    2Fh		    ; -	Multiplex - XMS	- INSTALLATION CHECK
seg002:6C77					    ; Return: AL = 80h XMS driver installed
seg002:6C77					    ; AL <> 80h	no driver
seg002:6C79		    cmp	    al,	80h ; ''
seg002:6C7B		    jz	    short loc_884F
seg002:6C7D		    xor	    ax,	ax
seg002:6C7F
seg002:6C7F loc_884F:				    ; CODE XREF: sub_8844+7j
seg002:6C7F		    or	    ds:36h, al
seg002:6C83		    retn
seg002:6C83 sub_8844	    endp
seg002:6C83
seg002:6C84
seg002:6C84 ;  S	U B R O	U T I N	E 
seg002:6C84
seg002:6C84
seg002:6C84 sub_8854	    proc near		    ; CODE XREF: sub_6C1E+83p
seg002:6C84					    ; sub_6C1E+C0p ...
seg002:6C84
seg002:6C84 ; FUNCTION CHUNK AT	seg002:6C6A SIZE 0000000A BYTES
seg002:6C84
seg002:6C84		    call    sub_8844
seg002:6C87		    or	    ax,	ax
seg002:6C89		    jnz	    short loc_885C
seg002:6C8B		    retn
seg002:6C8C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6C8C
seg002:6C8C loc_885C:				    ; CODE XREF: sub_8854+5j
seg002:6C8C		    mov	    ax,	4310h
seg002:6C8F		    int	    2Fh		    ; -	Multiplex - XMS	- GET DRIVER ADDRESS
seg002:6C8F					    ; Return: ES:BX -> driver entry point
seg002:6C91		    mov	    ds:0AECh, bx
seg002:6C95		    mov	    word ptr ds:0AEEh, es
seg002:6C99		    xor	    ah,	ah
seg002:6C9B		    call    dword ptr ds:0AECh
seg002:6C9F		    dec	    ah
seg002:6CA1		    jle	    short loc_883A
seg002:6CA3		    cmp	    bx,	204h
seg002:6CA7		    jnb	    short loc_8880
seg002:6CA9		    mov	    cs:word_39C5, 40h ;	'@'
seg002:6CB0
seg002:6CB0 loc_8880:				    ; CODE XREF: sub_8854+23j
seg002:6CB0		    mov	    ah,	8
seg002:6CB2		    call    dword ptr ds:0AECh
seg002:6CB6		    sub	    ax,	cs:word_39C5
seg002:6CBB		    jnb	    short loc_888F
seg002:6CBD		    xor	    ax,	ax
seg002:6CBF
seg002:6CBF loc_888F:				    ; CODE XREF: sub_8854-12j
seg002:6CBF					    ; sub_8854+37j
seg002:6CBF		    or	    ax,	ax
seg002:6CC1		    mov	    ds:0ECEh, ax
seg002:6CC4		    jz	    short loc_88F3
seg002:6CC6		    cmp	    ax,	ds:0ECCh
seg002:6CCA		    jb	    short loc_889F
seg002:6CCC		    mov	    ax,	ds:0ECCh
seg002:6CCF
seg002:6CCF loc_889F:				    ; CODE XREF: sub_8854+46j
seg002:6CCF		    mov	    ds:0ECCh, ax
seg002:6CD2		    xchg    ax,	dx
seg002:6CD3		    mov	    ah,	9
seg002:6CD5		    call    dword ptr ds:0AECh
seg002:6CD9		    or	    ax,	ax
seg002:6CDB		    jz	    short loc_88F3
seg002:6CDD		    mov	    ds:0ADCh, dx
seg002:6CE1		    mov	    ah,	0Ch
seg002:6CE3		    call    dword ptr ds:0AECh
seg002:6CE7		    or	    ax,	ax
seg002:6CE9		    jnz	    short loc_88C0
seg002:6CEB		    call    sub_39C7
seg002:6CEE		    jmp	    short loc_88F3
seg002:6CF0 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6CF0
seg002:6CF0 loc_88C0:				    ; CODE XREF: sub_8854+65j
seg002:6CF0		    add	    bx,	0Fh
seg002:6CF3		    adc	    dx,	0
seg002:6CF6		    mov	    cx,	4
seg002:6CF9
seg002:6CF9 loc_88C9:				    ; CODE XREF: sub_8854+79j
seg002:6CF9		    shr	    dx,	1
seg002:6CFB		    rcr	    bx,	1
seg002:6CFD		    loop    loc_88C9
seg002:6CFF		    mov	    ds:98h, bx
seg002:6D03		    mov	    ds:9Ah, dx
seg002:6D07		    mov	    word ptr ds:0AA6h, 3E5Ah
seg002:6D0D		    mov	    word ptr ds:0AA4h, 3E25h
seg002:6D13		    mov	    ax,	400h
seg002:6D16		    mul	    word ptr ds:0ECCh
seg002:6D1A		    mov	    ds:0AA8h, ax
seg002:6D1D		    mov	    ds:0AAAh, dx
seg002:6D21		    jmp	    short loc_88F9
seg002:6D23 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6D23
seg002:6D23 loc_88F3:				    ; CODE XREF: sub_8854+40j
seg002:6D23					    ; sub_8854+57j ...
seg002:6D23		    mov	    word ptr ds:0ECCh, 0
seg002:6D29
seg002:6D29 loc_88F9:				    ; CODE XREF: sub_8854+9Dj
seg002:6D29		    mov	    al,	1
seg002:6D2B		    retn
seg002:6D2B sub_8854	    endp
seg002:6D2B
seg002:6D2B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6D2C		    align 8
seg002:6D30
seg002:6D30 ;  S	U B R O	U T I N	E 
seg002:6D30
seg002:6D30
seg002:6D30 sub_8900	    proc near		    ; CODE XREF: sub_6761+Dp
seg002:6D30		    pop	    cx
seg002:6D31		    pop	    bx
seg002:6D32		    lar	    ax,	bx
seg002:6D35		    jmp	    short $+2
seg002:6D37		    push    bx
seg002:6D38		    shr	    ax,	8
seg002:6D3B		    jmp	    cx
seg002:6D3B sub_8900	    endp
seg002:6D3B
seg002:6D3B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6D3D		    db 52h, 53h, 49h, 20h, 43h,	4Ch, 49h, 45h, 4Eh, 54h, 20h
seg002:6D3D		    db 30h, 2Eh, 39h
seg002:6D4B byte_891B	    db 1		    ; DATA XREF: sub_90F2+49w
seg002:6D4C		    db 18h dup(0)
seg002:6D64 word_8934	    dw 0		    ; DATA XREF: sub_896C+Ew
seg002:6D64					    ; seg002:6E66r
seg002:6D66		    dd 0
seg002:6D6A		    dw 0
seg002:6D6C		    db 0E8h, 68h, 0FDh,	11h, 0E8h, 64h,	0FDh, 10h, 0E8h, 60h
seg002:6D6C		    db 0FDh, 0Fh, 0E8h,	5Ch, 0FDh, 0Eh,	0E8h, 58h, 0FDh, 0Dh
seg002:6D6C		    db 0E8h, 54h, 0FDh,	0Ch, 0E8h, 50h,	0FDh, 0Bh, 0E8h, 4Ch
seg002:6D6C		    db 0FDh, 0Ah, 0E8h,	48h, 0FDh, 9, 0E8h, 44h, 0FDh, 8, 0E8h
seg002:6D6C		    db 40h, 0FDh, 7, 0E8h, 3Ch,	0FDh, 6
seg002:6D9C
seg002:6D9C ;  S	U B R O	U T I N	E 
seg002:6D9C
seg002:6D9C
seg002:6D9C sub_896C	    proc near		    ; CODE XREF: sub_5AA8+322p
seg002:6D9C		    push    si
seg002:6D9D		    push    di
seg002:6D9E		    mov	    ax,	1687h
seg002:6DA1		    int	    2Fh		    ; -	Multiplex - MS WINDOWS - Mode Interface	- INSTALLATION CHECK
seg002:6DA1					    ; Return: AX = 0000h if installed, BX = flags
seg002:6DA1					    ; CL = processor type, DH =	DPMI major version
seg002:6DA1					    ; DL = DPMI	minor version
seg002:6DA1					    ; SI = number of paragraphs
seg002:6DA1					    ; ES:DI -> DPMI mode-switch	entry point
seg002:6DA3		    or	    ax,	ax
seg002:6DA5		    mov	    ax,	0
seg002:6DA8		    jnz	    short loc_898F
seg002:6DAA		    mov	    cs:word_8934, si
seg002:6DAF		    mov	    cs:word_8A56, di
seg002:6DB4		    mov	    cs:seg_8A58, es
seg002:6DB9		    mov	    al,	cl
seg002:6DBB		    mov	    ds:0C44h, dh
seg002:6DBF
seg002:6DBF loc_898F:				    ; CODE XREF: sub_896C+Cj
seg002:6DBF		    pop	    di
seg002:6DC0		    pop	    si
seg002:6DC1		    retn
seg002:6DC1 sub_896C	    endp
seg002:6DC1
seg002:6DC2
seg002:6DC2 ;  S	U B R O	U T I N	E 
seg002:6DC2
seg002:6DC2 ; Attributes: bp-based frame
seg002:6DC2
seg002:6DC2 sub_8992	    proc near		    ; CODE XREF: sub_6761+3Ep
seg002:6DC2
seg002:6DC2 arg_0	    = word ptr	4
seg002:6DC2 arg_2	    = word ptr	6
seg002:6DC2 arg_4	    = word ptr	8
seg002:6DC2 arg_6	    = word ptr	0Ah
seg002:6DC2
seg002:6DC2		    push    bp
seg002:6DC3		    mov	    bp,	sp
seg002:6DC5		    push    esi
seg002:6DC7		    push    edi
seg002:6DC9		    push    edx
seg002:6DCB		    xor	    esi, esi
seg002:6DCE		    xor	    edi, edi
seg002:6DD1		    xor	    edx, edx
seg002:6DD4		    mov	    ax,	[bp+arg_0]
seg002:6DD7		    mov	    bp,	[bp+arg_2]
seg002:6DDA		    mov	    cx,	[bp+arg_0]
seg002:6DDD		    mov	    dx,	[bp+arg_2]
seg002:6DE0		    mov	    si,	[bp+arg_4]
seg002:6DE3		    mov	    di,	[bp+arg_6]
seg002:6DE6		    mov	    bx,	[bp+2]
seg002:6DE9		    push    ss
seg002:6DEA		    pop	    es
seg002:6DEB		    int	    31h		    ; DPMI Services   ax=func xxxxh
seg002:6DEB					    ;
seg002:6DED		    mov	    [bp+0], ax
seg002:6DF0		    mov	    [bp+2], bx
seg002:6DF3		    mov	    [bp+arg_0],	cx
seg002:6DF6		    mov	    [bp+arg_2],	dx
seg002:6DF9		    mov	    [bp+arg_4],	si
seg002:6DFC		    mov	    [bp+arg_6],	di
seg002:6DFF		    mov	    ax,	0
seg002:6E02		    cmc
seg002:6E03		    rcl	    ax,	1
seg002:6E05		    pop	    edx
seg002:6E07		    pop	    edi
seg002:6E09		    pop	    esi
seg002:6E0B		    pop	    bp
seg002:6E0C		    retn
seg002:6E0C sub_8992	    endp
seg002:6E0C
seg002:6E0C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6E0D		    db 16h, 1Fh, 6Ah, 20h, 0E8h, 99h, 0B4h
seg002:6E14 dword_89E4	    dd 0		    ; DATA XREF: seg002:loc_89F0w
seg002:6E18 dword_89E8	    dd 0		    ; DATA XREF: seg002:6E29w
seg002:6E1C dword_89EC	    dd 0		    ; DATA XREF: seg002:6E32w
seg002:6E20 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6E20
seg002:6E20 loc_89F0:				    ; CODE XREF: sub_8E60+5Ep
seg002:6E20		    mov	    cs:dword_89E4, esi
seg002:6E26		    xor	    esi, esi
seg002:6E29		    mov	    cs:dword_89E8, edi
seg002:6E2F		    xor	    edi, edi
seg002:6E32		    mov	    cs:dword_89EC, edx
seg002:6E38		    xor	    edx, edx
seg002:6E3B		    mov	    di,	0C20h
seg002:6E3E		    mov	    cx,	11h
seg002:6E41		    push    ds
seg002:6E42		    pop	    es
seg002:6E43		    xor	    ax,	ax
seg002:6E45		    rep	stosw
seg002:6E47		    mov	    word ptr ds:0C30h, 40h ; '@'
seg002:6E4D		    mov	    ah,	48h ; 'H'
seg002:6E4F		    mov	    bx,	200h
seg002:6E52		    int	    21h		    ; DOS - 2+ - ALLOCATE MEMORY
seg002:6E52					    ; BX = number of 16-byte paragraphs	desired
seg002:6E54		    jb	    short loc_8A3F
seg002:6E56		    mov	    ds:0C34h, ax
seg002:6E59		    mov	    es,	ax
seg002:6E5B		    assume es:nothing
seg002:6E5B		    xor	    ax,	ax
seg002:6E5D		    mov	    cx,	1000h
seg002:6E60		    mov	    di,	ax
seg002:6E62		    rep	stosw
seg002:6E64		    mov	    ah,	48h ; 'H'
seg002:6E66		    mov	    bx,	cs:word_8934
seg002:6E6B		    int	    21h		    ; DOS - 2+ - ALLOCATE MEMORY
seg002:6E6B					    ; BX = number of 16-byte paragraphs	desired
seg002:6E6D		    jnb	    short loc_8A42
seg002:6E6F
seg002:6E6F loc_8A3F:				    ; CODE XREF: seg002:6E54j
seg002:6E6F		    jmp	    loc_8D2B
seg002:6E72 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6E72
seg002:6E72 loc_8A42:				    ; CODE XREF: seg002:6E6Dj
seg002:6E72		    mov	    es,	ax
seg002:6E74		    call    sub_90F2
seg002:6E77		    mov	    ax,	ds:0F50h
seg002:6E7A		    add	    ax,	2Ah ; '*'
seg002:6E7D		    push    cs
seg002:6E7E		    pop	    ds
seg002:6E7F		    assume ds:seg002
seg002:6E7F		    mov	    word ptr dword_3392, ax
seg002:6E82		    mov	    ax,	1
seg002:6E82 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:6E85		    db 9Ah
seg002:6E86 word_8A56	    dw 6DC2h		    ; DATA XREF: sub_896C+13w
seg002:6E88 seg_8A58	    dw seg seg002	    ; DATA XREF: sub_896C+18w
seg002:6E8A		    db 72h, 81h, 0FCh, 36h, 0C7h, 6, 0C2h, 0Ah,	0FCh, 71h
seg002:6E8A		    db 36h, 8Ch, 1Eh, 32h, 0Ch,	8Ch, 16h, 8Eh, 20h, 36h, 8Ch
seg002:6E8A		    db 6, 2Ah, 0Ch, 36h, 8Ch, 6, 0B2h, 9, 26h, 0A1h, 2Ch, 0
seg002:6E8A		    db 36h, 0A3h, 2Ch, 0Ch, 36h, 8Ch, 1Eh, 8, 0, 8Ch, 0Eh
seg002:6E8A		    db 0C0h, 17h, 8Ch, 16h, 0C4h, 17h, 83h, 0ECh, 8, 8Ch, 0D3h
seg002:6E8A		    db 8Bh, 0FCh, 8Eh, 0C3h, 0B8h, 0Bh,	0, 0CDh, 31h, 26h
seg002:6E8A		    db 80h, 65h, 6, 0BFh, 0B8h,	0Ch, 0,	0CDh, 31h, 8Ch,	0DBh
seg002:6E8A		    db 8Bh, 0FCh, 8Eh, 0C3h, 0B8h, 0Bh,	0, 0CDh, 31h, 26h
seg002:6E8A		    db 80h, 65h, 6, 0BFh, 0B8h,	0Ch, 0,	0CDh, 31h, 83h,	0C4h
seg002:6E8A		    db 8, 0BEh,	3Dh, 6Dh, 0B8h,	0, 0Ah,	0CDh, 31h, 0B8h, 5
seg002:6E8A		    db 3, 0CDh,	31h, 89h, 0Eh, 4Eh, 6Dh, 89h, 1Eh, 50h,	6Dh
seg002:6E8A		    db 66h, 89h, 3Eh, 54h, 6Dh,	89h, 36h, 58h, 6Dh, 0A3h, 52h
seg002:6E8A		    db 6Dh, 0B8h, 6, 3,	0CDh, 31h, 73h,	3, 0E9h, 44h, 2, 89h
seg002:6E8A		    db 0Eh, 5Ah, 6Dh, 89h, 1Eh,	5Ch, 6Dh, 66h, 89h, 3Eh, 5Eh
seg002:6E8A		    db 6Dh, 89h, 36h, 62h, 6Dh,	0B3h, 21h, 0B8h, 4, 2, 0CDh
seg002:6E8A		    db 31h, 66h, 89h, 16h, 66h,	6Dh, 89h, 0Eh, 6Ah, 6Dh, 36h
seg002:6E8A		    db 89h, 0Eh, 42h, 0Ch, 16h,	1Fh, 1Eh, 7, 0BFh, 0C0h, 0
seg002:6E8A		    db 0Eh, 0E8h, 0BEh,	6, 8Ch,	0Eh, 26h, 0Ch, 8Ch, 0Eh, 0F8h
seg002:6E8A		    db 0Ah, 8Ch, 16h, 28h, 0Ch,	0FBh, 8Ch, 16h,	2Ch, 0,	8Ch
seg002:6E8A		    db 0Eh, 18h, 0, 8Ch, 0Eh, 1Ch, 0, 0C7h, 6, 22h, 0, 64h
seg002:6E8A		    db 73h, 8Ch, 0Eh, 24h, 0, 8Ch, 16h,	0Ch, 0,	8Ch, 16h, 3Ch
seg002:6E8A		    db 0, 8Ch, 16h, 98h, 9, 8Ch, 16h, 44h, 0, 0B8h, 3, 2, 0B3h
seg002:6E8A		    db 11h, 8Ch, 0C9h, 0BAh, 6Ch, 6Dh, 0CDh, 31h, 83h, 0C2h
seg002:6E8A		    db 4, 0FEh,	0CBh, 80h, 0FBh, 6, 73h, 0F4h, 0B3h, 0Dh, 0BAh
seg002:6E8A		    db 0BBh, 6Ah, 0CDh,	31h, 0BAh, 0F4h, 71h, 8Ch, 0C9h, 0B3h
seg002:6E8A		    db 3, 0B8h,	5, 2, 0CDh, 31h, 0BAh, 2Bh, 73h, 0B3h, 1, 0CDh
seg002:6E8A		    db 31h, 0BAh, 0F8h,	71h, 0B3h, 0, 0CDh, 31h, 0BAh, 84h
seg002:6E8A		    db 75h, 0B3h, 23h, 0CDh, 31h, 2Eh, 80h, 3Eh, 4Bh, 6Dh
seg002:6E8A		    db 0, 75h, 5, 0B8h,	82h, 16h, 0CDh,	2Fh, 0B8h, 3, 0, 0CDh
seg002:6E8A		    db 31h, 0A3h, 48h, 0Ch, 33h, 0C9h, 41h, 0D1h, 0E8h,	73h
seg002:6E8A		    db 0FBh, 89h, 0Eh, 46h, 0Ch, 0B9h, 6, 0, 33h, 0C0h,	0CDh
seg002:6E8A		    db 31h, 73h, 3, 0E9h, 76h, 1, 0A3h,	2Eh, 0Ch, 93h, 0B8h
seg002:6E8A		    db 8, 0, 0B9h, 2 dup(0FFh),	8Bh, 0D1h, 0CDh, 31h, 72h
seg002:6E8A		    db 0EDh, 3,	1Eh, 48h, 0Ch, 89h, 1Eh, 38h, 0Ch, 33h,	0C9h
seg002:6E8A		    db 0CDh, 31h, 72h, 0DFh, 3,	1Eh, 48h, 0Ch, 89h, 1Eh, 3Eh
seg002:6E8A		    db 0Ch, 0CDh, 31h, 72h, 0D3h, 83h, 0ECh, 8,	16h, 7,	8Bh
seg002:6E8A		    db 0FCh, 3,	1Eh, 48h, 0Ch, 89h, 1Eh, 3Ch, 0Ch, 89h,	1Eh
seg002:6E8A		    db 0F4h, 0Ah, 89h, 1Eh, 0, 0Ah, 89h, 1Eh, 8, 0Ah, 0B8h
seg002:6E8A		    db 0Bh, 0, 0CDh, 31h, 0E8h,	0F2h, 0AEh, 48h, 0ABh, 0A1h
seg002:6E8A		    db 10h, 0Ah, 0B9h, 10h, 0, 0F7h, 0E1h, 0ABh, 92h, 0AAh
seg002:6E8A		    db 8Bh, 0FCh, 0B8h,	0Ch, 0,	0CDh, 31h, 8Eh,	0DBh, 8Ch
seg002:6E8A		    db 16h, 80h, 56h, 8Ch, 0C8h, 0A3h, 0A8h, 3Eh, 89h, 1Eh
seg002:6E8A		    db 3, 4, 0C7h, 6, 1, 4, 92h, 56h, 0C6h, 6, 0, 4, 0EAh
seg002:6E8A		    db 0BEh, 0A0h, 7, 89h, 5Ch,	2, 89h,	5Ch, 6,	83h, 0C6h
seg002:6E8A		    db 8, 83h, 3Ch, 0, 75h, 0F2h, 0Fh, 2, 0C8h,	0C1h, 0E9h
seg002:6E8A		    db 8, 0B8h,	9, 0, 53h, 0CDh, 31h, 8Ch, 0D9h, 0BBh, 10h
seg002:6E8A		    db 0, 0B8h,	5, 2, 8Bh, 0D3h, 0C1h, 0E2h, 2,	81h
seg002:708B		    db 0C2h, 2 dup(0), 0CDh, 31h, 73h, 3, 0E9h,	0C6h, 0, 0FEh
seg002:708B		    db 0C3h, 80h, 0FBh,	1Bh, 74h, 0F9h,	80h, 0FBh, 1Ch,	74h
seg002:708B		    db 0F4h, 80h, 0FBh,	23h, 74h, 0EFh,	80h, 0FBh, 24h,	74h
seg002:708B		    db 0EAh, 80h, 0FBh,	2Fh, 74h, 0E5h,	80h, 0FBh, 16h,	74h
seg002:708B		    db 0E0h, 80h, 0FBh,	2Eh, 76h, 0CBh,	0BAh, 9Eh, 0Ch,	0B3h
seg002:708B		    db 21h, 0CDh, 31h, 72h, 0CFh, 0BAh,	83h, 1Ah, 0B3h,	10h
seg002:708B		    db 0CDh, 31h, 0BAh,	56h, 5,	0B3h, 75h, 0CDh, 31h, 16h
seg002:708B		    db 1Fh, 0B8h, 0FFh,	1Fh, 0ABh, 0A1h, 34h, 0Ch, 0B9h, 10h
seg002:708B		    db 0, 0F7h,	0E1h, 0ABh, 92h, 0AAh, 5Bh, 3, 1Eh, 48h, 0Ch
seg002:708B		    db 89h, 1Eh, 34h, 0Ch, 89h,	1Eh, 0A2h, 0Ah,	8Bh, 0FCh
seg002:708B		    db 0B8h, 0Ch, 0, 0CDh, 31h,	3, 1Eh,	48h, 0Ch, 89h, 1Eh
seg002:708B		    db 9Ch, 0Ah, 0B8h, 8, 0, 33h, 0C9h,	0BAh, 2	dup(0FFh)
seg002:708B		    db 0CDh, 31h, 40h, 8Ch, 0C9h, 0Fh, 2, 0C9h,	0C1h, 0E9h
seg002:708B		    db 8, 0CDh,	31h, 83h, 0C4h,	8, 0E8h, 0, 3, 0B2h, 0,	86h
seg002:708B		    db 16h, 80h, 9, 0BBh, 40h, 0, 0B4h,	48h, 0CDh, 21h,	0Fh
seg002:708B		    db 83h, 3, 0, 0EBh,	2Fh, 90h, 0A3h,	4Ch, 0Ch, 88h, 16h
seg002:708B		    db 80h, 9, 8Eh, 0C0h, 33h, 0FFh, 0Eh, 0E8h,	55h, 4,	2Eh
seg002:708B		    db 66h, 8Bh, 36h, 14h, 6Eh,	2Eh, 66h, 8Bh, 3Eh, 18h, 6Eh
seg002:708B		    db 2Eh, 66h, 8Bh, 16h, 1Ch,	6Eh, 0C7h, 6, 0A4h, 0Ah, 1Dh
seg002:708B		    db 57h, 0C7h, 6, 0A6h, 0Ah,	0F4h, 56h, 0C3h
seg002:715B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:715B
seg002:715B loc_8D2B:				    ; CODE XREF: seg002:loc_8A3Fj
seg002:715B		    push    20h	; ' '
seg002:715D		    call    sub_3E7D
seg002:7160
seg002:7160 ;  S	U B R O	U T I N	E 
seg002:7160
seg002:7160
seg002:7160 sub_8D30	    proc near		    ; CODE XREF: sub_62AE+92p
seg002:7160					    ; sub_62AE+9Ap ...
seg002:7160		    mov	    bx,	sp
seg002:7162		    mov	    ax,	[bx+2]
seg002:7165		    mov	    es,	word ptr loc_2803+1
seg002:7169		    assume es:nothing
seg002:7169		    mov	    bx,	ax
seg002:716B		    shr	    bx,	3
seg002:716E		    or	    byte ptr es:[bx], 80h
seg002:7172		    xchg    ax,	bx
seg002:7173		    mov	    al,	byte_2550
seg002:7176		    cmp	    al,	3
seg002:7178		    jnb	    short loc_8D5E
seg002:717A		    push    ax
seg002:717B		    mov	    byte_2550, 2
seg002:7180		    mov	    es,	bx
seg002:7182		    assume es:nothing
seg002:7182		    mov	    dh,	3
seg002:7184		    mov	    ah,	0FFh
seg002:7186		    push    bx
seg002:7187		    int	    21h		    ; DOS - DOS	v??? - OEM FUNCTION
seg002:7189		    pop	    bx
seg002:718A		    pop	    ax
seg002:718B		    mov	    byte_2550, al
seg002:718E
seg002:718E loc_8D5E:				    ; CODE XREF: sub_8D30+18j
seg002:718E		    cmp	    bx,	word ptr loc_280C
seg002:7192		    jnz	    short loc_8D6C
seg002:7194		    mov	    ax,	0Ah
seg002:7197		    int	    31h		    ; DPMI Services   ax=func xxxxh
seg002:7197					    ; CREATE CODE SEGMENT ALIAS	DESCRIPTOR
seg002:7197					    ; BX = code	segment	selector
seg002:7197					    ; Return: CF set on	error
seg002:7197					    ; CF clear if successful, AX = new data selector
seg002:7199		    mov	    word ptr loc_27F4, ax
seg002:719C
seg002:719C loc_8D6C:				    ; CODE XREF: sub_8D30+32j
seg002:719C		    mov	    ax,	6
seg002:719F		    int	    31h		    ; DPMI Services   ax=func xxxxh
seg002:719F					    ; GET SEGMENT BASE ADDRESS
seg002:719F					    ; BX = selector
seg002:719F					    ; Return: CF set on	error
seg002:719F					    ; CF clear if successful, CX:DX = linear base address of segment
seg002:71A1		    xchg    ax,	dx
seg002:71A2		    mov	    dx,	cx
seg002:71A4		    retn
seg002:71A4 sub_8D30	    endp
seg002:71A4
seg002:71A5
seg002:71A5 ;  S	U B R O	U T I N	E 
seg002:71A5
seg002:71A5
seg002:71A5 sub_8D75	    proc near		    ; CODE XREF: sub_62AE+B7p
seg002:71A5		    mov	    cx,	word ptr loc_28BC
seg002:71A9		    mov	    bx,	word ptr byte_2570+16h
seg002:71AD		    sub	    bx,	cx
seg002:71AF		    add	    bx,	seg seg003
seg002:71B3		    sub	    bx,	seg seg002
seg002:71B7		    mov	    word ptr loc_1C28+2, bx
seg002:71BB		    mov	    ah,	4Ah ; 'J'
seg002:71BD		    pusha
seg002:71BE		    push    cx
seg002:71BF		    push    cx
seg002:71C0		    mov	    ax,	sp
seg002:71C2		    push    ss
seg002:71C3		    push    ax
seg002:71C4		    push    ss
seg002:71C5		    push    ax
seg002:71C6		    push    21h	; '!'
seg002:71C8		    push    cs
seg002:71C9		    call    near ptr sub_8F34
seg002:71CC		    add	    sp,	1Eh
seg002:71D0		    retn
seg002:71D0 sub_8D75	    endp
seg002:71D0
seg002:71D1
seg002:71D1 ;  S	U B R O	U T I N	E 
seg002:71D1
seg002:71D1
seg002:71D1 sub_8DA1	    proc near		    ; CODE XREF: sub_7FED-19E5p
seg002:71D1		    mov	    bx,	sp
seg002:71D3		    mov	    bx,	ss:[bx+2]
seg002:71D7		    mov	    ax,	6
seg002:71DA		    int	    31h		    ; DPMI Services   ax=func xxxxh
seg002:71DA					    ; GET SEGMENT BASE ADDRESS
seg002:71DA					    ; BX = selector
seg002:71DA					    ; Return: CF set on	error
seg002:71DA					    ; CF clear if successful, CX:DX = linear base address of segment
seg002:71DC		    push    si
seg002:71DD		    push    di
seg002:71DE		    xor	    si,	si
seg002:71E0		    lsl	    di,	bx
seg002:71E3		    add	    di,	1
seg002:71E6		    adc	    si,	si
seg002:71E8		    mov	    bx,	cx
seg002:71EA		    mov	    cx,	dx
seg002:71EC		    mov	    ax,	702h
seg002:71EF		    int	    31h		    ; DPMI Services   ax=func xxxxh
seg002:71EF					    ; MARK PAGE	AS DEMAND PAGING CANDIDATE
seg002:71EF					    ; BX:CX = starting linear address
seg002:71EF					    ; SI:DI = number of	bytes to mark as paging	candidates
seg002:71EF					    ; Return: CF set on	error
seg002:71EF					    ; CF clear if successful
seg002:71F1		    pop	    di
seg002:71F2		    pop	    si
seg002:71F3		    retn
seg002:71F3 sub_8DA1	    endp
seg002:71F3
seg002:71F3 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:71F4		    db 0E8h, 0E0h, 0F8h, 83h, 0E8h, 0DCh, 0F8h,	80h
seg002:71FC ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:71FC
seg002:71FC loc_8DCC:				    ; CODE XREF: seg002:loc_8764j
seg002:71FC		    mov	    bp,	sp
seg002:71FE		    mov	    di,	[bp+2]
seg002:7201		    mov	    ax,	cs:word_3C5E
seg002:7205		    mov	    ds,	ax
seg002:7207		    assume ds:nothing
seg002:7207		    mov	    ss,	ax
seg002:7209		    mov	    sp,	ds:0F50h
seg002:720D		    push    di
seg002:720E		    mov	    dx,	word ptr cs:loc_2B3F
seg002:7213		    mov	    cx,	word ptr cs:loc_2B41
seg002:7218		    mov	    ax,	304h
seg002:721B		    int	    31h		    ; DPMI Services   ax=func xxxxh
seg002:721B					    ; FREE REAL	MODE CALL-BACK ADDRESS
seg002:721B					    ; CX:DX = real mode	call-back address
seg002:721B					    ; Return: CF set on	error
seg002:721B					    ; CF clear if successful
seg002:721D		    push    edx
seg002:721F		    xor	    edx, edx
seg002:7222		    mov	    si,	0F8Ah
seg002:7225		    mov	    bl,	8
seg002:7227		    mov	    ax,	201h
seg002:722A
seg002:722A loc_8DFA:				    ; CODE XREF: seg002:7239j
seg002:722A		    mov	    dx,	[si]
seg002:722C		    mov	    cx,	[si+2]
seg002:722F		    int	    31h		    ; DPMI Services   ax=func xxxxh
seg002:722F					    ; SET REAL MODE INTERRUPT VECTOR
seg002:722F					    ; BL = interrupt number, CX:DX = segment:offset of real mode handler
seg002:722F					    ; Return: CF set on	error
seg002:722F					    ; CF clear if successful
seg002:7231		    inc	    bl
seg002:7233		    add	    si,	4
seg002:7236		    cmp	    bl,	2Eh ; '.'
seg002:7239		    jbe	    short loc_8DFA
seg002:723B		    mov	    bl,	0
seg002:723D
seg002:723D loc_8E0D:				    ; CODE XREF: seg002:7257j
seg002:723D		    mov	    ax,	200h
seg002:7240		    int	    31h		    ; DPMI Services   ax=func xxxxh
seg002:7240					    ; GET REAL MODE INTERRUPT VECTOR
seg002:7240					    ; BL = interrupt number
seg002:7240					    ; Return: CF clear,	CX:DX =	segment:offset of real mode interrupt handler
seg002:7242		    cmp	    cx,	ds:9B6h
seg002:7246		    jnz	    short loc_8E25
seg002:7248		    mov	    dx,	ds:56h
seg002:724C		    mov	    cx,	ds:58h
seg002:7250		    mov	    ax,	201h
seg002:7253		    int	    31h		    ; DPMI Services   ax=func xxxxh
seg002:7253					    ; SET REAL MODE INTERRUPT VECTOR
seg002:7253					    ; BL = interrupt number, CX:DX = segment:offset of real mode handler
seg002:7253					    ; Return: CF set on	error
seg002:7253					    ; CF clear if successful
seg002:7255
seg002:7255 loc_8E25:				    ; CODE XREF: seg002:7246j
seg002:7255		    inc	    bl
seg002:7257		    jnz	    short loc_8E0D
seg002:7259		    push    ds
seg002:725A		    pop	    es
seg002:725B		    assume es:nothing
seg002:725B		    mov	    di,	0C0h ; 'ภ'
seg002:725E		    push    cs
seg002:725F		    call    near ptr sub_9209
seg002:7262		    mov	    es,	word ptr ds:0C4Ch
seg002:7266		    assume es:seg000
seg002:7266		    xor	    di,	di
seg002:7268		    push    cs
seg002:7269		    call    near ptr sub_9196
seg002:726C		    pop	    edx
seg002:726E		    pop	    ax
seg002:726F		    mov	    ah,	4Ch
seg002:7271		    int	    21h		    ; DOS - 2+ - QUIT WITH EXIT	CODE (EXIT)
seg002:7271					    ; AL = exit	code
seg002:7273 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:7273		    cmp	    ax,	0BF02h
seg002:7276		    jz	    short locret_8E5A
seg002:7278		    cmp	    ax,	0BFDCh
seg002:727B		    jz	    short loc_8E52
seg002:727D		    jmp	    cs:dword_2E94
seg002:7282 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:7282
seg002:7282 loc_8E52:				    ; CODE XREF: seg002:727Bj
seg002:7282		    mov	    si,	98h ; ''
seg002:7285		    mov	    dx,	cs:seg_1BD0
seg002:728A
seg002:728A locret_8E5A:			    ; CODE XREF: seg002:7276j
seg002:728A		    iret
seg002:728B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:728B ; START OF FUNCTION	CHUNK FOR sub_8E60
seg002:728B
seg002:728B loc_8E5B:				    ; CODE XREF: sub_8E60+3Cj
seg002:728B		    push    1Fh
seg002:728D		    call    sub_3E7D
seg002:728D ; END OF FUNCTION CHUNK FOR	sub_8E60
seg002:7290
seg002:7290 ;  S	U B R O	U T I N	E 
seg002:7290
seg002:7290
seg002:7290 sub_8E60	    proc far		    ; CODE XREF: sub_7E4F:loc_7EC5p
seg002:7290
seg002:7290 ; FUNCTION CHUNK AT	seg002:728B SIZE 00000005 BYTES
seg002:7290
seg002:7290		    sub	    sp,	54h
seg002:7293		    mov	    bp,	sp
seg002:7295		    mov	    ds:0F50h, sp
seg002:7299		    sub	    sp,	80h
seg002:729D		    call    sub_4922
seg002:72A0		    call    sub_5556
seg002:72A3		    push    810h
seg002:72A6		    call    sub_B12
seg002:72AB		    xchg    ax,	cx
seg002:72AC		    jcxz    short loc_8EED
seg002:72AE		    call    sub_400E
seg002:72B1		    add	    ax,	800h
seg002:72B4		    and	    al,	0FEh
seg002:72B6		    mov	    ds:0C4Ah, ax
seg002:72B9		    cmp	    byte ptr ds:0C44h, 0
seg002:72BE		    jnz	    short loc_8E9E
seg002:72C0		    mov	    ax,	0BF02h
seg002:72C3		    xor	    si,	si
seg002:72C5		    xor	    dx,	dx
seg002:72C7		    call    near ptr byte_2AC4
seg002:72CA		    or	    si,	dx
seg002:72CC		    jnz	    short loc_8E5B
seg002:72CE
seg002:72CE loc_8E9E:				    ; CODE XREF: sub_8E60+2Ej
seg002:72CE		    mov	    ah,	35h ; '5'
seg002:72D0		    mov	    al,	ds:34h
seg002:72D3		    int	    21h		    ; DOS - 2+ - GET INTERRUPT VECTOR
seg002:72D3					    ; AL = interrupt number
seg002:72D3					    ; Return: ES:BX = value of interrupt vector
seg002:72D5		    push    cs
seg002:72D6		    pop	    ds
seg002:72D7		    assume ds:seg002
seg002:72D7		    mov	    word ptr dword_2E94, bx
seg002:72DB		    mov	    word ptr dword_2E94+2, es
seg002:72DF		    mov	    dx,	7273h
seg002:72E2		    mov	    ah,	25h
seg002:72E4		    int	    21h		    ; DOS - SET	INTERRUPT VECTOR
seg002:72E4					    ; AL = interrupt number
seg002:72E4					    ; DS:DX = new vector to be used for	specified interrupt
seg002:72E6		    push    ss
seg002:72E7		    pop	    ds
seg002:72E8		    assume ds:nothing
seg002:72E8		    mov	    word ptr ds:0AC2h, 7322h
seg002:72EE		    call    loc_89F0
seg002:72F1		    push    bp
seg002:72F2		    call    sub_6707
seg002:72F5		    call    sub_495B
seg002:72F8		    mov	    es,	word ptr [bp+2]
seg002:72FB		    assume es:nothing
seg002:72FB		    mov	    di,	[bp+0Eh]
seg002:72FE		    mov	    ax,	[bp+1Eh]
seg002:7301		    stosw
seg002:7302		    mov	    ax,	[bp+22h]
seg002:7305		    stosw
seg002:7306		    mov	    ax,	[bp+26h]
seg002:7309		    stosw
seg002:730A		    mov	    bx,	[bp+4]
seg002:730D		    mov	    ax,	es
seg002:730F		    mov	    ss,	ax
seg002:7311		    lea	    sp,	[di-6]
seg002:7314		    mov	    ds:0F50h, bp
seg002:7318		    mov	    ds,	bx
seg002:731A		    mov	    es,	bx
seg002:731C		    iret
seg002:731D ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:731D
seg002:731D loc_8EED:				    ; CODE XREF: sub_8E60+1Cj
seg002:731D		    push    0Dh
seg002:731F		    call    sub_3E7D
seg002:7322		    call    sub_2F7D
seg002:7325		    pop	    cx
seg002:7326		    pop	    ax
seg002:7327		    mov	    ah,	4Ch
seg002:7329		    int	    21h		    ; DOS - 2+ - QUIT WITH EXIT	CODE (EXIT)
seg002:7329 sub_8E60	    endp		    ; AL = exit	code
seg002:7329
seg002:7329 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:732B		    db 0E8h, 0A9h, 0F7h, 81h, 90h, 32h dup(0), 87h, 0DBh
seg002:7364
seg002:7364 ;  S	U B R O	U T I N	E 
seg002:7364
seg002:7364 ; Attributes: bp-based frame
seg002:7364
seg002:7364 sub_8F34	    proc far		    ; CODE XREF: sub_8D75+24p
seg002:7364
seg002:7364 arg_0	    = byte ptr	6
seg002:7364 arg_2	    = dword ptr	 8
seg002:7364 arg_6	    = dword ptr	 0Ch
seg002:7364
seg002:7364		    push    bp
seg002:7365		    mov	    bp,	sp
seg002:7367		    push    si
seg002:7368		    push    edi
seg002:736A		    xor	    edi, edi
seg002:736D		    push    ds
seg002:736E		    push    es
seg002:736F		    pushf
seg002:7370		    cli
seg002:7371		    mov	    es,	cs:word_3C5E
seg002:7376		    assume es:nothing
seg002:7376		    mov	    di,	es:0C4Ah
seg002:737B		    sub	    word ptr es:0C4Ah, 200h
seg002:7382		    sub	    di,	32h ; '2'
seg002:7385		    push    di
seg002:7386		    xor	    ax,	ax
seg002:7388		    cld
seg002:7389		    lds	    si,	[bp+arg_2]
seg002:738C		    push    si
seg002:738D		    add	    si,	4
seg002:7390		    mov	    cx,	8
seg002:7393
seg002:7393 loc_8F63:				    ; CODE XREF: sub_8F34+31j
seg002:7393		    movsw
seg002:7394		    stosw
seg002:7395		    loop    loc_8F63
seg002:7397		    stosw
seg002:7398		    pop	    si
seg002:7399		    lodsw
seg002:739A		    movsw
seg002:739B		    stosw
seg002:739C		    xor	    ax,	ax
seg002:739E		    stosw
seg002:739F		    stosw
seg002:73A0		    mov	    ds,	cs:word_3C5E
seg002:73A5		    assume ds:nothing
seg002:73A5		    mov	    al,	[bp+arg_0]
seg002:73A8		    mov	    si,	ax
seg002:73AA		    shl	    si,	2
seg002:73AD		    mov	    dx,	ds:0C2Eh
seg002:73B1		    sub	    ax,	8
seg002:73B4		    cmp	    ax,	26h ; '&'
seg002:73B7		    ja	    short loc_8F98
seg002:73B9		    mov	    bx,	ax
seg002:73BB		    cmp	    byte ptr [bx+10C6h], 0
seg002:73C0		    jz	    short loc_8F98
seg002:73C2		    add	    si,	0F6Ah
seg002:73C6		    mov	    dx,	ds
seg002:73C8
seg002:73C8 loc_8F98:				    ; CODE XREF: sub_8F34+53j
seg002:73C8					    ; sub_8F34+5Cj
seg002:73C8		    mov	    ds,	dx
seg002:73CA		    movsw
seg002:73CB		    movsw
seg002:73CC		    pop	    ax
seg002:73CD		    stosw
seg002:73CE		    mov	    ax,	seg seg000
seg002:73D1		    stosw
seg002:73D2		    sub	    di,	32h ; '2'
seg002:73D5		    xor	    bx,	bx
seg002:73D7		    mov	    ax,	302h
seg002:73DA		    int	    31h		    ; DPMI Services   ax=func xxxxh
seg002:73DA					    ; CALL REAL	MODE PROC WITH IRET FRAME
seg002:73DA					    ; CX = number of words to copy from	protected mode to real mode stack
seg002:73DA					    ; ES:DI / ES:EDI = selector:offset of real mode call structure
seg002:73DA					    ; Return: CF set on	error
seg002:73DA					    ; CF clear if successful
seg002:73DC		    mov	    ax,	0
seg002:73DF		    jb	    short loc_8FD4
seg002:73E1		    mov	    ds,	cs:word_3C5E
seg002:73E6		    mov	    si,	ds:0C4Ah
seg002:73EA		    add	    si,	1CEh
seg002:73EE		    les	    di,	[bp+arg_6]
seg002:73F1		    assume es:nothing
seg002:73F1		    mov	    ax,	[si+24h]
seg002:73F4		    stosw
seg002:73F5		    mov	    ax,	[si+22h]
seg002:73F8		    stosw
seg002:73F9		    mov	    ax,	[si+20h]
seg002:73FC		    mov	    cx,	8
seg002:73FF
seg002:73FF loc_8FCF:				    ; CODE XREF: sub_8F34+9Ej
seg002:73FF		    movsw
seg002:7400		    inc	    si
seg002:7401		    inc	    si
seg002:7402		    loop    loc_8FCF
seg002:7404
seg002:7404 loc_8FD4:				    ; CODE XREF: sub_8F34+7Bj
seg002:7404		    add	    word ptr ds:0C4Ah, 200h
seg002:740A		    pop	    cx
seg002:740B		    and	    cx,	200h
seg002:740F		    jcxz    short loc_8FE2
seg002:7411		    sti
seg002:7412
seg002:7412 loc_8FE2:				    ; CODE XREF: sub_8F34+ABj
seg002:7412		    pop	    es
seg002:7413		    pop	    ds
seg002:7414		    assume ds:nothing
seg002:7414		    pop	    edi
seg002:7416		    pop	    si
seg002:7417		    pop	    bp
seg002:7418		    retf
seg002:7418 sub_8F34	    endp
seg002:7418
seg002:7418 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:7419		    db 66h, 56h, 66h, 57h, 66h,	33h, 0F6h, 66h,	33h, 0FFh
seg002:7419		    db 1Eh, 0BFh, 30h, 73h, 8Eh, 6, 32h, 0Ch, 0BEh, 4Ah, 74h
seg002:7419		    db 0Eh, 1Fh, 0B8h, 2 dup(3), 0CDh, 31h, 0B8h, 2 dup(0)
seg002:7419		    db 72h, 0Ah, 0BFh, 6Eh, 0Fh, 0B0h, 0EAh, 0AAh, 92h,	0ABh
seg002:7419		    db 91h, 0ABh, 1Fh, 66h, 5Fh, 66h, 5Eh, 0C3h, 66h, 0Fh
seg002:7419		    db 0B7h, 0F6h, 66h,	81h, 0EEh, 86h,	3 dup(0), 67h, 66h
seg002:7419		    db 89h, 26h, 67h, 8Ch, 56h,	4, 8Ch,	0D8h, 8Eh, 0D0h, 66h
seg002:7419		    db 8Bh, 0E6h, 83h, 0ECh, 32h, 8Bh, 0ECh, 67h, 8Bh, 9Eh
seg002:7419		    db 86h, 3 dup(0), 2Eh, 8Ah,	7, 2Eh,	8Eh, 1Eh, 8Eh, 20h
seg002:7419		    db 8Eh, 1Eh, 32h, 0Ch, 0A2h, 0C7h, 74h, 0EBh, 0, 0FCh
seg002:7419		    db 6, 66h, 57h, 66h, 5Eh, 1Fh, 16h,	6Ah, 0,	55h, 66h, 5Fh
seg002:7419		    db 7, 66h, 0B9h, 19h, 3 dup(0), 0F3h, 67h, 0A5h, 66h, 8Bh
seg002:7419		    db 86h, 0BAh, 0, 66h, 89h, 46h, 2Ah, 8Dh, 86h, 0C0h, 0
seg002:7419		    db 89h, 46h, 2Eh, 66h, 8Bh,	46h, 1Ch, 66h, 8Bh, 5Eh, 10h
seg002:7419		    db 66h, 8Bh, 4Eh, 18h, 66h,	8Bh, 56h, 14h, 66h, 8Bh, 76h
seg002:7419		    db 4, 66h, 8Bh, 7Eh, 0, 66h, 55h, 66h, 8Bh,	6Eh, 8,	0CDh
seg002:7419		    db 0, 66h
seg002:74C9 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:74C9		    push    bp
seg002:74CA		    mov	    bp,	sp
seg002:74CC		    movzx   ebp, word ptr [bp+4]
seg002:74D1		    pop	    large dword	ptr [bp+8]
seg002:74D5		    mov	    [bp+1Ch], eax
seg002:74D9		    mov	    [bp+10h], ebx
seg002:74DD		    mov	    [bp+18h], ecx
seg002:74E1		    mov	    [bp+14h], edx
seg002:74E5		    mov	    [bp+4], esi
seg002:74E9		    mov	    [bp+0], edi
seg002:74ED		    pushf
seg002:74EE		    pop	    ax
seg002:74EF		    and	    word ptr [bp+20h], 0FFBEh
seg002:74F3		    and	    ax,	41h
seg002:74F6		    or	    [bp+20h], ax
seg002:74F9		    pop	    eax
seg002:74FB		    mov	    ax,	ss
seg002:74FD		    mov	    ds,	ax
seg002:74FF		    mov	    si,	bp
seg002:7501		    mov	    es,	cs:word_3C5E
seg002:7506		    assume es:nothing
seg002:7506		    mov	    es,	word ptr es:0C32h
seg002:750B		    assume es:nothing
seg002:750B		    mov	    di,	7330h
seg002:750E		    mov	    cx,	19h
seg002:7511		    cld
seg002:7512		    rep	movsw
seg002:7514		    xor	    edi, edi
seg002:7517		    mov	    di,	7330h
seg002:751A		    lss	    esp, [ebp+32h]
seg002:7520		    iretd
seg002:7522
seg002:7522 ;  S	U B R O	U T I N	E 
seg002:7522
seg002:7522 ; Attributes: bp-based frame
seg002:7522
seg002:7522 sub_90F2	    proc near		    ; CODE XREF: seg002:6E74p
seg002:7522		    mov	    ax,	1600h
seg002:7525		    int	    2Fh		    ; -	Multiplex - MS WINDOWS - ENHANCED WINDOWS INSTALLATION CHECK
seg002:7525					    ; Return: AL = anything else
seg002:7525					    ; AL = Windows major version number	>= 3
seg002:7525					    ; AH = Windows minor version number
seg002:7527		    test    al,	7Fh
seg002:7529		    jz	    short locret_914E
seg002:752B		    cmp	    al,	3
seg002:752D		    jnz	    short locret_914E
seg002:752F		    cmp	    ah,	0Ah
seg002:7532		    jnb	    short locret_914E
seg002:7534		    mov	    ax,	4300h
seg002:7537		    int	    2Fh		    ; -	Multiplex - XMS	- INSTALLATION CHECK
seg002:7537					    ; Return: AL = 80h XMS driver installed
seg002:7537					    ; AL <> 80h	no driver
seg002:7539		    cmp	    al,	80h ; ''
seg002:753B		    jnz	    short loc_914F
seg002:753D		    push    es
seg002:753E		    push    bp
seg002:753F		    mov	    ax,	4310h
seg002:7542		    int	    2Fh		    ; -	Multiplex - XMS	- GET DRIVER ADDRESS
seg002:7542					    ; Return: ES:BX -> driver entry point
seg002:7544		    push    es
seg002:7545		    push    bx
seg002:7546		    mov	    bp,	sp
seg002:7548		    mov	    ah,	9
seg002:754A		    mov	    dx,	40h ; '@'
seg002:754D		    call    dword ptr [bp+0]
seg002:7550		    dec	    ax
seg002:7551		    jnz	    short loc_914F
seg002:7553		    push    ax
seg002:7554		    push    ax
seg002:7555		    push    dx
seg002:7556		    push    ds
seg002:7557		    push    ax
seg002:7558		    push    ax
seg002:7559		    push    1
seg002:755B		    push    ax
seg002:755C		    mov	    si,	sp
seg002:755E		    mov	    ah,	0Bh
seg002:7560		    call    dword ptr [bp+0]
seg002:7563		    dec	    ax
seg002:7564		    jnz	    short loc_914F
seg002:7566		    mov	    ax,	1681h
seg002:7569		    int	    2Fh		    ; -	Multiplex - MS WINDOWS -  3+ - BEGIN CRITICAL SECTION
seg002:756B		    mov	    cs:byte_891B, al
seg002:756F		    mov	    ah,	0Bh
seg002:7571		    call    dword ptr [bp+0]
seg002:7574		    mov	    ah,	0Ah
seg002:7576		    call    dword ptr [bp+0]
seg002:7579		    add	    sp,	14h
seg002:757C		    pop	    bp
seg002:757D		    pop	    es
seg002:757E		    assume es:nothing
seg002:757E
seg002:757E locret_914E:			    ; CODE XREF: sub_90F2+7j
seg002:757E					    ; sub_90F2+Bj ...
seg002:757E		    retn
seg002:757F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:757F
seg002:757F loc_914F:				    ; CODE XREF: sub_90F2+19j
seg002:757F					    ; sub_90F2+2Fj ...
seg002:757F		    push    21h	; '!'
seg002:7581		    call    sub_3E7D
seg002:7584		    push    ds
seg002:7585		    mov	    ds,	cs:word_3C5E
seg002:758A		    assume ds:nothing
seg002:758A		    inc	    byte ptr ds:0C45h
seg002:758E		    pop	    ds
seg002:758F		    assume ds:nothing
seg002:758F		    iretd
seg002:758F sub_90F2	    endp ; sp =	-2
seg002:758F
seg002:7591 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:7591		    mov	    dx,	cs
seg002:7593		    and	    dx,	7
seg002:7596		    or	    dx,	8
seg002:7599		    jmp	    short loc_918E
seg002:759B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:759B
seg002:759B loc_916B:				    ; CODE XREF: seg002:75B8j
seg002:759B					    ; seg002:75C3j
seg002:759B		    add	    bl,	bl
seg002:759D		    lar	    ax,	dx
seg002:75A0		    jmp	    short $+2
seg002:75A2		    jnz	    loc_9180
seg002:75A6		    test    ah,	93h
seg002:75A9		    jz	    loc_9180
seg002:75AD		    or	    bl,	1
seg002:75B0
seg002:75B0 loc_9180:				    ; CODE XREF: seg002:75A2j
seg002:75B0					    ; seg002:75A9j
seg002:75B0		    add	    dx,	ds:0C48h
seg002:75B4		    jo	    locret_9195
seg002:75B8		    loop    loc_916B
seg002:75BA		    mov	    es:[di], bl
seg002:75BD		    inc	    di
seg002:75BE
seg002:75BE loc_918E:				    ; CODE XREF: seg002:7599j
seg002:75BE		    xor	    bl,	bl
seg002:75C0		    mov	    cx,	8
seg002:75C3		    jmp	    short loc_916B
seg002:75C5 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:75C5
seg002:75C5 locret_9195:			    ; CODE XREF: seg002:75B4j
seg002:75C5		    retf
seg002:75C6
seg002:75C6 ;  S	U B R O	U T I N	E 
seg002:75C6
seg002:75C6
seg002:75C6 sub_9196	    proc far		    ; CODE XREF: seg002:7269p
seg002:75C6		    mov	    cx,	es
seg002:75C8		    jcxz    short locret_91D5
seg002:75CA		    mov	    bx,	cs
seg002:75CC		    and	    bx,	7
seg002:75CF		    or	    bx,	8
seg002:75D2		    jmp	    short loc_91CD
seg002:75D4 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:75D4
seg002:75D4 loc_91A4:				    ; CODE XREF: sub_9196+34j
seg002:75D4					    ; sub_9196+3Dj
seg002:75D4		    test    dl,	80h
seg002:75D7		    jnz	    loc_91C0
seg002:75DB		    lar	    ax,	bx
seg002:75DE		    jmp	    short $+2
seg002:75E0		    jnz	    loc_91C0
seg002:75E4		    test    ah,	93h
seg002:75E7		    jz	    loc_91C0
seg002:75EB		    mov	    ax,	1
seg002:75EE		    int	    31h		    ; DPMI Services   ax=func xxxxh
seg002:75EE					    ; FREE LDT DESCRIPTOR
seg002:75EE					    ; BX = selector to free
seg002:75EE					    ; Return: CF set on	error
seg002:75EE					    ; CF clear if successful
seg002:75F0
seg002:75F0 loc_91C0:				    ; CODE XREF: sub_9196+11j
seg002:75F0					    ; sub_9196+1Aj ...
seg002:75F0		    add	    dl,	dl
seg002:75F2		    add	    bx,	ds:0C48h
seg002:75F6		    jo	    locret_91D5
seg002:75FA		    loop    loc_91A4
seg002:75FC		    inc	    di
seg002:75FD
seg002:75FD loc_91CD:				    ; CODE XREF: sub_9196+Cj
seg002:75FD		    mov	    dl,	es:[di]
seg002:7600		    mov	    cx,	8
seg002:7603		    jmp	    short loc_91A4
seg002:7605 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:7605
seg002:7605 locret_91D5:			    ; CODE XREF: sub_9196+2j
seg002:7605					    ; sub_9196+30j
seg002:7605		    retf
seg002:7605 sub_9196	    endp
seg002:7605
seg002:7605 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:7606		    db 0B8h, 4,	2, 33h,	0DBh, 0CDh, 31h, 66h, 26h, 89h,	15h
seg002:7606		    db 26h, 89h, 4Dh, 4, 83h, 0C7h, 6, 43h, 81h, 0FBh, 0FFh
seg002:7606		    db 0, 76h, 0ECh, 0B8h, 2 dup(2), 32h, 0DBh,	0CDh, 31h
seg002:7606		    db 66h, 26h, 89h, 15h, 26h,	89h, 4Dh, 4, 83h, 0C7h,	6
seg002:7606		    db 0FEh, 0C3h, 80h,	0FBh, 1Fh, 76h,	0ECh, 0CBh
seg002:7639
seg002:7639 ;  S	U B R O	U T I N	E 
seg002:7639
seg002:7639
seg002:7639 sub_9209	    proc far		    ; CODE XREF: seg002:725Fp
seg002:7639		    mov	    cx,	es
seg002:763B		    jcxz    short locret_923F
seg002:763D		    mov	    ax,	205h
seg002:7640		    xor	    bx,	bx
seg002:7642
seg002:7642 loc_9212:				    ; CODE XREF: sub_9209+1Bj
seg002:7642		    mov	    edx, es:[di]
seg002:7646		    mov	    cx,	es:[di+4]
seg002:764A		    int	    31h		    ; DPMI Services   ax=func xxxxh
seg002:764A					    ; SET PROTECTED MODE INTERRUPT VECTOR
seg002:764A					    ; BL = interrupt number, CX:DX / CX:EDX = selector:offset of handler
seg002:764A					    ; Return: CF set on	error
seg002:764A					    ; CF clear if successful
seg002:764C		    add	    di,	6
seg002:764F		    inc	    bx
seg002:7650		    cmp	    bx,	0FFh
seg002:7654		    jbe	    short loc_9212
seg002:7656		    mov	    ax,	203h
seg002:7659		    xor	    bl,	bl
seg002:765B
seg002:765B loc_922B:				    ; CODE XREF: sub_9209+34j
seg002:765B		    mov	    edx, es:[di]
seg002:765F		    mov	    cx,	es:[di+4]
seg002:7663		    int	    31h		    ; DPMI Services   ax=func xxxxh
seg002:7663					    ; SET PROCESSOR EXCEPTION HANDLER VECTOR
seg002:7663					    ; BL = exception number (00h-1Fh), CX:DX / CX:EDX =	selector:offset	of handler
seg002:7663					    ; Return: CF set on	error
seg002:7663					    ; CF clear if successful
seg002:7665		    add	    di,	6
seg002:7668		    inc	    bl
seg002:766A		    cmp	    bl,	1Fh
seg002:766D		    jbe	    short loc_922B
seg002:766F
seg002:766F locret_923F:			    ; CODE XREF: sub_9209+2j
seg002:766F		    retf
seg002:766F sub_9209	    endp
seg002:766F
seg002:7670
seg002:7670 ;  S	U B R O	U T I N	E 
seg002:7670
seg002:7670
seg002:7670 sub_9240	    proc near		    ; CODE XREF: sub_7256:loc_7458p
seg002:7670		    mov	    al,	ds:47h
seg002:7673		    mov	    dx,	2CF2h
seg002:7676		    cmp	    byte ptr ds:2Eh, 0Bh
seg002:767B		    jnz	    short loc_9263
seg002:767D		    test    al,	80h
seg002:767F		    jz	    short loc_9254
seg002:7681
seg002:7681 loc_9251:				    ; CODE XREF: sub_9240+38j
seg002:7681		    mov	    dx,	2CF9h
seg002:7684
seg002:7684 loc_9254:				    ; CODE XREF: sub_9240+Fj
seg002:7684		    mov	    bx,	0F7Dh
seg002:7687		    mov	    byte ptr cs:[bx-3],	0E9h ; '้'
seg002:768C		    sub	    dx,	bx
seg002:768E		    mov	    cs:[bx-2], dx
seg002:7692
seg002:7692 locret_9262:			    ; CODE XREF: sub_9240+25j
seg002:7692		    retn
seg002:7693 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:7693
seg002:7693 loc_9263:				    ; CODE XREF: sub_9240+Bj
seg002:7693		    test    al,	80h
seg002:7695		    jz	    short locret_9262
seg002:7697		    mov	    bx,	2D0Ah
seg002:769A		    mov	    byte ptr cs:[bx-3],	0E9h ; '้'
seg002:769F		    mov	    dx,	0F7Fh
seg002:76A2		    sub	    dx,	bx
seg002:76A4		    mov	    cs:[bx-2], dx
seg002:76A8		    jmp	    short loc_9251
seg002:76A8 sub_9240	    endp
seg002:76A8
seg002:76A8 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:76AA byte_927A	    db 0		    ; DATA XREF: sub_92AB+CDw
seg002:76AA					    ; sub_92AB+157r
seg002:76AB
seg002:76AB ;  S	U B R O	U T I N	E 
seg002:76AB
seg002:76AB
seg002:76AB sub_927B	    proc near		    ; CODE XREF: sub_92AB+7Ep
seg002:76AB					    ; sub_9704+6p ...
seg002:76AB		    push    0
seg002:76AD		    pop	    ds
seg002:76AE		    assume ds:seg000
seg002:76AE		    push    si
seg002:76AF		    push    di
seg002:76B0		    mov	    si,	19Ch
seg002:76B3		    mov	    di,	[si]
seg002:76B5		    push    di
seg002:76B6		    mov	    cx,	[si+2]
seg002:76B9		    push    cx
seg002:76BA		    cmp	    di,	ss:56h
seg002:76BF		    jnz	    short loc_929F
seg002:76C1		    cmp	    cx,	ss:58h
seg002:76C6		    jnz	    short loc_929F
seg002:76C8		    mov	    word ptr [si], 7750h
seg002:76CC		    mov	    word ptr [si+2], cs
seg002:76CF
seg002:76CF loc_929F:				    ; CODE XREF: sub_927B+14j
seg002:76CF					    ; sub_927B+1Bj
seg002:76CF		    int	    67h		    ;  - LIM EMS
seg002:76D1		    pop	    word ptr [si+2]
seg002:76D4		    pop	    word ptr [si]
seg002:76D6		    pop	    di
seg002:76D7		    pop	    si
seg002:76D8		    push    ss
seg002:76D9		    pop	    ds
seg002:76DA		    assume ds:nothing
seg002:76DA		    retn
seg002:76DA sub_927B	    endp
seg002:76DA
seg002:76DB
seg002:76DB ;  S	U B R O	U T I N	E 
seg002:76DB
seg002:76DB
seg002:76DB sub_92AB	    proc near		    ; CODE XREF: sub_5AA8:loc_5D9Fp
seg002:76DB					    ; sub_5AA8+336p ...
seg002:76DB		    push    si
seg002:76DC		    push    di
seg002:76DD		    call    sub_855B
seg002:76E0		    mov	    ax,	3567h
seg002:76E3		    int	    21h		    ; DOS - 2+ - GET INTERRUPT VECTOR
seg002:76E3					    ; AL = interrupt number
seg002:76E3					    ; Return: ES:BX = value of interrupt vector
seg002:76E5		    mov	    cx,	es
seg002:76E7		    cmp	    cx,	ds:58h
seg002:76EB		    jz	    short loc_9326
seg002:76ED		    cmp	    word ptr es:0Bh, 4D4Dh
seg002:76F4		    jnz	    short loc_9326
seg002:76F6		    cmp	    word ptr es:0Eh, 5858h
seg002:76FD		    jnz	    short loc_9326
seg002:76FF		    cmp	    byte ptr es:0Ah, 45h ; 'E'
seg002:7705		    jnz	    short loc_9326
seg002:7707		    cmp	    byte ptr es:0Dh, 58h ; 'X'
seg002:770D		    jnz	    short loc_9326
seg002:770F		    cmp	    byte ptr es:11h, 30h ; '0'
seg002:7715		    jnz	    short loc_9326
seg002:7717		    test    byte ptr ds:47h, 80h
seg002:771C		    jnz	    short loc_9321
seg002:771E		    test    byte ptr ds:14h, 2
seg002:7723		    jnz	    short loc_9321
seg002:7725		    mov	    ax,	0DE00h
seg002:7728		    int	    67h		    ;  - LIM EMS Program Interface - INSTALLATION CHECK
seg002:7728					    ; Return: AH = 00h	  VCPI is present, BH =	major version number
seg002:7728					    ; BL = minor version number, AH nonzero  VCPI not present
seg002:772A		    or	    ah,	ah
seg002:772C		    jz	    short loc_9321
seg002:772E		    mov	    ah,	43h ; 'C'
seg002:7730		    mov	    bx,	1
seg002:7733		    int	    67h		    ;  - LIM EMS - GET HANDLE AND ALLOCATE MEMORY
seg002:7733					    ; BX = number of logical pages to allocate
seg002:7733					    ; Return: AH = status
seg002:7735		    or	    ah,	ah
seg002:7737		    jnz	    short loc_9326
seg002:7739		    mov	    cs:word_46A9, dx
seg002:773E		    jmp	    short loc_9326
seg002:7740 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:7740
seg002:7740 loc_9310:				    ; CODE XREF: sub_92AB+79j
seg002:7740					    ; sub_92AB+83j ...
seg002:7740		    call    sub_82A4
seg002:7743		    push    ax
seg002:7744		    call    sub_46AB
seg002:7747		    xor	    ax,	ax
seg002:7749		    pop	    cx
seg002:774A		    jcxz    short loc_931D
seg002:774C		    dec	    ax
seg002:774D
seg002:774D loc_931D:				    ; CODE XREF: sub_92AB+6Fj
seg002:774D		    pop	    di
seg002:774E		    pop	    si
seg002:774F		    retn
seg002:774F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:7750		    db 0CFh
seg002:7751 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:7751
seg002:7751 loc_9321:				    ; CODE XREF: sub_92AB+41j
seg002:7751					    ; sub_92AB+48j ...
seg002:7751		    call    sub_82A4
seg002:7754		    jz	    short loc_9310
seg002:7756
seg002:7756 loc_9326:				    ; CODE XREF: sub_92AB+10j
seg002:7756					    ; sub_92AB+19j ...
seg002:7756		    mov	    ax,	0DE00h
seg002:7759		    call    sub_927B
seg002:775C		    or	    ah,	ah
seg002:775E		    jnz	    short loc_9310
seg002:7760		    mov	    ax,	0DE0Ah
seg002:7763		    int	    67h		    ;  - LIM EMS Program Interface - GET 8259 INTERRUPT	VECTOR MAPPINGS
seg002:7763					    ; Return: AH = 00h successful, BX =	first vector used by master 8259 (IRQ0)
seg002:7763					    ; CX = first vector	used by	slave 8259 (IRQ8)
seg002:7763					    ; AH nonzero: failed
seg002:7765		    or	    ah,	ah
seg002:7767		    jnz	    short loc_9310
seg002:7769		    mov	    ds:50h, bl
seg002:776D		    mov	    ds:51h, cl
seg002:7771		    mov	    byte ptr ds:2Eh, 0Bh
seg002:7776		    call    sub_4CA8
seg002:7779		    call    sub_5414
seg002:777C		    cmp	    word ptr ds:0DECh, 602h
seg002:7782		    jb	    short loc_9366
seg002:7784		    mov	    word ptr ds:0DEEh, 4
seg002:778A		    mov	    word ptr ds:0DF0h, 0FC00h
seg002:7790		    mov	    word ptr ds:0DF2h, 801h
seg002:7796
seg002:7796 loc_9366:				    ; CODE XREF: sub_92AB+A7j
seg002:7796		    mov	    al,	ds:47h
seg002:7799		    and	    al,	80h
seg002:779B		    or	    al,	ds:0A16h
seg002:779F		    mov	    ah,	ds:15h
seg002:77A3		    and	    ah,	20h
seg002:77A6		    or	    al,	ah
seg002:77A8		    mov	    cs:byte_927A, al
seg002:77AC		    xor	    si,	si
seg002:77AE		    xor	    dx,	dx
seg002:77B0		    mov	    ax,	0BF02h
seg002:77B3		    test    byte ptr ds:14h, 10h
seg002:77B8		    jz	    short loc_938C
seg002:77BA		    mov	    al,	0DCh ; ''
seg002:77BC
seg002:77BC loc_938C:				    ; CODE XREF: sub_92AB+DDj
seg002:77BC		    call    near ptr byte_2AC4
seg002:77BF		    or	    dx,	dx
seg002:77C1		    jz	    short loc_93F6
seg002:77C3		    push    ds
seg002:77C4		    pop	    es
seg002:77C5		    mov	    ds,	dx
seg002:77C7		    cmp	    word ptr ds:0, 1F4h
seg002:77CD		    jb	    loc_93A5
seg002:77D1		    cmp	    al,	2
seg002:77D3		    jnz	    short loc_93F6
seg002:77D5
seg002:77D5 loc_93A5:				    ; CODE XREF: sub_92AB+F2j
seg002:77D5		    test    byte ptr ss:14h, 10h
seg002:77DB		    jnz	    short loc_93B5
seg002:77DD		    cmp	    byte ptr ss:0A16h, 0
seg002:77E3		    jnz	    short loc_93F6
seg002:77E5
seg002:77E5 loc_93B5:				    ; CODE XREF: sub_92AB+100j
seg002:77E5		    mov	    di,	98h ; ''
seg002:77E8		    cmp	    dword ptr [si], 40000h
seg002:77EF		    setnbe  byte ptr ss:0DFFh
seg002:77F5		    mov	    cx,	0Ch
seg002:77F8		    rep	movsw
seg002:77FA		    push    es
seg002:77FB		    pop	    ds
seg002:77FC		    mov	    eax, ds:98h
seg002:7800		    shr	    eax, 6
seg002:7804		    mov	    ds:0ECAh, ax
seg002:7807		    mov	    eax, ds:9Ch
seg002:780B		    shr	    eax, 6
seg002:780F		    sub	    ax,	ds:0ECAh
seg002:7813		    mov	    ds:0ECEh, ax
seg002:7816		    cmp	    dx,	ds:0A2h
seg002:781A		    jnz	    short loc_93F3
seg002:781C		    test    byte ptr ds:47h, 80h
seg002:7821		    jnz	    short loc_9442
seg002:7823
seg002:7823 loc_93F3:				    ; CODE XREF: sub_92AB+13Fj
seg002:7823		    jmp	    loc_94A1
seg002:7826 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:7826
seg002:7826 loc_93F6:				    ; CODE XREF: sub_92AB+E6j
seg002:7826					    ; sub_92AB+F8j ...
seg002:7826		    push    ss
seg002:7827		    pop	    ds
seg002:7828		    call    sub_9704
seg002:782B		    mov	    dx,	bx
seg002:782D		    cmp	    dx,	4
seg002:7830		    jb	    short loc_940D
seg002:7832		    mov	    al,	cs:byte_927A
seg002:7836		    mov	    ds:0DFFh, al
seg002:7839		    or	    al,	al
seg002:783B		    jnz	    short loc_9424
seg002:783D
seg002:783D loc_940D:				    ; CODE XREF: sub_92AB+155j
seg002:783D		    mov	    ax,	3000h
seg002:7840		    cmp	    ds:0ECCh, ax
seg002:7844		    jb	    short loc_9419
seg002:7846		    mov	    ds:0ECCh, ax
seg002:7849
seg002:7849 loc_9419:				    ; CODE XREF: sub_92AB+169j
seg002:7849		    cmp	    dx,	300h
seg002:784D		    jbe	    short loc_9424
seg002:784F		    mov	    dx,	3000h
seg002:7852		    jmp	    short loc_942A
seg002:7854 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:7854
seg002:7854 loc_9424:				    ; CODE XREF: sub_92AB+160j
seg002:7854					    ; sub_92AB+172j
seg002:7854		    shl	    dx,	4
seg002:7857		    call    sub_9720
seg002:785A
seg002:785A loc_942A:				    ; CODE XREF: sub_92AB+177j
seg002:785A		    mov	    ds:0ECEh, dx
seg002:785E		    add	    dx,	2FFFh
seg002:7862		    jnb	    short loc_943B
seg002:7864		    mov	    dx,	0EF00h
seg002:7867		    mov	    ds:0ECEh, dx
seg002:786B
seg002:786B loc_943B:				    ; CODE XREF: sub_92AB+187j
seg002:786B		    cmp	    byte ptr ds:0DFFh, 0
seg002:7870		    jz	    short loc_944A
seg002:7872
seg002:7872 loc_9442:				    ; CODE XREF: sub_92AB+146j
seg002:7872		    mov	    dx,	2000h
seg002:7875		    mov	    byte ptr ds:0DFFh, 1
seg002:787A
seg002:787A loc_944A:				    ; CODE XREF: sub_92AB+195j
seg002:787A		    and	    dx,	0F000h
seg002:787E		    mov	    ds:0E00h, dh
seg002:7882		    push    dx
seg002:7883		    mov	    ax,	ds
seg002:7885		    shl	    ax,	4
seg002:7888		    add	    ax,	ds:0CDEh
seg002:788C		    and	    ah,	0Fh
seg002:788F		    neg	    ax
seg002:7891		    add	    ah,	10h
seg002:7894		    push    ax
seg002:7895		    add	    ax,	dx
seg002:7897		    push    ax
seg002:7898		    call    sub_B12
seg002:789D		    call    sub_8193
seg002:78A0		    pop	    cx
seg002:78A1		    cmp	    ax,	0FFFFh
seg002:78A4		    jnz	    short loc_947B
seg002:78A6
seg002:78A6 loc_9476:				    ; CODE XREF: sub_9832-13j
seg002:78A6		    push    17h
seg002:78A8		    call    sub_3E7D
seg002:78AB
seg002:78AB loc_947B:				    ; CODE XREF: sub_92AB+1C9j
seg002:78AB		    pop	    cx
seg002:78AC		    add	    ax,	cx
seg002:78AE		    shr	    ax,	4
seg002:78B1		    mov	    dx,	es
seg002:78B3		    add	    ax,	dx
seg002:78B5		    or	    al,	al
seg002:78B7		    jz	    loc_9490
seg002:78BB		    push    18h
seg002:78BD		    call    sub_3E7D
seg002:78C0
seg002:78C0 loc_9490:				    ; CODE XREF: sub_92AB+1DCj
seg002:78C0		    mov	    ds:0AAh, ax
seg002:78C3		    mov	    ds:0DF4h, ax
seg002:78C6		    mov	    es,	ax
seg002:78C8		    xor	    di,	di
seg002:78CA		    pop	    cx
seg002:78CB		    shr	    cx,	1
seg002:78CD		    xor	    ax,	ax
seg002:78CF		    rep	stosw
seg002:78D1
seg002:78D1 loc_94A1:				    ; CODE XREF: sub_92AB:loc_93F3j
seg002:78D1		    cmp	    byte ptr ds:0DFFh, 0
seg002:78D6		    jz	    short loc_94BA
seg002:78D8		    or	    byte ptr ds:0A16h, 1
seg002:78DD		    test    byte ptr ds:11D2h, 1
seg002:78E2		    jnz	    short loc_94BA
seg002:78E4		    mov	    word ptr ds:0ECCh, 0EF00h
seg002:78EA
seg002:78EA loc_94BA:				    ; CODE XREF: sub_92AB+1FBj
seg002:78EA					    ; sub_92AB+207j
seg002:78EA		    mov	    ax,	ds
seg002:78EC		    mov	    bx,	10h
seg002:78EF		    mul	    bx
seg002:78F1		    add	    ds:0D34h, ax
seg002:78F5		    adc	    ds:0D36h, dx
seg002:78F9		    add	    ds:0D3Ch, ax
seg002:78FD		    adc	    ds:0D3Eh, dx
seg002:7901		    add	    ds:0D40h, ax
seg002:7905		    adc	    ds:0D42h, dx
seg002:7909		    add	    ax,	0D74h
seg002:790C		    adc	    dx,	0
seg002:790F		    mov	    ds:91Ah, ax
seg002:7912		    mov	    ds:91Ch, dl
seg002:7916		    mov	    ax,	ds:0AAh
seg002:7919		    inc	    ah
seg002:791B		    mov	    es,	ax
seg002:791D		    xor	    di,	di
seg002:791F		    mov	    si,	940h
seg002:7922		    mov	    ax,	0DE01h
seg002:7925		    int	    67h		    ;  - LIM EMS Program Interface - GET PROTECTED MODE	INTERFACE
seg002:7925					    ; ES:DI -> 4K page table buffer
seg002:7925					    ; DS:SI -> three descriptor	table entries in GDT
seg002:7925					    ; Return: AH = 00h successful, AH =	nonzero	 failed
seg002:7927		    or	    ah,	ah
seg002:7929		    jz	    short loc_9503
seg002:792B
seg002:792B loc_94FB:				    ; CODE XREF: sub_9832-1E6j
seg002:792B		    call    sub_46AB
seg002:792E		    push    19h
seg002:7930		    call    sub_3E7D
seg002:7933
seg002:7933 loc_9503:				    ; CODE XREF: sub_92AB+24Ej
seg002:7933		    mov	    ds:0D5Ah, ebx
seg002:7938		    cmp	    di,	1000h
seg002:793C		    jnb	    short loc_9511
seg002:793E		    mov	    di,	1000h
seg002:7941
seg002:7941 loc_9511:				    ; CODE XREF: sub_92AB+261j
seg002:7941		    mov	    ds:0ECAh, di
seg002:7945		    mov	    al,	ds:0E00h
seg002:7948		    or	    al,	al
seg002:794A		    jz	    loc_959D
seg002:794E		    xchg    ax,	di
seg002:794F		    cmp	    byte ptr ds:0DFFh, 0
seg002:7954		    jz	    short loc_952C
seg002:7956		    mov	    ax,	1040h
seg002:7959		    mov	    ds:0ECAh, ax
seg002:795C
seg002:795C loc_952C:				    ; CODE XREF: sub_92AB+279j
seg002:795C		    mov	    bx,	40h ; '@'
seg002:795F		    mul	    bx
seg002:7961		    mov	    ds:0ACh, ax
seg002:7964		    mov	    ds:0AEh, dx
seg002:7968		    mov	    ax,	ds:0ECEh
seg002:796B		    add	    ax,	ds:0ECAh
seg002:796F		    cmp	    byte ptr ds:0DFFh, 0
seg002:7974		    jnz	    short loc_954E
seg002:7976		    cmp	    ax,	4000h
seg002:7979		    jb	    short loc_954E
seg002:797B		    mov	    ax,	4000h
seg002:797E
seg002:797E loc_954E:				    ; CODE XREF: sub_92AB+299j
seg002:797E					    ; sub_92AB+29Ej
seg002:797E		    mov	    ds:0ECEh, ax
seg002:7981		    test    byte ptr ds:47h, 1
seg002:7986		    jz	    short loc_955D
seg002:7988		    mov	    ah,	88h ; ''
seg002:798A		    call    near ptr byte_2AC4
seg002:798D
seg002:798D loc_955D:				    ; CODE XREF: sub_92AB+2ABj
seg002:798D		    mov	    ds:0A8h, ax
seg002:7990		    call    sub_9786
seg002:7993		    mov	    cl,	ds:0E00h
seg002:7997		    xor	    ch,	ch
seg002:7999		    shr	    cx,	3
seg002:799C		    dec	    cx
seg002:799D		    dec	    cx
seg002:799E		    mov	    si,	es
seg002:79A0		    mov	    ds,	si
seg002:79A2		    sub	    si,	100h
seg002:79A6		    mov	    es,	si
seg002:79A8		    assume es:nothing
seg002:79A8		    shr	    si,	6
seg002:79AB		    lodsd
seg002:79AD		    xor	    di,	di
seg002:79AF		    rep	movsw
seg002:79B1		    push    ss
seg002:79B2		    pop	    ds
seg002:79B3
seg002:79B3 loc_9583:				    ; CODE XREF: sub_92AB+319j
seg002:79B3		    mov	    ds:0D38h, eax
seg002:79B7		    mov	    ds:0D90h, eax
seg002:79BB		    mov	    ax,	1
seg002:79BE		    mov	    word ptr ds:0AA4h, 3D15h
seg002:79C4		    mov	    word ptr ds:0AA6h, 3D68h
seg002:79CA		    pop	    di
seg002:79CB		    pop	    si
seg002:79CC		    retn
seg002:79CD ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:79CD
seg002:79CD loc_959D:				    ; CODE XREF: sub_92AB+26Fj
seg002:79CD		    mov	    eax, ds:98h
seg002:79D1		    shr	    eax, 6
seg002:79D5		    mov	    ds:0ECAh, ax
seg002:79D8		    mov	    eax, ds:9Ch
seg002:79DC		    shr	    eax, 6
seg002:79E0		    mov	    ds:0ECEh, ax
seg002:79E3		    mov	    cx,	ds:0AAh
seg002:79E7		    mov	    si,	cx
seg002:79E9		    shr	    si,	6
seg002:79EC		    inc	    ch
seg002:79EE		    mov	    es,	cx
seg002:79F0		    assume es:nothing
seg002:79F0		    mov	    eax, es:[si]
seg002:79F4		    jmp	    short loc_9583
seg002:79F4 sub_92AB	    endp
seg002:79F4
seg002:79F4 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:79F6 word_95C6	    dw 0		    ; DATA XREF: sub_9832:loc_95FAw
seg002:79F6					    ; sub_9832-1E2r ...
seg002:79F8 dword_95C8	    dd 0		    ; DATA XREF: sub_9832-24Cw
seg002:79F8					    ; seg002:7AB0r ...
seg002:79FC ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:79FC ; START OF FUNCTION	CHUNK FOR sub_9832
seg002:79FC
seg002:79FC loc_95CC:				    ; CODE XREF: sub_9832-1DDj
seg002:79FC					    ; sub_9832+27j
seg002:79FC		    mov	    ax,	0BFDEh
seg002:79FF		    mov	    bx,	5
seg002:7A02		    call    near ptr byte_2AC4
seg002:7A05		    or	    ax,	ax
seg002:7A07		    jz	    short loc_95FA
seg002:7A09		    mov	    es,	word ptr ss:0AAh
seg002:7A0E		    mov	    di,	4
seg002:7A11		    mov	    eax, es:[di-4]
seg002:7A16		    mov	    cs:dword_95C8, eax
seg002:7A1B		    rep	movsd
seg002:7A1E		    push    ss
seg002:7A1F		    pop	    ds
seg002:7A20		    mov	    ax,	0BFDEh
seg002:7A23		    mov	    bx,	0Bh
seg002:7A26		    call    near ptr byte_2AC4
seg002:7A29		    retn
seg002:7A2A ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:7A2A
seg002:7A2A loc_95FA:				    ; CODE XREF: sub_9832-25Bj
seg002:7A2A		    mov	    cs:word_95C6, cx
seg002:7A2F		    shl	    cx,	2
seg002:7A32		    add	    cx,	di
seg002:7A34		    movzx   ecx, cx
seg002:7A38		    mov	    ax,	es
seg002:7A3A		    movzx   eax, ax
seg002:7A3E		    shl	    eax, 4
seg002:7A42		    movzx   edi, di
seg002:7A46		    add	    edi, eax
seg002:7A49		    add	    ecx, eax
seg002:7A4C		    push    ecx
seg002:7A4E		    push    edi
seg002:7A50		    call    sub_1E60
seg002:7A53		    push    38h	; '8'
seg002:7A55		    pop	    es
seg002:7A56		    assume es:nothing
seg002:7A56		    pop	    edi
seg002:7A58		    pop	    ebx
seg002:7A5A
seg002:7A5A loc_962A:				    ; CODE XREF: sub_9832-1FCj
seg002:7A5A		    call    far	ptr 70h:5750h
seg002:7A5F		    or	    ax,	ax
seg002:7A61		    jz	    short loc_9645
seg002:7A63
seg002:7A63 loc_9633:				    ; CODE XREF: sub_9832-1EFj
seg002:7A63		    cmp	    edi, ebx
seg002:7A66		    jb	    short loc_962A
seg002:7A68		    jz	    short loc_9645
seg002:7A6A		    sub	    edi, 4
seg002:7A6E		    mov	    byte ptr es:[edi], 0
seg002:7A73		    jmp	    short loc_9633
seg002:7A75 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:7A75
seg002:7A75 loc_9645:				    ; CODE XREF: sub_9832-201j
seg002:7A75					    ; sub_9832-1FAj
seg002:7A75		    push    ax
seg002:7A76		    call    sub_24FC
seg002:7A79		    pop	    ax
seg002:7A7A		    or	    ax,	ax
seg002:7A7C		    jz	    loc_94FB
seg002:7A80		    mov	    cx,	cs:word_95C6
seg002:7A85		    jmp	    loc_95CC
seg002:7A85 ; END OF FUNCTION CHUNK FOR	sub_9832
seg002:7A88 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:7A88
seg002:7A88 loc_9658:				    ; CODE XREF: sub_6FB0+14Ep
seg002:7A88					    ; sub_6FB0+173p
seg002:7A88		    push    bp
seg002:7A89		    mov	    bp,	sp
seg002:7A8B		    push    di
seg002:7A8C		    push    si
seg002:7A8D		    call    sub_1E60
seg002:7A90		    movzx   ecx, cs:word_95C6
seg002:7A97		    jcxz    short loc_96E2
seg002:7A99		    movzx   esi, word ptr ds:0AAh
seg002:7A9F		    push    38h	; '8'
seg002:7AA1		    pop	    ds
seg002:7AA2		    assume ds:nothing
seg002:7AA2		    shl	    esi, 4
seg002:7AA6		    mov	    edi, esi
seg002:7AA9		    add	    edi, 1C00h
seg002:7AB0		    mov	    edx, cs:dword_95C8
seg002:7AB6		    xchg    edx, [esi]
seg002:7ABA		    add	    si,	4
seg002:7ABA ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:7ABD		    db 0Fh, 20h, 0D8h, 0Fh, 22h, 0D8h, 67h, 66h, 0ADh, 66h
seg002:7ABD		    db 8Bh, 0D8h, 67h, 66h, 87h, 7, 67h, 66h, 89h, 1Dh,	2 dup(0)
seg002:7ABD		    db 30h, 0, 67h, 66h, 89h, 7, 67h, 66h, 89h,	56h, 0F8h
seg002:7ABD		    db 0Fh, 20h, 0D8h, 0Fh, 22h, 0D8h, 66h, 0BFh, 4, 0,	40h
seg002:7ABD		    db 0, 1Eh, 7, 8Bh, 0D9h, 49h, 0F3h,	67h, 66h, 0A5h,	8Bh
seg002:7ABD		    db 0CBh, 0C1h, 0E1h, 0Ah, 2Bh, 0CBh, 66h, 33h, 0C0h, 0F3h
seg002:7ABD		    db 67h, 66h, 0ABh, 16h, 1Fh, 8Bh, 0Eh, 0FAh, 0Dh, 0E3h
seg002:7ABD		    db 9, 66h, 0BEh, 0,	0F0h, 3Fh, 0, 0E8h, 0D7h, 0
seg002:7B12 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:7B12
seg002:7B12 loc_96E2:				    ; CODE XREF: seg002:7A97j
seg002:7B12		    push    large dword	ptr [bp+4]
seg002:7B16		    push    large [dword ptr ds:98h]
seg002:7B1B		    call    far	ptr 70h:57BBh
seg002:7B20		    add	    sp,	8
seg002:7B23		    push    ax
seg002:7B24		    call    sub_24FC
seg002:7B27		    pop	    ax
seg002:7B28		    inc	    ax
seg002:7B29		    pop	    si
seg002:7B2A		    pop	    di
seg002:7B2B		    mov	    cs:word_95C6, 0
seg002:7B32		    pop	    bp
seg002:7B33		    retn
seg002:7B34
seg002:7B34 ;  S	U B R O	U T I N	E 
seg002:7B34
seg002:7B34
seg002:7B34 sub_9704	    proc near		    ; CODE XREF: sub_92AB+14Dp
seg002:7B34					    ; sub_9720+5p ...
seg002:7B34		    xor	    bx,	bx
seg002:7B36		    xor	    dx,	dx
seg002:7B38		    mov	    ah,	42h ; 'B'
seg002:7B3A		    call    sub_927B
seg002:7B3D		    or	    bx,	bx
seg002:7B3F		    jnz	    locret_971F
seg002:7B43		    mov	    ax,	0DE03h
seg002:7B46		    call    sub_927B
seg002:7B49		    shr	    edx, 2
seg002:7B4D		    mov	    bx,	dx
seg002:7B4F
seg002:7B4F locret_971F:			    ; CODE XREF: sub_9704+Bj
seg002:7B4F		    retn
seg002:7B4F sub_9704	    endp
seg002:7B4F
seg002:7B50
seg002:7B50 ;  S	U B R O	U T I N	E 
seg002:7B50
seg002:7B50
seg002:7B50 sub_9720	    proc near		    ; CODE XREF: sub_92AB+17Cp
seg002:7B50		    push    dx
seg002:7B51		    push    word ptr ds:0ECCh
seg002:7B55		    call    sub_9704
seg002:7B58		    mov	    si,	bx
seg002:7B5A		    mov	    di,	dx
seg002:7B5C		    call    sub_8854
seg002:7B5F		    pop	    cx
seg002:7B60		    pop	    dx
seg002:7B61		    xchg    cx,	ds:0ECCh
seg002:7B65		    or	    ax,	ax
seg002:7B67		    jz	    short locret_977B
seg002:7B69		    push    dx
seg002:7B6A		    push    cx
seg002:7B6B		    call    sub_9704
seg002:7B6E		    pop	    cx
seg002:7B6F		    pop	    ax
seg002:7B70		    cmp	    di,	dx
seg002:7B72		    xchg    ax,	dx
seg002:7B73		    jnz	    short loc_977C
seg002:7B75		    cmp	    si,	bx
seg002:7B77		    jnz	    short loc_977C
seg002:7B79		    add	    dx,	ds:0ECEh
seg002:7B7D		    cmp	    byte ptr ds:0DFFh, 0
seg002:7B82		    jnz	    loc_9761
seg002:7B86		    cmp	    dx,	3000h
seg002:7B8A		    jbe	    loc_9761
seg002:7B8E		    mov	    dx,	3000h
seg002:7B91
seg002:7B91 loc_9761:				    ; CODE XREF: sub_9720+32j
seg002:7B91					    ; sub_9720+3Aj
seg002:7B91		    mov	    ax,	ds:0ECAh
seg002:7B94		    mov	    bx,	ax
seg002:7B96		    add	    ax,	cx
seg002:7B98		    and	    al,	0FCh
seg002:7B9A		    add	    bx,	3
seg002:7B9D		    and	    bl,	0FCh
seg002:7BA0		    sub	    ax,	bx
seg002:7BA2		    mov	    ds:0ECAh, bx
seg002:7BA6		    mov	    ds:0DFAh, ax
seg002:7BA9		    or	    ax,	ax
seg002:7BAB
seg002:7BAB locret_977B:			    ; CODE XREF: sub_9720+17j
seg002:7BAB					    ; sub_9786+Ej ...
seg002:7BAB		    retn
seg002:7BAC ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:7BAC
seg002:7BAC loc_977C:				    ; CODE XREF: sub_9720+23j
seg002:7BAC					    ; sub_9720+27j
seg002:7BAC		    push    dx
seg002:7BAD		    call    sub_39C7
seg002:7BB0		    pop	    dx
seg002:7BB1		    retn
seg002:7BB1 sub_9720	    endp
seg002:7BB1
seg002:7BB1 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:7BB2 dword_9782	    dd 0		    ; DATA XREF: sub_9786+14w
seg002:7BB2					    ; sub_97B9r
seg002:7BB6
seg002:7BB6 ;  S	U B R O	U T I N	E 
seg002:7BB6
seg002:7BB6
seg002:7BB6 sub_9786	    proc near		    ; CODE XREF: sub_92AB+2B5p
seg002:7BB6		    movzx   eax, word ptr ds:0DFAh
seg002:7BBC		    shl	    eax, 0Ah
seg002:7BC0		    mov	    ds:0AA8h, eax
seg002:7BC4		    jz	    short locret_977B
seg002:7BC6		    mov	    eax, ds:98h
seg002:7BCA		    mov	    cs:dword_9782, eax
seg002:7BCF		    cmp	    byte ptr ds:0DFFh, 0
seg002:7BD4		    jnz	    short locret_977B
seg002:7BD6		    push    si
seg002:7BD7		    push    di
seg002:7BD8		    mov	    cx,	ds:0AAh
seg002:7BDC		    inc	    ch
seg002:7BDE		    mov	    es,	cx
seg002:7BE0		    assume es:nothing
seg002:7BE0		    xor	    esi, esi
seg002:7BE3		    call    sub_97B9
seg002:7BE6		    pop	    di
seg002:7BE7		    pop	    si
seg002:7BE8		    retn
seg002:7BE8 sub_9786	    endp
seg002:7BE8
seg002:7BE9
seg002:7BE9 ;  S	U B R O	U T I N	E 
seg002:7BE9
seg002:7BE9
seg002:7BE9 sub_97B9	    proc near		    ; CODE XREF: sub_9786+2Dp
seg002:7BE9		    mov	    eax, cs:dword_9782
seg002:7BEE		    movzx   edi, word ptr ds:0ECAh
seg002:7BF4		    mov	    ebx, 1000h
seg002:7BFA		    mov	    cx,	ds:0DFAh
seg002:7BFE		    add	    cx,	di
seg002:7C00		    shl	    eax, 4
seg002:7C04		    add	    eax, ebx
seg002:7C07		    dec	    eax
seg002:7C09		    and	    ax,	0F000h
seg002:7C0C		    or	    ax,	0C07h
seg002:7C0F
seg002:7C0F loc_97DF:				    ; CODE XREF: sub_97B9+36j
seg002:7C0F		    cmp	    di,	cx
seg002:7C11		    jnb	    short loc_97F1
seg002:7C13		    mov	    es:[esi+edi], eax
seg002:7C19		    add	    di,	4
seg002:7C1C		    add	    eax, ebx
seg002:7C1F		    jmp	    short loc_97DF
seg002:7C21 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:7C21
seg002:7C21 loc_97F1:				    ; CODE XREF: sub_97B9+28j
seg002:7C21		    shl	    edi, 6
seg002:7C25		    mov	    ds:0ACh, edi
seg002:7C2A		    retn
seg002:7C2A sub_97B9	    endp
seg002:7C2A
seg002:7C2B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:7C2B ; START OF FUNCTION	CHUNK FOR sub_9832
seg002:7C2B
seg002:7C2B loc_97FB:				    ; CODE XREF: sub_9832+25j
seg002:7C2B		    mov	    cs:word_95C6, cx
seg002:7C30		    mov	    es,	word ptr ds:0AAh
seg002:7C34		    assume es:nothing
seg002:7C34		    mov	    di,	4
seg002:7C37		    mov	    eax, es:[di-4]
seg002:7C3C		    mov	    cs:dword_95C8, eax
seg002:7C41		    cmp	    byte ptr ds:0E00h, 0
seg002:7C46		    jz	    short nullsub_6
seg002:7C48
seg002:7C48 loc_9818:				    ; CODE XREF: sub_9832-3j
seg002:7C48		    mov	    ax,	0DE04h
seg002:7C4B		    int	    67h		    ;  - LIM EMS Program Interface - ALLOCATE A	4K PAGE
seg002:7C4B					    ; Return: AH = 00h successful, EDX = physical address of allocated page
seg002:7C4B					    ; AH nonzero: failed
seg002:7C4D		    or	    ah,	ah
seg002:7C4F		    jnz	    loc_9476
seg002:7C53		    inc	    word ptr ds:0DF6h
seg002:7C57		    or	    dx,	807h
seg002:7C5B		    xchg    eax, edx
seg002:7C5D		    stosd
seg002:7C5F		    loop    loc_9818
seg002:7C5F ; END OF FUNCTION CHUNK FOR	sub_9832
seg002:7C61 ; [00000001	BYTES: COLLAPSED FUNCTION nullsub_6. PRESS KEYPAD "+" TO EXPAND]
seg002:7C62
seg002:7C62 ;  S	U B R O	U T I N	E 
seg002:7C62
seg002:7C62
seg002:7C62 sub_9832	    proc near		    ; CODE XREF: sub_5AA8+69Dp
seg002:7C62
seg002:7C62 ; FUNCTION CHUNK AT	seg002:79FC SIZE 0000008C BYTES
seg002:7C62 ; FUNCTION CHUNK AT	seg002:7C2B SIZE 00000036 BYTES
seg002:7C62
seg002:7C62		    cmp	    byte ptr ds:0E00h, 0
seg002:7C67		    jz	    short nullsub_6
seg002:7C69		    call    sub_356A
seg002:7C6C		    call    sub_1D3C
seg002:7C6F		    cmp	    byte ptr ds:0DFFh, 0
seg002:7C74		    jz	    short loc_985C
seg002:7C76		    mov	    cx,	ds:0ECEh
seg002:7C7A		    sub	    cx,	1000h
seg002:7C7E		    shr	    cx,	0Ch
seg002:7C81		    inc	    cx
seg002:7C82		    test    byte ptr ds:47h, 80h
seg002:7C87		    jz	    short loc_97FB
seg002:7C89		    jmp	    loc_95CC
seg002:7C8C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:7C8C
seg002:7C8C loc_985C:				    ; CODE XREF: sub_9832+12j
seg002:7C8C		    mov	    cx,	ds:0DFAh
seg002:7C90		    jcxz    short nullsub_6
seg002:7C92		    cmp	    word ptr ds:0ADCh, 0
seg002:7C97		    jz	    short nullsub_6
seg002:7C99		    push    si
seg002:7C9A		    push    di
seg002:7C9B		    movzx   eax, word ptr ds:0ECAh
seg002:7CA1		    shl	    eax, 0Ah
seg002:7CA5		    mov	    edx, ds:98h
seg002:7CAA		    shl	    edx, 4
seg002:7CAE		    sub	    edx, eax
seg002:7CB1		    neg	    edx
seg002:7CB4		    and	    dh,	0Fh
seg002:7CB7		    push    eax
seg002:7CB9		    or	    ax,	0EEEh
seg002:7CBC		    push    eax
seg002:7CBE		    mov	    bx,	sp
seg002:7CC0		    push    0
seg002:7CC2		    push    dx
seg002:7CC3		    push    word ptr ds:0ADCh
seg002:7CC7		    push    ss
seg002:7CC8		    push    bx
seg002:7CC9		    push    0
seg002:7CCB		    push    0
seg002:7CCD		    push    4
seg002:7CCF		    mov	    si,	sp
seg002:7CD1		    mov	    edi, 1000h
seg002:7CD7		    shr	    cx,	2
seg002:7CDA
seg002:7CDA loc_98AA:				    ; CODE XREF: sub_9832+89j
seg002:7CDA		    mov	    ah,	0Bh
seg002:7CDC		    call    dword ptr ds:0AECh
seg002:7CE0		    or	    ax,	ax
seg002:7CE2		    jz	    short loc_98F1
seg002:7CE4		    add	    [bx], edi
seg002:7CE7		    add	    [si+0Ch], edi
seg002:7CEB		    loop    loc_98AA
seg002:7CED		    call    sub_1E60
seg002:7CF0		    push    38h	; '8'
seg002:7CF2		    pop	    es
seg002:7CF3		    assume es:nothing
seg002:7CF3		    mov	    bx,	sp
seg002:7CF5		    mov	    ebx, [bx+14h]
seg002:7CF9		    mov	    eax, ebx
seg002:7CFC		    or	    ax,	0EEEh
seg002:7CFF		    mov	    cx,	ds:0DFAh
seg002:7D03		    shr	    cx,	2
seg002:7D06
seg002:7D06 loc_98D6:				    ; CODE XREF: sub_9832+B1j
seg002:7D06		    cmp	    eax, es:[ebx]
seg002:7D0B		    jnz	    short loc_98EE
seg002:7D0D		    add	    ebx, edi
seg002:7D10		    add	    eax, edi
seg002:7D13		    loop    loc_98D6
seg002:7D15		    call    sub_24FC
seg002:7D18
seg002:7D18 loc_98E8:				    ; CODE XREF: sub_9832+DAj
seg002:7D18		    add	    sp,	18h
seg002:7D1B		    pop	    di
seg002:7D1C		    pop	    si
seg002:7D1D		    retn
seg002:7D1E ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:7D1E
seg002:7D1E loc_98EE:				    ; CODE XREF: sub_9832+A9j
seg002:7D1E		    call    sub_24FC
seg002:7D21
seg002:7D21 loc_98F1:				    ; CODE XREF: sub_9832+80j
seg002:7D21		    mov	    cx,	ds:0DFAh
seg002:7D25		    add	    ds:0ECAh, cx
seg002:7D29		    mov	    ax,	ds:0AAh
seg002:7D2C		    add	    ah,	2
seg002:7D2F		    mov	    es,	ax
seg002:7D31		    assume es:nothing
seg002:7D31		    xor	    ax,	ax
seg002:7D33		    xor	    di,	di
seg002:7D35		    shr	    cx,	1
seg002:7D37		    rep	stosw
seg002:7D39		    call    sub_39C7
seg002:7D3C		    jmp	    short loc_98E8
seg002:7D3C sub_9832	    endp
seg002:7D3C
seg002:7D3C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg002:7D3E		    align 4
seg002:7D3E seg002	    ends
seg002:7D3E
seg003:0000 ; อออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออ
seg003:0000
seg003:0000 ; Segment type: Pure code
seg003:0000 seg003	    segment byte public	'CODE' use16
seg003:0000		    assume cs:seg003
seg003:0000		    assume es:nothing, ss:nothing, ds:nothing, fs:nothing, gs:nothing
seg003:0000
seg003:0000 loc_9910:				    ; DATA XREF: seg003:0537o
seg003:0000					    ; seg003:080Ao ...
seg003:0000		    call    sub_9D10
seg003:0003		    add	    al,	ch
seg003:0005		    stc
seg003:0006		    add	    ax,	[bx+di]
seg003:0008		    call    sub_9D10
seg003:000B		    add	    ch,	al
seg003:000D		    icebp
seg003:000E		    add	    ax,	[bp+di]
seg003:0010		    call    sub_9D10
seg003:0013		    add	    al,	0E8h ; '่'
seg003:0015		    jmp	    loc_9E2B
seg003:0015 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:0018		    db 0E8h, 0E5h, 3, 6, 0E8h, 0E1h, 3,	7, 0E8h, 0DDh, 3, 8
seg003:0018		    db 0E8h, 0D9h, 3, 9, 0E8h, 0D5h, 3,	0Ah, 0E8h, 0D1h, 3
seg003:0018		    db 0Bh, 0E8h, 0CDh,	3, 0Ch,	0E8h, 0C9h, 3, 0Dh, 0E8h, 0C5h
seg003:0018		    db 3, 0Eh, 0E8h, 0C1h, 3, 0Fh, 0E8h, 0BDh, 3, 10h, 0E8h
seg003:0018		    db 0B9h, 3,	11h, 0E8h, 0B5h, 3, 12h, 0E8h, 0B1h, 3,	13h
seg003:0018		    db 0E8h, 0ADh, 3, 14h, 0E8h, 0A9h, 3, 15h, 0E8h, 0A5h
seg003:0018		    db 3, 16h, 0E8h, 0A1h, 3, 17h, 0E8h, 9Dh, 3, 18h, 0E8h
seg003:0018		    db 99h, 3, 19h, 0E8h, 95h, 3, 1Ah, 0E8h, 91h, 3, 1Bh, 0E8h
seg003:0018		    db 8Dh, 3, 1Ch, 0E8h, 89h, 3, 1Dh, 0E8h, 85h, 3, 1Eh, 0E8h
seg003:0018		    db 81h, 3, 1Fh, 0E8h, 7Dh, 3, 20h, 0E8h, 79h, 3, 21h, 0E8h
seg003:0018		    db 75h, 3, 22h, 0E8h, 71h, 3, 23h, 0E8h, 6Dh, 3, 24h, 0E8h
seg003:0018		    db 69h, 3, 25h, 0E8h, 65h, 3, 26h, 0E8h, 61h, 3, 27h, 0E8h
seg003:0018		    db 5Dh, 3, 28h, 0E8h, 59h, 3, 29h, 0E8h, 55h, 3, 2Ah, 0E8h
seg003:0018		    db 51h, 3, 2Bh, 0E8h, 4Dh, 3, 2Ch, 0E8h, 49h, 3, 2Dh, 0E8h
seg003:0018		    db 45h, 3, 2Eh, 0E8h, 41h, 3, 2Fh, 0E8h, 3Dh, 3, 30h, 0E8h
seg003:0018		    db 39h, 3, 31h, 0E8h, 35h, 3, 32h, 0E8h, 31h, 3, 33h, 0E8h
seg003:0018		    db 2Dh, 3, 34h, 0E8h, 29h, 3, 35h, 0E8h, 25h, 3, 36h, 0E8h
seg003:0018		    db 21h, 3, 37h, 0E8h, 1Dh, 3, 38h, 0E8h, 19h, 3, 39h, 0E8h
seg003:0018		    db 15h, 3, 3Ah, 0E8h, 11h, 3, 3Bh, 0E8h, 0Dh, 3, 3Ch, 0E8h
seg003:0018		    db 9, 3, 3Dh, 0E8h,	5, 3, 3Eh, 0E8h, 1, 3, 3Fh, 0E8h, 0FDh
seg003:0018		    db 2, 40h, 0E8h, 0F9h, 2, 41h, 0E8h, 0F5h, 2, 42h, 0E8h
seg003:0018		    db 0F1h, 2,	43h, 0E8h, 0EDh, 2, 44h, 0E8h, 0E9h, 2,	45h
seg003:0018		    db 0E8h, 0E5h, 2, 46h, 0E8h, 0E1h, 2, 47h, 0E8h, 0DDh
seg003:0018		    db 2, 48h, 0E8h, 0D9h, 2, 49h, 0E8h, 0D5h, 2, 4Ah, 0E8h
seg003:0018		    db 0D1h, 2,	4Bh, 0E8h, 0CDh, 2, 4Ch, 0E8h, 0C9h, 2,	4Dh
seg003:0018		    db 0E8h, 0C5h, 2, 4Eh, 0E8h, 0C1h, 2, 4Fh, 0E8h, 0BDh
seg003:0018		    db 2, 50h, 0E8h, 0B9h, 2, 51h, 0E8h, 0B5h, 2, 52h, 0E8h
seg003:0018		    db 0B1h, 2,	53h, 0E8h, 0ADh, 2, 54h, 0E8h, 0A9h, 2,	55h
seg003:0018		    db 0E8h, 0A5h, 2, 56h, 0E8h, 0A1h, 2, 57h, 0E8h, 9Dh, 2
seg003:0018		    db 58h, 0E8h, 99h, 2, 59h, 0E8h, 95h, 2, 5Ah, 0E8h,	91h
seg003:0018		    db 2, 5Bh, 0E8h, 8Dh, 2, 5Ch, 0E8h,	89h, 2,	5Dh, 0E8h
seg003:0018		    db 85h, 2, 5Eh, 0E8h, 81h, 2, 5Fh, 0E8h, 7Dh, 2, 60h, 0E8h
seg003:0018		    db 79h, 2, 61h, 0E8h, 75h, 2, 62h, 0E8h, 71h, 2, 63h, 0E8h
seg003:0018		    db 6Dh, 2, 64h, 0E8h, 69h, 2, 65h, 0E8h, 65h, 2, 66h, 0E8h
seg003:0018		    db 61h, 2, 67h, 0E8h, 5Dh, 2, 68h, 0E8h, 59h, 2, 69h, 0E8h
seg003:0018		    db 55h, 2, 6Ah, 0E8h, 51h, 2, 6Bh, 0E8h, 4Dh, 2, 6Ch, 0E8h
seg003:0018		    db 49h, 2, 6Dh, 0E8h, 45h, 2, 6Eh, 0E8h, 41h, 2, 6Fh, 0E8h
seg003:0018		    db 3Dh, 2, 70h, 0E8h, 39h, 2, 71h, 0E8h, 35h, 2, 72h, 0E8h
seg003:0018		    db 31h, 2, 73h, 0E8h, 2Dh, 2, 74h, 0E8h, 29h, 2, 75h, 0E8h
seg003:0018		    db 25h, 2, 76h, 0E8h, 21h, 2, 77h, 0E8h, 1Dh, 2, 78h, 0E8h
seg003:0018		    db 19h, 2, 79h, 0E8h, 15h, 2, 7Ah, 0E8h, 11h, 2, 7Bh, 0E8h
seg003:0018		    db 0Dh, 2, 7Ch, 0E8h, 9, 2,	7Dh, 0E8h, 5, 2, 7Eh, 0E8h
seg003:0018		    db 1, 2, 7Fh, 0E8h,	0FDh, 1, 80h, 0E8h, 0F9h, 1, 81h, 0E8h
seg003:0018		    db 0F5h, 1,	82h, 0E8h, 0F1h, 1, 83h, 0E8h, 0EDh, 1,	84h
seg003:0018		    db 0E8h, 0E9h, 1, 85h
seg003:0218		    db 0E8h, 0E5h, 1, 86h, 0E8h, 0E1h, 1, 87h, 0E8h, 0DDh
seg003:0218		    db 1, 88h, 0E8h, 0D9h, 1, 89h, 0E8h, 0D5h, 1, 8Ah, 0E8h
seg003:0218		    db 0D1h, 1,	8Bh, 0E8h, 0CDh, 1, 8Ch, 0E8h, 0C9h, 1,	8Dh
seg003:0218		    db 0E8h, 0C5h, 1, 8Eh, 0E8h, 0C1h, 1, 8Fh, 0E8h, 0BDh
seg003:0218		    db 1, 90h, 0E8h, 0B9h, 1, 91h, 0E8h, 0B5h, 1, 92h, 0E8h
seg003:0218		    db 0B1h, 1,	93h, 0E8h, 0ADh, 1, 94h, 0E8h, 0A9h, 1,	95h
seg003:0218		    db 0E8h, 0A5h, 1, 96h, 0E8h, 0A1h, 1, 97h, 0E8h, 9Dh, 1
seg003:0218		    db 98h, 0E8h, 99h, 1, 99h, 0E8h, 95h, 1, 9Ah, 0E8h,	91h
seg003:0218		    db 1, 9Bh, 0E8h, 8Dh, 1, 9Ch, 0E8h,	89h, 1,	9Dh, 0E8h
seg003:0218		    db 85h, 1, 9Eh, 0E8h, 81h, 1, 9Fh, 0E8h, 7Dh, 1, 0A0h
seg003:0218		    db 0E8h, 79h, 1, 0A1h, 0E8h, 75h, 1, 0A2h, 0E8h, 71h, 1
seg003:0218		    db 0A3h, 0E8h, 6Dh,	1, 0A4h, 0E8h, 69h, 1, 0A5h, 0E8h
seg003:0218		    db 65h, 1, 0A6h, 0E8h, 61h,	1, 0A7h, 0E8h, 5Dh, 1, 0A8h
seg003:0218		    db 0E8h, 59h, 1, 0A9h, 0E8h, 55h, 1, 0AAh, 0E8h, 51h, 1
seg003:0218		    db 0ABh, 0E8h, 4Dh,	1, 0ACh, 0E8h, 49h, 1, 0ADh, 0E8h
seg003:0218		    db 45h, 1, 0AEh, 0E8h, 41h,	1, 0AFh, 0E8h, 3Dh, 1, 0B0h
seg003:0218		    db 0E8h, 39h, 1, 0B1h, 0E8h, 35h, 1, 0B2h, 0E8h, 31h, 1
seg003:0218		    db 0B3h, 0E8h, 2Dh,	1, 0B4h, 0E8h, 29h, 1, 0B5h, 0E8h
seg003:0218		    db 25h, 1, 0B6h, 0E8h, 21h,	1, 0B7h, 0E8h, 1Dh, 1, 0B8h
seg003:0218		    db 0E8h, 19h, 1, 0B9h, 0E8h, 15h, 1, 0BAh, 0E8h, 11h, 1
seg003:0218		    db 0BBh, 0E8h, 0Dh,	1, 0BCh, 0E8h, 9, 1, 0BDh, 0E8h, 5
seg003:0218		    db 1, 0BEh,	0E8h, 2	dup(1),	0BFh, 0E8h, 0FDh, 0, 0C0h
seg003:0218		    db 0E8h, 0F9h, 0, 0C1h, 0E8h, 0F5h,	0, 0C2h, 0E8h, 0F1h
seg003:0218		    db 0, 0C3h,	0E8h, 0EDh, 0, 0C4h, 0E8h, 0E9h, 0, 0C5h, 0E8h
seg003:0218		    db 0E5h, 0,	0C6h, 0E8h, 0E1h, 0, 0C7h, 0E8h, 0DDh, 0, 0C8h
seg003:0218		    db 0E8h, 0D9h, 0, 0C9h, 0E8h, 0D5h,	0, 0CAh, 0E8h, 0D1h
seg003:0218		    db 0, 0CBh,	0E8h, 0CDh, 0, 0CCh, 0E8h, 0C9h, 0, 0CDh, 0E8h
seg003:0218		    db 0C5h, 0,	0CEh, 0E8h, 0C1h, 0, 0CFh, 0E8h, 0BDh, 0, 0D0h
seg003:0218		    db 0E8h, 0B9h, 0, 0D1h, 0E8h, 0B5h,	0, 0D2h, 0E8h, 0B1h
seg003:0218		    db 0, 0D3h,	0E8h, 0ADh, 0, 0D4h, 0E8h, 0A9h, 0, 0D5h, 0E8h
seg003:0218		    db 0A5h, 0,	0D6h, 0E8h, 0A1h, 0, 0D7h, 0E8h, 9Dh, 0, 0D8h
seg003:0218		    db 0E8h, 99h, 0, 0D9h, 0E8h, 95h, 0, 0DAh, 0E8h, 91h, 0
seg003:0218		    db 0DBh, 0E8h, 8Dh,	0, 0DCh, 0E8h, 89h, 0, 0DDh, 0E8h
seg003:0218		    db 85h, 0, 0DEh, 0E8h, 81h,	0, 0DFh, 0E8h, 7Dh, 0, 0E0h
seg003:0218		    db 0E8h, 79h, 0, 0E1h, 0E8h, 75h, 0, 0E2h, 0E8h, 71h, 0
seg003:0218		    db 0E3h, 0E8h, 6Dh,	0, 0E4h, 0E8h, 69h, 0, 0E5h, 0E8h
seg003:0218		    db 65h, 0, 0E6h, 0E8h, 61h,	0, 0E7h, 0E8h, 5Dh, 0, 2 dup(0E8h)
seg003:0218		    db 59h, 0, 0E9h, 0E8h, 55h,	0, 0EAh, 0E8h, 51h, 0, 0EBh
seg003:0218		    db 0E8h, 4Dh, 0, 0ECh, 0E8h, 49h, 0, 0EDh, 0E8h, 45h, 0
seg003:0218		    db 0EEh, 0E8h, 41h,	0, 0EFh, 0E8h, 3Dh, 0, 0F0h, 0E8h
seg003:0218		    db 39h, 0, 0F1h, 0E8h, 35h,	0, 0F2h, 0E8h, 31h, 0, 0F3h
seg003:0218		    db 0E8h, 2Dh, 0, 0F4h, 0E8h, 29h, 0, 0F5h, 0E8h, 25h, 0
seg003:0218		    db 0F6h, 0E8h, 21h,	0, 0F7h, 0E8h, 1Dh, 0, 0F8h, 0E8h
seg003:0218		    db 19h, 0, 0F9h, 0E8h, 15h,	0, 0FAh, 0E8h, 11h, 0, 0FBh
seg003:0218		    db 0E8h, 0Dh, 0, 0FCh, 0E8h, 9, 0, 0FDh, 0E8h, 5, 0, 0FEh
seg003:0218		    db 0E8h, 1,	0, 0FFh
seg003:0400
seg003:0400 ;  S	U B R O	U T I N	E 
seg003:0400
seg003:0400
seg003:0400 sub_9D10	    proc near		    ; CODE XREF: seg003:loc_9910p
seg003:0400					    ; seg003:0008p ...
seg003:0400		    cli
seg003:0401		    push    bx
seg003:0402		    mov	    bx,	20h ; ' '
seg003:0405		    push    ds
seg003:0406		    mov	    ds,	bx
seg003:0408		    assume ds:nothing
seg003:0408		    sub	    word ptr ds:996h, 180h
seg003:040E		    mov	    bx,	ds:996h
seg003:0412		    mov	    [bx-2Ch], di
seg003:0415		    mov	    [bx-2Ah], si
seg003:0418		    mov	    [bx-22h], dx
seg003:041B		    mov	    [bx-20h], cx
seg003:041E		    mov	    [bx-1Eh], ax
seg003:0421		    pop	    cx
seg003:0422		    pop	    ax
seg003:0423		    mov	    [bx+4], cx
seg003:0426		    mov	    [bx-30h], cx
seg003:0429		    mov	    [bx-24h], ax
seg003:042C		    mov	    word ptr [bx+6], es
seg003:042F		    mov	    word ptr [bx-2Eh], es
seg003:0432		    mov	    word ptr [bx+2], ss
seg003:0435		    mov	    [bx-28h], bp
seg003:0438		    pop	    si
seg003:0439		    mov	    [bx+2Ah], esp
seg003:043D		    pop	    large dword	ptr [bx+1Eh]
seg003:0441		    pop	    large dword	ptr [bx+22h]
seg003:0445		    pop	    large dword	ptr [bx+26h]
seg003:0449		    mov	    cx,	[bx+26h]
seg003:044C		    xor	    ah,	ah
seg003:044E		    mov	    ds:9CAh, cx
seg003:0452		    and	    ch,	0FEh
seg003:0455		    mov	    [bx-12h], cx
seg003:0458		    and	    ch,	0FDh
seg003:045B		    mov	    al,	cs:[si]
seg003:045E		    mov	    [bx-18h], cx
seg003:0461		    lea	    bx,	[bx-32h]
seg003:0464		    mov	    dx,	20h ; ' '
seg003:0467		    mov	    ds:9CCh, al
seg003:046A		    mov	    word ptr [bx], 0EF8h
seg003:046E		    mov	    ss,	dx
seg003:0470		    assume ss:nothing
seg003:0470		    mov	    sp,	bx
seg003:0472		    mov	    word ptr [bx+1Ch], 0F34h
seg003:0477		    jmp	    far	ptr 18h:92Ch
seg003:0477 sub_9D10	    endp
seg003:0477
seg003:0477 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:047C		    db 8Eh, 5Eh, 2, 66h, 50h, 66h, 53h,	66h, 0Fh, 2, 5Eh, 2
seg003:047C		    db 66h, 0Fh, 0BAh, 0E3h, 16h, 66h, 0BBh, 4 dup(0), 73h
seg003:047C		    db 1, 66h, 8Bh, 5Eh, 2Ah, 67h, 66h,	8Fh, 43h, 0FCh,	66h
seg003:047C		    db 8Bh, 46h, 1Eh, 67h
seg003:04A3 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:04A3
seg003:04A3 loc_9DB3:				    ; CODE XREF: seg003:loc_9E2Bj
seg003:04A3		    mov	    [bp+di], eax
seg003:04A6		    mov	    ax,	[bp+22h]
seg003:04A9		    mov	    [ebx+4], ax
seg003:04AD		    mov	    ax,	[bp+28h]
seg003:04B0		    mov	    [ebx+0Ah], ax
seg003:04B4		    pop	    eax
seg003:04B6		    cmp	    dx,	[bp+6]
seg003:04B9		    jnz	    short loc_9E06
seg003:04BB
seg003:04BB loc_9DCB:				    ; CODE XREF: seg003:04F8j
seg003:04BB		    mov	    es,	dx
seg003:04BD		    assume ds:nothing
seg003:04BD		    pop	    dx
seg003:04BE		    cmp	    dx,	[bp+4]
seg003:04C1		    jnz	    short loc_9E02
seg003:04C3
seg003:04C3 loc_9DD3:				    ; CODE XREF: seg003:04F4j
seg003:04C3		    mov	    [ebx-8], dx
seg003:04C7		    pop	    word ptr [ebx-6]
seg003:04CB		    pop	    large dword	ptr [ebx-4]
seg003:04D0		    pop	    word ptr [ebx-0Ah]
seg003:04D4		    pop	    dx
seg003:04D5		    and	    dh,	0Eh
seg003:04D8		    mov	    [ebx+8], dx
seg003:04DC		    add	    word ptr ss:996h, 180h
seg003:04E3		    mov	    ss,	word ptr [bp+2]
seg003:04E6		    assume ss:nothing
seg003:04E6		    lea	    esp, [ebx-0Ah]
seg003:04EB		    pop	    dx
seg003:04EC		    pop	    ds
seg003:04ED		    pop	    bp
seg003:04EE		    pop	    ebx
seg003:04F0		    iretd
seg003:04F2 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:04F2
seg003:04F2 loc_9E02:				    ; CODE XREF: seg003:04C1j
seg003:04F2		    xor	    dx,	dx
seg003:04F4		    jmp	    short loc_9DD3
seg003:04F6 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:04F6
seg003:04F6 loc_9E06:				    ; CODE XREF: seg003:04B9j
seg003:04F6		    xor	    dx,	dx
seg003:04F8		    jmp	    short loc_9DCB
seg003:04F8 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:04FA		    db 0FBh, 80h, 0FCh,	0, 74h,	4Bh, 80h, 0FCh,	10h, 74h, 46h
seg003:04FA		    db 80h, 0FCh, 1, 74h, 5, 80h, 0FCh,	11h, 75h, 2Dh, 1Eh
seg003:04FA		    db 50h, 6Ah, 38h, 1Fh, 0A0h, 6Ch, 4, 6Ah, 20h, 1Fh,	8Ah
seg003:051B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:051B
seg003:051B loc_9E2B:				    ; CODE XREF: seg003:0015j
seg003:051B		    loopne  loc_9DB3
seg003:051D		    push    es
seg003:051E		    in	    ax,	dx
seg003:051F		    adc	    dh,	dh
seg003:0521		    push    es
seg003:0522		    adc	    al,	0
seg003:0524		    add	    al,	75h ; 'u'
seg003:0526		    or	    di,	[bp+si]
seg003:0528		    loopne  loc_9EAF
seg003:052A		    pop	    es
seg003:052B		    assume ds:nothing
seg003:052B		    pop	    ax
seg003:052C
seg003:052C loc_9E3C:				    ; CODE XREF: seg003:0541j
seg003:052C					    ; seg003:0549j
seg003:052C		    pop	    ds
seg003:052D		    assume ds:nothing
seg003:052D		    sti
seg003:052E		    db	    66h
seg003:052E		    retf    4
seg003:0532 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:0532		    pop	    ax
seg003:0533		    pushfd
seg003:0535		    db	    66h
seg003:0535		    push    cs
seg003:0537		    push    offset loc_9910
seg003:0539		    push    541h
seg003:053C
seg003:053C loc_9E4C:				    ; CODE XREF: seg003:0554j
seg003:053C		    cli
seg003:053D		    call    sub_9D10
seg003:0540		    push    ss
seg003:0541		    jz	    short loc_9E3C
seg003:0543		    dec	    byte ptr ds:10EDh
seg003:0547		    or	    sp,	sp
seg003:0549		    jmp	    short loc_9E3C
seg003:054B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:054B		    push    ds
seg003:054C		    push    20h	; ' '
seg003:054E		    pop	    ds
seg003:054F		    assume ds:nothing
seg003:054F		    dec	    byte ptr ds:10EDh
seg003:0553		    pop	    ds
seg003:0554		    assume ds:nothing
seg003:0554		    jmp	    short loc_9E4C
seg003:0554 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:0556		    db 50h, 0B0h, 0, 0E6h, 0F0h, 0B0h, 20h, 0EBh, 0, 0E6h
seg003:0556		    db 0A0h, 0EBh, 0, 0E6h, 20h, 58h, 0CDh, 2, 66h, 0CFh, 9Ch
seg003:0556		    db 0FAh, 6Ah, 20h, 1Fh, 83h, 0ECh, 4, 55h, 8Ch, 0D5h, 83h
seg003:0556		    db 0FDh, 20h, 74h, 5, 83h, 2Eh, 52h, 0Fh, 8, 8Bh, 0ECh
seg003:0556		    db 53h, 8Bh, 1Eh, 96h, 9, 83h, 0EBh, 10h, 0F6h, 47h, 0Fh
seg003:0556		    db 2, 74h, 4, 80h, 4Eh, 7, 2, 53h, 8Bh, 5Fh, 2, 0EAh, 9
seg003:0556		    db 10h, 18h, 0, 8Bh, 3Eh, 9Eh
seg003:059F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:059F
seg003:059F loc_9EAF:				    ; CODE XREF: seg003:0528j
seg003:059F		    or	    [bp+di], cx
seg003:05A1		    push    word ptr [si+0Ah]
seg003:05A4		    mov	    dx,	[di+22h]
seg003:05A7		    mov	    ax,	[di+1Eh]
seg003:05AA		    mov	    cx,	[di+26h]
seg003:05AD		    retn
seg003:05AE ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:05AE		    mov	    di,	ds:996h
seg003:05B2		    mov	    dx,	[di+2]
seg003:05B5		    mov	    ax,	[di+0Eh]
seg003:05B8		    sub	    ax,	4Ah ; 'J'
seg003:05BB		    xor	    cx,	cx
seg003:05BD		    retn
seg003:05BD ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:05BE		    db 5Fh, 5Eh, 5Ah, 5Dh, 83h,	0C4h, 0Ch, 60h,	0E8h, 0D3h
seg003:05BE		    db 0FFh, 8Ch, 0D6h,	8Bh, 0FCh, 8Eh,	0D2h, 8Bh, 0E0h, 56h
seg003:05BE		    db 57h, 8Bh, 0F4h, 0CDh, 23h, 6Ah, 20h, 1Fh, 3Bh, 0E6h
seg003:05BE		    db 74h, 5, 59h, 3Bh, 0E6h, 75h, 7, 58h, 17h, 8Bh, 0E0h
seg003:05BE		    db 61h, 0EBh, 80h, 0CCh, 0B8h, 0, 4Ch, 0CDh, 21h, 0C6h
seg003:05BE		    db 6, 0F0h,	10h, 0,	60h, 8Bh, 0ECh,	16h, 8Dh, 46h, 40h
seg003:05BE		    db 50h, 0E8h, 9Ch, 0FFh, 8Bh, 0F1h,	52h, 50h, 0FFh,	1Eh
seg003:05BE		    db 16h, 0, 83h, 0C4h, 8, 0Bh, 0F6h,	74h, 8,	36h, 8Bh, 4Ch
seg003:05BE		    db 4, 36h, 8Bh, 74h, 6, 8Bh, 0ECh, 2Dh, 1Ch, 0, 0Bh, 0C9h
seg003:05BE		    db 74h, 6, 89h, 4Eh, 32h, 89h, 76h,	34h, 89h, 46h, 3Ch
seg003:05BE		    db 89h, 56h, 3Eh, 0C7h, 46h, 36h, 57h, 6, 8Ch, 4Eh,	38h
seg003:05BE		    db 61h, 5Fh, 5Eh, 5Ah, 5Dh,	83h, 0C4h, 0Ch,	0CDh, 24h
seg003:05BE		    db 60h, 8Bh, 0ECh, 16h, 8Dh, 46h, 10h, 50h,	0FFh, 76h
seg003:05BE		    db 2Ah, 0FFh, 76h, 28h, 0FFh, 1Eh, 16h, 0, 83h, 0C4h, 8
seg003:05BE		    db 61h, 0E9h, 13h, 0FFh, 2Eh, 8Eh, 1Eh, 80h, 56h, 88h
seg003:05BE		    db 26h, 0F0h, 10h, 9Fh, 86h, 26h, 0F0h, 10h, 83h, 0ECh
seg003:05BE		    db 18h, 0EBh, 0D4h
seg003:066A off_9F7A	    dw offset loc_A1C4	    ; DATA XREF: sub_A5AE+59r
seg003:066C		    dw offset loc_AB4F
seg003:066E		    dw offset loc_A867
seg003:0670		    dw offset loc_A60C
seg003:0672		    dw offset loc_A60C
seg003:0674		    dw offset loc_A60C
seg003:0676		    dw offset loc_A60C
seg003:0678		    dw offset loc_A888
seg003:067A		    dw offset loc_A867
seg003:067C		    dw offset loc_A867
seg003:067E		    dw offset loc_A80A
seg003:0680		    dw offset loc_A82F
seg003:0682		    dw offset loc_A8AC
seg003:0684		    dw offset loc_A85E
seg003:0686		    dw offset loc_A60C
seg003:0688		    dw offset loc_A60C
seg003:068A		    dw offset loc_ACAD
seg003:068C		    dw offset loc_ACAD
seg003:068E		    dw offset loc_AC95
seg003:0690		    dw offset loc_AC95
seg003:0692		    dw offset loc_ACAD
seg003:0694		    dw offset loc_ACAD
seg003:0696		    dw offset loc_ACAD
seg003:0698		    dw offset loc_ACAD
seg003:069A		    dw offset loc_ACAD
seg003:069C		    dw offset loc_A60C
seg003:069E		    dw offset loc_A60C
seg003:06A0		    dw offset loc_AC1E
seg003:06A2		    dw offset loc_B098
seg003:06A4		    dw offset loc_B098
seg003:06A6		    dw offset loc_A60C
seg003:06A8		    dw offset loc_A60C
seg003:06AA		    dw offset loc_A60C
seg003:06AC		    dw offset loc_A60C
seg003:06AE		    dw offset loc_ACAD
seg003:06B0		    dw offset loc_ACAD
seg003:06B2		    dw offset loc_ACAD
seg003:06B4		    dw offset loc_ACAD
seg003:06B6		    dw offset sub_A9D9
seg003:06B8		    dw offset loc_A60C
seg003:06BA		    dw offset loc_ACAD
seg003:06BC		    dw offset loc_ACAD
seg003:06BE		    dw offset loc_ACEC
seg003:06C0		    dw offset loc_AD48
seg003:06C2		    dw offset loc_ADA3
seg003:06C4		    dw offset loc_ADAB
seg003:06C6		    dw offset loc_A60C
seg003:06C8		    dw offset loc_A60C
seg003:06CA		    dw offset loc_AC41
seg003:06CC		    dw offset loc_A60C
seg003:06CE		    dw offset loc_ABA4
seg003:06D0		    dw offset loc_B098
seg003:06D2		    dw offset loc_A60C
seg003:06D4		    dw offset loc_B093
seg003:06D6		    dw offset sub_AAF1
seg003:06D8		    dw offset loc_A60C
seg003:06DA		    dw offset loc_A60C
seg003:06DC		    dw offset loc_B0D1
seg003:06DE		    dw offset loc_A6B6
seg003:06E0		    dw offset loc_A6B6
seg003:06E2		    dw offset loc_A6B6
seg003:06E4		    dw offset loc_A6B6
seg003:06E6		    dw offset loc_A6B6
seg003:06E8		    dw offset loc_A60C
seg003:06EA		    dw offset loc_A712
seg003:06EC		    dw offset loc_A78F
seg003:06EE		    dw offset loc_A6B6
seg003:06F0		    dw offset loc_A60C
seg003:06F2		    dw offset loc_A703
seg003:06F4		    dw offset loc_B10D
seg003:06F6		    dw offset loc_A60C
seg003:06F8		    dw offset loc_A60C
seg003:06FA		    dw offset loc_ABED
seg003:06FC		    dw offset loc_AE36
seg003:06FE		    dw offset loc_AE74
seg003:0700		    dw offset loc_AEB8
seg003:0702		    dw offset loc_AEDD
seg003:0704		    dw offset loc_AB4F
seg003:0706		    dw offset loc_A60C
seg003:0708		    dw offset loc_AC50
seg003:070A		    dw offset loc_AC67
seg003:070C		    dw offset loc_A60C
seg003:070E		    dw offset loc_A60C
seg003:0710		    dw offset loc_A60C
seg003:0712		    dw offset loc_A60C
seg003:0714		    dw offset loc_A60C
seg003:0716		    dw offset loc_A60C
seg003:0718		    dw offset loc_AE03
seg003:071A		    dw offset loc_A60C
seg003:071C		    dw offset loc_A60C
seg003:071E		    dw offset loc_A60C
seg003:0720		    dw offset loc_A6BF
seg003:0722		    dw offset loc_A6B6
seg003:0724		    dw offset loc_A60C
seg003:0726		    dw offset loc_A60C
seg003:0728		    dw offset loc_B163
seg003:072A		    dw offset loc_B297
seg003:072C		    dw offset loc_B2AC
seg003:072E		    dw offset loc_A60C
seg003:0730		    dw offset loc_B08A
seg003:0732		    dw offset loc_A60C
seg003:0734		    dw offset loc_A60C
seg003:0736		    dw offset loc_B1E2
seg003:0738		    dw offset loc_A60C
seg003:073A		    dw offset loc_A60C
seg003:073C		    dw offset loc_A60C
seg003:073E aDos16pkg	    db 'DOS16PKG',0
seg003:0747 aInt21_call_16  db 'int21_call_16',0
seg003:0755 aInt21_creg_16  db 'int21_creg_16',0
seg003:0763 aInt31_call_16  db 'int31_call_16',0
seg003:0771 aInt31_creg_16  db 'int31_creg_16',0
seg003:077F aCp_entry	    db 'cp_entry',0
seg003:0788 aBdos_4b_flg    db 'bdos_4B_flg',0
seg003:0794 aMakexecable    db 'makexecable',0
seg003:07A0 aGP		    db 'G',7,'p',0
seg003:07A4 aP		    db 'ฺ',7,'p',0
seg003:07A8 aUP		    db 'U',7,'p',0
seg003:07AC aFP		    db 'F',8,'p',0
seg003:07B0 aCP		    db 'c',7,'p',0
seg003:07B4 aPP		    db 'P',8,'p',0
seg003:07B8 aQP		    db 'q',7,'p',0
seg003:07BC aSP		    db '',8,'p',0
seg003:07C0 aFP_0	    db '',7,'p',0
seg003:07C4		    db 26h, 1Fh, 70h, 0, 88h, 7, 70h, 0, 82h, 11h, 20h,	0
seg003:07C4		    db 7Fh, 7, 70h, 0, 5Ah, 0Dh, 20h, 3	dup(0)
seg003:07DA ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:07DA		    push    bp
seg003:07DB		    mov	    bp,	sp
seg003:07DD		    pusha
seg003:07DE		    push    ds
seg003:07DF		    push    es
seg003:07E0		    les	    bx,	[bp+6]
seg003:07E3		    mov	    ax,	es:[bx]
seg003:07E6		    mov	    cx,	es:[bx+4]
seg003:07EA		    mov	    dx,	es:[bx+6]
seg003:07EE		    mov	    si,	es:[bx+8]
seg003:07F2		    mov	    di,	es:[bx+0Ah]
seg003:07F6		    mov	    bx,	es:[bx+2]
seg003:07FA		    push    bx
seg003:07FB		    les	    bx,	[bp+0Eh]
seg003:07FE		    mov	    ds,	word ptr es:[bx+6]
seg003:0802		    mov	    es,	word ptr es:[bx]
seg003:0805		    pop	    bx
seg003:0806		    pushfd
seg003:0808		    db	    66h
seg003:0808		    push    cs
seg003:080A		    push    offset loc_9910
seg003:080C		    call    near ptr sub_A5AE
seg003:080F		    push    ax
seg003:0810		    push    es
seg003:0811		    push    bx
seg003:0812		    les	    bx,	[bp+0Ah]
seg003:0815		    mov	    es:[bx], ax
seg003:0818		    mov	    es:[bx+4], cx
seg003:081C		    mov	    es:[bx+6], dx
seg003:0820		    mov	    es:[bx+8], si
seg003:0824		    mov	    es:[bx+0Ah], di
seg003:0828		    mov	    es:[bx+0Ah], di
seg003:082C		    pushf
seg003:082D		    pop	    word ptr es:[bx+0Ch]
seg003:0831		    pop	    ax
seg003:0832		    mov	    es:[bx+2], ax
seg003:0836		    les	    bx,	[bp+0Eh]
seg003:0839		    mov	    es:[bx+6], di
seg003:083D		    pop	    word ptr es:[bx]
seg003:0840		    pop	    ax
seg003:0841		    pop	    es
seg003:0842		    pop	    ds
seg003:0843		    popa
seg003:0844		    pop	    bp
seg003:0845		    retf
seg003:0846
seg003:0846 ;  S	U B R O	U T I N	E 
seg003:0846
seg003:0846
seg003:0846 sub_A156	    proc far		    ; CODE XREF: sub_A368+1Dp
seg003:0846					    ; sub_A368+25p ...
seg003:0846		    pushfd
seg003:0848		    db	    66h
seg003:0848		    push    cs
seg003:084A		    push    offset loc_9910
seg003:084C		    call    near ptr sub_A5AE
seg003:084F		    retf
seg003:084F sub_A156	    endp ; sp =	-8
seg003:084F
seg003:084F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:0850		    db 1Eh, 2Eh, 8Eh, 1Eh, 80h,	56h, 80h, 3Eh, 2Eh, 2 dup(0)
seg003:0850		    db 1Fh, 75h, 3, 0CDh, 31h, 0CBh, 55h, 8Bh, 0ECh, 60h, 1Eh
seg003:0850		    db 6, 0C4h,	5Eh, 6,	26h, 8Bh, 7, 26h, 8Bh, 4Fh, 4, 26h
seg003:0850		    db 8Bh, 57h, 6, 26h, 8Bh, 77h, 8, 26h, 8Bh,	7Fh, 0Ah, 26h
seg003:0850		    db 8Bh, 5Fh, 2, 53h, 0C4h, 5Eh, 0Eh, 26h, 8Eh, 5Fh,	6
seg003:0850		    db 26h, 8Eh, 7, 5Bh, 66h, 9Ch, 66h,	0Eh, 6Ah, 0, 0E8h
seg003:0850		    db 40h, 3Ch, 0E9h, 76h, 0FFh
seg003:0899
seg003:0899 ;  S	U B R O	U T I N	E 
seg003:0899
seg003:0899
seg003:0899 sub_A1A9	    proc far		    ; CODE XREF: sub_A3C9+53p
seg003:0899					    ; sub_A3C9+72p ...
seg003:0899		    push    ds
seg003:089A		    mov	    ds,	cs:word_EF90
seg003:089F		    assume ds:nothing
seg003:089F		    cmp	    byte ptr ds:2Eh, 0
seg003:08A4		    pop	    ds
seg003:08A5		    assume ds:nothing
seg003:08A5		    jnz	    short loc_A1BA
seg003:08A7		    int	    31h		    ; DPMI Services   ax=func xxxxh
seg003:08A7					    ;
seg003:08A9		    retf
seg003:08AA ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:08AA
seg003:08AA loc_A1BA:				    ; CODE XREF: sub_A1A9+Cj
seg003:08AA		    pushfd
seg003:08AC		    db	    66h
seg003:08AC		    push    cs
seg003:08AE		    push    offset loc_9910
seg003:08B0		    call    sub_DDE6
seg003:08B3		    retf
seg003:08B3 sub_A1A9	    endp ; sp =	-0Ah
seg003:08B3
seg003:08B4 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:08B4 ; START OF FUNCTION	CHUNK FOR sub_A5AE
seg003:08B4
seg003:08B4 loc_A1C4:				    ; CODE XREF: sub_A5AE+59j
seg003:08B4					    ; DATA XREF: seg003:off_9F7Ao
seg003:08B4		    or	    byte ptr [bp+26h], 1
seg003:08B8		    xor	    di,	di
seg003:08BA		    mov	    ds:38h, di
seg003:08BE		    mov	    di,	[bp+12h]
seg003:08C1		    mov	    ax,	di
seg003:08C3		    shr	    di,	8
seg003:08C6		    cmp	    di,	1Ah
seg003:08CA		    ja	    short loc_A1EA
seg003:08CC		    shl	    di,	1
seg003:08CE		    call    cs:off_A540[di]
seg003:08CE ; END OF FUNCTION CHUNK FOR	sub_A5AE
seg003:08D3 ; START OF FUNCTION	CHUNK FOR sub_A202
seg003:08D3
seg003:08D3 loc_A1E3:				    ; CODE XREF: sub_A202+3j
seg003:08D3		    and	    byte ptr [bp+26h], 0FEh
seg003:08D3 ; END OF FUNCTION CHUNK FOR	sub_A202
seg003:08D7 ; START OF FUNCTION	CHUNK FOR sub_A1ED
seg003:08D7
seg003:08D7 loc_A1E7:				    ; CODE XREF: sub_A1ED+7j
seg003:08D7					    ; sub_A218+9j ...
seg003:08D7		    mov	    [bp+16h], ax
seg003:08DA
seg003:08DA loc_A1EA:				    ; CODE XREF: sub_A5AE-3D4j
seg003:08DA					    ; sub_A271:loc_A28Ej
seg003:08DA		    jmp	    sub_A628
seg003:08DA ; END OF FUNCTION CHUNK FOR	sub_A1ED
seg003:08DD
seg003:08DD ;  S	U B R O	U T I N	E 
seg003:08DD
seg003:08DD
seg003:08DD sub_A1ED	    proc near		    ; CODE XREF: sub_A5AE-3D0p
seg003:08DD					    ; DATA XREF: seg003:off_A540o
seg003:08DD
seg003:08DD ; FUNCTION CHUNK AT	seg003:08D7 SIZE 00000006 BYTES
seg003:08DD
seg003:08DD		    cmp	    al,	5
seg003:08DF		    jbe	    short loc_A1F6
seg003:08E1		    mov	    ax,	0FFFFh
seg003:08E4		    jmp	    short loc_A1E7
seg003:08E6 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:08E6
seg003:08E6 loc_A1F6:				    ; CODE XREF: sub_A1ED+2j
seg003:08E6		    xchg    al,	ds:980h
seg003:08EA		    retn
seg003:08EA sub_A1ED	    endp
seg003:08EA
seg003:08EB
seg003:08EB ;  S	U B R O	U T I N	E 
seg003:08EB
seg003:08EB
seg003:08EB sub_A1FB	    proc near		    ; CODE XREF: sub_A5AE-3D0p
seg003:08EB					    ; DATA XREF: seg003:0C32o
seg003:08EB		    call    sub_BAF2
seg003:08EE		    mov	    [bp+12h], dx
seg003:08F1		    retn
seg003:08F1 sub_A1FB	    endp
seg003:08F1
seg003:08F2
seg003:08F2 ;  S	U B R O	U T I N	E 
seg003:08F2
seg003:08F2
seg003:08F2 sub_A202	    proc near		    ; CODE XREF: sub_A5AE-3D0p
seg003:08F2					    ; DATA XREF: seg003:0C34o
seg003:08F2
seg003:08F2 ; FUNCTION CHUNK AT	seg003:08D3 SIZE 00000004 BYTES
seg003:08F2
seg003:08F2		    mov	    ds:1181h, al
seg003:08F5		    jmp	    short loc_A1E3
seg003:08F5 sub_A202	    endp
seg003:08F5
seg003:08F7
seg003:08F7 ;  S	U B R O	U T I N	E 
seg003:08F7
seg003:08F7
seg003:08F7 sub_A207	    proc near		    ; CODE XREF: sub_A5AE-3D0p
seg003:08F7					    ; DATA XREF: seg003:0C36o
seg003:08F7		    mov	    cx,	3309h
seg003:08FA
seg003:08FA loc_A20A:				    ; CODE XREF: sub_A213+3j
seg003:08FA		    push    ss
seg003:08FB		    push    bp
seg003:08FC		    call    cx
seg003:08FE		    pop	    cx
seg003:08FF		    pop	    cx
seg003:0900		    jmp	    sub_A628
seg003:0900 sub_A207	    endp
seg003:0900
seg003:0903
seg003:0903 ;  S	U B R O	U T I N	E 
seg003:0903
seg003:0903
seg003:0903 sub_A213	    proc near		    ; CODE XREF: sub_A5AE-3D0p
seg003:0903					    ; DATA XREF: seg003:0C38o
seg003:0903		    mov	    cx,	3536h
seg003:0906		    jmp	    short loc_A20A
seg003:0906 sub_A213	    endp
seg003:0906
seg003:0908
seg003:0908 ;  S	U B R O	U T I N	E 
seg003:0908
seg003:0908
seg003:0908 sub_A218	    proc near		    ; CODE XREF: sub_A5AE-3D0p
seg003:0908					    ; DATA XREF: seg003:0C3Ao
seg003:0908		    push    word ptr [bp+10h]
seg003:090B		    call    sub_CEEA
seg003:090E
seg003:090E loc_A21E:				    ; CODE XREF: sub_A224+6j
seg003:090E					    ; sub_A22C+17j ...
seg003:090E		    pop	    cx
seg003:090F		    or	    ax,	ax
seg003:0911		    jz	    short loc_A1E7
seg003:0913		    retn
seg003:0913 sub_A218	    endp
seg003:0913
seg003:0914
seg003:0914 ;  S	U B R O	U T I N	E 
seg003:0914
seg003:0914
seg003:0914 sub_A224	    proc near		    ; CODE XREF: sub_A5AE-3D0p
seg003:0914					    ; DATA XREF: seg003:0C3Co
seg003:0914		    push    word ptr [bp+10h]
seg003:0917		    call    sub_CEFA
seg003:091A		    jmp	    short loc_A21E
seg003:091A sub_A224	    endp
seg003:091A
seg003:091C
seg003:091C ;  S	U B R O	U T I N	E 
seg003:091C
seg003:091C
seg003:091C sub_A22C	    proc near		    ; CODE XREF: sub_A5AE-3D0p
seg003:091C					    ; DATA XREF: seg003:0C3Eo
seg003:091C		    mov	    ax,	[bp+10h]
seg003:091F		    push    ax
seg003:0920		    xchg    ax,	si
seg003:0921		    sti
seg003:0922		    call    sub_CF0A
seg003:0925		    cli
seg003:0926		    cmp	    si,	[bp+6]
seg003:0929		    jnz	    short loc_A240
seg003:092B		    mov	    word ptr [bp+6], 0
seg003:0930
seg003:0930 loc_A240:				    ; CODE XREF: sub_A22C+Dj
seg003:0930		    sub	    si,	[bp+4]
seg003:0933		    jnz	    short loc_A21E
seg003:0935		    mov	    [bp+4], si
seg003:0938		    jmp	    short loc_A21E
seg003:0938 sub_A22C	    endp
seg003:0938
seg003:093A
seg003:093A ;  S	U B R O	U T I N	E 
seg003:093A
seg003:093A
seg003:093A sub_A24A	    proc near		    ; CODE XREF: sub_A5AE-3D0p
seg003:093A					    ; DATA XREF: seg003:0C40o
seg003:093A		    push    word ptr [bp+14h]
seg003:093D		    push    word ptr [bp+6]
seg003:0940		    push    word ptr [bp+10h]
seg003:0943		    call    sub_CFBB
seg003:0946		    pop	    cx
seg003:0947		    pop	    cx
seg003:0948		    jmp	    short loc_A21E
seg003:0948 sub_A24A	    endp
seg003:0948
seg003:094A
seg003:094A ;  S	U B R O	U T I N	E 
seg003:094A
seg003:094A
seg003:094A sub_A25A	    proc near		    ; CODE XREF: sub_A5AE-3D0p
seg003:094A					    ; DATA XREF: seg003:0C42o
seg003:094A		    mov	    bx,	[bp-2]
seg003:094D		    or	    bx,	bx
seg003:094F		    jz	    short loc_A26D
seg003:0951		    mov	    ax,	[bx+22h]
seg003:0954		    mov	    [bp+6], ax
seg003:0957		    mov	    bx,	[bx+26h]
seg003:095A		    add	    bx,	1Eh
seg003:095D
seg003:095D loc_A26D:				    ; CODE XREF: sub_A25A+5j
seg003:095D		    mov	    [bp+10h], bx
seg003:0960		    retn
seg003:0960 sub_A25A	    endp
seg003:0960
seg003:0961
seg003:0961 ;  S	U B R O	U T I N	E 
seg003:0961
seg003:0961
seg003:0961 sub_A271	    proc near		    ; CODE XREF: sub_A5AE-3D0p
seg003:0961					    ; DATA XREF: seg003:0C44o
seg003:0961		    push    word ptr [bp+14h]
seg003:0964		    xor	    ax,	ax
seg003:0966		    mov	    al,	[bp+16h]
seg003:0969		    push    ax
seg003:096A		    push    word ptr [bp+10h]
seg003:096D		    call    sub_D02D
seg003:0970		    add	    sp,	6
seg003:0973		    mov	    [bp+6], ax
seg003:0976		    or	    ax,	ax
seg003:0978		    jz	    short loc_A28E
seg003:097A		    and	    byte ptr [bp+26h], 0FEh
seg003:097E
seg003:097E loc_A28E:				    ; CODE XREF: sub_A271+17j
seg003:097E					    ; sub_A2A5+2j ...
seg003:097E		    jmp	    loc_A1EA
seg003:097E sub_A271	    endp
seg003:097E
seg003:0981
seg003:0981 ;  S	U B R O	U T I N	E 
seg003:0981
seg003:0981
seg003:0981 sub_A291	    proc near		    ; CODE XREF: sub_A5AE-3D0p
seg003:0981					    ; DATA XREF: seg003:0C46o
seg003:0981		    push    word ptr [bp+14h]
seg003:0984		    xor	    ax,	ax
seg003:0986		    mov	    al,	[bp+16h]
seg003:0989		    push    ax
seg003:098A		    push    word ptr [bp+10h]
seg003:098D		    call    sub_D06D
seg003:0990		    pop	    cx
seg003:0991		    pop	    cx
seg003:0992		    jmp	    loc_A21E
seg003:0992 sub_A291	    endp
seg003:0992
seg003:0995
seg003:0995 ;  S	U B R O	U T I N	E 
seg003:0995
seg003:0995
seg003:0995 sub_A2A5	    proc near		    ; CODE XREF: sub_A5AE-3D0p
seg003:0995					    ; DATA XREF: seg003:0C48o
seg003:0995		    cmp	    al,	2
seg003:0997		    ja	    short loc_A28E
seg003:0999		    xchg    al,	ds:1185h
seg003:099D		    retn
seg003:099D sub_A2A5	    endp
seg003:099D
seg003:099E
seg003:099E ;  S	U B R O	U T I N	E 
seg003:099E
seg003:099E
seg003:099E sub_A2AE	    proc far		    ; CODE XREF: sub_A5AE-3D0p
seg003:099E					    ; DATA XREF: seg003:0C4Ao
seg003:099E		    mov	    ax,	ds:14h
seg003:09A1		    and	    ax,	8
seg003:09A4		    jz	    short loc_A28E
seg003:09A6		    mov	    ax,	[bp+10h]
seg003:09A9		    mov	    cx,	ax
seg003:09AB		    or	    cx,	cx
seg003:09AD		    jl	    short loc_A2C3
seg003:09AF		    inc	    cx
seg003:09B0		    mov	    ds:0E70h, ax
seg003:09B3
seg003:09B3 loc_A2C3:				    ; CODE XREF: sub_A2AE+Fj
seg003:09B3		    mov	    [bx+0Eh], sp
seg003:09B6		    mov	    ss,	word ptr ds:0C28h
seg003:09BA		    mov	    sp,	ds:0F50h
seg003:09BE		    cmp	    byte ptr ds:2Eh, 0
seg003:09C3		    jz	    short loc_A30A
seg003:09C5		    sub	    sp,	2Ah
seg003:09C8		    mov	    [bx+0Ah], sp
seg003:09CB		    push    es
seg003:09CC		    push    ds
seg003:09CD		    push    ss
seg003:09CE		    push    18h
seg003:09D0		    push    word ptr [bx+0Ah]
seg003:09D3		    push    cx
seg003:09D4		    push    bx
seg003:09D5		    jmp	    far	ptr 18h:10F2h
seg003:09DA ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:09DA		    mov	    bx,	ds:996h
seg003:09DE		    mov	    ss,	word ptr [bx+2]
seg003:09E1		    mov	    sp,	[bx+0Eh]
seg003:09E4		    mov	    es,	word ptr [bp+6]
seg003:09E7		    mov	    di,	[bx+8]
seg003:09EA		    mov	    si,	[bx+0Ah]
seg003:09ED		    push    word ptr [si+4]
seg003:09F0		    mov	    cx,	15h
seg003:09F3		    cld
seg003:09F4		    rep	movsw
seg003:09F6		    pop	    cx
seg003:09F7		    jcxz    short loc_A35B
seg003:09F9		    retn
seg003:09FA ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:09FA
seg003:09FA loc_A30A:				    ; CODE XREF: sub_A2AE+25j
seg003:09FA		    inc	    byte ptr ds:1182h
seg003:09FE		    push    word ptr [bx+6]
seg003:0A01		    push    word ptr [bx+8]
seg003:0A04		    push    cx
seg003:0A05		    push    cs
seg003:0A06		    push    offset loc_A321
seg003:0A09		    push    word ptr ds:0C26h
seg003:0A0D		    push    47B2h
seg003:0A10		    retf
seg003:0A10 sub_A2AE	    endp ; sp =	-0Eh
seg003:0A10
seg003:0A11 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:0A11
seg003:0A11 loc_A321:				    ; DATA XREF: sub_A2AE+68o
seg003:0A11		    mov	    bx,	ds:996h
seg003:0A15		    mov	    ss,	word ptr [bx+2]
seg003:0A18		    mov	    sp,	[bx+0Eh]
seg003:0A1B		    mov	    es,	word ptr [bp+6]
seg003:0A1E		    mov	    di,	[bp+8]
seg003:0A21		    dec	    byte ptr ds:1182h
seg003:0A25		    cmp	    word ptr es:[di+4],	0
seg003:0A2A		    jz	    short loc_A35B
seg003:0A2C		    retn
seg003:0A2D
seg003:0A2D ;  S	U B R O	U T I N	E 
seg003:0A2D
seg003:0A2D
seg003:0A2D sub_A33D	    proc near		    ; CODE XREF: sub_A5AE-3D0p
seg003:0A2D					    ; DATA XREF: seg003:0C4Co
seg003:0A2D		    mov	    word ptr [bp+12h], ds
seg003:0A30		    mov	    word ptr [bp+16h], 98h ; ''
seg003:0A35		    mov	    ax,	ds:11F4h
seg003:0A38		    mov	    [bp+10h], ax
seg003:0A3B		    mov	    ax,	ds:11F6h
seg003:0A3E		    mov	    [bp+14h], ax
seg003:0A41		    mov	    word ptr [bp+0Ah], 0C10h
seg003:0A46		    mov	    word ptr [bp+8], 4229h
seg003:0A4B
seg003:0A4B loc_A35B:				    ; CODE XREF: sub_A2AE+59j
seg003:0A4B					    ; seg003:0A2Aj
seg003:0A4B		    jmp	    sub_A628
seg003:0A4B sub_A33D	    endp
seg003:0A4B
seg003:0A4E
seg003:0A4E ;  S	U B R O	U T I N	E 
seg003:0A4E
seg003:0A4E
seg003:0A4E sub_A35E	    proc near		    ; CODE XREF: sub_A5AE-3D0p
seg003:0A4E					    ; DATA XREF: seg003:0C4Eo
seg003:0A4E		    push    ss
seg003:0A4F		    push    bp
seg003:0A50		    call    sub_D197
seg003:0A53		    pop	    cx
seg003:0A54		    pop	    cx
seg003:0A55		    jmp	    sub_A628
seg003:0A55 sub_A35E	    endp
seg003:0A55
seg003:0A58
seg003:0A58 ;  S	U B R O	U T I N	E 
seg003:0A58
seg003:0A58
seg003:0A58 sub_A368	    proc far		    ; CODE XREF: sub_A5AE-3D0p
seg003:0A58					    ; DATA XREF: seg003:0C50o
seg003:0A58		    mov	    bx,	[bp+10h]
seg003:0A5B		    mov	    cx,	[bp+14h]
seg003:0A5E		    push    ss
seg003:0A5F		    pop	    es
seg003:0A60		    mov	    si,	[bp+22h]
seg003:0A63		    cmp	    byte ptr [bp+16h], 0
seg003:0A67		    mov	    ax,	[bp+8]
seg003:0A6A		    mov	    ss,	word ptr [bp+0Ah]
seg003:0A6D		    xchg    ax,	sp
seg003:0A6E		    push    bx
seg003:0A6F		    push    cx
seg003:0A70		    jnz	    short loc_A390
seg003:0A72		    mov	    ah,	49h ; 'I'
seg003:0A74		    push    cs
seg003:0A75		    call    near ptr sub_A156
seg003:0A78		    mov	    es,	si
seg003:0A7A		    mov	    ah,	49h ; 'I'
seg003:0A7C		    push    cs
seg003:0A7D		    call    near ptr sub_A156
seg003:0A80
seg003:0A80 loc_A390:				    ; CODE XREF: sub_A368+18j
seg003:0A80		    sti
seg003:0A81		    mov	    ax,	ds:0C2Ah
seg003:0A84		    mov	    ds,	ax
seg003:0A86		    mov	    es,	ax
seg003:0A88		    retf
seg003:0A88 sub_A368	    endp ; sp =	-4
seg003:0A88
seg003:0A89 ; [00000001	BYTES: COLLAPSED FUNCTION nullsub_5. PRESS KEYPAD "+" TO EXPAND]
seg003:0A8A
seg003:0A8A ;  S	U B R O	U T I N	E 
seg003:0A8A
seg003:0A8A
seg003:0A8A sub_A39A	    proc near		    ; CODE XREF: sub_A5AE-3D0p
seg003:0A8A					    ; DATA XREF: seg003:0C54o
seg003:0A8A		    mov	    ax,	[bp+4]
seg003:0A8D		    mov	    si,	[bp+0Ah]
seg003:0A90		    mov	    cx,	[bp+6]
seg003:0A93		    mov	    di,	[bp+8]
seg003:0A96		    push    ds
seg003:0A97		    mov	    ds,	word ptr ds:0C32h
seg003:0A9B		    xchg    di,	ds:17BEh
seg003:0A9F		    mov	    [bp+8], di
seg003:0AA2		    xchg    cx,	ds:17C0h
seg003:0AA6		    mov	    [bp+6], cx
seg003:0AA9		    xchg    si,	ds:17C2h
seg003:0AAD		    mov	    [bp+0Ah], si
seg003:0AB0		    xchg    ax,	ds:17C4h
seg003:0AB4		    mov	    [bp+4], ax
seg003:0AB7		    pop	    ds
seg003:0AB8		    retn
seg003:0AB8 sub_A39A	    endp
seg003:0AB8
seg003:0AB9
seg003:0AB9 ;  S	U B R O	U T I N	E 
seg003:0AB9
seg003:0AB9
seg003:0AB9 sub_A3C9	    proc near		    ; CODE XREF: sub_A5AE-3D0p
seg003:0AB9					    ; DATA XREF: seg003:0C56o
seg003:0AB9		    mov	    bx,	[bp+6]
seg003:0ABC		    shr	    bx,	3
seg003:0ABF		    jz	    short loc_A442
seg003:0AC1		    mov	    es,	word ptr ds:0C34h
seg003:0AC5		    shr	    al,	1
seg003:0AC7		    sbb	    dl,	dl
seg003:0AC9		    cbw
seg003:0ACA		    mov	    al,	es:[bx]
seg003:0ACD		    mov	    cl,	[bp+16h]
seg003:0AD0		    and	    cl,	0C0h
seg003:0AD3		    jz	    short locret_A441
seg003:0AD5		    and	    dl,	cl
seg003:0AD7		    not	    cl
seg003:0AD9		    and	    cl,	al
seg003:0ADB		    or	    cl,	dl
seg003:0ADD		    mov	    es:[bx], cl
seg003:0AE0		    cmp	    byte ptr ds:2Eh, 0
seg003:0AE5		    jz	    short loc_A403
seg003:0AE7		    mov	    bx,	cs:word_DDD4
seg003:0AEC		    test    byte ptr cs:[bx-2],	80h
seg003:0AF1		    jz	    short locret_A441
seg003:0AF3
seg003:0AF3 loc_A403:				    ; CODE XREF: sub_A3C9+2Cj
seg003:0AF3		    push    ax
seg003:0AF4		    and	    al,	0C0h
seg003:0AF6		    xor	    cx,	cx
seg003:0AF8		    sub	    cl,	al
seg003:0AFA		    rcr	    cl,	1
seg003:0AFC		    sub	    ch,	dl
seg003:0AFE		    rcr	    ch,	1
seg003:0B00		    xor	    cl,	ch
seg003:0B02		    jns	    short loc_A440
seg003:0B04		    push    cx
seg003:0B05		    mov	    bx,	[bp+6]
seg003:0B08		    mov	    ax,	6
seg003:0B0B		    push    cs
seg003:0B0C		    call    near ptr sub_A1A9
seg003:0B0F		    pop	    ax
seg003:0B10		    jb	    short loc_A445
seg003:0B12		    lsl	    di,	bx
seg003:0B15		    cmp	    cx,	10h
seg003:0B18		    jb	    short loc_A440
seg003:0B1A		    mov	    bx,	cx
seg003:0B1C		    mov	    cx,	dx
seg003:0B1E		    xor	    si,	si
seg003:0B20		    shl	    al,	1
seg003:0B22		    jb	    short loc_A455
seg003:0B24
seg003:0B24 loc_A434:				    ; CODE XREF: sub_A3C9+BDj
seg003:0B24		    cmc
seg003:0B25		    mov	    ax,	300h
seg003:0B28		    rcl	    ax,	1
seg003:0B2A		    push    cs
seg003:0B2B		    call    near ptr sub_A1A9
seg003:0B2E		    jb	    short loc_A445
seg003:0B30
seg003:0B30 loc_A440:				    ; CODE XREF: sub_A3C9+49j
seg003:0B30					    ; sub_A3C9+5Fj
seg003:0B30		    pop	    ax
seg003:0B31
seg003:0B31 locret_A441:			    ; CODE XREF: sub_A3C9+1Aj
seg003:0B31					    ; sub_A3C9+38j
seg003:0B31		    retn
seg003:0B32 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:0B32
seg003:0B32 loc_A442:				    ; CODE XREF: sub_A3C9+6j
seg003:0B32					    ; sub_A3C9+8Aj
seg003:0B32		    jmp	    sub_A628
seg003:0B35 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:0B35
seg003:0B35 loc_A445:				    ; CODE XREF: sub_A3C9+57j
seg003:0B35					    ; sub_A3C9+75j ...
seg003:0B35		    pop	    ax
seg003:0B36		    mov	    es,	word ptr ds:0C34h
seg003:0B3A		    mov	    bx,	[bp+6]
seg003:0B3D		    shr	    bx,	3
seg003:0B40		    mov	    es:[bx], al
seg003:0B43		    jmp	    short loc_A442
seg003:0B45 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:0B45
seg003:0B45 loc_A455:				    ; CODE XREF: sub_A3C9+69j
seg003:0B45		    push    bp
seg003:0B46		    mov	    bp,	sp
seg003:0B48		    sub	    sp,	30h
seg003:0B4B		    push    ax
seg003:0B4C		    push    edi
seg003:0B4E		    xor	    edi, edi
seg003:0B51		    mov	    di,	sp
seg003:0B53		    lea	    di,	[di+4]
seg003:0B56		    push    ss
seg003:0B57		    pop	    es
seg003:0B58		    mov	    ax,	500h
seg003:0B5B		    push    cs
seg003:0B5C		    call    near ptr sub_A1A9
seg003:0B5F		    jb	    short loc_A47D
seg003:0B61		    pop	    ax
seg003:0B62		    push    ax
seg003:0B63		    shr	    ax,	0Ch
seg003:0B66		    add	    ax,	50h ; 'P'
seg003:0B69		    cmp	    ax,	ss:[di+8]
seg003:0B6D
seg003:0B6D loc_A47D:				    ; CODE XREF: sub_A3C9+A6j
seg003:0B6D		    pop	    edi
seg003:0B6F		    pop	    ax
seg003:0B70		    mov	    sp,	bp
seg003:0B72		    pop	    bp
seg003:0B73		    jnb	    short loc_A445
seg003:0B75		    stc
seg003:0B76		    jmp	    short loc_A434
seg003:0B76 sub_A3C9	    endp
seg003:0B76
seg003:0B78
seg003:0B78 ;  S	U B R O	U T I N	E 
seg003:0B78
seg003:0B78
seg003:0B78 sub_A488	    proc near		    ; CODE XREF: sub_A5AE-3D0p
seg003:0B78					    ; DATA XREF: seg003:0C58o
seg003:0B78		    push    1
seg003:0B7A		    push    word ptr [bp+10h]
seg003:0B7D		    push    word ptr [bp+14h]
seg003:0B80		    call    sub_D462
seg003:0B83		    add	    sp,	6
seg003:0B86		    mov	    [bp+12h], dx
seg003:0B89		    retn
seg003:0B89 sub_A488	    endp
seg003:0B89
seg003:0B8A
seg003:0B8A ;  S	U B R O	U T I N	E 
seg003:0B8A
seg003:0B8A
seg003:0B8A sub_A49A	    proc near		    ; CODE XREF: sub_A5AE-3D0p
seg003:0B8A					    ; DATA XREF: seg003:0C5Ao
seg003:0B8A		    mov	    word ptr [bp+12h], cs
seg003:0B8D		    mov	    word ptr [bp+14h], cs
seg003:0B90		    mov	    word ptr [bp+0Ah], cs
seg003:0B93		    mov	    word ptr [bp+10h], 0C09h
seg003:0B98		    mov	    ax,	0C04h
seg003:0B9B		    mov	    word ptr [bp+8], 0BFFh
seg003:0BA0		    retn
seg003:0BA0 sub_A49A	    endp
seg003:0BA0
seg003:0BA1
seg003:0BA1 ;  S	U B R O	U T I N	E 
seg003:0BA1
seg003:0BA1
seg003:0BA1 sub_A4B1	    proc near		    ; CODE XREF: sub_A5AE-3D0p
seg003:0BA1					    ; DATA XREF: seg003:0C5Co
seg003:0BA1		    mov	    ax,	ds:0C42h
seg003:0BA4		    mov	    [bp+16h], ax
seg003:0BA7		    retn
seg003:0BA7 sub_A4B1	    endp
seg003:0BA7
seg003:0BA8
seg003:0BA8 ;  S	U B R O	U T I N	E 
seg003:0BA8
seg003:0BA8
seg003:0BA8 sub_A4B8	    proc near		    ; CODE XREF: sub_A5AE-3D0p
seg003:0BA8					    ; DATA XREF: seg003:0C5Eo
seg003:0BA8		    call    sub_A91C
seg003:0BAB		    retn
seg003:0BAB sub_A4B8	    endp
seg003:0BAB
seg003:0BAC
seg003:0BAC ;  S	U B R O	U T I N	E 
seg003:0BAC
seg003:0BAC
seg003:0BAC sub_A4BC	    proc near		    ; CODE XREF: sub_A5AE-3D0p
seg003:0BAC					    ; DATA XREF: seg003:0C60o
seg003:0BAC		    and	    byte ptr ds:47h, 0DFh
seg003:0BB1		    mov	    di,	0DE4h
seg003:0BB4		    mov	    ax,	[bp+10h]
seg003:0BB7		    stosw
seg003:0BB8		    mov	    ax,	[bp+14h]
seg003:0BBB		    stosw
seg003:0BBC		    mov	    ax,	[bp+8]
seg003:0BBF		    stosw
seg003:0BC0		    mov	    ax,	[bp+0Ah]
seg003:0BC3		    stosw
seg003:0BC4		    xchg    ax,	cx
seg003:0BC5		    jcxz    short locret_A4DC
seg003:0BC7		    or	    byte ptr ds:47h, 20h
seg003:0BCC
seg003:0BCC locret_A4DC:			    ; CODE XREF: sub_A4BC+19j
seg003:0BCC		    retn
seg003:0BCC sub_A4BC	    endp
seg003:0BCC
seg003:0BCD
seg003:0BCD ;  S	U B R O	U T I N	E 
seg003:0BCD
seg003:0BCD
seg003:0BCD sub_A4DD	    proc near		    ; CODE XREF: sub_A5AE-3D0p
seg003:0BCD					    ; DATA XREF: seg003:0C62o
seg003:0BCD		    xor	    ax,	ax
seg003:0BCF
seg003:0BCF loc_A4DF:				    ; CODE XREF: sub_A4E2+2Aj
seg003:0BCF		    jmp	    loc_A1E7
seg003:0BCF sub_A4DD	    endp
seg003:0BCF
seg003:0BD2
seg003:0BD2 ;  S	U B R O	U T I N	E 
seg003:0BD2
seg003:0BD2
seg003:0BD2 sub_A4E2	    proc near		    ; CODE XREF: sub_A5AE-3D0p
seg003:0BD2					    ; DATA XREF: seg003:0C64o
seg003:0BD2		    push    ds
seg003:0BD3		    cbw
seg003:0BD4		    push    ax
seg003:0BD5		    call    sub_E658
seg003:0BD8		    pop	    bx
seg003:0BD9		    add	    bx,	bx
seg003:0BDB		    mov	    bx,	[bx+44B8h]
seg003:0BDF		    test    byte ptr [bx-2], 1
seg003:0BE3		    jz	    short loc_A50B
seg003:0BE5		    mov	    cx,	[bp+10h]
seg003:0BE8		    mov	    dx,	[bp+14h]
seg003:0BEB		    xchg    cx,	[bx-4]
seg003:0BEE		    xchg    dx,	[bx-6]
seg003:0BF1		    mov	    [bp+14h], dx
seg003:0BF4		    mov	    [bp+10h], cx
seg003:0BF7		    or	    byte ptr [bx-2], 80h
seg003:0BFB
seg003:0BFB loc_A50B:				    ; CODE XREF: sub_A4E2+11j
seg003:0BFB		    pop	    ds
seg003:0BFC		    jz	    short loc_A4DF
seg003:0BFE		    retn
seg003:0BFE sub_A4E2	    endp
seg003:0BFE
seg003:0BFF ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:0BFF		    mov	    ax,	277Ch
seg003:0C02		    jmp	    short loc_A51C
seg003:0C04 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:0C04		    mov	    ax,	22BBh
seg003:0C07		    jmp	    short loc_A51C
seg003:0C09 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:0C09		    mov	    ax,	24F0h
seg003:0C0C
seg003:0C0C loc_A51C:				    ; CODE XREF: seg003:0C02j
seg003:0C0C					    ; seg003:0C07j
seg003:0C0C		    mov	    bx,	sp
seg003:0C0E		    push    ds
seg003:0C0F		    mov	    ds,	cs:word_EF90
seg003:0C14		    assume ds:nothing
seg003:0C14		    mov	    ds,	word ptr ds:0C28h
seg003:0C18		    assume ds:nothing
seg003:0C18		    push    word ptr ss:[bx+0Ah]
seg003:0C1C		    push    word ptr ss:[bx+8]
seg003:0C20		    push    word ptr ss:[bx+6]
seg003:0C24		    push    word ptr ss:[bx+4]
seg003:0C28		    call    ax
seg003:0C2A		    add	    sp,	8
seg003:0C2D		    pop	    ds
seg003:0C2E		    retf
seg003:0C2E ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:0C2F		    align 2
seg003:0C30 off_A540	    dw offset sub_A1ED	    ; DATA XREF: sub_A5AE-3D0r
seg003:0C32		    dw offset sub_A1FB
seg003:0C34		    dw offset sub_A202
seg003:0C36		    dw offset sub_A207
seg003:0C38		    dw offset sub_A213
seg003:0C3A		    dw offset sub_A218
seg003:0C3C		    dw offset sub_A224
seg003:0C3E		    dw offset sub_A22C
seg003:0C40		    dw offset sub_A24A
seg003:0C42		    dw offset sub_A25A
seg003:0C44		    dw offset sub_A271
seg003:0C46		    dw offset sub_A291
seg003:0C48		    dw offset sub_A2A5
seg003:0C4A		    dw offset sub_A2AE
seg003:0C4C		    dw offset sub_A33D
seg003:0C4E		    dw offset sub_A35E
seg003:0C50		    dw offset sub_A368
seg003:0C52		    dw offset sub_A628
seg003:0C54		    dw offset sub_A39A
seg003:0C56		    dw offset sub_A3C9
seg003:0C58		    dw offset sub_A488
seg003:0C5A		    dw offset sub_A49A
seg003:0C5C		    dw offset sub_A4B1
seg003:0C5E		    dw offset sub_A4B8
seg003:0C60		    dw offset sub_A4BC
seg003:0C62		    dw offset sub_A4DD
seg003:0C64		    dw offset sub_A4E2
seg003:0C66
seg003:0C66 ;  S	U B R O	U T I N	E 
seg003:0C66
seg003:0C66 ; Attributes: bp-based frame
seg003:0C66
seg003:0C66 sub_A576	    proc near		    ; CODE XREF: seg003:3441p
seg003:0C66
seg003:0C66 arg_0	    = word ptr	4
seg003:0C66 arg_2	    = byte ptr	6
seg003:0C66
seg003:0C66		    push    bp
seg003:0C67		    mov	    bp,	sp
seg003:0C69		    mov	    es,	[bp+arg_0]
seg003:0C6C		    mov	    al,	[bp+arg_2]
seg003:0C6F		    mov	    ah,	0FFh
seg003:0C71		    mov	    dx,	1301h
seg003:0C74		    push    cs
seg003:0C75		    call    near ptr sub_A156
seg003:0C78		    cmc
seg003:0C79		    sbb	    ax,	ax
seg003:0C7B		    pop	    bp
seg003:0C7C		    retn
seg003:0C7C sub_A576	    endp
seg003:0C7C
seg003:0C7D ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:0C7D ; START OF FUNCTION	CHUNK FOR sub_A5AE
seg003:0C7D
seg003:0C7D loc_A58D:				    ; CODE XREF: sub_A5AE+1Ej
seg003:0C7D		    cmp	    ah,	0Ch
seg003:0C80		    jbe	    short loc_A5CE
seg003:0C82		    cmp	    ah,	59h ; 'Y'
seg003:0C85		    jz	    short loc_A5CE
seg003:0C87		    cmp	    ah,	0FFh
seg003:0C8A		    jz	    short loc_A5CE
seg003:0C8C		    cmp	    byte ptr es:1182h, 0
seg003:0C92		    jnz	    short loc_A5CE
seg003:0C94		    mov	    di,	cx
seg003:0C96		    add	    di,	180h
seg003:0C9A		    xor	    cx,	cx
seg003:0C9C		    jmp	    short loc_A5CE
seg003:0C9C ; END OF FUNCTION CHUNK FOR	sub_A5AE
seg003:0C9E
seg003:0C9E ;  S	U B R O	U T I N	E 
seg003:0C9E
seg003:0C9E
seg003:0C9E sub_A5AE	    proc far		    ; CODE XREF: seg003:080Cp
seg003:0C9E					    ; sub_A156+6p
seg003:0C9E
seg003:0C9E ; FUNCTION CHUNK AT	seg003:08B4 SIZE 0000001F BYTES
seg003:0C9E ; FUNCTION CHUNK AT	seg003:0C7D SIZE 00000021 BYTES
seg003:0C9E ; FUNCTION CHUNK AT	seg003:0DA6 SIZE 0000002D BYTES
seg003:0C9E ; FUNCTION CHUNK AT	seg003:0DF3 SIZE 0000016B BYTES
seg003:0C9E ; FUNCTION CHUNK AT	seg003:0F78 SIZE 0000003D BYTES
seg003:0C9E ; FUNCTION CHUNK AT	seg003:123F SIZE 00000164 BYTES
seg003:0C9E ; FUNCTION CHUNK AT	seg003:13DC SIZE 0000015C BYTES
seg003:0C9E ; FUNCTION CHUNK AT	seg003:1564 SIZE 0000002B BYTES
seg003:0C9E ; FUNCTION CHUNK AT	seg003:15A8 SIZE 0000000D BYTES
seg003:0C9E ; FUNCTION CHUNK AT	seg003:177A SIZE 00000022 BYTES
seg003:0C9E ; FUNCTION CHUNK AT	seg003:17C1 SIZE 0000023D BYTES
seg003:0C9E
seg003:0C9E		    sub	    sp,	6
seg003:0CA1		    pusha
seg003:0CA2		    push    es
seg003:0CA3		    push    ds
seg003:0CA4		    push    ss
seg003:0CA5		    mov	    bx,	ss
seg003:0CA7		    mov	    ds,	bx
seg003:0CA9		    mov	    dx,	cs:word_EF90
seg003:0CAE		    mov	    es,	dx
seg003:0CB0		    assume es:nothing
seg003:0CB0		    mov	    cx,	es:99Eh
seg003:0CB5		    mov	    di,	es:996h
seg003:0CBA		    or	    cx,	cx
seg003:0CBC		    jnz	    short loc_A58D
seg003:0CBE
seg003:0CBE loc_A5CE:				    ; CODE XREF: sub_A5AE-1Ej
seg003:0CBE					    ; sub_A5AE-19j ...
seg003:0CBE		    cli
seg003:0CBF		    push    di
seg003:0CC0		    sub	    di,	180h
seg003:0CC4		    mov	    bp,	sp
seg003:0CC6		    mov	    si,	sp
seg003:0CC8		    push    cx
seg003:0CC9		    push    word ptr es:0F52h
seg003:0CCE		    mov	    bx,	di
seg003:0CD0		    cld
seg003:0CD1		    mov	    cx,	0Ch
seg003:0CD4		    rep	movsw
seg003:0CD6		    mov	    ds,	dx
seg003:0CD8		    assume ds:nothing
seg003:0CD8		    mov	    ds:99Eh, bx
seg003:0CDC		    mov	    ds:996h, bx
seg003:0CE0		    mov	    word ptr [bx+22h], ss
seg003:0CE3		    mov	    [bx+26h], bp
seg003:0CE6		    inc	    ah
seg003:0CE8		    cmp	    ah,	68h ; 'h'
seg003:0CEB		    ja	    short loc_A60C
seg003:0CED		    xor	    al,	al
seg003:0CEF		    xchg    al,	ah
seg003:0CF1		    mov	    ds:97Eh, ax
seg003:0CF4		    shl	    ax,	1
seg003:0CF6		    xchg    ax,	di
seg003:0CF7		    jmp	    cs:off_9F7A[di]
seg003:0CFC
seg003:0CFC loc_A60C:				    ; CODE XREF: sub_A5AE+4Dj
seg003:0CFC					    ; sub_A5AE+286j ...
seg003:0CFC		    call    sub_A683
seg003:0CFF
seg003:0CFF loc_A60F:				    ; CODE XREF: sub_A5AE+7F2j
seg003:0CFF					    ; sub_A5AE+AFBj
seg003:0CFF		    mov	    ax,	ss
seg003:0D01		    mov	    es,	ax
seg003:0D03		    assume es:nothing
seg003:0D03		    cld
seg003:0D04		    lea	    di,	[bp+8]
seg003:0D07		    lea	    si,	[bx+8]
seg003:0D0A		    mov	    cx,	8
seg003:0D0D		    rep	movsw
seg003:0D0F
seg003:0D0F loc_A61F:				    ; CODE XREF: sub_A5AE+1DEj
seg003:0D0F					    ; sub_A5AE+259j ...
seg003:0D0F		    mov	    ax,	[bx+26h]
seg003:0D12		    and	    ah,	0Eh
seg003:0D15		    mov	    [bp+26h], ax
seg003:0D15 sub_A5AE	    endp
seg003:0D15
seg003:0D18
seg003:0D18 ;  S	U B R O	U T I N	E 
seg003:0D18
seg003:0D18
seg003:0D18 sub_A628	    proc near		    ; CODE XREF: sub_A5AE-3D0p
seg003:0D18					    ; sub_A1ED:loc_A1EAj ...
seg003:0D18		    test    word ptr [bp+26h], 200h
seg003:0D1D		    jz	    short loc_A630
seg003:0D1F		    sti
seg003:0D20
seg003:0D20 loc_A630:				    ; CODE XREF: sub_A628+5j
seg003:0D20		    lea	    sp,	[bp-4]
seg003:0D23		    pop	    word ptr ds:0F52h
seg003:0D27		    pop	    word ptr ds:99Eh
seg003:0D2B		    pop	    word ptr ds:996h
seg003:0D2F		    inc	    sp
seg003:0D30		    inc	    sp
seg003:0D31		    pop	    ds
seg003:0D32		    assume ds:nothing
seg003:0D32		    pop	    es
seg003:0D33		    popa
seg003:0D34		    add	    sp,	6
seg003:0D37		    iretd
seg003:0D37 sub_A628	    endp ; sp =	 20h
seg003:0D37
seg003:0D39 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:0D39 ; START OF FUNCTION	CHUNK FOR sub_A683
seg003:0D39
seg003:0D39 loc_A649:				    ; CODE XREF: sub_A683-5j
seg003:0D39		    mov	    byte ptr ds:0C45h, 0
seg003:0D3E		    mov	    ax,	4CFEh
seg003:0D41		    int	    21h		    ; DOS - 2+ - QUIT WITH EXIT	CODE (EXIT)
seg003:0D41					    ; AL = exit	code
seg003:0D43 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:0D43
seg003:0D43 loc_A653:				    ; CODE XREF: sub_A683+5j
seg003:0D43		    pusha
seg003:0D44		    lea	    ax,	[bx+4]
seg003:0D47		    push    ds
seg003:0D48		    push    ax
seg003:0D49		    push    ds
seg003:0D4A		    push    ax
seg003:0D4B		    push    21h	; '!'
seg003:0D4D		    call    dword ptr ds:22h
seg003:0D51		    add	    sp,	0Ah
seg003:0D54		    mov	    bx,	ds:99Eh
seg003:0D58		    mov	    cx,	[bp+26h]
seg003:0D5B		    and	    ch,	2
seg003:0D5E		    and	    ah,	0FDh
seg003:0D61		    or	    ah,	ch
seg003:0D63		    mov	    [bx+26h], ax
seg003:0D66		    push    ds
seg003:0D67		    pop	    es
seg003:0D68		    popa
seg003:0D69		    cmp	    byte ptr ds:0C45h, 0
seg003:0D6E		    jnz	    short loc_A649
seg003:0D70		    cld
seg003:0D71		    cli
seg003:0D72		    retn
seg003:0D72 ; END OF FUNCTION CHUNK FOR	sub_A683
seg003:0D73
seg003:0D73 ;  S	U B R O	U T I N	E 
seg003:0D73
seg003:0D73
seg003:0D73 sub_A683	    proc near		    ; CODE XREF: sub_A5AE:loc_A60Cp
seg003:0D73					    ; sub_A5AE+10Bp ...
seg003:0D73
seg003:0D73 ; FUNCTION CHUNK AT	seg003:0D39 SIZE 0000003A BYTES
seg003:0D73
seg003:0D73		    cmp	    byte ptr ds:2Eh, 0
seg003:0D78		    jz	    short loc_A653
seg003:0D7A		    cli
seg003:0D7B		    pusha
seg003:0D7C		    jmp	    far	ptr 18h:1068h
seg003:0D7C sub_A683	    endp
seg003:0D7C
seg003:0D81 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:0D81		    mov	    bx,	ds:99Eh
seg003:0D85		    mov	    [bx+26h], ax
seg003:0D88		    mov	    ss,	word ptr [bx+22h]
seg003:0D8B		    mov	    sp,	[bx+1Eh]
seg003:0D8E		    mov	    ax,	ds:0C32h
seg003:0D91		    mov	    es,	ax
seg003:0D93		    pop	    word ptr es:1064h
seg003:0D98		    mov	    ax,	ds
seg003:0D9A		    mov	    es,	ax
seg003:0D9C		    popa
seg003:0D9D		    cld
seg003:0D9E		    retn
seg003:0D9F
seg003:0D9F ;  S	U B R O	U T I N	E 
seg003:0D9F
seg003:0D9F
seg003:0D9F sub_A6AF	    proc near		    ; CODE XREF: sub_A5AE+2E0p
seg003:0D9F					    ; sub_A5AE+7AFp ...
seg003:0D9F		    mov	    ax,	[bp+26h]
seg003:0DA2		    mov	    [bx+26h], ax
seg003:0DA5		    retn
seg003:0DA5 sub_A6AF	    endp
seg003:0DA5
seg003:0DA6 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:0DA6 ; START OF FUNCTION	CHUNK FOR sub_A5AE
seg003:0DA6
seg003:0DA6 loc_A6B6:				    ; CODE XREF: sub_A5AE+59j
seg003:0DA6					    ; DATA XREF: seg003:06DEo ...
seg003:0DA6		    call    sub_A6E3
seg003:0DA9		    call    sub_A683
seg003:0DAC		    jmp	    loc_AE2D
seg003:0DAF ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:0DAF
seg003:0DAF loc_A6BF:				    ; CODE XREF: sub_A5AE+59j
seg003:0DAF					    ; sub_A5AE+CE6j
seg003:0DAF					    ; DATA XREF: ...
seg003:0DAF		    call    sub_A6E3
seg003:0DB2		    pushf
seg003:0DB3		    call    sub_A683
seg003:0DB6		    popf
seg003:0DB7		    jnb	    short loc_A6CC
seg003:0DB9		    jmp	    loc_AE2D
seg003:0DBC ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:0DBC
seg003:0DBC loc_A6CC:				    ; CODE XREF: sub_A5AE+119j
seg003:0DBC		    mov	    es,	word ptr [bp+4]
seg003:0DBF		    mov	    di,	[bp+12h]
seg003:0DC2		    mov	    si,	ds:0Ah
seg003:0DC6		    mov	    cx,	ds:0Eh
seg003:0DCA
seg003:0DCA loc_A6DA:				    ; CODE XREF: sub_A5AE+130j
seg003:0DCA		    lodsb
seg003:0DCB		    stosb
seg003:0DCC		    or	    al,	al
seg003:0DCE		    loopne  loc_A6DA
seg003:0DD0		    jmp	    loc_AE2D
seg003:0DD0 ; END OF FUNCTION CHUNK FOR	sub_A5AE
seg003:0DD3
seg003:0DD3 ;  S	U B R O	U T I N	E 
seg003:0DD3
seg003:0DD3
seg003:0DD3 sub_A6E3	    proc near		    ; CODE XREF: sub_A5AE:loc_A6B6p
seg003:0DD3					    ; sub_A5AE:loc_A6BFp ...
seg003:0DD3		    call    sub_A908
seg003:0DD6		    jb	    short locret_A702
seg003:0DD8		    mov	    si,	[bp+12h]
seg003:0DDB		    mov	    di,	ds:0Ah
seg003:0DDF		    mov	    [bx+12h], di
seg003:0DE2		    mov	    cx,	ds:0Eh
seg003:0DE6		    push    ds
seg003:0DE7		    mov	    ds,	word ptr [bp+4]
seg003:0DEA
seg003:0DEA loc_A6FA:				    ; CODE XREF: sub_A6E3+1Bj
seg003:0DEA		    lodsb
seg003:0DEB		    stosb
seg003:0DEC		    or	    al,	al
seg003:0DEE		    loopne  loc_A6FA
seg003:0DF0		    pop	    ds
seg003:0DF1		    clc
seg003:0DF2
seg003:0DF2 locret_A702:			    ; CODE XREF: sub_A6E3+3j
seg003:0DF2		    retn
seg003:0DF2 sub_A6E3	    endp
seg003:0DF2
seg003:0DF3 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:0DF3 ; START OF FUNCTION	CHUNK FOR sub_A5AE
seg003:0DF3
seg003:0DF3 loc_A703:				    ; CODE XREF: sub_A5AE+59j
seg003:0DF3					    ; DATA XREF: seg003:06F2o
seg003:0DF3		    call    sub_A6E3
seg003:0DF6		    call    sub_A683
seg003:0DF9		    mov	    ax,	[bx+14h]
seg003:0DFC		    mov	    [bp+14h], ax
seg003:0DFF		    jmp	    loc_AE2D
seg003:0E02 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:0E02
seg003:0E02 loc_A712:				    ; CODE XREF: sub_A5AE+59j
seg003:0E02					    ; DATA XREF: seg003:06EAo
seg003:0E02		    call    sub_A908
seg003:0E05		    jnb	    short loc_A71F
seg003:0E07		    call    sub_A683
seg003:0E0A		    mov	    ax,	[bx+16h]
seg003:0E0D		    jmp	    short loc_A789
seg003:0E0F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:0E0F
seg003:0E0F loc_A71F:				    ; CODE XREF: sub_A5AE+167j
seg003:0E0F		    mov	    dx,	[bp+14h]
seg003:0E12		    mov	    di,	[bp+12h]
seg003:0E15		    mov	    ax,	ds:0Ah
seg003:0E18		    mov	    [bx+12h], ax
seg003:0E1B		    mov	    es,	word ptr [bp+4]
seg003:0E1E
seg003:0E1E loc_A72E:				    ; CODE XREF: sub_A5AE+1D4j
seg003:0E1E		    sti
seg003:0E1F		    mov	    cx,	dx
seg003:0E21		    cmp	    cx,	ds:0Eh
seg003:0E25		    jbe	    short loc_A73B
seg003:0E27		    mov	    cx,	ds:0Eh
seg003:0E2B
seg003:0E2B loc_A73B:				    ; CODE XREF: sub_A5AE+187j
seg003:0E2B		    mov	    [bx+14h], cx
seg003:0E2E		    mov	    ax,	[bp+16h]
seg003:0E31		    mov	    [bx+16h], ax
seg003:0E34		    push    cx
seg003:0E35		    push    es
seg003:0E36		    call    sub_A683
seg003:0E39		    pop	    es
seg003:0E3A		    mov	    ax,	[bx+16h]
seg003:0E3D		    test    byte ptr [bx+26h], 1
seg003:0E41		    jnz	    short loc_A789
seg003:0E43		    mov	    si,	ds:0Ah
seg003:0E47		    mov	    cx,	ax
seg003:0E49		    push    di
seg003:0E4A		    add	    di,	cx
seg003:0E4C		    pop	    di
seg003:0E4D		    jnb	    short loc_A772
seg003:0E4F		    jz	    short loc_A772
seg003:0E51		    mov	    cx,	di
seg003:0E53		    push    cx
seg003:0E54		    neg	    cx
seg003:0E56		    rep	movsb
seg003:0E58		    mov	    cx,	es
seg003:0E5A		    add	    cx,	8
seg003:0E5D		    mov	    es,	cx
seg003:0E5F		    assume es:nothing
seg003:0E5F		    pop	    cx
seg003:0E60		    add	    cx,	ax
seg003:0E62
seg003:0E62 loc_A772:				    ; CODE XREF: sub_A5AE+1AFj
seg003:0E62					    ; sub_A5AE+1B1j
seg003:0E62		    shr	    cx,	1
seg003:0E64		    rep	movsw
seg003:0E66		    rcl	    cx,	1
seg003:0E68		    rep	movsb
seg003:0E6A		    sti
seg003:0E6B		    pop	    cx
seg003:0E6C		    sub	    dx,	ax
seg003:0E6E		    jz	    short loc_A784
seg003:0E70		    cmp	    ax,	cx
seg003:0E72		    jz	    short loc_A72E
seg003:0E74
seg003:0E74 loc_A784:				    ; CODE XREF: sub_A5AE+1D0j
seg003:0E74		    mov	    ax,	[bp+14h]
seg003:0E77		    sub	    ax,	dx
seg003:0E79
seg003:0E79 loc_A789:				    ; CODE XREF: sub_A5AE+16Fj
seg003:0E79					    ; sub_A5AE+1A3j
seg003:0E79		    mov	    [bp+16h], ax
seg003:0E7C		    jmp	    loc_A61F
seg003:0E7F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:0E7F
seg003:0E7F loc_A78F:				    ; CODE XREF: sub_A5AE+59j
seg003:0E7F					    ; DATA XREF: seg003:06ECo
seg003:0E7F		    call    sub_A908
seg003:0E82		    jnb	    short loc_A79C
seg003:0E84		    call    sub_A683
seg003:0E87		    mov	    ax,	[bx+16h]
seg003:0E8A		    jmp	    short loc_A804
seg003:0E8C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:0E8C
seg003:0E8C loc_A79C:				    ; CODE XREF: sub_A5AE+1E4j
seg003:0E8C		    mov	    dx,	[bp+14h]
seg003:0E8F		    mov	    si,	[bp+12h]
seg003:0E92
seg003:0E92 loc_A7A2:				    ; CODE XREF: sub_A5AE+24Fj
seg003:0E92		    sti
seg003:0E93		    mov	    di,	ds:0Ah
seg003:0E97		    mov	    [bx+12h], di
seg003:0E9A		    mov	    cx,	dx
seg003:0E9C		    cmp	    cx,	ds:0Eh
seg003:0EA0		    jbe	    short loc_A7B6
seg003:0EA2		    mov	    cx,	ds:0Eh
seg003:0EA6
seg003:0EA6 loc_A7B6:				    ; CODE XREF: sub_A5AE+202j
seg003:0EA6		    mov	    [bx+14h], cx
seg003:0EA9		    mov	    ax,	[bp+16h]
seg003:0EAC		    mov	    [bx+16h], ax
seg003:0EAF		    push    cx
seg003:0EB0		    push    ds
seg003:0EB1		    mov	    ds,	word ptr [bp+4]
seg003:0EB4		    cli
seg003:0EB5		    mov	    ax,	cx
seg003:0EB7		    push    si
seg003:0EB8		    add	    si,	cx
seg003:0EBA		    pop	    si
seg003:0EBB		    jnb	    short loc_A7E0
seg003:0EBD		    jz	    short loc_A7E0
seg003:0EBF		    mov	    cx,	si
seg003:0EC1		    push    cx
seg003:0EC2		    neg	    cx
seg003:0EC4		    rep	movsb
seg003:0EC6		    mov	    cx,	ds
seg003:0EC8		    add	    cx,	8
seg003:0ECB		    mov	    ds,	cx
seg003:0ECD		    assume ds:nothing
seg003:0ECD		    pop	    cx
seg003:0ECE		    add	    cx,	ax
seg003:0ED0
seg003:0ED0 loc_A7E0:				    ; CODE XREF: sub_A5AE+21Dj
seg003:0ED0					    ; sub_A5AE+21Fj
seg003:0ED0		    shr	    cx,	1
seg003:0ED2		    rep	movsw
seg003:0ED4		    rcl	    cx,	1
seg003:0ED6		    rep	movsb
seg003:0ED8		    pop	    ds
seg003:0ED9		    assume ds:nothing
seg003:0ED9		    call    sub_A683
seg003:0EDC		    sti
seg003:0EDD		    mov	    ax,	[bx+16h]
seg003:0EE0		    pop	    cx
seg003:0EE1		    test    byte ptr [bx+26h], 1
seg003:0EE5		    jnz	    short loc_A804
seg003:0EE7		    sub	    dx,	ax
seg003:0EE9		    jz	    short loc_A7FF
seg003:0EEB		    cmp	    ax,	cx
seg003:0EED		    jz	    short loc_A7A2
seg003:0EEF
seg003:0EEF loc_A7FF:				    ; CODE XREF: sub_A5AE+24Bj
seg003:0EEF		    mov	    ax,	[bp+14h]
seg003:0EF2		    sub	    ax,	dx
seg003:0EF4
seg003:0EF4 loc_A804:				    ; CODE XREF: sub_A5AE+1ECj
seg003:0EF4					    ; sub_A5AE+247j
seg003:0EF4		    mov	    [bp+16h], ax
seg003:0EF7		    jmp	    loc_A61F
seg003:0EFA ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:0EFA
seg003:0EFA loc_A80A:				    ; CODE XREF: sub_A5AE+59j
seg003:0EFA					    ; DATA XREF: seg003:067Eo
seg003:0EFA		    call    sub_A908
seg003:0EFD		    jb	    short loc_A829
seg003:0EFF		    mov	    cx,	ds:0Eh
seg003:0F03		    dec	    cx
seg003:0F04		    mov	    di,	ds:0Ah
seg003:0F08		    mov	    [bx+12h], di
seg003:0F0B		    mov	    si,	[bp+12h]
seg003:0F0E		    mov	    ds,	word ptr [bp+4]
seg003:0F11
seg003:0F11 loc_A821:				    ; CODE XREF: sub_A5AE+277j
seg003:0F11		    lodsb
seg003:0F12		    stosb
seg003:0F13		    cmp	    al,	24h ; '$'
seg003:0F15		    loopne  loc_A821
seg003:0F17		    push    es
seg003:0F18		    pop	    ds
seg003:0F19		    assume ds:nothing
seg003:0F19
seg003:0F19 loc_A829:				    ; CODE XREF: sub_A5AE+25Fj
seg003:0F19		    call    sub_A683
seg003:0F1C		    jmp	    loc_A61F
seg003:0F1F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:0F1F
seg003:0F1F loc_A82F:				    ; CODE XREF: sub_A5AE+59j
seg003:0F1F					    ; sub_A5AE+2B4j
seg003:0F1F					    ; DATA XREF: ...
seg003:0F1F		    call    sub_A908
seg003:0F22		    jnb	    short loc_A837
seg003:0F24		    jmp	    loc_A60C
seg003:0F27 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:0F27
seg003:0F27 loc_A837:				    ; CODE XREF: sub_A5AE+284j
seg003:0F27		    mov	    di,	ds:0Ah
seg003:0F2B		    mov	    [bx+12h], di
seg003:0F2E		    mov	    ds,	word ptr [bp+4]
seg003:0F31		    assume ds:nothing
seg003:0F31		    mov	    si,	[bp+12h]
seg003:0F34		    mov	    cl,	[si]
seg003:0F36		    xor	    ch,	ch
seg003:0F38		    inc	    cx
seg003:0F39		    inc	    cx
seg003:0F3A		    push    ds
seg003:0F3B		    push    cx
seg003:0F3C		    push    si
seg003:0F3D		    push    di
seg003:0F3E		    rep	movsb
seg003:0F40		    push    es
seg003:0F41		    pop	    ds
seg003:0F42		    assume ds:nothing
seg003:0F42		    call    sub_A683
seg003:0F45		    pop	    si
seg003:0F46		    pop	    di
seg003:0F47		    pop	    cx
seg003:0F48		    pop	    es
seg003:0F49		    assume es:nothing
seg003:0F49		    rep	movsb
seg003:0F4B		    jmp	    sub_A628
seg003:0F4E ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:0F4E
seg003:0F4E loc_A85E:				    ; CODE XREF: sub_A5AE+59j
seg003:0F4E					    ; DATA XREF: seg003:0684o
seg003:0F4E		    cmp	    byte ptr [bp+16h], 0Ah
seg003:0F52		    jz	    short loc_A82F
seg003:0F54		    jmp	    loc_A60C
seg003:0F57 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:0F57
seg003:0F57 loc_A867:				    ; CODE XREF: sub_A5AE+59j
seg003:0F57					    ; DATA XREF: seg003:066Eo ...
seg003:0F57		    dec	    byte ptr ds:10EDh
seg003:0F5B
seg003:0F5B loc_A86B:				    ; CODE XREF: sub_A5AE+2DEj
seg003:0F5B		    jmp	    loc_A60C
seg003:0F5B ; END OF FUNCTION CHUNK FOR	sub_A5AE
seg003:0F5E
seg003:0F5E ;  S	U B R O	U T I N	E 
seg003:0F5E
seg003:0F5E
seg003:0F5E sub_A86E	    proc near		    ; CODE XREF: sub_A5AE+2E3p
seg003:0F5E					    ; sub_A5AE:loc_A8ACp
seg003:0F5E		    test    byte ptr ds:14h, 4
seg003:0F63		    jnz	    short locret_A887
seg003:0F65		    sti
seg003:0F66		    mov	    es,	word ptr ds:0C2Eh
seg003:0F6A		    mov	    al,	es:46Ch
seg003:0F6E		    mov	    ah,	al
seg003:0F70		    xchg    al,	ds:10EDh
seg003:0F74		    sub	    al,	ah
seg003:0F76		    cli
seg003:0F77
seg003:0F77 locret_A887:			    ; CODE XREF: sub_A86E+5j
seg003:0F77		    retn
seg003:0F77 sub_A86E	    endp
seg003:0F77
seg003:0F78 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:0F78 ; START OF FUNCTION	CHUNK FOR sub_A5AE
seg003:0F78
seg003:0F78 loc_A888:				    ; CODE XREF: sub_A5AE+59j
seg003:0F78					    ; DATA XREF: seg003:0678o
seg003:0F78		    cmp	    byte ptr [bp+12h], 0FFh
seg003:0F7C		    jnz	    short loc_A86B
seg003:0F7E		    call    sub_A6AF
seg003:0F81		    call    sub_A86E
seg003:0F84		    jnz	    short loc_A89D
seg003:0F86		    or	    byte ptr [bx+26h], 40h
seg003:0F8A
seg003:0F8A loc_A89A:				    ; CODE XREF: sub_A5AE+2F6j
seg003:0F8A					    ; sub_A5AE+2FCj
seg003:0F8A		    jmp	    loc_AE2D
seg003:0F8D ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:0F8D
seg003:0F8D loc_A89D:				    ; CODE XREF: sub_A5AE+2E6j
seg003:0F8D		    call    sub_A683
seg003:0F90		    test    byte ptr [bx+26h], 40h
seg003:0F94		    jnz	    short loc_A89A
seg003:0F96		    dec	    byte ptr ds:10EDh
seg003:0F9A		    jmp	    short loc_A89A
seg003:0F9C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:0F9C
seg003:0F9C loc_A8AC:				    ; CODE XREF: sub_A5AE+59j
seg003:0F9C					    ; DATA XREF: seg003:0682o
seg003:0F9C		    call    sub_A86E
seg003:0F9F		    jz	    short loc_A8BF
seg003:0FA1		    call    sub_A683
seg003:0FA4		    mov	    al,	[bx+16h]
seg003:0FA7		    or	    al,	al
seg003:0FA9		    jz	    short loc_A8BF
seg003:0FAB		    dec	    byte ptr ds:10EDh
seg003:0FAF
seg003:0FAF loc_A8BF:				    ; CODE XREF: sub_A5AE+301j
seg003:0FAF					    ; sub_A5AE+30Bj
seg003:0FAF		    mov	    [bp+16h], al
seg003:0FB2		    jmp	    sub_A628
seg003:0FB2 ; END OF FUNCTION CHUNK FOR	sub_A5AE
seg003:0FB5
seg003:0FB5 ;  S	U B R O	U T I N	E 
seg003:0FB5
seg003:0FB5
seg003:0FB5 sub_A8C5	    proc near		    ; CODE XREF: sub_A8D3+5j
seg003:0FB5		    push    bx
seg003:0FB6		    mov	    bx,	di
seg003:0FB8		    mov	    ax,	6
seg003:0FBB		    push    cs
seg003:0FBC		    call    near ptr sub_A1A9
seg003:0FBF		    xchg    ax,	dx
seg003:0FC0		    pop	    bx
seg003:0FC1		    jmp	    short loc_A8F0
seg003:0FC1 sub_A8C5	    endp
seg003:0FC1
seg003:0FC3
seg003:0FC3 ;  S	U B R O	U T I N	E 
seg003:0FC3
seg003:0FC3
seg003:0FC3 sub_A8D3	    proc near		    ; CODE XREF: sub_A908+3p
seg003:0FC3					    ; sub_A912+3p
seg003:0FC3		    cmp	    byte ptr ds:2Eh, 0
seg003:0FC8		    jz	    short sub_A8C5
seg003:0FCA		    push    es
seg003:0FCB		    mov	    ax,	8
seg003:0FCE		    mov	    es,	ax
seg003:0FD0		    assume es:nothing
seg003:0FD0		    and	    di,	0FFF8h
seg003:0FD3		    mov	    ax,	es:[di+2]
seg003:0FD7		    mov	    cl,	es:[di+4]
seg003:0FDB		    mov	    ch,	es:[di+7]
seg003:0FDF		    pop	    es
seg003:0FE0		    assume es:nothing
seg003:0FE0
seg003:0FE0 loc_A8F0:				    ; CODE XREF: sub_A8C5+Cj
seg003:0FE0		    cmp	    cx,	10h
seg003:0FE3		    jnb	    short loc_A903
seg003:0FE5		    test    al,	0Fh
seg003:0FE7		    jnz	    short loc_A903
seg003:0FE9		    shr	    ax,	4
seg003:0FEC		    shl	    cl,	4
seg003:0FEF		    or	    ah,	cl
seg003:0FF1		    stc
seg003:0FF2		    retn
seg003:0FF3 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:0FF3
seg003:0FF3 loc_A903:				    ; CODE XREF: sub_A8D3+20j
seg003:0FF3					    ; sub_A8D3+24j
seg003:0FF3		    mov	    ax,	ds:9B4h
seg003:0FF6		    clc
seg003:0FF7		    retn
seg003:0FF7 sub_A8D3	    endp
seg003:0FF7
seg003:0FF8
seg003:0FF8 ;  S	U B R O	U T I N	E 
seg003:0FF8
seg003:0FF8
seg003:0FF8 sub_A908	    proc near		    ; CODE XREF: sub_A6E3p
seg003:0FF8					    ; sub_A5AE:loc_A712p ...
seg003:0FF8		    mov	    di,	[bp+4]
seg003:0FFB		    call    sub_A8D3
seg003:0FFE		    mov	    [bx+4], ax
seg003:1001		    retn
seg003:1001 sub_A908	    endp
seg003:1001
seg003:1002
seg003:1002 ;  S	U B R O	U T I N	E 
seg003:1002
seg003:1002
seg003:1002 sub_A912	    proc near		    ; CODE XREF: sub_A5AE+858p
seg003:1002					    ; sub_AEC5+Bp
seg003:1002		    mov	    di,	[bp+6]
seg003:1005		    call    sub_A8D3
seg003:1008		    mov	    [bx+6], ax
seg003:100B		    retn
seg003:100B sub_A912	    endp
seg003:100B
seg003:100C
seg003:100C ;  S	U B R O	U T I N	E 
seg003:100C
seg003:100C
seg003:100C sub_A91C	    proc near		    ; CODE XREF: sub_A4B8p
seg003:100C		    push    bx
seg003:100D		    xor	    bh,	bh
seg003:100F		    mov	    bl,	[bp+16h]
seg003:1012		    mov	    dl,	[bp+12h]
seg003:1015		    mov	    di,	bx
seg003:1017		    shl	    bx,	3
seg003:101A		    lea	    ax,	[bx-40h]
seg003:101D		    sar	    ax,	1
seg003:101F		    cmp	    ax,	9Ch ; ''
seg003:1022		    nop
seg003:1023		    jnb	    short loc_A95F
seg003:1025		    cmp	    bx,	108h
seg003:1029		    jz	    short loc_A95F
seg003:102B		    mov	    [di+10BEh],	dl
seg003:102F		    add	    ax,	111Ch
seg003:1032		    mov	    si,	ds:9B6h
seg003:1036		    shr	    bx,	1
seg003:1038		    or	    dl,	dl
seg003:103A		    jnz	    short loc_A954
seg003:103C		    mov	    ax,	[bx+0F6Ah]
seg003:1040		    mov	    si,	[bx+0F6Ch]
seg003:1044
seg003:1044 loc_A954:				    ; CODE XREF: sub_A91C+2Ej
seg003:1044		    mov	    es,	word ptr ds:0C2Eh
seg003:1048		    mov	    es:[bx], ax
seg003:104B		    mov	    es:[bx+2], si
seg003:104F
seg003:104F loc_A95F:				    ; CODE XREF: sub_A91C+17j
seg003:104F					    ; sub_A91C+1Dj
seg003:104F		    pop	    bx
seg003:1050		    retn
seg003:1050 sub_A91C	    endp
seg003:1050
seg003:1051 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1051 ; START OF FUNCTION	CHUNK FOR sub_A9D9
seg003:1051
seg003:1051 loc_A961:				    ; CODE XREF: sub_A9D9:loc_A9D7j
seg003:1051		    mov	    cx,	[bp+4]
seg003:1054		    push    edx
seg003:1056		    push    eax
seg003:1058		    movzx   edx, word ptr [bp+12h]
seg003:105D		    cmp	    cx,	ds:0C26h
seg003:1061		    jz	    short loc_A9A8
seg003:1063		    cmp	    cx,	ds:0C3Ch
seg003:1067		    jz	    short loc_A9A8
seg003:1069		    lar	    eax, ecx
seg003:106D		    bt	    eax, 16h
seg003:1072		    jb	    short loc_A9A8
seg003:1074		    mov	    di,	bx
seg003:1076		    shl	    di,	3
seg003:1079		    cld
seg003:107A		    mov	    es,	word ptr ds:0C24h
seg003:107E		    assume es:nothing
seg003:107E		    add	    di,	44D6h
seg003:1082		    push    di
seg003:1083		    mov	    al,	0E8h ; '่'
seg003:1085		    stosb
seg003:1086		    mov	    ax,	56BCh
seg003:1089		    sub	    ax,	di
seg003:108B		    stosw
seg003:108C		    mov	    al,	0EAh ; '๊'
seg003:108E		    stosb
seg003:108F		    mov	    ax,	dx
seg003:1091		    stosw
seg003:1092		    mov	    ax,	cx
seg003:1094		    stosw
seg003:1095		    mov	    cx,	cs
seg003:1097		    pop	    dx
seg003:1098
seg003:1098 loc_A9A8:				    ; CODE XREF: sub_A9D9-68j
seg003:1098					    ; sub_A9D9-62j ...
seg003:1098		    mov	    ax,	205h
seg003:109B		    push    cs
seg003:109C		    call    near ptr sub_A1A9
seg003:109F		    pop	    eax
seg003:10A1		    pop	    edx
seg003:10A3		    mov	    cx,	bx
seg003:10A5		    shl	    bx,	3
seg003:10A8		    cmp	    byte ptr ds:0C44h, 0
seg003:10AD		    ja	    short loc_AA2C
seg003:10AF		    sub	    cx,	1Bh
seg003:10B2		    cmp	    cx,	14h
seg003:10B5		    jnb	    short loc_A9D1
seg003:10B7		    mov	    ax,	42C0h
seg003:10BA		    inc	    cx
seg003:10BB		    shl	    ax,	cl
seg003:10BD		    jb	    short loc_A9D1
seg003:10BF		    jmp	    short loc_AA2C
seg003:10C1 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:10C1
seg003:10C1 loc_A9D1:				    ; CODE XREF: sub_A9D9-14j
seg003:10C1					    ; sub_A9D9-Cj
seg003:10C1		    jmp	    loc_AA88
seg003:10C4 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:10C4
seg003:10C4 loc_A9D4:				    ; CODE XREF: sub_A9D9+Fj
seg003:10C4		    jmp	    loc_AABB
seg003:10C7 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:10C7
seg003:10C7 loc_A9D7:				    ; CODE XREF: sub_A9D9+18j
seg003:10C7		    jmp	    short loc_A961
seg003:10C7 ; END OF FUNCTION CHUNK FOR	sub_A9D9
seg003:10C9
seg003:10C9 ;  S	U B R O	U T I N	E 
seg003:10C9
seg003:10C9
seg003:10C9 sub_A9D9	    proc near		    ; CODE XREF: sub_A5AE+59j
seg003:10C9					    ; DATA XREF: seg003:06B6o
seg003:10C9
seg003:10C9 ; FUNCTION CHUNK AT	seg003:1051 SIZE 00000078 BYTES
seg003:10C9 ; FUNCTION CHUNK AT	seg003:11AB SIZE 00000028 BYTES
seg003:10C9
seg003:10C9		    push    bx
seg003:10CA		    mov	    dx,	[bp+12h]
seg003:10CD		    mov	    cx,	[bp+4]
seg003:10D0		    xor	    bh,	bh
seg003:10D2		    mov	    bl,	[bp+16h]
seg003:10D5		    cmp	    bl,	0Dh
seg003:10D8		    jz	    short loc_A9D4
seg003:10DA		    mov	    di,	bx
seg003:10DC		    cmp	    byte ptr ds:2Eh, 0
seg003:10E1		    jz	    short loc_A9D7
seg003:10E3		    mov	    ax,	205h
seg003:10E6		    movzx   edx, dx
seg003:10EA		    push    cs
seg003:10EB		    call    near ptr sub_A1A9
seg003:10EE		    mov	    ax,	bx
seg003:10F0		    shl	    bx,	3
seg003:10F3		    cmp	    ax,	10h
seg003:10F6		    jbe	    short loc_AA2C
seg003:10F8		    push    10h
seg003:10FA		    pop	    es
seg003:10FB		    assume es:nothing
seg003:10FB		    mov	    byte ptr es:[bx+5],	8Eh ; ''
seg003:1100		    cmp	    cx,	18h
seg003:1103		    jz	    short loc_AA2C
seg003:1105		    cmp	    cx,	70h ; 'p'
seg003:1108		    jz	    short loc_AA2C
seg003:110A		    push    ds
seg003:110B		    push    (offset byte_78 - offset byte_70)
seg003:110D		    pop	    ds
seg003:110E		    assume ds:nothing
seg003:110E		    mov	    si,	cx
seg003:1110		    test    byte ptr [si+6], 40h
seg003:1114		    pop	    ds
seg003:1115		    assume ds:nothing
seg003:1115		    jnz	    short loc_AA2C
seg003:1117		    mov	    byte ptr es:[bx+5],	86h ; ''
seg003:111C
seg003:111C loc_AA2C:				    ; CODE XREF: sub_A9D9-1Cj
seg003:111C					    ; sub_A9D9-Aj ...
seg003:111C		    shr	    bx,	1
seg003:111E		    lea	    ax,	[bx-20h]
seg003:1121		    cmp	    ax,	9Ch ; ''
seg003:1124		    nop
seg003:1125		    jnb	    short loc_AA88
seg003:1127		    cmp	    bx,	84h ; ''
seg003:112B		    jz	    short loc_AA88
seg003:112D		    push    cx
seg003:112E		    mov	    cl,	1
seg003:1130		    xchg    cl,	[di+10BEh]
seg003:1134		    or	    cl,	cl
seg003:1136		    jnz	    short loc_AA5D
seg003:1138		    mov	    si,	ax
seg003:113A		    mov	    es,	word ptr ds:0C2Eh
seg003:113E		    assume es:nothing
seg003:113E		    mov	    cx,	es:[bx]
seg003:1141		    mov	    [si+0F8Ah],	cx
seg003:1145		    mov	    cx,	es:[bx+2]
seg003:1149		    mov	    [si+0F8Ch],	cx
seg003:114D
seg003:114D loc_AA5D:				    ; CODE XREF: sub_A9D9+6Dj
seg003:114D		    pop	    cx
seg003:114E		    add	    ax,	111Ch
seg003:1151		    mov	    si,	ds:9B6h
seg003:1155		    cmp	    cx,	70h ; 'p'
seg003:1158		    jz	    short loc_AA70
seg003:115A		    cmp	    cx,	ds:0C42h
seg003:115E		    jnz	    short loc_AA7D
seg003:1160
seg003:1160 loc_AA70:				    ; CODE XREF: sub_A9D9+8Fj
seg003:1160		    mov	    byte ptr [di+10BEh], 0
seg003:1165
seg003:1165 loc_AA75:				    ; CODE XREF: sub_A9D9+F5j
seg003:1165		    mov	    ax,	[bx+0F6Ah]
seg003:1169		    mov	    si,	[bx+0F6Ch]
seg003:116D
seg003:116D loc_AA7D:				    ; CODE XREF: sub_A9D9+95j
seg003:116D					    ; sub_A9D9+108j
seg003:116D		    mov	    es,	word ptr ds:0C2Eh
seg003:1171		    mov	    es:[bx], ax
seg003:1174		    mov	    es:[bx+2], si
seg003:1178
seg003:1178 loc_AA88:				    ; CODE XREF: sub_A9D9:loc_A9D1j
seg003:1178					    ; sub_A9D9+5Cj ...
seg003:1178		    pop	    bx
seg003:1179		    mov	    dx,	1301h
seg003:117C		    mov	    cl,	[bp+16h]
seg003:117F		    cmp	    cl,	dl
seg003:1181		    jb	    short loc_AAB8
seg003:1183		    cmp	    ds:1185h, dl
seg003:1187		    ja	    short loc_AAB8
seg003:1189		    jb	    short loc_AAAE
seg003:118B		    mov	    ch,	cl
seg003:118D		    mov	    ax,	ds:4Ah
seg003:1190		    sub	    ch,	ah
seg003:1192		    cmp	    ch,	8
seg003:1195		    jb	    short loc_AAAE
seg003:1197		    sub	    cl,	al
seg003:1199		    cmp	    cl,	8
seg003:119C		    jnb	    short loc_AAB8
seg003:119E
seg003:119E loc_AAAE:				    ; CODE XREF: sub_A9D9+C0j
seg003:119E					    ; sub_A9D9+CCj
seg003:119E		    mov	    es,	word ptr [bp+4]
seg003:11A1		    mov	    ax,	0FF40h
seg003:11A4		    push    cs
seg003:11A5		    call    near ptr sub_A156
seg003:11A8
seg003:11A8 loc_AAB8:				    ; CODE XREF: sub_A9D9+B8j
seg003:11A8					    ; sub_A9D9+BEj ...
seg003:11A8		    jmp	    sub_A628
seg003:11A8 sub_A9D9	    endp
seg003:11A8
seg003:11AB ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:11AB ; START OF FUNCTION	CHUNK FOR sub_A9D9
seg003:11AB
seg003:11AB loc_AABB:				    ; CODE XREF: sub_A9D9:loc_A9D4j
seg003:11AB		    shl	    bx,	2
seg003:11AE		    cmp	    cx,	ds:0C42h
seg003:11B2		    jz	    short loc_AAC9
seg003:11B4		    cmp	    cx,	70h ; 'p'
seg003:11B7		    jnz	    short loc_AAD0
seg003:11B9
seg003:11B9 loc_AAC9:				    ; CODE XREF: sub_A9D9+E9j
seg003:11B9		    xor	    cx,	cx
seg003:11BB		    call    sub_AAE3
seg003:11BE		    jmp	    short loc_AA75
seg003:11C0 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:11C0
seg003:11C0 loc_AAD0:				    ; CODE XREF: sub_A9D9+EEj
seg003:11C0		    call    sub_AAE3
seg003:11C3		    cmp	    byte ptr ds:1181h, 0
seg003:11C8		    jnz	    short loc_AA88
seg003:11CA		    mov	    ax,	1130h
seg003:11CD		    mov	    si,	ds:9B6h
seg003:11D1		    jmp	    short loc_AA7D
seg003:11D1 ; END OF FUNCTION CHUNK FOR	sub_A9D9
seg003:11D3
seg003:11D3 ;  S	U B R O	U T I N	E 
seg003:11D3
seg003:11D3
seg003:11D3 sub_AAE3	    proc near		    ; CODE XREF: sub_A9D9+F2p
seg003:11D3					    ; sub_A9D9:loc_AAD0p
seg003:11D3		    push    ds
seg003:11D4		    push    48h	; 'H'
seg003:11D6		    pop	    ds
seg003:11D7		    assume ds:nothing
seg003:11D7		    mov	    ds:1060h, dx
seg003:11DB		    mov	    ds:1062h, cx
seg003:11DF		    pop	    ds
seg003:11E0		    assume ds:nothing
seg003:11E0		    retn
seg003:11E0 sub_AAE3	    endp
seg003:11E0
seg003:11E1
seg003:11E1 ;  S	U B R O	U T I N	E 
seg003:11E1
seg003:11E1
seg003:11E1 sub_AAF1	    proc near		    ; CODE XREF: sub_A5AE+59j
seg003:11E1					    ; DATA XREF: seg003:06D6o
seg003:11E1		    push    bx
seg003:11E2		    mov	    bl,	[bp+16h]
seg003:11E5		    xor	    bh,	bh
seg003:11E7		    cmp	    ds:2Eh, bh
seg003:11EB		    jz	    short loc_AB02
seg003:11ED		    cmp	    bl,	0Dh
seg003:11F0		    jz	    short loc_AB19
seg003:11F2
seg003:11F2 loc_AB02:				    ; CODE XREF: sub_AAF1+Aj
seg003:11F2		    mov	    ax,	204h
seg003:11F5		    push    edx
seg003:11F7		    pop	    dx
seg003:11F8		    push    cs
seg003:11F9		    call    near ptr sub_A1A9
seg003:11FC		    push    dx
seg003:11FD		    pop	    edx
seg003:11FF
seg003:11FF loc_AB0F:				    ; CODE XREF: sub_AAF1+35j
seg003:11FF		    mov	    [bp+6], cx
seg003:1202		    mov	    [bp+10h], dx
seg003:1205		    pop	    bx
seg003:1206		    jmp	    sub_A628
seg003:1209 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1209
seg003:1209 loc_AB19:				    ; CODE XREF: sub_AAF1+Fj
seg003:1209		    push    10h
seg003:120B		    shl	    bx,	3
seg003:120E		    pop	    es
seg003:120F		    mov	    cx,	es:[bx+2]
seg003:1213		    mov	    dx,	es:[bx]
seg003:1216		    jmp	    short loc_AB0F
seg003:1216 sub_AAF1	    endp
seg003:1216
seg003:1218
seg003:1218 ;  S	U B R O	U T I N	E 
seg003:1218
seg003:1218
seg003:1218 sub_AB28	    proc near		    ; CODE XREF: sub_A5AE:loc_AB7Cp
seg003:1218					    ; sub_A5AE:loc_ABCCp ...
seg003:1218		    push    bx
seg003:1219		    mov	    bx,	ds:0C2Ch
seg003:121D		    mov	    ax,	6
seg003:1220		    int	    31h		    ; DPMI Services   ax=func xxxxh
seg003:1220					    ; GET SEGMENT BASE ADDRESS
seg003:1220					    ; BX = selector
seg003:1220					    ; Return: CF set on	error
seg003:1220					    ; CF clear if successful, CX:DX = linear base address of segment
seg003:1222		    mov	    bx,	0
seg003:1225		    jb	    short loc_AB44
seg003:1227		    mov	    ax,	10h
seg003:122A		    cmp	    cx,	ax
seg003:122C		    jnb	    short loc_AB44
seg003:122E		    xchg    ax,	cx
seg003:122F		    xchg    ax,	dx
seg003:1230		    div	    cx
seg003:1232		    mov	    bx,	ax
seg003:1234
seg003:1234 loc_AB44:				    ; CODE XREF: sub_AB28+Dj
seg003:1234					    ; sub_AB28+14j
seg003:1234		    mov	    es,	word ptr ds:0C2Ah
seg003:1238		    mov	    es:2Ch, bx
seg003:123D		    pop	    bx
seg003:123E		    retn
seg003:123E sub_AB28	    endp
seg003:123E
seg003:123F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:123F ; START OF FUNCTION	CHUNK FOR sub_A5AE
seg003:123F
seg003:123F loc_AB4F:				    ; CODE XREF: sub_A5AE+59j
seg003:123F					    ; DATA XREF: seg003:066Co ...
seg003:123F		    cmp	    byte ptr ds:2Eh, 0
seg003:1244		    jz	    short loc_AB97
seg003:1246		    mov	    ax,	ds:0C10h
seg003:1249		    mov	    dx,	ds:0C12h
seg003:124D
seg003:124D loc_AB5D:				    ; CODE XREF: sub_A5AE+5CCj
seg003:124D		    mov	    bx,	ax
seg003:124F		    or	    bx,	dx
seg003:1251		    jz	    short loc_AB7C
seg003:1253		    mov	    di,	ax
seg003:1255		    mov	    si,	dx
seg003:1257		    push    0
seg003:1259		    push    dx
seg003:125A		    push    ax
seg003:125B		    call    sub_D941
seg003:125E		    add	    sp,	6
seg003:1261		    push    dx
seg003:1262		    push    ax
seg003:1263		    mov	    ax,	502h
seg003:1266		    int	    31h		    ; DPMI Services   ax=func xxxxh
seg003:1266					    ; FREE MEMORY BLOCK
seg003:1266					    ; SI:DI = handle of	memory block
seg003:1266					    ; Return: CF set on	error
seg003:1266					    ; CF clear if successful
seg003:1268		    pop	    ax
seg003:1269		    pop	    dx
seg003:126A		    jmp	    short loc_AB5D
seg003:126C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:126C
seg003:126C loc_AB7C:				    ; CODE XREF: sub_A5AE+5B3j
seg003:126C		    call    sub_AB28
seg003:126F		    mov	    word ptr ds:99Eh, 0
seg003:1275		    sub	    word ptr [bp+1Eh], 2
seg003:1279		    lea	    sp,	[bp+4]
seg003:127C		    pop	    ds
seg003:127D		    pop	    es
seg003:127E		    popa
seg003:127F		    add	    sp,	6
seg003:1282		    jmp	    far	ptr 18h:10EEh
seg003:1287 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1287
seg003:1287 loc_AB97:				    ; CODE XREF: sub_A5AE+5A6j
seg003:1287		    mov	    ax,	[bp+16h]
seg003:128A		    push    ax
seg003:128B		    push    ax
seg003:128C		    push    word ptr ds:0C26h
seg003:1290		    push    71FCh
seg003:1293		    retf
seg003:1294 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1294
seg003:1294 loc_ABA4:				    ; CODE XREF: sub_A5AE+59j
seg003:1294					    ; DATA XREF: seg003:06CEo
seg003:1294		    push    bx
seg003:1295		    call    sub_B777
seg003:1298		    mov	    ax,	204h
seg003:129B		    mov	    bl,	23h ; '#'
seg003:129D		    push    cs
seg003:129E		    call    near ptr sub_A1A9
seg003:12A1		    cmp	    cx,	ds:0C26h
seg003:12A5		    jnz	    short loc_ABCC
seg003:12A7		    cmp	    dx,	7584h
seg003:12AB		    jnz	    short loc_ABCC
seg003:12AD		    mov	    cx,	ds:196h
seg003:12B1		    mov	    edx, ds:192h
seg003:12B6		    inc	    al
seg003:12B8		    push    cs
seg003:12B9		    call    near ptr sub_A1A9
seg003:12BC
seg003:12BC loc_ABCC:				    ; CODE XREF: sub_A5AE+607j
seg003:12BC					    ; sub_A5AE+60Dj
seg003:12BC		    call    sub_AB28
seg003:12BF		    mov	    bx,	ds:0CECh
seg003:12C3		    mov	    ax,	0BF04h
seg003:12C6		    call    near ptr byte_B44E
seg003:12C9		    mov	    word ptr ds:99Eh, 0
seg003:12CF		    mov	    ax,	ds:5Ah
seg003:12D2		    pop	    bx
seg003:12D3		    mov	    [bx+12h], ax
seg003:12D6		    mov	    byte ptr [bx+17h], 31h ; '1'
seg003:12DA		    call    sub_A683
seg003:12DD
seg003:12DD loc_ABED:				    ; CODE XREF: sub_A5AE+59j
seg003:12DD					    ; DATA XREF: seg003:06FAo
seg003:12DD		    call    sub_A908
seg003:12E0		    pushf
seg003:12E1		    jb	    short loc_ABF9
seg003:12E3		    mov	    ax,	ds:0Ah
seg003:12E6		    mov	    [bx+0Ah], ax
seg003:12E9
seg003:12E9 loc_ABF9:				    ; CODE XREF: sub_A5AE+643j
seg003:12E9		    call    sub_A683
seg003:12EC		    popf
seg003:12ED		    jb	    short loc_AC1B
seg003:12EF		    test    byte ptr [bx+26h], 1
seg003:12F3		    jz	    short loc_AC08
seg003:12F5		    jmp	    loc_AE2D
seg003:12F8 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:12F8
seg003:12F8 loc_AC08:				    ; CODE XREF: sub_A5AE+655j
seg003:12F8		    mov	    es,	word ptr [bp+4]
seg003:12FB		    mov	    di,	[bp+0Ah]
seg003:12FE		    mov	    si,	ds:0Ah
seg003:1302		    mov	    cx,	40h ; '@'
seg003:1305
seg003:1305 loc_AC15:				    ; CODE XREF: sub_A5AE+66Bj
seg003:1305		    lodsb
seg003:1306		    stosb
seg003:1307		    or	    al,	al
seg003:1309		    loopne  loc_AC15
seg003:130B
seg003:130B loc_AC1B:				    ; CODE XREF: sub_A5AE+64Fj
seg003:130B		    jmp	    loc_AE2D
seg003:130E ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:130E
seg003:130E loc_AC1E:				    ; CODE XREF: sub_A5AE+59j
seg003:130E					    ; DATA XREF: seg003:06A0o
seg003:130E		    mov	    ax,	[bp+12h]
seg003:1311		    mov	    ds:9B0h, ax
seg003:1314		    mov	    ax,	[bp+4]
seg003:1317		    mov	    ds:9B2h, ax
seg003:131A		    call    sub_A908
seg003:131D		    mov	    al,	0
seg003:131F		    jb	    short loc_AC38
seg003:1321		    mov	    word ptr [bx+12h], 1100h
seg003:1326		    mov	    al,	1
seg003:1328
seg003:1328 loc_AC38:				    ; CODE XREF: sub_A5AE+681j
seg003:1328		    mov	    ds:1180h, al
seg003:132B		    call    sub_A683
seg003:132E		    jmp	    sub_A628
seg003:1331 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1331
seg003:1331 loc_AC41:				    ; CODE XREF: sub_A5AE+59j
seg003:1331					    ; DATA XREF: seg003:06CAo
seg003:1331		    mov	    ax,	ds:9B0h
seg003:1334		    mov	    [bp+10h], ax
seg003:1337		    mov	    ax,	ds:9B2h
seg003:133A		    mov	    [bp+6], ax
seg003:133D		    jmp	    sub_A628
seg003:1340 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1340
seg003:1340 loc_AC50:				    ; CODE XREF: sub_A5AE+59j
seg003:1340					    ; DATA XREF: seg003:0708o
seg003:1340		    call    sub_A6E3
seg003:1343		    push    ds
seg003:1344		    inc	    byte ptr ds:1182h
seg003:1348		    mov	    ah,	1Ah
seg003:134A		    lds	    dx,	ds:9B0h
seg003:134E		    push    cs
seg003:134F		    call    near ptr sub_A156
seg003:1352		    pop	    ds
seg003:1353		    dec	    byte ptr ds:1182h
seg003:1357
seg003:1357 loc_AC67:				    ; CODE XREF: sub_A5AE+59j
seg003:1357					    ; DATA XREF: seg003:070Ao
seg003:1357		    cmp	    byte ptr ds:1180h, 0
seg003:135C		    jz	    short loc_AC7C
seg003:135E		    push    ds
seg003:135F		    lds	    si,	ds:9B0h
seg003:1363		    mov	    di,	1100h
seg003:1366		    mov	    cx,	2Bh ; '+'
seg003:1369		    rep	movsb
seg003:136B		    pop	    ds
seg003:136C
seg003:136C loc_AC7C:				    ; CODE XREF: sub_A5AE+6BEj
seg003:136C		    call    sub_A683
seg003:136F		    mov	    cx,	2Bh ; '+'
seg003:1372
seg003:1372 loc_AC82:				    ; CODE XREF: sub_A5AE+6F9j
seg003:1372					    ; sub_A5AE+6FDj
seg003:1372		    cmp	    byte ptr ds:1180h, 0
seg003:1377		    jz	    short loc_AC92
seg003:1379		    les	    di,	ds:9B0h
seg003:137D		    mov	    si,	1100h
seg003:1380		    rep	movsb
seg003:1382
seg003:1382 loc_AC92:				    ; CODE XREF: sub_A5AE+6D9j
seg003:1382					    ; sub_A5AE+6EFj
seg003:1382		    jmp	    loc_AE2D
seg003:1385 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1385
seg003:1385 loc_AC95:				    ; CODE XREF: sub_A5AE+59j
seg003:1385					    ; DATA XREF: seg003:068Eo ...
seg003:1385		    call    sub_ACB3
seg003:1388		    cmp	    byte ptr ds:1180h, 0
seg003:138D		    jz	    short loc_AC92
seg003:138F		    cmp	    byte ptr ds:1100h, 0FFh
seg003:1394		    mov	    cx,	2Ch ; ','
seg003:1397		    jz	    short loc_AC82
seg003:1399		    mov	    cl,	25h ; '%'
seg003:139B		    jmp	    short loc_AC82
seg003:139D ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:139D
seg003:139D loc_ACAD:				    ; CODE XREF: sub_A5AE+59j
seg003:139D					    ; DATA XREF: seg003:068Ao ...
seg003:139D		    call    sub_ACB3
seg003:13A0		    jmp	    sub_A628
seg003:13A0 ; END OF FUNCTION CHUNK FOR	sub_A5AE
seg003:13A3
seg003:13A3 ;  S	U B R O	U T I N	E 
seg003:13A3
seg003:13A3
seg003:13A3 sub_ACB3	    proc near		    ; CODE XREF: sub_A5AE:loc_AC95p
seg003:13A3					    ; sub_A5AE:loc_ACADp
seg003:13A3		    call    sub_A908
seg003:13A6		    pushf
seg003:13A7		    jb	    short loc_ACD0
seg003:13A9		    mov	    di,	ds:0Ah
seg003:13AD		    mov	    si,	[bp+12h]
seg003:13B0		    mov	    ds,	word ptr [bp+4]
seg003:13B3		    mov	    cx,	16h
seg003:13B6		    rep	movsw
seg003:13B8		    push    es
seg003:13B9		    pop	    ds
seg003:13BA		    mov	    ax,	ds:0Ah
seg003:13BD		    mov	    [bx+12h], ax
seg003:13C0
seg003:13C0 loc_ACD0:				    ; CODE XREF: sub_ACB3+4j
seg003:13C0		    call    sub_A683
seg003:13C3		    popf
seg003:13C4		    jb	    short loc_ACE5
seg003:13C6		    mov	    di,	[bp+12h]
seg003:13C9		    mov	    si,	ds:0Ah
seg003:13CD		    mov	    es,	word ptr [bp+4]
seg003:13D0		    mov	    cx,	16h
seg003:13D3		    rep	movsw
seg003:13D5
seg003:13D5 loc_ACE5:				    ; CODE XREF: sub_ACB3+21j
seg003:13D5		    mov	    ax,	[bx+16h]
seg003:13D8		    mov	    [bp+16h], ax
seg003:13DB		    retn
seg003:13DB sub_ACB3	    endp
seg003:13DB
seg003:13DC ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:13DC ; START OF FUNCTION	CHUNK FOR sub_A5AE
seg003:13DC
seg003:13DC loc_ACEC:				    ; CODE XREF: sub_A5AE+59j
seg003:13DC					    ; DATA XREF: seg003:06BEo
seg003:13DC		    mov	    ax,	ds:9B4h
seg003:13DF		    mov	    [bx+4], ax
seg003:13E2		    mov	    [bx+6], ax
seg003:13E5		    mov	    di,	ds:0Ah
seg003:13E9		    mov	    [bx+8], di
seg003:13EC		    mov	    ds,	word ptr [bp+6]
seg003:13EF		    mov	    si,	[bp+8]
seg003:13F2		    mov	    cx,	6
seg003:13F5		    rep	movsw
seg003:13F7		    add	    di,	20h ; ' '
seg003:13FA		    mov	    es:[bx+0Ah], di
seg003:13FE		    mov	    si,	[bp+0Ah]
seg003:1401		    mov	    ds,	word ptr [bp+4]
seg003:1404		    mov	    cx,	80h ; ''
seg003:1407		    lsl	    ax,	[bp+4]
seg003:140B		    sub	    ax,	si
seg003:140D		    inc	    ax
seg003:140E		    jz	    short loc_AD26
seg003:1410		    cmp	    ax,	cx
seg003:1412		    ja	    short loc_AD26
seg003:1414		    mov	    cx,	ax
seg003:1416
seg003:1416 loc_AD26:				    ; CODE XREF: sub_A5AE+770j
seg003:1416					    ; sub_A5AE+774j
seg003:1416		    rep	movsb
seg003:1418		    push    es
seg003:1419		    pop	    ds
seg003:141A		    call    sub_A683
seg003:141D		    mov	    es,	word ptr [bp+6]
seg003:1420		    mov	    di,	[bp+8]
seg003:1423		    mov	    si,	ds:0Ah
seg003:1427		    mov	    cx,	6
seg003:142A		    rep	movsw
seg003:142C		    add	    si,	20h ; ' '
seg003:142F		    sub	    si,	[bx+0Ah]
seg003:1432		    sub	    [bp+0Ah], si
seg003:1435		    jmp	    loc_AE2D
seg003:1438 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1438
seg003:1438 loc_AD48:				    ; CODE XREF: sub_A5AE+59j
seg003:1438					    ; DATA XREF: seg003:06C0o
seg003:1438		    test    byte ptr ds:15h, 1
seg003:143D		    jnz	    short loc_AD88
seg003:143F		    cmp	    byte ptr ds:34h, 15h
seg003:1444		    jnz	    short loc_AD88
seg003:1446		    cmp	    word ptr ds:10FAh, 0
seg003:144B		    jz	    short loc_AD8B
seg003:144D		    call    sub_A6AF
seg003:1450		    push    40h	; '@'
seg003:1452		    pop	    es
seg003:1453		    assume es:nothing
seg003:1453		    mov	    al,	es:6Ch
seg003:1457		    mov	    ah,	al
seg003:1459		    xchg    al,	ds:10FFh
seg003:145D		    xor	    al,	ah
seg003:145F		    test    al,	0F0h
seg003:1461		    jnz	    short loc_AD8B
seg003:1463		    mov	    ax,	ds:10FAh
seg003:1466		    mov	    [bp+12h], ax
seg003:1469		    mov	    ax,	ds:10FCh
seg003:146C		    mov	    [bp+14h], ax
seg003:146F		    mov	    al,	ds:10FEh
seg003:1472		    mov	    [bp+16h], al
seg003:1475
seg003:1475 loc_AD85:				    ; CODE XREF: sub_A5AE+853j
seg003:1475		    jmp	    sub_A628
seg003:1478 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1478
seg003:1478 loc_AD88:				    ; CODE XREF: sub_A5AE+79Fj
seg003:1478					    ; sub_A5AE+7A6j ...
seg003:1478		    jmp	    loc_A60C
seg003:147B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:147B
seg003:147B loc_AD8B:				    ; CODE XREF: sub_A5AE+7ADj
seg003:147B					    ; sub_A5AE+7C3j
seg003:147B		    call    sub_A683
seg003:147E		    mov	    ax,	[bx+12h]
seg003:1481		    mov	    ds:10FAh, ax
seg003:1484		    mov	    ax,	[bx+14h]
seg003:1487		    mov	    ds:10FCh, ax
seg003:148A		    mov	    al,	[bx+16h]
seg003:148D		    mov	    ds:10FEh, al
seg003:1490		    jmp	    loc_A60F
seg003:1493 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1493
seg003:1493 loc_ADA3:				    ; CODE XREF: sub_A5AE+59j
seg003:1493					    ; DATA XREF: seg003:06C2o
seg003:1493		    mov	    word ptr ds:10FAh, 0
seg003:1499		    jmp	    short loc_AD88
seg003:149B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:149B
seg003:149B loc_ADAB:				    ; CODE XREF: sub_A5AE+59j
seg003:149B					    ; DATA XREF: seg003:06C4o
seg003:149B		    test    byte ptr ds:15h, 1
seg003:14A0		    jnz	    short loc_AD88
seg003:14A2		    cmp	    byte ptr ds:34h, 15h
seg003:14A7		    jnz	    short loc_AD88
seg003:14A9		    call    sub_A6AF
seg003:14AC		    push    40h	; '@'
seg003:14AE		    pop	    es
seg003:14AF		    mov	    bx,	es:6Eh
seg003:14B4		    mov	    ax,	16h
seg003:14B7		    mul	    bx
seg003:14B9		    mov	    cx,	3
seg003:14BC		    div	    cx
seg003:14BE		    mov	    cx,	es:6Ch
seg003:14C3		    shr	    cx,	0Dh
seg003:14C6		    add	    cx,	ax
seg003:14C8		    mov	    ax,	es:6Ch
seg003:14CC		    sub	    ax,	cx
seg003:14CE		    sbb	    bl,	0
seg003:14D1		    mov	    cx,	0CFBh
seg003:14D4		    mul	    cx
seg003:14D6		    mov	    cx,	0EC54h
seg003:14D9		    div	    cx
seg003:14DB		    mov	    ch,	3Ch ; '<'
seg003:14DD		    div	    ch
seg003:14DF		    xchg    ah,	bl
seg003:14E1		    mov	    [bp+14h], ax
seg003:14E4		    xchg    ax,	dx
seg003:14E5		    xor	    dx,	dx
seg003:14E7		    mov	    cx,	25Dh
seg003:14EA		    div	    cx
seg003:14EC		    mov	    ah,	bl
seg003:14EE		    mov	    [bp+12h], ax
seg003:14F1		    jmp	    short loc_AD85
seg003:14F3 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:14F3
seg003:14F3 loc_AE03:				    ; CODE XREF: sub_A5AE+59j
seg003:14F3					    ; DATA XREF: seg003:0718o
seg003:14F3		    call    sub_A6E3
seg003:14F6		    call    sub_A912
seg003:14F9		    jb	    short loc_AE2A
seg003:14FB		    mov	    di,	ds:0Ah
seg003:14FF		    add	    di,	100h
seg003:1503		    mov	    [bx+8], di
seg003:1506		    mov	    cx,	ds:0Eh
seg003:150A		    mov	    ds,	word ptr [bp+6]
seg003:150D		    mov	    si,	[bp+8]
seg003:1510		    dec	    ch
seg003:1512
seg003:1512 loc_AE22:				    ; CODE XREF: sub_A5AE+878j
seg003:1512		    lodsb
seg003:1513		    stosb
seg003:1514		    or	    al,	al
seg003:1516		    loopne  loc_AE22
seg003:1518		    push    es
seg003:1519		    pop	    ds
seg003:151A		    assume ds:nothing
seg003:151A
seg003:151A loc_AE2A:				    ; CODE XREF: sub_A5AE+85Bj
seg003:151A		    call    sub_A683
seg003:151D
seg003:151D loc_AE2D:				    ; CODE XREF: sub_A5AE+10Ej
seg003:151D					    ; sub_A5AE+11Bj ...
seg003:151D		    mov	    ax,	[bx+16h]
seg003:1520		    mov	    [bp+16h], ax
seg003:1523		    jmp	    loc_A61F
seg003:1526 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1526
seg003:1526 loc_AE36:				    ; CODE XREF: sub_A5AE+59j
seg003:1526					    ; DATA XREF: seg003:06FCo
seg003:1526		    or	    byte ptr [bp+26h], 1
seg003:152A		    push    0
seg003:152C		    push    ss
seg003:152D		    push    bp
seg003:152E		    sti
seg003:152F		    call    sub_C64E
seg003:1532		    pop	    cx
seg003:1533
seg003:1533 loc_AE43:				    ; CODE XREF: sub_A5AE:loc_AE9Dj
seg003:1533					    ; sub_A5AE+914j
seg003:1533		    pop	    cx
seg003:1534		    pop	    cx
seg003:1535		    jmp	    sub_A628
seg003:1535 ; END OF FUNCTION CHUNK FOR	sub_A5AE
seg003:1538
seg003:1538 ;  S	U B R O	U T I N	E 
seg003:1538
seg003:1538 ; Attributes: bp-based frame
seg003:1538
seg003:1538 sub_AE48	    proc near		    ; CODE XREF: sub_C64E+83p
seg003:1538					    ; sub_C64E+90p ...
seg003:1538
seg003:1538 arg_0	    = word ptr	4
seg003:1538 arg_C	    = word ptr	10h
seg003:1538 arg_12	    = word ptr	16h
seg003:1538
seg003:1538		    push    bp
seg003:1539		    mov	    bp,	sp
seg003:153B		    mov	    bp,	[bp+arg_0]
seg003:153E		    mov	    bx,	ds:996h
seg003:1542		    mov	    byte ptr [bx+17h], 48h ; 'H'
seg003:1546		    call    sub_A683
seg003:1549
seg003:1549 loc_AE59:				    ; CODE XREF: sub_AEC5+14j
seg003:1549		    xor	    dx,	dx
seg003:154B		    mov	    ax,	[bx+10h]
seg003:154E		    mov	    [bp+arg_C],	ax
seg003:1551		    mov	    ds:11FAh, ax
seg003:1554		    mov	    ax,	[bx+16h]
seg003:1557		    mov	    [bp+arg_12], ax
seg003:155A		    test    byte ptr [bx+26h], 1
seg003:155E		    jz	    short loc_AE72
seg003:1560		    xor	    ax,	ax
seg003:1562
seg003:1562 loc_AE72:				    ; CODE XREF: sub_AE48+26j
seg003:1562		    pop	    bp
seg003:1563		    retn
seg003:1563 sub_AE48	    endp
seg003:1563
seg003:1564 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1564 ; START OF FUNCTION	CHUNK FOR sub_A5AE
seg003:1564
seg003:1564 loc_AE74:				    ; CODE XREF: sub_A5AE+59j
seg003:1564					    ; DATA XREF: seg003:06FEo
seg003:1564		    or	    byte ptr [bp+26h], 1
seg003:1568		    push    ss
seg003:1569		    push    bp
seg003:156A		    sti
seg003:156B		    call    sub_CAE7
seg003:156E		    test    word ptr [bp+26h], 1
seg003:1573		    jnz	    short loc_AE9D
seg003:1575		    sub	    ax,	ax
seg003:1577		    mov	    bx,	[bp+6]
seg003:157A		    mov	    cx,	[bp+4]
seg003:157D		    mov	    [bp+6], ax
seg003:1580		    shr	    bx,	3
seg003:1583		    shr	    cx,	3
seg003:1586		    cmp	    cx,	bx
seg003:1588		    jnz	    short loc_AE9D
seg003:158A		    mov	    [bp+4], ax
seg003:158D
seg003:158D loc_AE9D:				    ; CODE XREF: sub_A5AE+8D5j
seg003:158D					    ; sub_A5AE+8EAj
seg003:158D		    jmp	    short loc_AE43
seg003:158D ; END OF FUNCTION CHUNK FOR	sub_A5AE
seg003:158F
seg003:158F ;  S	U B R O	U T I N	E 
seg003:158F
seg003:158F ; Attributes: bp-based frame
seg003:158F
seg003:158F sub_AE9F	    proc near		    ; CODE XREF: sub_C64E+157p
seg003:158F					    ; sub_C87E+18Ap ...
seg003:158F
seg003:158F arg_0	    = word ptr	4
seg003:158F
seg003:158F		    push    bp
seg003:1590		    mov	    bp,	sp
seg003:1592		    mov	    bp,	[bp+arg_0]
seg003:1595		    mov	    bx,	ds:996h
seg003:1599		    mov	    byte ptr [bx+17h], 49h ; 'I'
seg003:159D		    call    sub_A683
seg003:15A0		    mov	    al,	[bx+26h]
seg003:15A3		    and	    ax,	1
seg003:15A6		    pop	    bp
seg003:15A7		    retn
seg003:15A7 sub_AE9F	    endp
seg003:15A7
seg003:15A8 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:15A8 ; START OF FUNCTION	CHUNK FOR sub_A5AE
seg003:15A8
seg003:15A8 loc_AEB8:				    ; CODE XREF: sub_A5AE+59j
seg003:15A8					    ; DATA XREF: seg003:0700o
seg003:15A8		    or	    byte ptr [bp+26h], 1
seg003:15AC		    push    ss
seg003:15AD		    push    bp
seg003:15AE		    sti
seg003:15AF		    call    sub_C87E
seg003:15B2		    jmp	    loc_AE43
seg003:15B2 ; END OF FUNCTION CHUNK FOR	sub_A5AE
seg003:15B5
seg003:15B5 ;  S	U B R O	U T I N	E 
seg003:15B5
seg003:15B5 ; Attributes: bp-based frame
seg003:15B5
seg003:15B5 sub_AEC5	    proc far		    ; CODE XREF: sub_C87E+193p
seg003:15B5
seg003:15B5 arg_0	    = word ptr	6
seg003:15B5 arg_A	    = word ptr	10h
seg003:15B5 arg_10	    = byte ptr	16h
seg003:15B5 arg_20	    = byte ptr	26h
seg003:15B5
seg003:15B5		    push    bp
seg003:15B6		    mov	    bp,	sp
seg003:15B8		    mov	    bp,	[bp+4]
seg003:15BB		    mov	    bx,	ds:996h
seg003:15BF		    push    di
seg003:15C0		    call    sub_A912
seg003:15C3		    pop	    di
seg003:15C4		    jnb	    short loc_AEDC
seg003:15C6		    call    sub_A683
seg003:15C9		    jmp	    loc_AE59
seg003:15CC ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:15CC
seg003:15CC loc_AEDC:				    ; CODE XREF: sub_AEC5+Fj
seg003:15CC		    int	    3		    ; Trap to Debugger
seg003:15CD
seg003:15CD loc_AEDD:				    ; CODE XREF: sub_A5AE+59j
seg003:15CD					    ; DATA XREF: seg003:0702o
seg003:15CD		    cmp	    [bp+arg_10], 0
seg003:15D1		    jz	    short loc_AEEF
seg003:15D3		    mov	    word ptr [bp+arg_10], 1
seg003:15D8		    or	    [bp+arg_20], 1
seg003:15DC		    jmp	    sub_A628
seg003:15DF ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:15DF
seg003:15DF loc_AEEF:				    ; CODE XREF: sub_AEC5+1Cj
seg003:15DF		    mov	    di,	ds:0Ah
seg003:15E3		    push    di
seg003:15E4		    xor	    ax,	ax
seg003:15E6		    mov	    cx,	ds:0Eh
seg003:15EA		    shr	    cx,	1
seg003:15EC		    rep	stosw
seg003:15EE		    call    sub_A6E3
seg003:15F1		    pop	    di
seg003:15F2		    add	    di,	80h ; ''
seg003:15F6		    mov	    [bx+10h], di
seg003:15F9		    mov	    si,	[bp+arg_A]
seg003:15FC		    mov	    ds,	[bp+arg_0]
seg003:15FF		    assume ds:nothing
seg003:15FF		    mov	    cx,	7
seg003:1602		    rep	movsw
seg003:1604		    mov	    bx,	es:0Ah
seg003:1609		    lea	    di,	[bx+90h]
seg003:160D		    lds	    si,	es:[bx+86h]
seg003:1612		    mov	    cx,	ds
seg003:1614		    inc	    cx
seg003:1615		    loop    loc_AF2B
seg003:1617		    push    es
seg003:1618		    pop	    ds
seg003:1619		    assume ds:nothing
seg003:1619		    mov	    si,	di
seg003:161B
seg003:161B loc_AF2B:				    ; CODE XREF: sub_AEC5+60j
seg003:161B		    mov	    cx,	8
seg003:161E		    rep	movsw
seg003:1620		    lds	    si,	es:[bx+8Ah]
seg003:1625		    assume ds:nothing
seg003:1625		    mov	    cx,	ds
seg003:1627		    inc	    cx
seg003:1628		    loop    loc_AF3E
seg003:162A		    push    es
seg003:162B		    pop	    ds
seg003:162C		    assume ds:nothing
seg003:162C		    mov	    si,	di
seg003:162E
seg003:162E loc_AF3E:				    ; CODE XREF: sub_AEC5+73j
seg003:162E		    mov	    cx,	8
seg003:1631		    rep	movsw
seg003:1633		    push    di
seg003:1634		    lds	    si,	es:[bx+82h]
seg003:1639		    assume ds:nothing
seg003:1639		    mov	    dx,	80h ; ''
seg003:163C		    mov	    cx,	ds
seg003:163E		    lsl	    cx,	cx
seg003:1641		    sub	    cx,	si
seg003:1643		    cmp	    cx,	dx
seg003:1645		    jb	    short loc_AF59
seg003:1647		    mov	    cx,	dx
seg003:1649
seg003:1649 loc_AF59:				    ; CODE XREF: sub_AEC5+90j
seg003:1649		    rep	movsb
seg003:164B		    pop	    di
seg003:164C		    add	    di,	80h ; ''
seg003:1650		    xor	    ax,	ax
seg003:1652		    xchg    ax,	es:[bx+80h]
seg003:1657		    cmp	    ax,	30h ; '0'
seg003:165A		    jbe	    short loc_AF98
seg003:165C		    mov	    ds,	ax
seg003:165E		    xor	    si,	si
seg003:1660		    lsl	    cx,	ax
seg003:1663		    mov	    dx,	es:0Eh
seg003:1668		    sub	    dx,	130h
seg003:166C		    cmp	    cx,	dx
seg003:166E		    jb	    short loc_AF82
seg003:1670		    mov	    cx,	dx
seg003:1672
seg003:1672 loc_AF82:				    ; CODE XREF: sub_AEC5+B9j
seg003:1672		    shr	    cx,	1
seg003:1674		    rep	movsw
seg003:1676		    mov	    ax,	bx
seg003:1678		    shr	    ax,	4
seg003:167B		    add	    ax,	es:9B4h
seg003:1680		    add	    ax,	13h
seg003:1683		    mov	    es:[bx+80h], ax
seg003:1688
seg003:1688 loc_AF98:				    ; CODE XREF: sub_AEC5+A5j
seg003:1688		    push    es
seg003:1689		    pop	    ds
seg003:168A		    assume ds:nothing
seg003:168A		    mov	    dx,	ds:9B4h
seg003:168E		    lea	    di,	[bx+82h]
seg003:1692		    lea	    ax,	[bx+0B0h]
seg003:1696		    stosw
seg003:1697		    mov	    ax,	dx
seg003:1699		    stosw
seg003:169A		    lea	    ax,	[bx+90h]
seg003:169E		    stosw
seg003:169F		    mov	    ax,	dx
seg003:16A1		    stosw
seg003:16A2		    lea	    ax,	[bx+0A0h]
seg003:16A6		    stosw
seg003:16A7		    mov	    ax,	dx
seg003:16A9		    stosw
seg003:16AA		    inc	    byte ptr ds:1182h
seg003:16AE		    cmp	    byte ptr ds:2Eh, 0
seg003:16B3		    jnz	    short loc_B01E
seg003:16B5		    push    ax
seg003:16B6		    push    es
seg003:16B7		    mov	    dl,	0
seg003:16B9		    xchg    dl,	ds:980h
seg003:16BD		    mov	    bx,	0ADh ; 'ญ'
seg003:16C0		    mov	    ah,	48h
seg003:16C2		    int	    21h		    ; DOS - 2+ - ALLOCATE MEMORY
seg003:16C2					    ; BX = number of 16-byte paragraphs	desired
seg003:16C4		    jnb	    short loc_AFE0
seg003:16C6		    dec	    byte ptr ds:1182h
seg003:16CA		    mov	    ax,	0FFFFh
seg003:16CD		    jmp	    sub_A628
seg003:16D0 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:16D0
seg003:16D0 loc_AFE0:				    ; CODE XREF: sub_AEC5+10Fj
seg003:16D0		    mov	    ds:1183h, ax
seg003:16D3		    mov	    ds:980h, dl
seg003:16D7		    mov	    es,	ax
seg003:16D9		    assume es:nothing
seg003:16D9		    xor	    di,	di
seg003:16DB		    push    cs
seg003:16DC		    push    offset loc_AFF7
seg003:16DF		    push    word ptr ds:0C26h
seg003:16E3		    push    7591h
seg003:16E6		    retf
seg003:16E7 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:16E7
seg003:16E7 loc_AFF7:				    ; DATA XREF: sub_AEC5+127o
seg003:16E7		    mov	    di,	400h
seg003:16EA		    push    cs
seg003:16EB		    push    offset byte_B006
seg003:16EE		    push    word ptr ds:0C26h
seg003:16F2		    push    7606h
seg003:16F5		    retf
seg003:16F5 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:16F6 byte_B006	    db 7, 1Eh, 8Eh, 1Eh, 32h, 0Ch, 66h,	8Bh, 16h, 66h, 6Dh
seg003:16F6					    ; DATA XREF: sub_AEC5+136o
seg003:16F6		    db 8Bh, 0Eh, 6Ah, 6Dh, 0B3h, 21h, 0B8h, 5, 2, 0CDh,	31h
seg003:16F6		    db 1Fh, 58h
seg003:170E ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:170E
seg003:170E loc_B01E:				    ; CODE XREF: sub_AEC5+FEj
seg003:170E		    mov	    bx,	ds:996h
seg003:1712		    mov	    [bx+6], ax
seg003:1715		    call    sub_AB28
seg003:1718		    mov	    ax,	ds:36h
seg003:171B		    push    ax
seg003:171C		    xchg    al,	ah
seg003:171E		    mov	    ah,	80h ; ''
seg003:1720		    mov	    ds:35h, ax
seg003:1723		    call    sub_A683
seg003:1726		    pop	    ax
seg003:1727		    mov	    ah,	ds:35h
seg003:172B		    mov	    ds:36h, ax
seg003:172E		    cmp	    byte ptr ds:2Eh, 0
seg003:1733		    jnz	    short loc_B06C
seg003:1735		    push    bx
seg003:1736		    mov	    es,	word ptr ds:1183h
seg003:173A		    assume es:nothing, ds:seg000
seg003:173A		    mov	    di,	400h
seg003:173D		    push    cs
seg003:173E		    push    offset loc_B059
seg003:1741		    push    word ptr byte_C0E+18h
seg003:1745		    push    7639h
seg003:1748		    retf
seg003:1749 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1749
seg003:1749 loc_B059:				    ; DATA XREF: sub_AEC5+189o
seg003:1749		    xor	    di,	di
seg003:174B		    push    cs
seg003:174C		    push    offset byte_B067
seg003:174F		    push    word ptr byte_C0E+18h
seg003:1753		    push    75C6h
seg003:1756		    retf
seg003:1756 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1757 byte_B067	    db 0B4h, 49h, 0CDh,	21h, 5Bh ; DATA	XREF: sub_AEC5+197o
seg003:175C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:175C
seg003:175C loc_B06C:				    ; CODE XREF: sub_AEC5+17Ej
seg003:175C		    push    ds
seg003:175D		    mov	    ah,	1Ah
seg003:175F		    lds	    dx,	dword ptr byte_9B0
seg003:1763		    assume ds:nothing
seg003:1763		    push    cs
seg003:1764		    call    near ptr sub_A156
seg003:1767		    pop	    ds
seg003:1768		    dec	    byte ptr ds:1182h
seg003:176C		    mov	    es,	word ptr ds:0C2Ah
seg003:1770		    mov	    ax,	ds:0C2Ch
seg003:1773		    mov	    es:2Ch, ax
seg003:1777		    jmp	    loc_AE2D
seg003:1777 sub_AEC5	    endp
seg003:1777
seg003:177A ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:177A ; START OF FUNCTION	CHUNK FOR sub_A5AE
seg003:177A
seg003:177A loc_B08A:				    ; CODE XREF: sub_A5AE+59j
seg003:177A					    ; DATA XREF: seg003:0730o
seg003:177A		    mov	    ax,	ds:0C2Ah
seg003:177D		    mov	    [bp+10h], ax
seg003:1780		    jmp	    sub_A628
seg003:1783 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1783
seg003:1783 loc_B093:				    ; CODE XREF: sub_A5AE+59j
seg003:1783					    ; DATA XREF: seg003:06D4o
seg003:1783		    mov	    si,	6
seg003:1786		    jmp	    short loc_B09B
seg003:1788 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1788
seg003:1788 loc_B098:				    ; CODE XREF: sub_A5AE+59j
seg003:1788					    ; DATA XREF: seg003:06A2o ...
seg003:1788		    mov	    si,	4
seg003:178B
seg003:178B loc_B09B:				    ; CODE XREF: sub_A5AE+AE8j
seg003:178B		    call    sub_A683
seg003:178E		    mov	    di,	ds:0C3Eh
seg003:1792		    mov	    [bp+si], di
seg003:1794		    mov	    ax,	[bx+si]
seg003:1796		    call    sub_B0AC
seg003:1799		    jmp	    loc_A60F
seg003:1799 ; END OF FUNCTION CHUNK FOR	sub_A5AE
seg003:179C
seg003:179C ;  S	U B R O	U T I N	E 
seg003:179C
seg003:179C
seg003:179C sub_B0AC	    proc near		    ; CODE XREF: sub_A5AE+AF8p
seg003:179C					    ; sub_A5AE+C75p
seg003:179C		    mov	    cx,	10h
seg003:179F		    mul	    cx
seg003:17A1		    xchg    ax,	dx
seg003:17A2		    xchg    ax,	cx
seg003:17A3		    xchg    bx,	di
seg003:17A5		    mov	    ax,	7
seg003:17A8		    push    cs
seg003:17A9		    call    near ptr sub_A1A9
seg003:17AC		    xchg    bx,	di
seg003:17AE		    retn
seg003:17AE sub_B0AC	    endp
seg003:17AE
seg003:17AF
seg003:17AF ;  S	U B R O	U T I N	E 
seg003:17AF
seg003:17AF
seg003:17AF sub_B0BF	    proc near		    ; CODE XREF: sub_A5AE+B4Bp
seg003:17AF					    ; sub_A5AE+C99p
seg003:17AF		    mov	    ax,	19FEh
seg003:17B2		    xchg    ax,	[si+12h]
seg003:17B5		    mov	    ds:10F6h, ax
seg003:17B8		    mov	    ax,	cs
seg003:17BA		    xchg    ax,	[si+14h]
seg003:17BD		    mov	    ds:10F8h, ax
seg003:17C0		    retn
seg003:17C0 sub_B0BF	    endp
seg003:17C0
seg003:17C1 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:17C1 ; START OF FUNCTION	CHUNK FOR sub_A5AE
seg003:17C1
seg003:17C1 loc_B0D1:				    ; CODE XREF: sub_A5AE+59j
seg003:17C1					    ; DATA XREF: seg003:06DCo
seg003:17C1		    cmp	    word ptr [bp+12h], 0FFFFh
seg003:17C5		    jz	    short loc_B11E
seg003:17C7		    mov	    di,	ds:0Ah
seg003:17CB		    push    di
seg003:17CC		    mov	    [bx+12h], di
seg003:17CF		    push    ds
seg003:17D0		    mov	    ds,	word ptr [bp+4]
seg003:17D3		    mov	    si,	[bp+12h]
seg003:17D6		    mov	    cx,	11h
seg003:17D9		    rep	movsw
seg003:17DB		    pop	    ds
seg003:17DC		    mov	    ax,	ds:9B4h
seg003:17DF		    mov	    [bx+4], ax
seg003:17E2		    call    sub_A683
seg003:17E5		    mov	    es,	word ptr [bp+4]
seg003:17E8		    pop	    si
seg003:17E9		    call    sub_B0BF
seg003:17EC		    mov	    di,	[bp+12h]
seg003:17EF		    mov	    cx,	11h
seg003:17F2		    rep	movsw
seg003:17F4		    mov	    ax,	[bx+10h]
seg003:17F7		    mov	    [bp+10h], ax
seg003:17FA		    jmp	    loc_AE2D
seg003:17FD ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:17FD
seg003:17FD loc_B10D:				    ; CODE XREF: sub_A5AE+59j
seg003:17FD					    ; DATA XREF: seg003:06F4o
seg003:17FD		    mov	    al,	[bp+16h]
seg003:1800		    cmp	    al,	0Dh
seg003:1802		    jz	    short loc_B161
seg003:1804		    cmp	    al,	0Ch
seg003:1806		    jz	    short loc_B161
seg003:1808		    sub	    al,	2
seg003:180A		    cmp	    al,	3
seg003:180C		    jb	    short loc_B121
seg003:180E
seg003:180E loc_B11E:				    ; CODE XREF: sub_A5AE+B27j
seg003:180E					    ; sub_A5AE+B76j
seg003:180E		    jmp	    loc_A60C
seg003:1811 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1811
seg003:1811 loc_B121:				    ; CODE XREF: sub_A5AE+B6Ej
seg003:1811		    call    sub_A908
seg003:1814		    jb	    short loc_B11E
seg003:1816		    mov	    cx,	[bp+14h]
seg003:1819		    cmp	    cx,	ds:0Eh
seg003:181D		    ja	    short loc_B155
seg003:181F		    mov	    di,	ds:0Ah
seg003:1823		    mov	    [bx+12h], di
seg003:1826		    mov	    si,	[bp+12h]
seg003:1829		    push    ds
seg003:182A		    mov	    ds,	word ptr [bp+4]
seg003:182D		    rep	movsb
seg003:182F		    pop	    ds
seg003:1830		    call    sub_A683
seg003:1833		    mov	    cx,	[bp+14h]
seg003:1836		    mov	    es,	word ptr [bp+4]
seg003:1839		    mov	    di,	[bp+12h]
seg003:183C		    mov	    si,	ds:0Ah
seg003:1840		    rep	movsb
seg003:1842		    jmp	    loc_AE2D
seg003:1845 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1845
seg003:1845 loc_B155:				    ; CODE XREF: sub_A5AE+B7Fj
seg003:1845					    ; sub_A5AE:loc_B161j
seg003:1845		    mov	    word ptr [bp+16h], 8
seg003:184A		    or	    byte ptr [bp+26h], 1
seg003:184E		    jmp	    sub_A628
seg003:1851 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1851
seg003:1851 loc_B161:				    ; CODE XREF: sub_A5AE+B64j
seg003:1851					    ; sub_A5AE+B68j
seg003:1851		    jmp	    short loc_B155
seg003:1853 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1853
seg003:1853 loc_B163:				    ; CODE XREF: sub_A5AE+59j
seg003:1853					    ; DATA XREF: seg003:0728o
seg003:1853		    mov	    al,	[bp+16h]
seg003:1856		    or	    al,	al
seg003:1858		    jnz	    short loc_B19F
seg003:185A		    mov	    si,	[bp+12h]
seg003:185D		    mov	    di,	ds:0Ah
seg003:1861		    mov	    [bx+12h], di
seg003:1864		    mov	    ds,	word ptr [bp+4]
seg003:1867		    mov	    cx,	8
seg003:186A		    rep	movsw
seg003:186C		    push    es
seg003:186D		    pop	    ds
seg003:186E		    mov	    ax,	ds:9B4h
seg003:1871		    mov	    [bx+4], ax
seg003:1874		    call    sub_A683
seg003:1877		    mov	    ax,	[bx+14h]
seg003:187A		    mov	    [bp+14h], ax
seg003:187D		    mov	    es,	word ptr [bp+4]
seg003:1880		    mov	    di,	[bp+12h]
seg003:1883		    mov	    si,	ds:0Ah
seg003:1887		    mov	    cx,	8
seg003:188A		    rep	movsw
seg003:188C		    jmp	    loc_AE2D
seg003:188F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:188F
seg003:188F loc_B19F:				    ; CODE XREF: sub_A5AE+BBAj
seg003:188F		    cmp	    al,	2
seg003:1891		    jnz	    short loc_B1BD
seg003:1893		    mov	    di,	ds:0Ah
seg003:1897		    mov	    [bx+0Ah], di
seg003:189A		    mov	    si,	[bp+0Ah]
seg003:189D		    mov	    ds,	word ptr [bp+4]
seg003:18A0		    mov	    cx,	[bp+14h]
seg003:18A3		    rep	movsb
seg003:18A5		    push    es
seg003:18A6		    pop	    ds
seg003:18A7		    call    sub_A683
seg003:18AA		    jmp	    loc_AE2D
seg003:18AD ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:18AD
seg003:18AD loc_B1BD:				    ; CODE XREF: sub_A5AE+BF3j
seg003:18AD		    cmp	    al,	3
seg003:18AF		    jnz	    short loc_B229
seg003:18B1		    mov	    si,	ds:0Ah
seg003:18B5		    mov	    [bx+8], si
seg003:18B8		    mov	    ax,	ds:9B4h
seg003:18BB		    mov	    [bx+6], ax
seg003:18BE		    call    sub_A683
seg003:18C1		    mov	    cx,	[bx+14h]
seg003:18C4		    mov	    [bp+14h], cx
seg003:18C7		    mov	    di,	[bp+8]
seg003:18CA		    mov	    es,	word ptr [bp+6]
seg003:18CD		    rep	movsb
seg003:18CF		    jmp	    loc_AE2D
seg003:18D2 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:18D2
seg003:18D2 loc_B1E2:				    ; CODE XREF: sub_A5AE+59j
seg003:18D2					    ; DATA XREF: seg003:0736o
seg003:18D2		    mov	    cl,	[bp+16h]
seg003:18D5		    cmp	    cl,	20h ; ' '
seg003:18D8		    jnb	    short loc_B258
seg003:18DA		    cmp	    cl,	1
seg003:18DD		    jz	    short loc_B22C
seg003:18DF		    mov	    ax,	2F00h
seg003:18E2		    shl	    ax,	cl
seg003:18E4		    jns	    short loc_B229
seg003:18E6		    mov	    ax,	ds:0Ah
seg003:18E9		    mov	    [bx+8], ax
seg003:18EC		    mov	    ax,	ds:9B4h
seg003:18EF		    mov	    [bx+6], ax
seg003:18F2		    call    sub_A683
seg003:18F5		    mov	    cx,	[bx+14h]
seg003:18F8		    mov	    [bp+14h], cx
seg003:18FB		    mov	    di,	[bp+8]
seg003:18FE		    mov	    es,	word ptr [bp+6]
seg003:1901		    mov	    si,	ds:0Ah
seg003:1905		    rep	movsb
seg003:1907		    mov	    si,	[bp+8]
seg003:190A		    mov	    ax,	ds:0C3Eh
seg003:190D		    mov	    di,	ax
seg003:190F		    xchg    ax,	es:[si+3]
seg003:1913		    call    sub_B0AC
seg003:1916		    jmp	    loc_AE2D
seg003:1919 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1919
seg003:1919 loc_B229:				    ; CODE XREF: sub_A5AE+C11j
seg003:1919					    ; sub_A5AE+C46j ...
seg003:1919		    jmp	    loc_A60C
seg003:191C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:191C
seg003:191C loc_B22C:				    ; CODE XREF: sub_A5AE+C3Fj
seg003:191C		    mov	    si,	ds:0Ah
seg003:1920		    mov	    [bx+8], si
seg003:1923		    mov	    ax,	ds:9B4h
seg003:1926		    mov	    [bx+6], ax
seg003:1929		    call    sub_A683
seg003:192C		    mov	    cx,	[bx+14h]
seg003:192F		    cmp	    cx,	1Dh
seg003:1932		    jb	    short loc_B24D
seg003:1934		    add	    si,	7
seg003:1937		    call    sub_B0BF
seg003:193A		    sub	    si,	7
seg003:193D
seg003:193D loc_B24D:				    ; CODE XREF: sub_A5AE+C94j
seg003:193D		    mov	    di,	[bp+8]
seg003:1940		    mov	    es,	word ptr [bp+6]
seg003:1943		    rep	movsb
seg003:1945		    jmp	    loc_AE2D
seg003:1948 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1948
seg003:1948 loc_B258:				    ; CODE XREF: sub_A5AE+C3Aj
seg003:1948		    sub	    cl,	20h ; ' '
seg003:194B		    jz	    short loc_B229
seg003:194D		    dec	    cl
seg003:194F		    jnz	    short loc_B290
seg003:1951		    mov	    cx,	[bp+14h]
seg003:1954		    mov	    si,	[bp+12h]
seg003:1957		    mov	    di,	ds:0Ah
seg003:195B		    mov	    [bx+8], di
seg003:195E		    mov	    ax,	ds:9B4h
seg003:1961		    mov	    [bx+4], ax
seg003:1964		    push    ds
seg003:1965		    mov	    ds,	word ptr [bp+4]
seg003:1968		    rep	movsb
seg003:196A		    pop	    ds
seg003:196B		    call    sub_A683
seg003:196E		    mov	    cx,	[bp+14h]
seg003:1971		    mov	    si,	ds:0Ah
seg003:1975		    mov	    di,	[bp+12h]
seg003:1978		    mov	    es,	word ptr [bp+4]
seg003:197B		    rep	movsb
seg003:197D		    jmp	    loc_AE2D
seg003:1980 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1980
seg003:1980 loc_B290:				    ; CODE XREF: sub_A5AE+CB1j
seg003:1980		    dec	    cl
seg003:1982		    jnz	    short loc_B229
seg003:1984		    jmp	    loc_A6BF
seg003:1987 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1987
seg003:1987 loc_B297:				    ; CODE XREF: sub_A5AE+59j
seg003:1987					    ; DATA XREF: seg003:072Ao
seg003:1987		    mov	    al,	[bp+16h]
seg003:198A		    sub	    al,	2
seg003:198C		    cmp	    al,	2
seg003:198E		    ja	    short loc_B229
seg003:1990		    mov	    cx,	80h ; ''
seg003:1993		    jnz	    short loc_B2A7
seg003:1995		    xor	    cx,	cx
seg003:1997
seg003:1997 loc_B2A7:				    ; CODE XREF: sub_A5AE+CF5j
seg003:1997		    push    cx
seg003:1998		    push    10h
seg003:199A		    jmp	    short loc_B2B0
seg003:199C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:199C
seg003:199C loc_B2AC:				    ; CODE XREF: sub_A5AE+59j
seg003:199C					    ; DATA XREF: seg003:072Co
seg003:199C		    push    43h	; 'C'
seg003:199E		    push    43h	; 'C'
seg003:19A0
seg003:19A0 loc_B2B0:				    ; CODE XREF: sub_A5AE+CFCj
seg003:19A0		    mov	    di,	ds:0Ah
seg003:19A4		    mov	    [bx+0Ah], di
seg003:19A7		    mov	    ds,	word ptr [bp+4]
seg003:19AA		    mov	    si,	[bp+0Ah]
seg003:19AD		    pop	    cx
seg003:19AE		    push    cx
seg003:19AF		    jcxz    short loc_B2C3
seg003:19B1		    rep	movsb
seg003:19B3
seg003:19B3 loc_B2C3:				    ; CODE XREF: sub_A5AE+D11j
seg003:19B3		    mov	    es:[bx+8], di
seg003:19B7		    mov	    ds,	word ptr [bp+6]
seg003:19BA		    mov	    si,	[bp+8]
seg003:19BD		    pop	    dx
seg003:19BE		    pop	    cx
seg003:19BF		    push    cx
seg003:19C0		    push    dx
seg003:19C1		    jcxz    short loc_B2D5
seg003:19C3		    rep	movsb
seg003:19C5
seg003:19C5 loc_B2D5:				    ; CODE XREF: sub_A5AE+D23j
seg003:19C5		    push    es
seg003:19C6		    pop	    ds
seg003:19C7		    mov	    ax,	ds:9B4h
seg003:19CA		    mov	    [bx+6], ax
seg003:19CD		    mov	    [bx+4], ax
seg003:19D0		    call    sub_A683
seg003:19D3		    mov	    si,	ds:0Ah
seg003:19D7		    mov	    es,	word ptr [bp+4]
seg003:19DA		    mov	    di,	[bp+0Ah]
seg003:19DD		    pop	    cx
seg003:19DE		    push    cx
seg003:19DF		    jcxz    short loc_B2F3
seg003:19E1		    rep	movsb
seg003:19E3
seg003:19E3 loc_B2F3:				    ; CODE XREF: sub_A5AE+D41j
seg003:19E3		    mov	    es,	word ptr [bp+6]
seg003:19E6		    mov	    di,	[bp+8]
seg003:19E9		    pop	    dx
seg003:19EA		    pop	    cx
seg003:19EB		    jcxz    short loc_B2FF
seg003:19ED		    rep	movsb
seg003:19EF
seg003:19EF loc_B2FF:				    ; CODE XREF: sub_A5AE+D4Dj
seg003:19EF		    mov	    ax,	[bx+10h]
seg003:19F2		    mov	    [bp+10h], ax
seg003:19F5		    mov	    ax,	[bx+14h]
seg003:19F8		    mov	    [bp+14h], ax
seg003:19FB		    jmp	    loc_AE2D
seg003:19FB ; END OF FUNCTION CHUNK FOR	sub_A5AE
seg003:19FE ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:19FE		    pusha
seg003:19FF		    push    es
seg003:1A00		    push    ds
seg003:1A01		    mov	    bp,	sp
seg003:1A03		    mov	    ds,	cs:word_EF90
seg003:1A08		    assume ds:nothing
seg003:1A08		    push    word ptr ds:0C2Eh
seg003:1A0C		    pop	    es
seg003:1A0D		    mov	    ax,	ds:10F8h
seg003:1A10		    xchg    ax,	es:82h
seg003:1A15		    push    ax
seg003:1A16		    mov	    ax,	ds:10F6h
seg003:1A19		    xchg    ax,	es:80h
seg003:1A1E		    push    ax
seg003:1A1F		    push    es
seg003:1A20		    push    ss
seg003:1A21		    push    bp
seg003:1A22		    push    ss
seg003:1A23		    push    bp
seg003:1A24		    push    20h	; ' '
seg003:1A26		    call    dword ptr ds:22h
seg003:1A2A		    add	    sp,	0Ah
seg003:1A2D		    pop	    es
seg003:1A2E		    pop	    word ptr es:80h
seg003:1A33		    pop	    word ptr es:82h
seg003:1A38		    pop	    ds
seg003:1A39		    assume ds:nothing
seg003:1A39		    pop	    es
seg003:1A3A		    popa
seg003:1A3B		    retf
seg003:1A3B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1A3C		    db	50h ; P
seg003:1A3D		    db 0A1h ; ก
seg003:1A3E		    db	0Eh
seg003:1A3F		    db	  0
seg003:1A40		    db	3Bh ; ;
seg003:1A41		    db 0C8h ; ศ
seg003:1A42		    db	76h ; v
seg003:1A43		    db	  2
seg003:1A44		    db	8Bh ; 
seg003:1A45		    db 0C8h ; ศ
seg003:1A46		    db	58h ; X
seg003:1A47		    db	1Eh
seg003:1A48		    db	  6
seg003:1A49		    db	8Bh ; 
seg003:1A4A		    db	3Eh ; >
seg003:1A4B		    db	0Ah
seg003:1A4C		    db	  0
seg003:1A4D		    db	1Eh
seg003:1A4E		    db	  7
seg003:1A4F		    db	1Fh
seg003:1A50		    db	60h ; `
seg003:1A51		    db 0FCh ; 
seg003:1A52		    db 0F3h ; ๓
seg003:1A53		    db 0A4h ; ค
seg003:1A54		    db	61h ; a
seg003:1A55		    db	1Fh
seg003:1A56		    db 0C3h ; ร
seg003:1A57 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1A57		    pusha
seg003:1A58		    mov	    ax,	ds:0Eh
seg003:1A5B		    cmp	    cx,	ax
seg003:1A5D		    jbe	    short loc_B371
seg003:1A5F		    mov	    cx,	ax
seg003:1A61
seg003:1A61 loc_B371:				    ; CODE XREF: seg003:1A5Dj
seg003:1A61		    mov	    di,	si
seg003:1A63		    mov	    si,	ds:0Ah
seg003:1A67		    cld
seg003:1A68		    rep	movsb
seg003:1A6A		    popa
seg003:1A6B		    retn
seg003:1A6B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1A6C		    db	60h ; `
seg003:1A6D		    db 0A1h ; ก
seg003:1A6E		    db 0B4h ; ด
seg003:1A6F		    db	  9
seg003:1A70		    db	50h ; P
seg003:1A71		    db	50h ; P
seg003:1A72		    db	8Bh ; 
seg003:1A73		    db 0C4h ; ฤ
seg003:1A74		    db	16h
seg003:1A75		    db	50h ; P
seg003:1A76		    db	16h
seg003:1A77		    db	50h ; P
seg003:1A78		    db	6Ah ; j
seg003:1A79		    db	10h
seg003:1A7A		    db 0FFh
seg003:1A7B		    db	1Eh
seg003:1A7C		    db	22h ; "
seg003:1A7D		    db	  0
seg003:1A7E		    db	83h ; 
seg003:1A7F		    db 0C4h ; ฤ
seg003:1A80		    db	0Eh
seg003:1A81		    db	61h ; a
seg003:1A82		    db 0C3h ; ร
seg003:1A83		    db 80h, 0FCh, 13h, 74h, 0Eh, 80h, 0FCh, 10h, 74h, 2Fh
seg003:1A83		    db 80h, 0FCh, 1Ch, 74h, 4Ah, 0E8h, 6Bh, 0E9h, 10h, 3Ch
seg003:1A83		    db 4, 73h, 0F8h, 60h, 6, 1Eh, 2Eh, 8Eh, 1Eh, 80h, 56h
seg003:1A83		    db 8Bh, 0F5h, 8Bh, 0ECh, 3Ch, 2, 72h, 2, 0D1h, 0E1h, 8Eh
seg003:1A83		    db 46h, 2, 0E8h, 8Ah, 0FFh,	8Bh, 0EFh, 0E8h, 0B5h, 0FFh
seg003:1A83		    db 1Fh, 7, 61h, 66h, 0CFh, 3Ch, 2, 74h, 2, 0EBh, 0D0h
seg003:1A83		    db 60h, 6, 1Eh, 2Eh, 8Eh, 1Eh, 80h,	56h, 8Bh, 0F2h,	0B9h
seg003:1A83		    db 11h, 0, 0E8h, 6Ah, 0FFh,	8Bh, 0D7h, 0E8h, 95h, 0FFh
seg003:1A83		    db 1Fh, 7, 61h, 66h, 0CFh, 3Ch, 0, 74h, 0B2h, 60h, 6, 1Eh
seg003:1A83		    db 33h, 0D2h, 2 dup(52h), 8Bh, 0ECh, 2Eh, 8Eh, 1Eh,	80h
seg003:1A83		    db 56h, 32h, 0C0h, 0CDh, 10h, 8Bh, 0CBh, 0C1h, 0E1h, 6
seg003:1A83		    db 8Bh, 46h, 16h, 3Ch, 1, 74h, 24h,	0FFh, 76h, 6, 7, 8Bh
seg003:1A83		    db 76h, 10h, 0E8h, 34h, 0FFh, 8Bh, 46h, 16h, 8Bh, 4Eh
seg003:1A83		    db 14h, 8Bh, 1Eh, 0Ah, 0, 1Eh, 7, 0E8h, 55h, 0FFh, 89h
seg003:1A83		    db 46h, 16h, 83h, 0C4h, 4, 1Fh, 7, 61h, 66h, 0CFh, 51h
seg003:1A83		    db 8Bh, 4Eh, 14h, 1Eh, 7, 8Bh, 1Eh,	0Ah, 0,	0E8h, 3Dh
seg003:1A83		    db 0FFh, 59h, 50h, 0FFh, 76h, 6, 7,	8Bh, 76h, 10h, 0E8h
seg003:1A83		    db 1Ch, 0FFh, 58h, 0EBh, 0D9h
seg003:1B3E byte_B44E	    db 0CDh		    ; CODE XREF: sub_A5AE+628p
seg003:1B3F byte_B44F	    db 15h		    ; DATA XREF: sub_7F65+65w
seg003:1B40 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1B40		    retn
seg003:1B40 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1B41		    db 80h, 3Eh, 34h, 0, 15h, 75h, 7, 0B4h, 88h, 0CDh, 15h
seg003:1B41		    db 5, 0, 4,	8Bh, 1Eh, 98h, 0, 8Bh, 16h, 9Ah, 0, 0C1h, 0EBh
seg003:1B41		    db 6, 0C1h,	0E2h, 0Ah, 0Bh,	0DAh, 3Bh, 0C3h, 74h, 0Dh
seg003:1B41		    db 8Bh, 0C3h, 80h, 3Eh, 34h, 0, 15h, 75h, 4, 33h, 0C0h
seg003:1B41		    db 99h, 0C3h, 0A3h,	0CEh, 0Eh, 56h,	57h, 0BBh, 60h,	0
seg003:1B41		    db 6Ah, 8, 7, 33h, 0C0h, 26h, 89h, 47h, 2, 26h, 0C6h, 47h
seg003:1B41		    db 4, 10h, 26h, 88h, 47h, 7, 8Eh, 0C3h, 0B9h, 5, 0,	0BEh
seg003:1B41		    db 0EEh, 0Eh, 0BFh,	3, 0, 0F3h, 0A6h, 0A1h,	0CAh, 0Eh
seg003:1B41		    db 26h, 8Bh, 5Fh, 1Eh, 75h,	5, 3Bh,	0D8h, 7Ch, 1, 93h
seg003:1B41		    db 2Bh, 6, 0CEh, 0Eh, 0F7h,	0D8h, 7Ch, 0BFh, 0BBh, 0, 4
seg003:1B41		    db 0F7h, 0E3h, 5Fh,	5Eh, 0C3h, 8Bh,	0DCh, 0B8h, 0, 4, 0F7h
seg003:1B41		    db 26h, 0CEh, 0Eh, 36h, 2Bh, 47h, 2, 36h, 1Bh, 57h,	4
seg003:1B41		    db 0C3h, 0E8h, 7Dh,	1, 9 dup(0), 0E8h, 71h,	1, 9 dup(0)
seg003:1B41		    db 0E8h, 65h, 1, 9 dup(0), 0E8h, 59h, 1, 9 dup(0), 0E8h
seg003:1B41		    db 4Dh, 1, 9 dup(0), 0E8h, 41h, 1, 9 dup(0), 0E8h, 35h
seg003:1B41		    db 1, 9 dup(0), 0E8h, 29h, 1, 9 dup(0), 0E8h, 1Dh, 1, 9 dup(0)
seg003:1B41		    db 0E8h, 11h, 1, 9 dup(0), 0E8h, 5,	1, 9 dup(0), 0E8h
seg003:1B41		    db 0F9h, 0Ah dup(0), 0E8h, 0EDh, 0Ah dup(0), 0E8h, 0E1h
seg003:1B41		    db 0Ah dup(0), 0E8h, 0D5h, 0Ah dup(0), 0E8h, 0C9h, 0Ah dup(0)
seg003:1B41		    db 0E8h, 0BDh, 0Ah dup(0), 0E8h, 0B1h, 0Ah dup(0), 0E8h
seg003:1B41		    db 0A5h, 0Ah dup(0), 0E8h, 99h, 0Ah	dup(0),	0E8h, 8Dh
seg003:1B41		    db 0Ah dup(0), 0E8h, 81h, 0Ah dup(0), 0E8h,	75h, 0Ah dup(0)
seg003:1B41		    db 0E8h, 69h, 0Ah dup(0), 0E8h, 5Dh, 0Ah dup(0), 0E8h
seg003:1B41		    db 51h, 0Ah	dup(0),	0E8h, 45h, 0Ah dup(0), 0E8h, 39h, 0Ah dup(0)
seg003:1B41		    db 0E8h, 2Dh, 0Ah dup(0), 0E8h, 21h, 0Ah dup(0), 0E8h
seg003:1B41		    db 15h, 0Ah	dup(0),	0E8h, 9, 0Ah dup(0)
seg003:1D47 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1D47		    push    bp
seg003:1D48		    mov	    bp,	sp
seg003:1D4A		    push    word ptr [bp+2]
seg003:1D4D		    mov	    bp,	[bp+0]
seg003:1D50		    sub	    sp,	0Ah
seg003:1D53		    pushad
seg003:1D55		    push    gs
seg003:1D57		    push    fs
seg003:1D59		    push    ds
seg003:1D5A		    push    es
seg003:1D5B		    mov	    cx,	20h ; ' '
seg003:1D5E		    mov	    ds,	cx
seg003:1D60		    assume ds:nothing
seg003:1D60		    mov	    di,	sp
seg003:1D62		    mov	    ax,	ss
seg003:1D64		    mov	    fs,	ax
seg003:1D66		    mov	    bx,	fs:[di+32h]
seg003:1D6A		    mov	    al,	cs:[bx]
seg003:1D6D		    cmp	    al,	0Eh
seg003:1D6F		    jnz	    short loc_B6A6
seg003:1D71		    mov	    bx,	0Eh
seg003:1D74		    mov	    edx, fs:[di+34h]
seg003:1D79		    mov	    ax,	1
seg003:1D7C		    lss	    esp, ds:157Ch
seg003:1D82		    call    large [fword ptr ds:1572h]
seg003:1D87		    mov	    bx,	68h ; 'h'
seg003:1D87 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1D8A		    db 0Fh, 0, 0D3h, 8Ch, 0E3h,	8Eh, 0D3h, 8Bh,	0E7h, 0E9h
seg003:1D8A		    db 0C4h, 0
seg003:1D96 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1D96
seg003:1D96 loc_B6A6:				    ; CODE XREF: seg003:1D6Fj
seg003:1D96		    mov	    ds:0A8Fh, esp
seg003:1D9B		    mov	    word ptr ds:0A93h, ss
seg003:1D9F		    mov	    dx,	ds:4Ah
seg003:1DA3		    cmp	    al,	ds:1592h
seg003:1DA7		    jb	    short loc_B6BF
seg003:1DA9		    cmp	    al,	ds:1593h
seg003:1DAD		    jbe	    short loc_B6CF
seg003:1DAF
seg003:1DAF loc_B6BF:				    ; CODE XREF: seg003:1DA7j
seg003:1DAF		    cmp	    al,	ds:1594h
seg003:1DB3		    jb	    short loc_B723
seg003:1DB5		    cmp	    al,	ds:1595h
seg003:1DB9		    ja	    short loc_B723
seg003:1DBB		    mov	    dx,	ds:4Ch
seg003:1DBF
seg003:1DBF loc_B6CF:				    ; CODE XREF: seg003:1DADj
seg003:1DBF		    mov	    cx,	7
seg003:1DC2		    and	    cx,	ax
seg003:1DC4		    mov	    al,	0Bh
seg003:1DC6		    out	    dx,	al
seg003:1DC7		    jmp	    short $+2
seg003:1DC9		    in	    al,	dx
seg003:1DCA		    bt	    ax,	cx
seg003:1DCD		    jb	    short loc_B709
seg003:1DCF		    mov	    eax, cs:[bx+1]
seg003:1DD4		    mov	    fs:[di+28h], eax
seg003:1DD9		    mov	    word ptr fs:[di+2Ch], offset byte_B704
seg003:1DDF		    mov	    word ptr fs:[di+2Eh], cs
seg003:1DE3		    mov	    ax,	fs:[di+42h]
seg003:1DE7		    mov	    fs:[di+30h], ax
seg003:1DEB		    pop	    es
seg003:1DEC		    pop	    ds
seg003:1DED		    assume ds:nothing
seg003:1DED		    pop	    fs
seg003:1DEF		    pop	    gs
seg003:1DF1		    popad
seg003:1DF3		    retf
seg003:1DF3 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1DF4 byte_B704	    db 83h, 0C4h, 6, 66h, 0CFh ; DATA XREF: seg003:1DD9o
seg003:1DF9 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1DF9
seg003:1DF9 loc_B709:				    ; CODE XREF: seg003:1DCDj
seg003:1DF9		    cmp	    dx,	ds:4Ch
seg003:1DFD		    jnz	    short loc_B723
seg003:1DFF		    cmp	    cx,	5
seg003:1E02		    jnz	    short loc_B723
seg003:1E04		    pop	    es
seg003:1E05		    pop	    ds
seg003:1E06		    pop	    fs
seg003:1E08		    pop	    gs
seg003:1E0A		    popad
seg003:1E0C		    add	    sp,	10h
seg003:1E0F		    int	    75h		    ; IRQ13 - AT/XT286/PS50+ - 80287 ERROR
seg003:1E11		    iretd
seg003:1E13 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1E13
seg003:1E13 loc_B723:				    ; CODE XREF: seg003:1DB3j
seg003:1E13					    ; seg003:1DB9j ...
seg003:1E13		    mov	    ax,	ds
seg003:1E15		    cmp	    ax,	ds:0A93h
seg003:1E19		    jnz	    short loc_B737
seg003:1E1B		    lss	    esp, ds:0A8Fh
seg003:1E21		    cmp	    sp,	ds:0CDCh
seg003:1E25		    jnb	    short loc_B741
seg003:1E27
seg003:1E27 loc_B737:				    ; CODE XREF: seg003:1E19j
seg003:1E27		    mov	    ss,	ax
seg003:1E29		    mov	    sp,	ds:996h
seg003:1E2D		    sub	    sp,	180h
seg003:1E31
seg003:1E31 loc_B741:				    ; CODE XREF: seg003:1E25j
seg003:1E31		    push    large [dword ptr ds:0A8Fh]
seg003:1E36		    push    word ptr ds:0A93h
seg003:1E3A		    push    word ptr ds:996h
seg003:1E3E		    mov	    ds:996h, sp
seg003:1E42		    sub	    sp,	10h
seg003:1E45		    mov	    bl,	cs:[bx]
seg003:1E48		    xor	    bh,	bh
seg003:1E4A		    mov	    edx, fs:[di+34h]
seg003:1E4F		    jmp	    far	ptr 18h:177Fh
seg003:1E4F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1E54		    db 66h, 0Fh, 0B2h, 26h, 8Fh, 0Ah, 7, 1Fh, 0Fh, 0A1h, 0Fh
seg003:1E54		    db 0A9h, 66h, 61h, 83h, 0C4h, 10h, 66h, 0CFh
seg003:1E67
seg003:1E67 ;  S	U B R O	U T I N	E 
seg003:1E67
seg003:1E67
seg003:1E67 sub_B777	    proc near		    ; CODE XREF: sub_A5AE+5F7p
seg003:1E67		    pusha
seg003:1E68		    push    ds
seg003:1E69		    push    es
seg003:1E6A		    cmp	    byte ptr ds:2Fh, 3
seg003:1E6F		    jb	    short loc_B7B1
seg003:1E71		    mov	    ah,	0FFh
seg003:1E73		    mov	    dh,	4Fh ; 'O'
seg003:1E75		    xor	    cx,	cx
seg003:1E77		    int	    21h		    ; DOS - DOS	v??? - OEM FUNCTION
seg003:1E79		    jcxz    short loc_B7B1
seg003:1E7B		    movzx   eax, ax
seg003:1E7F		    shl	    edx, 10h
seg003:1E83		    or	    eax, edx
seg003:1E86		    mov	    bx,	ds:1596h
seg003:1E8A		    shl	    bx,	2
seg003:1E8D		    add	    bx,	1598h
seg003:1E91
seg003:1E91 loc_B7A1:				    ; CODE XREF: sub_B777+38j
seg003:1E91		    mov	    [bx], eax
seg003:1E94		    add	    eax, 4
seg003:1E98		    add	    bx,	4
seg003:1E9B		    inc	    word ptr ds:1596h
seg003:1E9F		    loop    loc_B7A1
seg003:1EA1
seg003:1EA1 loc_B7B1:				    ; CODE XREF: sub_B777+8j
seg003:1EA1					    ; sub_B777+12j
seg003:1EA1		    pop	    es
seg003:1EA2		    pop	    ds
seg003:1EA3		    popa
seg003:1EA4		    retn
seg003:1EA4 sub_B777	    endp
seg003:1EA4
seg003:1EA4 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1EA5		    align 2
seg003:1EA6		    db 8Ah, 0, 8Dh, 0, 6Bh, 1, 6Fh, 1, 7Bh, 1, 8Bh, 1, 0ECh
seg003:1EA6		    db 0Bh, 2Ch, 22h, 43h, 22h,	0CCh, 22h, 35h,	21h, 40h, 21h
seg003:1EA6		    db 4Ch, 21h, 54h, 21h, 62h,	21h, 6Fh, 21h, 75h, 21h, 80h
seg003:1EA6		    db 21h, 80h, 21h, 9Dh, 21h,	0DEh, 1Eh, 0DEh, 1Eh, 20h
seg003:1EA6		    db 1Fh, 0DEh, 1Eh, 0AAh, 52h, 0AAh,	52h, 0AAh, 52h,	20h
seg003:1EA6		    db 1Fh, 61h, 0E9h, 0C7h, 24h, 60h, 6, 0B8h,	18h, 0,	8Eh
seg003:1EA6		    db 0C0h, 26h, 39h, 6, 0C0h,	17h, 75h, 2 dup(7), 61h, 0EAh
seg003:1EA6		    db 0C6h, 17h, 18h, 0, 1Eh, 16h, 6Ah, 0, 16h, 1Fh, 26h
seg003:1EA6		    db 0C4h, 3Eh, 0C2h,	17h, 8Bh, 0F4h,	8Bh, 0EFh, 0FCh, 0B9h
seg003:1EA6		    db 0Ch, 0, 0F3h, 0A5h, 0B8h, 0Dh, 0, 0ABh, 0B9h, 8,	0
seg003:1EA6		    db 0F3h, 0A5h, 6, 17h, 8Bh,	0E5h, 6Ah, 18h,	1Fh, 0FFh
seg003:1EA6		    db 2Eh, 0BEh, 17h, 61h, 0EAh, 0CAh,	17h, 18h, 0
seg003:1F26
seg003:1F26 ;  S	U B R O	U T I N	E 
seg003:1F26
seg003:1F26 ; Attributes: bp-based frame
seg003:1F26
seg003:1F26 sub_B836	    proc far		    ; CODE XREF: seg003:1F58p
seg003:1F26
seg003:1F26 arg_0	    = dword ptr	 6
seg003:1F26
seg003:1F26		    push    bp
seg003:1F27		    mov	    bp,	sp
seg003:1F29		    push    ds
seg003:1F2A		    push    20h	; ' '
seg003:1F2C		    pop	    ds
seg003:1F2D		    assume ds:nothing
seg003:1F2D		    cld
seg003:1F2E		    mov	    di,	ds:0A9Ch
seg003:1F32		    push    8
seg003:1F34		    pop	    es
seg003:1F35		    assume es:nothing
seg003:1F35		    lds	    si,	[bp+arg_0]
seg003:1F38		    assume ds:nothing
seg003:1F38		    push    word ptr [si+2]
seg003:1F3B		    mov	    [si+2], di
seg003:1F3E		    pop	    si
seg003:1F3F		    and	    si,	0FFF8h
seg003:1F42		    movs    word ptr es:[di], word ptr es:[si]
seg003:1F44		    movs    word ptr es:[di], word ptr es:[si]
seg003:1F46		    lods    word ptr es:[si]
seg003:1F48		    mov	    ah,	9Bh ; ''
seg003:1F4A		    stosw
seg003:1F4B		    movs    word ptr es:[di], word ptr es:[si]
seg003:1F4D		    pop	    ds
seg003:1F4E		    pop	    bp
seg003:1F4F		    retf
seg003:1F4F sub_B836	    endp
seg003:1F4F
seg003:1F50 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1F50
seg003:1F50 loc_B860:				    ; CODE XREF: seg003:1FB3j
seg003:1F50		    lodsb
seg003:1F51		    cbw
seg003:1F52		    add	    ax,	[bp+8]
seg003:1F55		    push    ss
seg003:1F56		    push    ax
seg003:1F57		    push    cs
seg003:1F58		    call    near ptr sub_B836
seg003:1F5B		    add	    sp,	4
seg003:1F5E		    jmp	    short loc_B8AC
seg003:1F60 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1F60
seg003:1F60 loc_B870:				    ; CODE XREF: seg003:1FDCj
seg003:1F60		    xor	    bx,	bx
seg003:1F62
seg003:1F62 loc_B872:				    ; CODE XREF: seg003:2037j
seg003:1F62		    push    20h	; ' '
seg003:1F64		    pop	    ds
seg003:1F65		    assume ds:nothing
seg003:1F65		    cmp	    byte ptr ds:1181h, 0
seg003:1F6A		    jz	    short loc_B87D
seg003:1F6C		    inc	    bx
seg003:1F6D
seg003:1F6D loc_B87D:				    ; CODE XREF: seg003:1F6Aj
seg003:1F6D		    push    18h
seg003:1F6F		    pop	    ds
seg003:1F70		    assume ds:nothing
seg003:1F70		    cmp	    word ptr ds:1062h, 0
seg003:1F75		    jz	    short loc_B889
seg003:1F77		    inc	    bx
seg003:1F78		    inc	    bx
seg003:1F79
seg003:1F79 loc_B889:				    ; CODE XREF: seg003:1F75j
seg003:1F79		    shl	    bx,	1
seg003:1F7B		    pop	    ds
seg003:1F7C		    assume ds:nothing
seg003:1F7C		    pop	    es
seg003:1F7D		    assume es:nothing
seg003:1F7D		    jmp	    word ptr cs:[bx+1ECEh]
seg003:1F82 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1F82
seg003:1F82 loc_B892:				    ; CODE XREF: seg003:1FA8j
seg003:1F82					    ; seg003:1FACj
seg003:1F82		    push    20h	; ' '
seg003:1F84		    pop	    ds
seg003:1F85		    assume ds:nothing
seg003:1F85		    cmp	    word ptr [bp+1Ch], 80h ; ''
seg003:1F8A		    jb	    short loc_B8A7
seg003:1F8C		    mov	    ax,	ds:38h
seg003:1F8F		    xor	    ax,	[bp+14h]
seg003:1F92		    and	    ax,	0FFF8h
seg003:1F95		    jnz	    short loc_B8C5
seg003:1F97
seg003:1F97 loc_B8A7:				    ; CODE XREF: seg003:1F8Aj
seg003:1F97		    mov	    word ptr [bp+24h], 0
seg003:1F9C
seg003:1F9C loc_B8AC:				    ; CODE XREF: seg003:1F5Ej
seg003:1F9C		    jmp	    loc_BA0E
seg003:1F9F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1F9F
seg003:1F9F loc_B8AF:				    ; CODE XREF: seg003:1FF6j
seg003:1F9F		    mov	    si,	[bp+18h]
seg003:1FA2		    mov	    ds,	word ptr [bp+1Ch]
seg003:1FA5		    assume ds:nothing
seg003:1FA5		    lodsw
seg003:1FA6		    cmp	    al,	7
seg003:1FA8		    jz	    short loc_B892
seg003:1FAA		    cmp	    al,	1Fh
seg003:1FAC		    jz	    short loc_B892
seg003:1FAE		    cmp	    ax,	5EFFh
seg003:1FB1		    jnz	    short loc_B8C5
seg003:1FB3		    jmp	    short loc_B860
seg003:1FB5 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1FB5
seg003:1FB5 loc_B8C5:				    ; CODE XREF: seg003:1F95j
seg003:1FB5					    ; seg003:1FB1j
seg003:1FB5		    jmp	    short loc_B944
seg003:1FB5 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1FB7		    align 2
seg003:1FB8		    pusha
seg003:1FB9		    push    es
seg003:1FBA		    push    ds
seg003:1FBB		    mov	    ax,	20h ; ' '
seg003:1FBE		    mov	    ds,	ax
seg003:1FC0		    assume ds:nothing
seg003:1FC0		    mov	    bp,	sp
seg003:1FC2		    cmp	    byte ptr ds:50h, 8
seg003:1FC7		    jnz	    short loc_B8EE
seg003:1FC9		    test    byte ptr ds:1582h, 1
seg003:1FCE		    jnz	    short loc_B8EE
seg003:1FD0		    mov	    al,	0Bh
seg003:1FD2		    mov	    dx,	ds:4Ah
seg003:1FD6		    out	    dx,	al
seg003:1FD7		    jmp	    short $+2
seg003:1FD9		    in	    al,	dx
seg003:1FDA		    test    al,	20h
seg003:1FDC		    jnz	    short loc_B870
seg003:1FDE
seg003:1FDE loc_B8EE:				    ; CODE XREF: seg003:1FC7j
seg003:1FDE					    ; seg003:1FCEj
seg003:1FDE		    cld
seg003:1FDF		    cmp	    word ptr [bp+1Ch], 0C000h
seg003:1FE4		    jb	    short loc_B8F9
seg003:1FE6		    jmp	    loc_B9AF
seg003:1FE9 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:1FE9
seg003:1FE9 loc_B8F9:				    ; CODE XREF: seg003:1FE4j
seg003:1FE9					    ; seg003:20BDj
seg003:1FE9		    lsl	    ax,	[bp+1Ch]
seg003:1FED		    sub	    ax,	[bp+18h]
seg003:1FF0		    jbe	    short loc_B944
seg003:1FF2		    cmp	    word ptr [bp+14h], 0
seg003:1FF6		    jnz	    short loc_B8AF
seg003:1FF8		    sub	    ax,	4
seg003:1FFB		    jbe	    short loc_B944
seg003:1FFD		    mov	    al,	93h ; ''
seg003:1FFF		    call    sub_BAB3
seg003:2002		    push    ax
seg003:2003		    cmp	    al,	9Bh ; ''
seg003:2005		    jnz	    short loc_B940
seg003:2007		    mov	    si,	[bp+18h]
seg003:200A		    mov	    ds,	word ptr [bp+1Ch]
seg003:200D		    assume ds:nothing
seg003:200D		    lodsw
seg003:200E		    cmp	    word ptr [bp+0], 0
seg003:2012		    jnz	    short loc_B927
seg003:2014		    jmp	    loc_B9D0
seg003:2017 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2017
seg003:2017 loc_B927:				    ; CODE XREF: seg003:2012j
seg003:2017		    cmp	    ax,	4C7h
seg003:201A		    jz	    short loc_B94A
seg003:201C		    cmp	    ax,	429h
seg003:201F		    jz	    short loc_B974
seg003:2021		    cmp	    ax,	4C6h
seg003:2024		    jz	    short loc_B995
seg003:2026		    cmp	    ax,	0C80h
seg003:2029		    jz	    short loc_B984
seg003:202B		    cmp	    ax,	489h
seg003:202E		    jz	    short loc_B9A7
seg003:2030
seg003:2030 loc_B940:				    ; CODE XREF: seg003:2005j
seg003:2030					    ; seg003:2040j ...
seg003:2030		    pop	    ax
seg003:2031		    call    sub_BAB3
seg003:2034
seg003:2034 loc_B944:				    ; CODE XREF: seg003:loc_B8C5j
seg003:2034					    ; seg003:1FF0j ...
seg003:2034		    mov	    bx,	4
seg003:2037		    jmp	    loc_B872
seg003:203A ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:203A
seg003:203A loc_B94A:				    ; CODE XREF: seg003:201Aj
seg003:203A		    mov	    dx,	[si]
seg003:203C		    cmp	    dx,	0C089h
seg003:2040		    jnz	    short loc_B940
seg003:2042		    mov	    cx,	4
seg003:2045
seg003:2045 loc_B955:				    ; CODE XREF: seg003:2072j
seg003:2045					    ; seg003:2083j ...
seg003:2045		    push    8
seg003:2047		    pop	    ds
seg003:2048		    assume ds:nothing
seg003:2048		    mov	    si,	[bp+0]
seg003:204B		    and	    si,	0FFF8h
seg003:204E		    mov	    al,	93h ; ''
seg003:2050		    xchg    al,	[si+5]
seg003:2053		    mov	    es,	si
seg003:2055		    mov	    di,	[bp+6]
seg003:2058		    mov	    es:[di], dx
seg003:205B		    mov	    [si+5], al
seg003:205E		    add	    [bp+18h], cx
seg003:2061		    jmp	    loc_BA0A
seg003:2064 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2064
seg003:2064 loc_B974:				    ; CODE XREF: seg003:201Fj
seg003:2064		    mov	    ds,	word ptr [bp+0]
seg003:2067		    assume ds:nothing
seg003:2067		    mov	    si,	[bp+6]
seg003:206A		    mov	    dx,	[si]
seg003:206C		    sub	    dx,	[bp+12h]
seg003:206F		    mov	    cx,	2
seg003:2072		    jmp	    short loc_B955
seg003:2074 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2074
seg003:2074 loc_B984:				    ; CODE XREF: seg003:2029j
seg003:2074		    mov	    cl,	[si]
seg003:2076		    mov	    ds,	word ptr [bp+0]
seg003:2079		    mov	    si,	[bp+6]
seg003:207C		    mov	    dx,	[si]
seg003:207E		    or	    dl,	cl
seg003:2080		    mov	    cx,	3
seg003:2083		    jmp	    short loc_B955
seg003:2085 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2085
seg003:2085 loc_B995:				    ; CODE XREF: seg003:2024j
seg003:2085		    mov	    cl,	[si]
seg003:2087		    mov	    di,	[bp+6]
seg003:208A		    mov	    es,	word ptr [bp+0]
seg003:208D		    mov	    dx,	es:[di]
seg003:2090		    mov	    dl,	cl
seg003:2092		    mov	    cx,	3
seg003:2095		    jmp	    short loc_B955
seg003:2097 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2097
seg003:2097 loc_B9A7:				    ; CODE XREF: seg003:202Ej
seg003:2097		    mov	    dx,	[bp+12h]
seg003:209A		    mov	    cx,	2
seg003:209D		    jmp	    short loc_B955
seg003:209F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:209F
seg003:209F loc_B9AF:				    ; CODE XREF: seg003:1FE6j
seg003:209F		    xor	    ax,	ax
seg003:20A1		    xor	    cx,	cx
seg003:20A3		    cmp	    [bp+0], cx
seg003:20A6		    jnz	    short loc_B9BE
seg003:20A8		    mov	    word ptr [bp+0], 38h ; '8'
seg003:20AD		    inc	    ax
seg003:20AE
seg003:20AE loc_B9BE:				    ; CODE XREF: seg003:20A6j
seg003:20AE		    cmp	    [bp+2], cx
seg003:20B1		    jnz	    short loc_B9C9
seg003:20B3		    mov	    word ptr [bp+2], 38h ; '8'
seg003:20B8		    inc	    ax
seg003:20B9
seg003:20B9 loc_B9C9:				    ; CODE XREF: seg003:20B1j
seg003:20B9		    or	    ax,	ax
seg003:20BB		    jnz	    short loc_BA0E
seg003:20BD		    jmp	    loc_B8F9
seg003:20C0 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:20C0
seg003:20C0 loc_B9D0:				    ; CODE XREF: seg003:2014j
seg003:20C0		    cmp	    ax,	1E8Eh
seg003:20C3		    jz	    short loc_B9D8
seg003:20C5		    jmp	    loc_B940
seg003:20C8 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:20C8
seg003:20C8 loc_B9D8:				    ; CODE XREF: seg003:20C3j
seg003:20C8		    cmp	    word ptr [bp+18h], 2Bh ; '+'
seg003:20CC		    jnz	    short loc_B9F3
seg003:20CE		    xor	    bx,	bx
seg003:20D0
seg003:20D0 loc_B9E0:				    ; CODE XREF: seg003:20E1j
seg003:20D0		    mov	    di,	cs:[bx+1EA6h]
seg003:20D5		    mov	    word ptr [di], 0FECDh
seg003:20D9		    mov	    [di+2], bl
seg003:20DC		    inc	    bx
seg003:20DD		    inc	    bx
seg003:20DE		    cmp	    bx,	14h
seg003:20E1		    jb	    short loc_B9E0
seg003:20E3
seg003:20E3 loc_B9F3:				    ; CODE XREF: seg003:20CCj
seg003:20E3		    push    10h
seg003:20E5		    pop	    ds
seg003:20E6		    assume ds:nothing
seg003:20E6		    mov	    word ptr ds:7F0h, offset byte_BA25
seg003:20EC		    mov	    word ptr ds:7F2h, cs
seg003:20F0		    mov	    ax,	ds:1F2h
seg003:20F3		    mov	    [bp+0], ax
seg003:20F6		    add	    word ptr [bp+18h], 4
seg003:20FA
seg003:20FA loc_BA0A:				    ; CODE XREF: seg003:2061j
seg003:20FA		    pop	    ax
seg003:20FB		    call    sub_BAB3
seg003:20FE
seg003:20FE loc_BA0E:				    ; CODE XREF: seg003:loc_B8ACj
seg003:20FE					    ; seg003:20BBj
seg003:20FE		    pop	    ds
seg003:20FF		    assume ds:nothing
seg003:20FF		    pop	    es
seg003:2100		    popa
seg003:2101		    add	    sp,	4
seg003:2104		    iretd
seg003:2104 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2106		    db 58h, 0E8h, 99h, 0, 7, 1Fh, 61h, 83h, 0C4h, 4, 0EAh
seg003:2106		    db 0CFh, 17h, 18h, 0
seg003:2115 byte_BA25	    db 50h, 60h, 6, 1Eh, 8Bh, 0ECh, 0B0h, 93h, 0E8h, 83h, 0
seg003:2115					    ; DATA XREF: seg003:20E6o
seg003:2115		    db 50h, 8Bh, 76h, 18h, 8Eh,	5Eh, 1Ch, 8Ah, 1Ch, 32h, 0FFh
seg003:2115		    db 80h, 0FBh, 14h, 73h, 0D6h, 2Eh, 0FFh, 0A7h, 0BAh, 1Eh
seg003:2115		    db 8Bh, 46h, 0Ch, 89h, 5, 83h, 46h,	18h, 1,	0EBh, 0BAh
seg003:2115		    db 8Bh, 46h, 2, 89h, 45h, 2, 83h, 46h, 18h,	2, 0EBh, 0AEh
seg003:2115		    db 8Bh, 46h, 12h, 0A3h, 65h, 1, 0EBh, 0F2h,	0D9h, 3Eh
seg003:2115		    db 65h, 1, 0EBh, 0,	0EBh, 0, 83h, 46h, 18h,	3, 0EBh, 98h
seg003:2115		    db 8Bh, 44h, 3, 21h, 6, 65h, 1, 83h, 46h, 18h, 5, 0EBh
seg003:2115		    db 8Bh, 0DDh, 3Eh, 65h, 1, 0EBh, 0E3h, 6Ah,	10h, 1Fh, 0A1h
seg003:2115		    db 0F2h, 1,	89h, 46h, 4, 0EBh, 0C6h, 0BFh, 0F9h, 21h, 80h
seg003:2115		    db 0FBh, 0Eh, 74h, 3, 0BFh,	0FDh, 21h, 8Bh,	46h, 0Ch, 89h
seg003:2115		    db 5, 8Bh, 46h, 2, 89h, 45h, 2, 83h, 46h, 18h, 6, 0E9h
seg003:2115		    db 5Dh, 0FFh, 0DDh,	3Eh, 0F7h, 21h,	0EBh, 0B5h
seg003:21A3
seg003:21A3 ;  S	U B R O	U T I N	E 
seg003:21A3
seg003:21A3
seg003:21A3 sub_BAB3	    proc near		    ; CODE XREF: seg003:1FFFp
seg003:21A3					    ; seg003:2031p ...
seg003:21A3		    push    8
seg003:21A5		    pop	    ds
seg003:21A6		    assume ds:nothing
seg003:21A6		    mov	    si,	[bp+1Ch]
seg003:21A9		    xchg    al,	[si+5]
seg003:21AC		    retn
seg003:21AC sub_BAB3	    endp
seg003:21AC
seg003:21AC ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:21AD		    align 2
seg003:21AE
seg003:21AE ;  S	U B R O	U T I N	E 
seg003:21AE
seg003:21AE ; Attributes: bp-based frame
seg003:21AE
seg003:21AE sub_BABE	    proc near		    ; CODE XREF: sub_BAF2+73p
seg003:21AE					    ; sub_BBCB+12Dp ...
seg003:21AE
seg003:21AE arg_0	    = word ptr	4
seg003:21AE arg_2	    = word ptr	6
seg003:21AE
seg003:21AE		    push    bp
seg003:21AF		    mov	    bp,	sp
seg003:21B1		    mov	    ax,	ds:98h
seg003:21B4		    mov	    dx,	ds:9Ah
seg003:21B8		    cmp	    [bp+arg_2],	dx
seg003:21BB		    jb	    short loc_BAEC
seg003:21BD		    ja	    short loc_BAD4
seg003:21BF		    cmp	    [bp+arg_0],	ax
seg003:21C2		    jb	    short loc_BAEC
seg003:21C4
seg003:21C4 loc_BAD4:				    ; CODE XREF: sub_BABE+Fj
seg003:21C4		    mov	    ax,	ds:9Ch
seg003:21C7		    mov	    dx,	ds:9Eh
seg003:21CB		    cmp	    [bp+arg_2],	dx
seg003:21CE		    ja	    short loc_BAEC
seg003:21D0		    jb	    short loc_BAE7
seg003:21D2		    cmp	    [bp+arg_0],	ax
seg003:21D5		    ja	    short loc_BAEC
seg003:21D7
seg003:21D7 loc_BAE7:				    ; CODE XREF: sub_BABE+22j
seg003:21D7		    mov	    ax,	1
seg003:21DA		    jmp	    short locret_BAEE
seg003:21DC ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:21DC
seg003:21DC loc_BAEC:				    ; CODE XREF: sub_BABE+Dj
seg003:21DC					    ; sub_BABE+14j ...
seg003:21DC		    sub	    ax,	ax
seg003:21DE
seg003:21DE locret_BAEE:			    ; CODE XREF: sub_BABE+2Cj
seg003:21DE		    leave
seg003:21DF		    retn    4
seg003:21DF sub_BABE	    endp
seg003:21DF
seg003:21E2
seg003:21E2 ;  S	U B R O	U T I N	E 
seg003:21E2
seg003:21E2 ; Attributes: bp-based frame
seg003:21E2
seg003:21E2 sub_BAF2	    proc near		    ; CODE XREF: sub_A1FBp
seg003:21E2
seg003:21E2 var_C	    = word ptr -0Ch
seg003:21E2 var_A	    = word ptr -0Ah
seg003:21E2 var_8	    = word ptr -8
seg003:21E2 var_6	    = word ptr -6
seg003:21E2 var_4	    = word ptr -4
seg003:21E2 var_2	    = word ptr -2
seg003:21E2
seg003:21E2		    enter   0Ch, 0
seg003:21E6		    push    si
seg003:21E7		    sub	    ax,	ax
seg003:21E9		    mov	    [bp+var_A],	ax
seg003:21EC		    mov	    [bp+var_C],	ax
seg003:21EF		    sub	    si,	si
seg003:21F1		    cli
seg003:21F2		    sub	    ax,	ax
seg003:21F4		    mov	    ds:11FCh, ax
seg003:21F7		    mov	    ds:11FAh, ax
seg003:21FA		    mov	    ax,	ds:98h
seg003:21FD		    mov	    dx,	ds:9Ah
seg003:2201		    mov	    [bp+var_4],	ax
seg003:2204		    mov	    [bp+var_2],	dx
seg003:2207		    cmp	    dx,	ds:9Eh
seg003:220B		    ja	    short loc_BB88
seg003:220D		    jb	    short loc_BB25
seg003:220F		    cmp	    ax,	ds:9Ch
seg003:2213		    jnb	    short loc_BB88
seg003:2215
seg003:2215 loc_BB25:				    ; CODE XREF: sub_BAF2+2Bj
seg003:2215					    ; sub_BAF2+94j
seg003:2215		    mov	    ax,	[bp+var_2]
seg003:2218		    or	    ax,	[bp+var_4]
seg003:221B		    jz	    short loc_BB88
seg003:221D		    push    4
seg003:221F		    push    [bp+var_2]
seg003:2222		    push    [bp+var_4]
seg003:2225		    call    sub_D941
seg003:2228		    add	    sp,	6
seg003:222B		    mov	    [bp+var_8],	ax
seg003:222E		    mov	    [bp+var_6],	dx
seg003:2231		    add	    [bp+var_C],	ax
seg003:2234		    adc	    [bp+var_A],	dx
seg003:2237		    cmp	    dx,	ds:11FCh
seg003:223B		    jb	    short loc_BB5C
seg003:223D		    ja	    short loc_BB55
seg003:223F		    cmp	    ax,	ds:11FAh
seg003:2243		    jbe	    short loc_BB5C
seg003:2245
seg003:2245 loc_BB55:				    ; CODE XREF: sub_BAF2+5Bj
seg003:2245		    mov	    ds:11FAh, ax
seg003:2248		    mov	    ds:11FCh, dx
seg003:224C
seg003:224C loc_BB5C:				    ; CODE XREF: sub_BAF2+59j
seg003:224C					    ; sub_BAF2+61j
seg003:224C		    dec	    si
seg003:224D		    jz	    short loc_BB6C
seg003:224F		    push    [bp+var_2]
seg003:2252		    push    [bp+var_4]
seg003:2255		    call    sub_BABE
seg003:2258		    or	    ax,	ax
seg003:225A		    jnz	    short loc_BB72
seg003:225C
seg003:225C loc_BB6C:				    ; CODE XREF: sub_BAF2+6Bj
seg003:225C		    push    1Ch
seg003:225E		    call    sub_D7B5
seg003:2261		    pop	    bx
seg003:2262
seg003:2262 loc_BB72:				    ; CODE XREF: sub_BAF2+78j
seg003:2262		    push    0
seg003:2264		    push    [bp+var_2]
seg003:2267		    push    [bp+var_4]
seg003:226A		    call    sub_D941
seg003:226D		    add	    sp,	6
seg003:2270		    mov	    [bp+var_4],	ax
seg003:2273		    mov	    [bp+var_2],	dx
seg003:2276		    jmp	    short loc_BB25
seg003:2278 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2278
seg003:2278 loc_BB88:				    ; CODE XREF: sub_BAF2+29j
seg003:2278					    ; sub_BAF2+31j ...
seg003:2278		    sti
seg003:2279		    mov	    ax,	[bp+var_C]
seg003:227C		    mov	    dx,	[bp+var_A]
seg003:227F		    pop	    si
seg003:2280		    leave
seg003:2281		    retn
seg003:2281 sub_BAF2	    endp
seg003:2281
seg003:2282
seg003:2282 ;  S	U B R O	U T I N	E 
seg003:2282
seg003:2282 ; Attributes: bp-based frame
seg003:2282
seg003:2282 sub_BB92	    proc near		    ; CODE XREF: sub_BBCB+149p
seg003:2282					    ; sub_BE00+21Ap ...
seg003:2282
seg003:2282 var_4	    = dword ptr	-4
seg003:2282 arg_0	    = word ptr	4
seg003:2282 arg_2	    = word ptr	6
seg003:2282
seg003:2282		    enter   4, 0
seg003:2286		    cmp	    word ptr ds:0A2h, 0
seg003:228B		    jz	    short locret_BBC9
seg003:228D		    mov	    ax,	ds:0A0h
seg003:2290		    mov	    word ptr [bp+var_4], ax
seg003:2293		    mov	    word ptr [bp+var_4+2], 60h ; '`'
seg003:2298		    push    92h	; ''
seg003:229B		    push    0FFFFh
seg003:229D		    push    0
seg003:229F		    push    word ptr ds:0A2h
seg003:22A3		    push    60h	; '`'
seg003:22A5		    call    sub_D884
seg003:22A8		    mov	    ax,	[bp+arg_0]
seg003:22AB		    mov	    dx,	[bp+arg_2]
seg003:22AE		    les	    bx,	[bp+var_4]
seg003:22B1		    add	    es:[bx+0Ch], ax
seg003:22B5		    adc	    es:[bx+0Eh], dx
seg003:22B9
seg003:22B9 locret_BBC9:			    ; CODE XREF: sub_BB92+9j
seg003:22B9		    leave
seg003:22BA		    retn
seg003:22BA sub_BB92	    endp
seg003:22BA
seg003:22BB
seg003:22BB ;  S	U B R O	U T I N	E 
seg003:22BB
seg003:22BB ; Attributes: bp-based frame
seg003:22BB
seg003:22BB sub_BBCB	    proc near		    ; CODE XREF: sub_C1B0+13p
seg003:22BB					    ; sub_C226+8p ...
seg003:22BB
seg003:22BB var_14	    = word ptr -14h
seg003:22BB var_12	    = word ptr -12h
seg003:22BB var_10	    = word ptr -10h
seg003:22BB var_E	    = word ptr -0Eh
seg003:22BB var_8	    = word ptr -8
seg003:22BB var_6	    = word ptr -6
seg003:22BB var_4	    = word ptr -4
seg003:22BB var_2	    = word ptr -2
seg003:22BB arg_0	    = word ptr	4
seg003:22BB arg_2	    = word ptr	6
seg003:22BB
seg003:22BB		    enter   16h, 0
seg003:22BF
seg003:22BF loc_BBCF:				    ; CODE XREF: sub_BBCB+B3j
seg003:22BF		    sub	    ax,	ax
seg003:22C1		    mov	    ds:11FCh, ax
seg003:22C4		    mov	    ds:11FAh, ax
seg003:22C7		    mov	    [bp+var_14], ax
seg003:22CA
seg003:22CA loc_BBDA:				    ; CODE XREF: sub_BBCB+223j
seg003:22CA		    cli
seg003:22CB		    mov	    ax,	ds:98h
seg003:22CE		    mov	    dx,	ds:9Ah
seg003:22D2		    mov	    [bp+var_8],	ax
seg003:22D5		    mov	    [bp+var_6],	dx
seg003:22D8		    cmp	    dx,	ds:9Eh
seg003:22DC		    ja	    short loc_BC04
seg003:22DE		    jb	    short loc_BBF6
seg003:22E0		    cmp	    ax,	ds:9Ch
seg003:22E4		    jnb	    short loc_BC04
seg003:22E6
seg003:22E6 loc_BBF6:				    ; CODE XREF: sub_BBCB+23j
seg003:22E6		    cmp	    [bp+arg_2],	0
seg003:22EA		    jg	    short loc_BC09
seg003:22EC		    jl	    short loc_BC04
seg003:22EE		    cmp	    [bp+arg_0],	0
seg003:22F2		    jnz	    short loc_BC09
seg003:22F4
seg003:22F4 loc_BC04:				    ; CODE XREF: sub_BBCB+21j
seg003:22F4					    ; sub_BBCB+29j ...
seg003:22F4		    sub	    ax,	ax
seg003:22F6		    cwd
seg003:22F7		    leave
seg003:22F8		    retn
seg003:22F9 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:22F9
seg003:22F9 loc_BC09:				    ; CODE XREF: sub_BBCB+2Fj
seg003:22F9					    ; sub_BBCB+37j
seg003:22F9		    push    0
seg003:22FB		    push    [bp+var_6]
seg003:22FE		    push    [bp+var_8]
seg003:2301		    call    sub_D941
seg003:2304		    add	    sp,	6
seg003:2307		    mov	    [bp+var_4],	ax
seg003:230A		    mov	    [bp+var_2],	dx
seg003:230D
seg003:230D loc_BC1D:				    ; CODE XREF: sub_BBCB+18Cj
seg003:230D					    ; sub_BBCB+1AEj ...
seg003:230D		    mov	    ax,	[bp+var_2]
seg003:2310		    or	    ax,	[bp+var_4]
seg003:2313		    jnz	    short loc_BC28
seg003:2315		    jmp	    loc_BD85
seg003:2318 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2318
seg003:2318 loc_BC28:				    ; CODE XREF: sub_BBCB+58j
seg003:2318		    push    4
seg003:231A		    push    [bp+var_2]
seg003:231D		    push    [bp+var_4]
seg003:2320		    call    sub_D941
seg003:2323		    add	    sp,	6
seg003:2326		    mov	    [bp+var_12], ax
seg003:2329		    mov	    [bp+var_10], dx
seg003:232C		    cmp	    dx,	[bp+arg_2]
seg003:232F		    jge	    short loc_BC44
seg003:2331		    jmp	    loc_BD22
seg003:2334 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2334
seg003:2334 loc_BC44:				    ; CODE XREF: sub_BBCB+74j
seg003:2334		    jg	    short loc_BC4E
seg003:2336		    cmp	    ax,	[bp+arg_0]
seg003:2339		    jnb	    short loc_BC4E
seg003:233B		    jmp	    loc_BD22
seg003:233E ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:233E
seg003:233E loc_BC4E:				    ; CODE XREF: sub_BBCB:loc_BC44j
seg003:233E					    ; sub_BBCB+7Ej
seg003:233E		    cmp	    byte ptr ds:2Eh, 0Bh
seg003:2343		    jnz	    short loc_BC88
seg003:2345		    call    sub_F18C
seg003:2348		    or	    ax,	ax
seg003:234A		    jnz	    short loc_BC88
seg003:234C		    mov	    ax,	[bp+arg_0]
seg003:234F		    mov	    dx,	[bp+arg_2]
seg003:2352		    add	    ax,	[bp+var_4]
seg003:2355		    adc	    dx,	[bp+var_2]
seg003:2358		    push    dx
seg003:2359		    push    ax
seg003:235A		    push    [bp+var_2]
seg003:235D		    push    [bp+var_4]
seg003:2360		    call    near ptr sub_F0C8
seg003:2363		    add	    sp,	8
seg003:2366		    mov	    [bp+var_E],	ax
seg003:2369		    or	    ax,	ax
seg003:236B		    jle	    short loc_BC81
seg003:236D		    sti
seg003:236E		    jmp	    loc_BBCF
seg003:2371 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2371
seg003:2371 loc_BC81:				    ; CODE XREF: sub_BBCB+B0j
seg003:2371		    or	    ax,	ax
seg003:2373		    jge	    short loc_BC88
seg003:2375		    jmp	    loc_BD85
seg003:2378 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2378
seg003:2378 loc_BC88:				    ; CODE XREF: sub_BBCB+88j
seg003:2378					    ; sub_BBCB+8Fj ...
seg003:2378		    mov	    ax,	[bp+var_12]
seg003:237B		    mov	    dx,	[bp+var_10]
seg003:237E		    cmp	    [bp+arg_0],	ax
seg003:2381		    jnz	    short loc_BC98
seg003:2383		    cmp	    [bp+arg_2],	dx
seg003:2386		    jz	    short loc_BCCC
seg003:2388
seg003:2388 loc_BC98:				    ; CODE XREF: sub_BBCB+C6j
seg003:2388		    sub	    ax,	[bp+arg_0]
seg003:238B		    sbb	    dx,	[bp+arg_2]
seg003:238E		    push    dx
seg003:238F		    push    ax
seg003:2390		    push    4
seg003:2392		    mov	    ax,	[bp+arg_0]
seg003:2395		    mov	    dx,	[bp+arg_2]
seg003:2398		    add	    ax,	[bp+var_4]
seg003:239B		    adc	    dx,	[bp+var_2]
seg003:239E		    push    dx
seg003:239F		    push    ax
seg003:23A0		    push    0
seg003:23A2		    push    [bp+var_6]
seg003:23A5		    push    [bp+var_8]
seg003:23A8		    call    sub_D957
seg003:23AB		    add	    sp,	0Ah
seg003:23AE		    mov	    [bp+var_8],	ax
seg003:23B1		    mov	    [bp+var_6],	dx
seg003:23B4		    push    dx
seg003:23B5		    push    ax
seg003:23B6		    call    sub_D957
seg003:23B9		    add	    sp,	0Ah
seg003:23BC
seg003:23BC loc_BCCC:				    ; CODE XREF: sub_BBCB+CBj
seg003:23BC		    push    0
seg003:23BE		    push    [bp+var_2]
seg003:23C1		    push    [bp+var_4]
seg003:23C4		    call    sub_D941
seg003:23C7		    add	    sp,	6
seg003:23CA		    push    dx
seg003:23CB		    push    ax
seg003:23CC		    push    0
seg003:23CE		    push    [bp+var_6]
seg003:23D1		    push    [bp+var_8]
seg003:23D4		    call    sub_D957
seg003:23D7		    add	    sp,	0Ah
seg003:23DA		    mov	    [bp+var_8],	ax
seg003:23DD		    mov	    [bp+var_6],	dx
seg003:23E0		    or	    dx,	ax
seg003:23E2		    jz	    short loc_BD05
seg003:23E4		    push    [bp+var_6]
seg003:23E7		    push    ax
seg003:23E8		    call    sub_BABE
seg003:23EB		    or	    ax,	ax
seg003:23ED		    jnz	    short loc_BD05
seg003:23EF		    push    1Dh
seg003:23F1		    call    sub_D7B5
seg003:23F4		    pop	    bx
seg003:23F5
seg003:23F5 loc_BD05:				    ; CODE XREF: sub_BBCB+127j
seg003:23F5					    ; sub_BBCB+132j
seg003:23F5		    mov	    ax,	[bp+arg_0]
seg003:23F8		    mov	    dx,	[bp+arg_2]
seg003:23FB		    neg	    ax
seg003:23FD		    adc	    dx,	0
seg003:2400		    neg	    dx
seg003:2402		    push    dx
seg003:2403		    push    ax
seg003:2404		    call    sub_BB92
seg003:2407		    pop	    bx
seg003:2408		    pop	    bx
seg003:2409		    sti
seg003:240A		    mov	    ax,	[bp+var_4]
seg003:240D		    mov	    dx,	[bp+var_2]
seg003:2410		    leave
seg003:2411		    retn
seg003:2412 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2412
seg003:2412 loc_BD22:				    ; CODE XREF: sub_BBCB+76j
seg003:2412					    ; sub_BBCB+80j
seg003:2412		    cmp	    ds:11FCh, dx
seg003:2416		    ja	    short loc_BD37
seg003:2418		    jb	    short loc_BD30
seg003:241A		    cmp	    ds:11FAh, ax
seg003:241E		    jnb	    short loc_BD37
seg003:2420
seg003:2420 loc_BD30:				    ; CODE XREF: sub_BBCB+15Dj
seg003:2420		    mov	    ds:11FAh, ax
seg003:2423		    mov	    ds:11FCh, dx
seg003:2427
seg003:2427 loc_BD37:				    ; CODE XREF: sub_BBCB+15Bj
seg003:2427					    ; sub_BBCB+163j
seg003:2427		    push    0
seg003:2429		    mov	    ax,	[bp+var_4]
seg003:242C		    mov	    dx,	[bp+var_2]
seg003:242F		    mov	    [bp+var_8],	ax
seg003:2432		    mov	    [bp+var_6],	dx
seg003:2435		    push    dx
seg003:2436		    push    ax
seg003:2437		    call    sub_D941
seg003:243A		    add	    sp,	6
seg003:243D		    mov	    [bp+var_4],	ax
seg003:2440		    mov	    [bp+var_2],	dx
seg003:2443		    or	    dx,	ax
seg003:2445		    jnz	    short loc_BD5A
seg003:2447		    jmp	    loc_BC1D
seg003:244A ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:244A
seg003:244A loc_BD5A:				    ; CODE XREF: sub_BBCB+18Aj
seg003:244A		    mov	    ax,	[bp+var_8]
seg003:244D		    mov	    dx,	[bp+var_6]
seg003:2450		    cmp	    [bp+var_2],	dx
seg003:2453		    jb	    short loc_BD7C
seg003:2455		    ja	    short loc_BD6C
seg003:2457		    cmp	    [bp+var_4],	ax
seg003:245A		    jb	    short loc_BD7C
seg003:245C
seg003:245C loc_BD6C:				    ; CODE XREF: sub_BBCB+19Aj
seg003:245C		    push    [bp+var_2]
seg003:245F		    push    [bp+var_4]
seg003:2462		    call    sub_BABE
seg003:2465		    or	    ax,	ax
seg003:2467		    jz	    short loc_BD7C
seg003:2469		    jmp	    loc_BC1D
seg003:246C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:246C
seg003:246C loc_BD7C:				    ; CODE XREF: sub_BBCB+198j
seg003:246C					    ; sub_BBCB+19Fj ...
seg003:246C		    push    1Dh
seg003:246E		    call    sub_D7B5
seg003:2471		    pop	    bx
seg003:2472		    jmp	    loc_BC1D
seg003:2475 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2475
seg003:2475 loc_BD85:				    ; CODE XREF: sub_BBCB+5Aj
seg003:2475					    ; sub_BBCB+BAj
seg003:2475		    sti
seg003:2476		    cmp	    word ptr ds:1206h, 0
seg003:247B		    jnz	    short loc_BD90
seg003:247D		    jmp	    loc_BC04
seg003:2480 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2480
seg003:2480 loc_BD90:				    ; CODE XREF: sub_BBCB+1C0j
seg003:2480		    mov	    ax,	[bp+var_14]
seg003:2483		    inc	    [bp+var_14]
seg003:2486		    or	    ax,	ax
seg003:2488		    jz	    short loc_BD9D
seg003:248A		    jmp	    loc_BC04
seg003:248D ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:248D
seg003:248D loc_BD9D:				    ; CODE XREF: sub_BBCB+1CDj
seg003:248D		    mov	    ax,	ds:1206h
seg003:2490		    shr	    ax,	6
seg003:2493		    mov	    dx,	ax
seg003:2495		    mov	    ax,	ds:1206h
seg003:2498		    shl	    ax,	0Ah
seg003:249B		    mov	    bx,	dx
seg003:249D		    cwd
seg003:249E		    or	    dx,	bx
seg003:24A0		    mov	    [bp+var_12], ax
seg003:24A3		    mov	    [bp+var_10], dx
seg003:24A6		    push    [bp+arg_2]
seg003:24A9		    push    [bp+arg_0]
seg003:24AC		    call    sub_D9C7
seg003:24AF		    pop	    bx
seg003:24B0		    pop	    bx
seg003:24B1		    cmp	    dx,	[bp+var_10]
seg003:24B4		    jl	    short loc_BDD3
seg003:24B6		    jg	    short loc_BDCD
seg003:24B8		    cmp	    ax,	[bp+var_12]
seg003:24BB		    jbe	    short loc_BDD3
seg003:24BD
seg003:24BD loc_BDCD:				    ; CODE XREF: sub_BBCB+1FBj
seg003:24BD		    mov	    [bp+var_12], ax
seg003:24C0		    mov	    [bp+var_10], dx
seg003:24C3
seg003:24C3 loc_BDD3:				    ; CODE XREF: sub_BBCB+1F9j
seg003:24C3					    ; sub_BBCB+200j
seg003:24C3		    push    1
seg003:24C5		    mov	    ax,	ds:0AA8h
seg003:24C8		    mov	    dx,	ds:0AAAh
seg003:24CC		    add	    ax,	[bp+var_12]
seg003:24CF		    adc	    dx,	[bp+var_10]
seg003:24D2		    push    dx
seg003:24D3		    push    ax
seg003:24D4		    call    sub_D462
seg003:24D7		    add	    sp,	6
seg003:24DA		    or	    dx,	ax
seg003:24DC		    jz	    short loc_BDF1
seg003:24DE		    jmp	    loc_BBDA
seg003:24E1 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:24E1
seg003:24E1 loc_BDF1:				    ; CODE XREF: sub_BBCB+221j
seg003:24E1		    jmp	    loc_BC04
seg003:24E1 sub_BBCB	    endp
seg003:24E1
seg003:24E4
seg003:24E4 ;  S	U B R O	U T I N	E 
seg003:24E4
seg003:24E4 ; Attributes: bp-based frame
seg003:24E4
seg003:24E4 sub_BDF4	    proc near		    ; CODE XREF: sub_BE00+49p
seg003:24E4					    ; sub_BE00+285p
seg003:24E4
seg003:24E4 arg_0	    = word ptr	4
seg003:24E4
seg003:24E4		    push    bp
seg003:24E5		    mov	    bp,	sp
seg003:24E7		    mov	    ax,	[bp+arg_0]
seg003:24EA		    int	    15h
seg003:24EC		    leave
seg003:24ED		    retn    2
seg003:24ED sub_BDF4	    endp
seg003:24ED
seg003:24F0
seg003:24F0 ;  S	U B R O	U T I N	E 
seg003:24F0
seg003:24F0 ; Attributes: bp-based frame
seg003:24F0
seg003:24F0 sub_BE00	    proc near		    ; CODE XREF: sub_C08C+108p
seg003:24F0					    ; sub_C1B0+46p ...
seg003:24F0
seg003:24F0 var_C	    = word ptr -0Ch
seg003:24F0 var_A	    = word ptr -0Ah
seg003:24F0 var_8	    = word ptr -8
seg003:24F0 var_6	    = word ptr -6
seg003:24F0 var_4	    = word ptr -4
seg003:24F0 var_2	    = word ptr -2
seg003:24F0 arg_0	    = word ptr	4
seg003:24F0 arg_2	    = word ptr	6
seg003:24F0 arg_4	    = word ptr	8
seg003:24F0 arg_6	    = word ptr	0Ah
seg003:24F0
seg003:24F0		    enter   0Ch, 0
seg003:24F4		    push    di
seg003:24F5		    push    si
seg003:24F6		    mov	    ax,	[bp+arg_0]
seg003:24F9		    mov	    dx,	[bp+arg_2]
seg003:24FC		    cmp	    ds:9Ah, dx
seg003:2500		    jbe	    short loc_BE15
seg003:2502		    jmp	    loc_C088
seg003:2505 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2505
seg003:2505 loc_BE15:				    ; CODE XREF: sub_BE00+10j
seg003:2505		    jb	    short loc_BE1D
seg003:2507		    cmp	    ds:98h, ax
seg003:250B		    ja	    short loc_BE29
seg003:250D
seg003:250D loc_BE1D:				    ; CODE XREF: sub_BE00:loc_BE15j
seg003:250D		    add	    ax,	[bp+arg_4]
seg003:2510		    adc	    dx,	[bp+arg_6]
seg003:2513		    cmp	    dx,	ds:9Eh
seg003:2517		    jbe	    short loc_BE2C
seg003:2519
seg003:2519 loc_BE29:				    ; CODE XREF: sub_BE00+1Bj
seg003:2519		    jmp	    loc_C088
seg003:251C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:251C
seg003:251C loc_BE2C:				    ; CODE XREF: sub_BE00+27j
seg003:251C		    jb	    short loc_BE34
seg003:251E		    cmp	    ax,	ds:9Ch
seg003:2522		    ja	    short loc_BE3C
seg003:2524
seg003:2524 loc_BE34:				    ; CODE XREF: sub_BE00:loc_BE2Cj
seg003:2524		    mov	    ax,	[bp+arg_6]
seg003:2527		    or	    ax,	[bp+arg_4]
seg003:252A		    jnz	    short loc_BE3F
seg003:252C
seg003:252C loc_BE3C:				    ; CODE XREF: sub_BE00+32j
seg003:252C		    jmp	    loc_C088
seg003:252F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:252F
seg003:252F loc_BE3F:				    ; CODE XREF: sub_BE00+3Aj
seg003:252F		    test    byte ptr ds:47h, 80h
seg003:2534		    jz	    short loc_BE4C
seg003:2536		    push    111Ch
seg003:2539		    call    sub_BDF4
seg003:253C
seg003:253C loc_BE4C:				    ; CODE XREF: sub_BE00+44j
seg003:253C		    cli
seg003:253D		    push    0
seg003:253F		    mov	    ax,	ds:98h
seg003:2542		    mov	    dx,	ds:9Ah
seg003:2546		    mov	    [bp+var_8],	ax
seg003:2549		    mov	    [bp+var_6],	dx
seg003:254C
seg003:254C loc_BE5C:				    ; CODE XREF: sub_BE00+92j
seg003:254C		    push    dx
seg003:254D		    push    ax
seg003:254E		    call    sub_D941
seg003:2551		    add	    sp,	6
seg003:2554		    mov	    [bp+var_4],	ax
seg003:2557		    mov	    [bp+var_2],	dx
seg003:255A		    mov	    ax,	[bp+arg_0]
seg003:255D		    mov	    dx,	[bp+arg_2]
seg003:2560		    cmp	    [bp+var_2],	dx
seg003:2563		    ja	    short loc_BE94
seg003:2565		    jb	    short loc_BE7C
seg003:2567		    cmp	    [bp+var_4],	ax
seg003:256A		    jnb	    short loc_BE94
seg003:256C
seg003:256C loc_BE7C:				    ; CODE XREF: sub_BE00+75j
seg003:256C		    mov	    ax,	[bp+var_2]
seg003:256F		    or	    ax,	[bp+var_4]
seg003:2572		    jz	    short loc_BE94
seg003:2574		    mov	    ax,	[bp+var_4]
seg003:2577		    mov	    dx,	[bp+var_2]
seg003:257A		    mov	    [bp+var_8],	ax
seg003:257D		    mov	    [bp+var_6],	dx
seg003:2580		    push    0
seg003:2582		    jmp	    short loc_BE5C
seg003:2584 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2584
seg003:2584 loc_BE94:				    ; CODE XREF: sub_BE00+73j
seg003:2584					    ; sub_BE00+7Aj ...
seg003:2584		    mov	    ax,	[bp+arg_0]
seg003:2587		    mov	    dx,	[bp+arg_2]
seg003:258A		    cmp	    [bp+var_4],	ax
seg003:258D		    jnz	    short loc_BEA7
seg003:258F		    cmp	    [bp+var_2],	dx
seg003:2592		    jnz	    short loc_BEA7
seg003:2594		    jmp	    loc_C07B
seg003:2597 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2597
seg003:2597 loc_BEA7:				    ; CODE XREF: sub_BE00+9Dj
seg003:2597					    ; sub_BE00+A2j
seg003:2597		    mov	    ax,	[bp+var_2]
seg003:259A		    or	    ax,	[bp+var_4]
seg003:259D		    jz	    short loc_BECD
seg003:259F		    mov	    ax,	[bp+arg_4]
seg003:25A2		    mov	    dx,	[bp+arg_6]
seg003:25A5		    add	    ax,	[bp+arg_0]
seg003:25A8		    adc	    dx,	[bp+arg_2]
seg003:25AB		    cmp	    dx,	[bp+var_2]
seg003:25AE		    jb	    short loc_BECD
seg003:25B0		    jbe	    short loc_BEC5
seg003:25B2		    jmp	    loc_C07B
seg003:25B5 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:25B5
seg003:25B5 loc_BEC5:				    ; CODE XREF: sub_BE00+C0j
seg003:25B5		    cmp	    ax,	[bp+var_4]
seg003:25B8		    jbe	    short loc_BECD
seg003:25BA		    jmp	    loc_C07B
seg003:25BD ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:25BD
seg003:25BD loc_BECD:				    ; CODE XREF: sub_BE00+ADj
seg003:25BD					    ; sub_BE00+BEj ...
seg003:25BD		    push    4
seg003:25BF		    push    [bp+var_6]
seg003:25C2		    push    [bp+var_8]
seg003:25C5		    call    sub_D941
seg003:25C8		    add	    sp,	6
seg003:25CB		    add	    ax,	[bp+var_8]
seg003:25CE		    adc	    dx,	[bp+var_6]
seg003:25D1		    cmp	    dx,	[bp+arg_2]
seg003:25D4		    jb	    short loc_BEF0
seg003:25D6		    ja	    short loc_BEED
seg003:25D8		    cmp	    ax,	[bp+arg_0]
seg003:25DB		    jbe	    short loc_BEF0
seg003:25DD
seg003:25DD loc_BEED:				    ; CODE XREF: sub_BE00+E6j
seg003:25DD		    jmp	    loc_C07B
seg003:25E0 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:25E0
seg003:25E0 loc_BEF0:				    ; CODE XREF: sub_BE00+E4j
seg003:25E0					    ; sub_BE00+EBj
seg003:25E0		    push    [bp+arg_2]
seg003:25E3		    push    [bp+arg_0]
seg003:25E6		    push    0
seg003:25E8		    push    [bp+var_6]
seg003:25EB		    push    [bp+var_8]
seg003:25EE		    call    sub_D957
seg003:25F1		    add	    sp,	0Ah
seg003:25F4		    push    [bp+var_2]
seg003:25F7		    push    [bp+var_4]
seg003:25FA		    push    0
seg003:25FC		    push    [bp+arg_2]
seg003:25FF		    push    [bp+arg_0]
seg003:2602		    call    sub_D957
seg003:2605		    add	    sp,	0Ah
seg003:2608		    mov	    ax,	[bp+arg_4]
seg003:260B		    mov	    dx,	[bp+arg_6]
seg003:260E		    mov	    [bp+var_C],	ax
seg003:2611		    mov	    [bp+var_A],	dx
seg003:2614		    push    4
seg003:2616		    push    [bp+var_6]
seg003:2619		    push    [bp+var_8]
seg003:261C		    call    sub_D941
seg003:261F		    add	    sp,	6
seg003:2622		    add	    ax,	[bp+var_8]
seg003:2625		    adc	    dx,	[bp+var_6]
seg003:2628		    cmp	    ax,	[bp+arg_0]
seg003:262B		    jnz	    short loc_BF8E
seg003:262D		    cmp	    dx,	[bp+arg_2]
seg003:2630		    jnz	    short loc_BF8E
seg003:2632		    push    4
seg003:2634		    push    [bp+var_6]
seg003:2637		    push    [bp+var_8]
seg003:263A		    call    sub_D941
seg003:263D		    add	    sp,	6
seg003:2640		    add	    ax,	[bp+var_C]
seg003:2643		    adc	    dx,	[bp+var_A]
seg003:2646		    mov	    [bp+var_C],	ax
seg003:2649		    mov	    [bp+var_A],	dx
seg003:264C		    push    dx
seg003:264D		    push    ax
seg003:264E		    push    4
seg003:2650		    push    [bp+var_6]
seg003:2653		    push    [bp+var_8]
seg003:2656		    call    sub_D957
seg003:2659		    add	    sp,	0Ah
seg003:265C		    push    [bp+var_2]
seg003:265F		    push    [bp+var_4]
seg003:2662		    push    0
seg003:2664		    push    [bp+var_6]
seg003:2667		    push    [bp+var_8]
seg003:266A		    call    sub_D957
seg003:266D		    add	    sp,	0Ah
seg003:2670		    mov	    ax,	[bp+var_8]
seg003:2673		    mov	    dx,	[bp+var_6]
seg003:2676		    mov	    [bp+arg_0],	ax
seg003:2679		    mov	    [bp+arg_2],	dx
seg003:267C		    jmp	    short loc_BFA2
seg003:267E ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:267E
seg003:267E loc_BF8E:				    ; CODE XREF: sub_BE00+13Bj
seg003:267E					    ; sub_BE00+140j
seg003:267E		    push    [bp+arg_6]
seg003:2681		    push    [bp+arg_4]
seg003:2684		    push    4
seg003:2686		    push    [bp+arg_2]
seg003:2689		    push    [bp+arg_0]
seg003:268C		    call    sub_D957
seg003:268F		    add	    sp,	0Ah
seg003:2692
seg003:2692 loc_BFA2:				    ; CODE XREF: sub_BE00+18Cj
seg003:2692		    push    4
seg003:2694		    push    [bp+arg_2]
seg003:2697		    push    [bp+arg_0]
seg003:269A		    call    sub_D941
seg003:269D		    add	    sp,	6
seg003:26A0		    add	    ax,	[bp+arg_0]
seg003:26A3		    adc	    dx,	[bp+arg_2]
seg003:26A6		    cmp	    ax,	[bp+var_4]
seg003:26A9		    jnz	    short loc_C014
seg003:26AB		    cmp	    dx,	[bp+var_2]
seg003:26AE		    jnz	    short loc_C014
seg003:26B0		    push    4
seg003:26B2		    push    dx
seg003:26B3		    push    ax
seg003:26B4		    call    sub_D941
seg003:26B7		    add	    sp,	6
seg003:26BA		    push    4
seg003:26BC		    push    [bp+arg_2]
seg003:26BF		    push    [bp+arg_0]
seg003:26C2		    mov	    si,	ax
seg003:26C4		    mov	    di,	dx
seg003:26C6		    call    sub_D941
seg003:26C9		    add	    sp,	6
seg003:26CC		    add	    si,	ax
seg003:26CE		    adc	    di,	dx
seg003:26D0		    mov	    [bp+var_C],	si
seg003:26D3		    mov	    [bp+var_A],	di
seg003:26D6		    push    di
seg003:26D7		    push    si
seg003:26D8		    push    4
seg003:26DA		    push    [bp+arg_2]
seg003:26DD		    push    [bp+arg_0]
seg003:26E0		    call    sub_D957
seg003:26E3		    add	    sp,	0Ah
seg003:26E6		    push    0
seg003:26E8		    push    [bp+var_2]
seg003:26EB		    push    [bp+var_4]
seg003:26EE		    call    sub_D941
seg003:26F1		    add	    sp,	6
seg003:26F4		    push    dx
seg003:26F5		    push    ax
seg003:26F6		    push    0
seg003:26F8		    push    [bp+arg_2]
seg003:26FB		    push    [bp+arg_0]
seg003:26FE		    call    sub_D957
seg003:2701		    add	    sp,	0Ah
seg003:2704
seg003:2704 loc_C014:				    ; CODE XREF: sub_BE00+1B9j
seg003:2704					    ; sub_BE00+1BEj
seg003:2704		    push    [bp+arg_6]
seg003:2707		    push    [bp+arg_4]
seg003:270A		    call    sub_BB92
seg003:270D		    pop	    bx
seg003:270E		    pop	    bx
seg003:270F		    sti
seg003:2710		    cmp	    byte ptr ds:2Eh, 0Bh
seg003:2715		    jnz	    short loc_C07B
seg003:2717		    mov	    ah,	ds:15h
seg003:271B		    and	    ax,	4000h
seg003:271E		    cmp	    ax,	1
seg003:2721		    sbb	    ax,	ax
seg003:2723		    inc	    ax
seg003:2724		    mov	    cl,	ds:47h
seg003:2728		    and	    cl,	80h
seg003:272B		    cmp	    cl,	1
seg003:272E		    sbb	    cx,	cx
seg003:2730		    inc	    cx
seg003:2731		    xor	    ax,	cx
seg003:2733		    jz	    short loc_C07B
seg003:2735		    cmp	    byte ptr ds:9F8h, 1
seg003:273A		    sbb	    ax,	ax
seg003:273C		    and	    ah,	7
seg003:273F		    add	    ah,	0F0h ; '๐'
seg003:2742		    push    ax
seg003:2743		    mov	    ax,	[bp+var_C]
seg003:2746		    mov	    dx,	[bp+var_A]
seg003:2749		    add	    ax,	[bp+arg_0]
seg003:274C		    adc	    dx,	[bp+arg_2]
seg003:274F		    sub	    ax,	1
seg003:2752		    sbb	    dx,	0
seg003:2755		    push    dx
seg003:2756		    push    ax
seg003:2757		    mov	    ax,	[bp+arg_0]
seg003:275A		    mov	    dx,	[bp+arg_2]
seg003:275D		    add	    ax,	1
seg003:2760		    adc	    dx,	0
seg003:2763		    push    dx
seg003:2764		    push    ax
seg003:2765		    call    sub_F184
seg003:2768		    add	    sp,	0Ah
seg003:276B
seg003:276B loc_C07B:				    ; CODE XREF: sub_BE00+A4j
seg003:276B					    ; sub_BE00+C2j ...
seg003:276B		    test    byte ptr ds:47h, 80h
seg003:2770		    jz	    short loc_C088
seg003:2772		    push    111Bh
seg003:2775		    call    sub_BDF4
seg003:2778
seg003:2778 loc_C088:				    ; CODE XREF: sub_BE00+12j
seg003:2778					    ; sub_BE00:loc_BE29j ...
seg003:2778		    pop	    si
seg003:2779		    pop	    di
seg003:277A		    leave
seg003:277B		    retn
seg003:277B sub_BE00	    endp
seg003:277B
seg003:277C
seg003:277C ;  S	U B R O	U T I N	E 
seg003:277C
seg003:277C ; Attributes: bp-based frame
seg003:277C
seg003:277C sub_C08C	    proc near		    ; CODE XREF: seg003:2C27p
seg003:277C					    ; sub_C87E+101p
seg003:277C
seg003:277C var_12	    = word ptr -12h
seg003:277C var_10	    = word ptr -10h
seg003:277C var_E	    = word ptr -0Eh
seg003:277C var_C	    = word ptr -0Ch
seg003:277C var_A	    = word ptr -0Ah
seg003:277C var_8	    = word ptr -8
seg003:277C var_6	    = word ptr -6
seg003:277C var_4	    = word ptr -4
seg003:277C var_2	    = word ptr -2
seg003:277C arg_0	    = word ptr	4
seg003:277C arg_2	    = word ptr	6
seg003:277C arg_4	    = word ptr	8
seg003:277C arg_6	    = word ptr	0Ah
seg003:277C arg_8	    = word ptr	0Ch
seg003:277C arg_A	    = word ptr	0Eh
seg003:277C
seg003:277C		    enter   12h, 0
seg003:2780		    mov	    ax,	[bp+arg_4]
seg003:2783		    mov	    dx,	[bp+arg_6]
seg003:2786		    add	    ax,	[bp+arg_0]
seg003:2789		    adc	    dx,	[bp+arg_2]
seg003:278C		    mov	    [bp+var_C],	ax
seg003:278F		    mov	    [bp+var_A],	dx
seg003:2792		    mov	    ax,	[bp+arg_4]
seg003:2795		    mov	    dx,	[bp+arg_6]
seg003:2798		    sub	    [bp+arg_8],	ax
seg003:279B		    sbb	    [bp+arg_A],	dx
seg003:279E
seg003:279E loc_C0AE:				    ; CODE XREF: sub_C08C+ADj
seg003:279E		    cli
seg003:279F		    mov	    ax,	ds:98h
seg003:27A2		    mov	    dx,	ds:9Ah
seg003:27A6
seg003:27A6 loc_C0B6:				    ; CODE XREF: sub_C08C+11Cj
seg003:27A6		    mov	    [bp+var_4],	ax
seg003:27A9		    mov	    [bp+var_2],	dx
seg003:27AC		    push    0
seg003:27AE		    push    dx
seg003:27AF		    push    ax
seg003:27B0		    call    sub_D941
seg003:27B3		    add	    sp,	6
seg003:27B6		    mov	    [bp+var_8],	ax
seg003:27B9		    mov	    [bp+var_6],	dx
seg003:27BC		    or	    dx,	ax
seg003:27BE		    jnz	    short loc_C0D3
seg003:27C0		    jmp	    loc_C1AB
seg003:27C3 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:27C3
seg003:27C3 loc_C0D3:				    ; CODE XREF: sub_C08C+42j
seg003:27C3		    mov	    ax,	[bp+var_C]
seg003:27C6		    mov	    dx,	[bp+var_A]
seg003:27C9		    cmp	    [bp+var_8],	ax
seg003:27CC		    jz	    short loc_C0E1
seg003:27CE		    jmp	    loc_C1A2
seg003:27D1 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:27D1
seg003:27D1 loc_C0E1:				    ; CODE XREF: sub_C08C+50j
seg003:27D1		    cmp	    [bp+var_6],	dx
seg003:27D4		    jz	    short loc_C0E9
seg003:27D6		    jmp	    loc_C1A2
seg003:27D9 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:27D9
seg003:27D9 loc_C0E9:				    ; CODE XREF: sub_C08C+58j
seg003:27D9		    push    4
seg003:27DB		    push    [bp+var_6]
seg003:27DE		    push    [bp+var_8]
seg003:27E1		    call    sub_D941
seg003:27E4		    add	    sp,	6
seg003:27E7		    mov	    [bp+var_12], ax
seg003:27EA		    mov	    [bp+var_10], dx
seg003:27ED		    cmp	    dx,	[bp+arg_A]
seg003:27F0		    ja	    short loc_C10C
seg003:27F2		    jb	    short loc_C109
seg003:27F4		    cmp	    ax,	[bp+arg_8]
seg003:27F7		    jnb	    short loc_C10C
seg003:27F9
seg003:27F9 loc_C109:				    ; CODE XREF: sub_C08C+76j
seg003:27F9		    jmp	    loc_C1AB
seg003:27FC ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:27FC
seg003:27FC loc_C10C:				    ; CODE XREF: sub_C08C+74j
seg003:27FC					    ; sub_C08C+7Bj
seg003:27FC		    cmp	    byte ptr ds:2Eh, 0Bh
seg003:2801		    jnz	    short loc_C13C
seg003:2803		    mov	    ax,	[bp+var_8]
seg003:2806		    mov	    dx,	[bp+var_6]
seg003:2809		    add	    ax,	[bp+arg_8]
seg003:280C		    adc	    dx,	[bp+arg_A]
seg003:280F		    push    dx
seg003:2810		    push    ax
seg003:2811		    push    [bp+var_6]
seg003:2814		    push    [bp+var_8]
seg003:2817		    call    near ptr sub_F0C8
seg003:281A		    add	    sp,	8
seg003:281D		    mov	    [bp+var_E],	ax
seg003:2820		    or	    ax,	ax
seg003:2822		    jl	    short loc_C1AB
seg003:2824		    or	    ax,	ax
seg003:2826		    jle	    short loc_C13C
seg003:2828		    sti
seg003:2829		    jmp	    loc_C0AE
seg003:282C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:282C
seg003:282C loc_C13C:				    ; CODE XREF: sub_C08C+85j
seg003:282C					    ; sub_C08C+AAj
seg003:282C		    push    0
seg003:282E		    push    [bp+var_6]
seg003:2831		    push    [bp+var_8]
seg003:2834		    call    sub_D941
seg003:2837		    add	    sp,	6
seg003:283A		    push    dx
seg003:283B		    push    ax
seg003:283C		    push    0
seg003:283E		    push    [bp+var_2]
seg003:2841		    push    [bp+var_4]
seg003:2844		    call    sub_D957
seg003:2847		    add	    sp,	0Ah
seg003:284A		    mov	    ax,	[bp+var_12]
seg003:284D		    mov	    dx,	[bp+var_10]
seg003:2850		    neg	    ax
seg003:2852		    adc	    dx,	0
seg003:2855		    neg	    dx
seg003:2857		    push    dx
seg003:2858		    push    ax
seg003:2859		    call    sub_BB92
seg003:285C		    pop	    bx
seg003:285D		    pop	    bx
seg003:285E		    mov	    ax,	[bp+var_12]
seg003:2861		    mov	    dx,	[bp+var_10]
seg003:2864		    cmp	    [bp+arg_8],	ax
seg003:2867		    jnz	    short loc_C17E
seg003:2869		    cmp	    [bp+arg_A],	dx
seg003:286C		    jz	    short loc_C19C
seg003:286E
seg003:286E loc_C17E:				    ; CODE XREF: sub_C08C+EBj
seg003:286E		    sub	    ax,	[bp+arg_8]
seg003:2871		    sbb	    dx,	[bp+arg_A]
seg003:2874		    push    dx
seg003:2875		    push    ax
seg003:2876		    mov	    ax,	[bp+var_C]
seg003:2879		    mov	    dx,	[bp+var_A]
seg003:287C		    add	    ax,	[bp+arg_8]
seg003:287F		    adc	    dx,	[bp+arg_A]
seg003:2882		    push    dx
seg003:2883		    push    ax
seg003:2884		    call    sub_BE00
seg003:2887		    add	    sp,	8
seg003:288A		    jmp	    short loc_C19D
seg003:288C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:288C
seg003:288C loc_C19C:				    ; CODE XREF: sub_C08C+F0j
seg003:288C		    sti
seg003:288D
seg003:288D loc_C19D:				    ; CODE XREF: sub_C08C+10Ej
seg003:288D		    mov	    ax,	1
seg003:2890		    leave
seg003:2891		    retn
seg003:2892 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2892
seg003:2892 loc_C1A2:				    ; CODE XREF: sub_C08C+52j
seg003:2892					    ; sub_C08C+5Aj
seg003:2892		    mov	    ax,	[bp+var_8]
seg003:2895		    mov	    dx,	[bp+var_6]
seg003:2898		    jmp	    loc_C0B6
seg003:289B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:289B
seg003:289B loc_C1AB:				    ; CODE XREF: sub_C08C+44j
seg003:289B					    ; sub_C08C:loc_C109j ...
seg003:289B		    sti
seg003:289C		    sub	    ax,	ax
seg003:289E		    leave
seg003:289F		    retn
seg003:289F sub_C08C	    endp
seg003:289F
seg003:28A0
seg003:28A0 ;  S	U B R O	U T I N	E 
seg003:28A0
seg003:28A0 ; Attributes: bp-based frame
seg003:28A0
seg003:28A0 sub_C1B0	    proc near		    ; CODE XREF: seg003:29CEp
seg003:28A0					    ; seg003:2C4Dp
seg003:28A0
seg003:28A0 var_8	    = word ptr -8
seg003:28A0 var_6	    = word ptr -6
seg003:28A0 var_4	    = word ptr -4
seg003:28A0 var_2	    = word ptr -2
seg003:28A0 arg_0	    = word ptr	4
seg003:28A0 arg_2	    = word ptr	6
seg003:28A0
seg003:28A0		    enter   8, 0
seg003:28A4		    add	    [bp+arg_0],	0FFh
seg003:28A9		    adc	    [bp+arg_2],	0
seg003:28AD		    push    [bp+arg_2]
seg003:28B0		    push    [bp+arg_0]
seg003:28B3		    call    sub_BBCB
seg003:28B6		    pop	    bx
seg003:28B7		    pop	    bx
seg003:28B8		    mov	    [bp+var_8],	ax
seg003:28BB		    mov	    [bp+var_6],	dx
seg003:28BE		    or	    dx,	ax
seg003:28C0		    jnz	    short loc_C1D7
seg003:28C2		    sub	    ax,	ax
seg003:28C4		    cwd
seg003:28C5		    leave
seg003:28C6		    retn
seg003:28C7 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:28C7
seg003:28C7 loc_C1D7:				    ; CODE XREF: sub_C1B0+20j
seg003:28C7		    mov	    dx,	[bp+var_6]
seg003:28CA		    add	    ax,	0FFh
seg003:28CD		    adc	    dx,	0
seg003:28D0		    sub	    al,	al
seg003:28D2		    mov	    [bp+var_4],	ax
seg003:28D5		    mov	    [bp+var_2],	dx
seg003:28D8		    sub	    ax,	[bp+var_8]
seg003:28DB		    sbb	    dx,	[bp+var_6]
seg003:28DE		    push    dx
seg003:28DF		    push    ax
seg003:28E0		    push    [bp+var_6]
seg003:28E3		    push    [bp+var_8]
seg003:28E6		    call    sub_BE00
seg003:28E9		    add	    sp,	8
seg003:28EC		    mov	    al,	byte ptr [bp+arg_0]
seg003:28EF		    add	    al,	byte ptr [bp+var_8]
seg003:28F2		    sub	    ah,	ah
seg003:28F4		    push    0
seg003:28F6		    push    ax
seg003:28F7		    mov	    ax,	[bp+arg_0]
seg003:28FA		    mov	    dx,	[bp+arg_2]
seg003:28FD		    sub	    al,	al
seg003:28FF		    mov	    cx,	[bp+var_4]
seg003:2902		    mov	    bx,	[bp+var_2]
seg003:2905		    add	    ax,	cx
seg003:2907		    adc	    dx,	bx
seg003:2909		    push    dx
seg003:290A		    push    ax
seg003:290B		    call    sub_BE00
seg003:290E		    mov	    ax,	[bp+var_4]
seg003:2911		    mov	    dx,	[bp+var_2]
seg003:2914		    leave
seg003:2915		    retn
seg003:2915 sub_C1B0	    endp
seg003:2915
seg003:2916
seg003:2916 ;  S	U B R O	U T I N	E 
seg003:2916
seg003:2916 ; Attributes: bp-based frame
seg003:2916
seg003:2916 sub_C226	    proc near		    ; CODE XREF: seg003:29E7p
seg003:2916					    ; sub_D462+19Cp
seg003:2916
seg003:2916 var_4	    = word ptr -4
seg003:2916 var_2	    = word ptr -2
seg003:2916 arg_0	    = word ptr	4
seg003:2916 arg_2	    = word ptr	6
seg003:2916 arg_4	    = word ptr	8
seg003:2916 arg_6	    = word ptr	0Ah
seg003:2916
seg003:2916		    enter   4, 0
seg003:291A		    push    0
seg003:291C		    push    1
seg003:291E		    call    sub_BBCB
seg003:2921		    pop	    bx
seg003:2922		    pop	    bx
seg003:2923		    mov	    [bp+var_4],	ax
seg003:2926		    mov	    [bp+var_2],	dx
seg003:2929		    or	    dx,	ax
seg003:292B		    jnz	    short loc_C241
seg003:292D		    sub	    ax,	ax
seg003:292F		    jmp	    short locret_C2A5
seg003:2931 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2931
seg003:2931 loc_C241:				    ; CODE XREF: sub_C226+15j
seg003:2931		    cli
seg003:2932		    push    [bp+arg_6]
seg003:2935		    push    [bp+arg_4]
seg003:2938		    push    8
seg003:293A		    push    [bp+var_2]
seg003:293D		    push    [bp+var_4]
seg003:2940		    call    sub_D957
seg003:2943		    add	    sp,	0Ah
seg003:2946		    push    [bp+arg_2]
seg003:2949		    push    [bp+arg_0]
seg003:294C		    push    0Ch
seg003:294E		    push    [bp+var_2]
seg003:2951		    push    [bp+var_4]
seg003:2954		    call    sub_D957
seg003:2957		    add	    sp,	0Ah
seg003:295A		    push    0DEADh
seg003:295D		    push    0DEADh
seg003:2960		    push    4
seg003:2962		    push    [bp+var_2]
seg003:2965		    push    [bp+var_4]
seg003:2968		    call    sub_D957
seg003:296B		    add	    sp,	0Ah
seg003:296E		    push    word ptr ds:0C12h
seg003:2972		    push    word ptr ds:0C10h
seg003:2976		    push    0
seg003:2978		    push    [bp+var_2]
seg003:297B		    push    [bp+var_4]
seg003:297E		    call    sub_D957
seg003:2981		    add	    sp,	0Ah
seg003:2984		    mov	    ax,	[bp+var_4]
seg003:2987		    mov	    dx,	[bp+var_2]
seg003:298A		    mov	    ds:0C10h, ax
seg003:298D		    mov	    ds:0C12h, dx
seg003:2991		    sti
seg003:2992		    mov	    ax,	1
seg003:2995
seg003:2995 locret_C2A5:			    ; CODE XREF: sub_C226+19j
seg003:2995		    leave
seg003:2996		    retn    8
seg003:2996 sub_C226	    endp
seg003:2996
seg003:2999 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2999		    enter   0Ch, 0
seg003:299D		    sub	    ax,	ax
seg003:299F		    mov	    [bp-6], ax
seg003:29A2		    mov	    [bp-8], ax
seg003:29A5		    cmp	    [bp+6], ax
seg003:29A8		    jl	    short loc_C315
seg003:29AA		    jg	    short loc_C2C1
seg003:29AC		    cmp	    [bp+4], ax
seg003:29AF		    jz	    short loc_C315
seg003:29B1
seg003:29B1 loc_C2C1:				    ; CODE XREF: seg003:29AAj
seg003:29B1		    mov	    ax,	[bp+4]
seg003:29B4		    mov	    dx,	[bp+6]
seg003:29B7		    add	    ax,	0FFFh
seg003:29BA		    adc	    dx,	0
seg003:29BD		    push    dx
seg003:29BE		    push    ax
seg003:29BF		    call    sub_D9AC
seg003:29C2		    pop	    bx
seg003:29C3		    pop	    bx
seg003:29C4		    sub	    al,	al
seg003:29C6		    mov	    [bp+4], ax
seg003:29C9		    mov	    [bp+6], dx
seg003:29CC		    push    dx
seg003:29CD		    push    ax
seg003:29CE		    call    sub_C1B0
seg003:29D1		    pop	    bx
seg003:29D2		    pop	    bx
seg003:29D3		    mov	    [bp-8], ax
seg003:29D6		    mov	    [bp-6], dx
seg003:29D9		    or	    dx,	ax
seg003:29DB		    jz	    short loc_C315
seg003:29DD		    push    word ptr [bp-6]
seg003:29E0		    push    ax
seg003:29E1		    push    word ptr [bp+6]
seg003:29E4		    push    word ptr [bp+4]
seg003:29E7		    call    sub_C226
seg003:29EA		    or	    ax,	ax
seg003:29EC		    jnz	    short loc_C315
seg003:29EE		    push    word ptr [bp+6]
seg003:29F1		    push    word ptr [bp+4]
seg003:29F4		    push    word ptr [bp-6]
seg003:29F7		    push    word ptr [bp-8]
seg003:29FA		    call    sub_BE00
seg003:29FD		    sub	    ax,	ax
seg003:29FF		    mov	    [bp-6], ax
seg003:2A02		    mov	    [bp-8], ax
seg003:2A05
seg003:2A05 loc_C315:				    ; CODE XREF: seg003:29A8j
seg003:2A05					    ; seg003:29AFj ...
seg003:2A05		    mov	    ax,	[bp-8]
seg003:2A08		    mov	    dx,	[bp-6]
seg003:2A0B		    leave
seg003:2A0C		    retn
seg003:2A0D
seg003:2A0D ;  S	U B R O	U T I N	E 
seg003:2A0D
seg003:2A0D ; Attributes: bp-based frame
seg003:2A0D
seg003:2A0D sub_C31D	    proc near		    ; CODE XREF: seg003:2B24p
seg003:2A0D
seg003:2A0D var_A	    = word ptr -0Ah
seg003:2A0D var_8	    = word ptr -8
seg003:2A0D var_6	    = word ptr -6
seg003:2A0D var_4	    = word ptr -4
seg003:2A0D var_2	    = word ptr -2
seg003:2A0D arg_0	    = word ptr	4
seg003:2A0D arg_2	    = word ptr	6
seg003:2A0D
seg003:2A0D		    enter   0Ah, 0
seg003:2A11		    push    0
seg003:2A13		    push    word ptr ds:9B4h
seg003:2A17		    call    sub_D9C7
seg003:2A1A		    pop	    bx
seg003:2A1B		    pop	    bx
seg003:2A1C		    add	    ax,	0C10h
seg003:2A1F		    adc	    dx,	0
seg003:2A22		    mov	    [bp+var_4],	ax
seg003:2A25		    mov	    [bp+var_2],	dx
seg003:2A28		    and	    ax,	0Fh
seg003:2A2B		    mov	    [bp+var_A],	ax
seg003:2A2E		    cli
seg003:2A2F		    push    [bp+var_2]
seg003:2A32		    push    [bp+var_4]
seg003:2A35		    call    sub_D9AC
seg003:2A38		    pop	    bx
seg003:2A39		    pop	    bx
seg003:2A3A		    mov	    [bp+var_4],	ax
seg003:2A3D		    mov	    [bp+var_2],	dx
seg003:2A40
seg003:2A40 loc_C350:				    ; CODE XREF: sub_C31D+8Ej
seg003:2A40		    push    [bp+var_A]
seg003:2A43		    push    [bp+var_2]
seg003:2A46		    push    [bp+var_4]
seg003:2A49		    call    sub_D941
seg003:2A4C		    add	    sp,	6
seg003:2A4F		    mov	    [bp+var_8],	ax
seg003:2A52		    mov	    [bp+var_6],	dx
seg003:2A55		    push    dx
seg003:2A56		    push    ax
seg003:2A57		    call    sub_BABE
seg003:2A5A		    or	    ax,	ax
seg003:2A5C		    jz	    short loc_C385
seg003:2A5E		    push    4
seg003:2A60		    push    [bp+var_6]
seg003:2A63		    push    [bp+var_8]
seg003:2A66		    call    sub_D941
seg003:2A69		    add	    sp,	6
seg003:2A6C		    cmp	    ax,	0DEADh
seg003:2A6F		    jnz	    short loc_C385
seg003:2A71		    cmp	    dx,	ax
seg003:2A73		    jz	    short loc_C38A
seg003:2A75
seg003:2A75 loc_C385:				    ; CODE XREF: sub_C31D+4Fj
seg003:2A75					    ; sub_C31D+62j
seg003:2A75		    sti
seg003:2A76		    sub	    ax,	ax
seg003:2A78		    jmp	    short locret_C3ED
seg003:2A7A ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2A7A
seg003:2A7A loc_C38A:				    ; CODE XREF: sub_C31D+66j
seg003:2A7A		    mov	    ax,	[bp+arg_0]
seg003:2A7D		    mov	    dx,	[bp+arg_2]
seg003:2A80		    cmp	    [bp+var_8],	ax
seg003:2A83		    jnz	    short loc_C39A
seg003:2A85		    cmp	    [bp+var_6],	dx
seg003:2A88		    jz	    short loc_C3AD
seg003:2A8A
seg003:2A8A loc_C39A:				    ; CODE XREF: sub_C31D+76j
seg003:2A8A		    mov	    ax,	[bp+var_8]
seg003:2A8D		    mov	    dx,	[bp+var_6]
seg003:2A90		    mov	    [bp+var_4],	ax
seg003:2A93		    mov	    [bp+var_2],	dx
seg003:2A96		    mov	    [bp+var_A],	0
seg003:2A9B		    jmp	    short loc_C350
seg003:2A9D ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2A9D
seg003:2A9D loc_C3AD:				    ; CODE XREF: sub_C31D+7Bj
seg003:2A9D		    push    0BAD0h
seg003:2AA0		    push    0BAD0h
seg003:2AA3		    push    4
seg003:2AA5		    push    dx
seg003:2AA6		    push    ax
seg003:2AA7		    call    sub_D957
seg003:2AAA		    add	    sp,	0Ah
seg003:2AAD		    push    0
seg003:2AAF		    push    [bp+arg_2]
seg003:2AB2		    push    [bp+arg_0]
seg003:2AB5		    call    sub_D941
seg003:2AB8		    add	    sp,	6
seg003:2ABB		    push    dx
seg003:2ABC		    push    ax
seg003:2ABD		    push    [bp+var_A]
seg003:2AC0		    push    [bp+var_2]
seg003:2AC3		    push    [bp+var_4]
seg003:2AC6		    call    sub_D957
seg003:2AC9		    add	    sp,	0Ah
seg003:2ACC		    sti
seg003:2ACD		    push    0
seg003:2ACF		    push    1
seg003:2AD1		    push    [bp+arg_2]
seg003:2AD4		    push    [bp+arg_0]
seg003:2AD7		    call    sub_BE00
seg003:2ADA		    mov	    ax,	1
seg003:2ADD
seg003:2ADD locret_C3ED:			    ; CODE XREF: sub_C31D+6Bj
seg003:2ADD		    leave
seg003:2ADE		    retn    4
seg003:2ADE sub_C31D	    endp
seg003:2ADE
seg003:2AE1 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2AE1		    enter   8, 0
seg003:2AE5		    push    word ptr [bp+6]
seg003:2AE8		    push    word ptr [bp+4]
seg003:2AEB		    call    sub_BABE
seg003:2AEE		    or	    ax,	ax
seg003:2AF0		    jnz	    short loc_C406
seg003:2AF2
seg003:2AF2 loc_C402:				    ; CODE XREF: seg003:2B29j
seg003:2AF2		    sub	    ax,	ax
seg003:2AF4		    leave
seg003:2AF5		    retn
seg003:2AF6 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2AF6
seg003:2AF6 loc_C406:				    ; CODE XREF: seg003:2AF0j
seg003:2AF6		    push    8
seg003:2AF8		    push    word ptr [bp+6]
seg003:2AFB		    push    word ptr [bp+4]
seg003:2AFE		    call    sub_D941
seg003:2B01		    add	    sp,	6
seg003:2B04		    mov	    [bp-4], ax
seg003:2B07		    mov	    [bp-2], dx
seg003:2B0A		    push    0Ch
seg003:2B0C		    push    word ptr [bp+6]
seg003:2B0F		    push    word ptr [bp+4]
seg003:2B12		    call    sub_D941
seg003:2B15		    add	    sp,	6
seg003:2B18		    mov	    [bp-8], ax
seg003:2B1B		    mov	    [bp-6], dx
seg003:2B1E		    push    word ptr [bp+6]
seg003:2B21		    push    word ptr [bp+4]
seg003:2B24		    call    sub_C31D
seg003:2B27		    or	    ax,	ax
seg003:2B29		    jz	    short loc_C402
seg003:2B2B		    push    word ptr [bp-6]
seg003:2B2E		    push    word ptr [bp-8]
seg003:2B31		    push    word ptr [bp-2]
seg003:2B34		    push    word ptr [bp-4]
seg003:2B37		    call    sub_BE00
seg003:2B3A		    mov	    ax,	1
seg003:2B3D		    leave
seg003:2B3E		    retn
seg003:2B3F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2B3F		    enter   0Ch, 0
seg003:2B43		    push    di
seg003:2B44		    push    si
seg003:2B45		    push    word ptr [bp+6]
seg003:2B48		    push    word ptr [bp+4]
seg003:2B4B		    call    sub_BABE
seg003:2B4E		    or	    ax,	ax
seg003:2B50		    jz	    short loc_C487
seg003:2B52		    push    4
seg003:2B54		    push    word ptr [bp+6]
seg003:2B57		    push    word ptr [bp+4]
seg003:2B5A		    call    sub_D941
seg003:2B5D		    add	    sp,	6
seg003:2B60		    cmp	    ax,	0DEADh
seg003:2B63		    jnz	    short loc_C487
seg003:2B65		    cmp	    dx,	ax
seg003:2B67		    jnz	    short loc_C487
seg003:2B69		    cmp	    word ptr [bp+0Ah], 0
seg003:2B6D		    jg	    short loc_C48D
seg003:2B6F		    jl	    short loc_C487
seg003:2B71		    cmp	    word ptr [bp+8], 0
seg003:2B75		    jnz	    short loc_C48D
seg003:2B77
seg003:2B77 loc_C487:				    ; CODE XREF: seg003:2B50j
seg003:2B77					    ; seg003:2B63j ...
seg003:2B77		    sub	    ax,	ax
seg003:2B79		    cwd
seg003:2B7A		    jmp	    loc_C61E
seg003:2B7D ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2B7D
seg003:2B7D loc_C48D:				    ; CODE XREF: seg003:2B6Dj
seg003:2B7D					    ; seg003:2B75j
seg003:2B7D		    push    0Ch
seg003:2B7F		    push    word ptr [bp+6]
seg003:2B82		    push    word ptr [bp+4]
seg003:2B85		    call    sub_D941
seg003:2B88		    add	    sp,	6
seg003:2B8B		    mov	    [bp-8], ax
seg003:2B8E		    mov	    [bp-6], dx
seg003:2B91		    push    8
seg003:2B93		    push    word ptr [bp+6]
seg003:2B96		    push    word ptr [bp+4]
seg003:2B99		    call    sub_D941
seg003:2B9C		    add	    sp,	6
seg003:2B9F		    mov	    [bp-4], ax
seg003:2BA2		    mov	    [bp-2], dx
seg003:2BA5		    mov	    [bp-0Ch], ax
seg003:2BA8		    mov	    [bp-0Ah], dx
seg003:2BAB		    mov	    cx,	[bp+8]
seg003:2BAE		    mov	    bx,	[bp+0Ah]
seg003:2BB1		    add	    cx,	0FFFh
seg003:2BB5		    adc	    bx,	0
seg003:2BB8		    and	    cx,	0F000h
seg003:2BBC		    push    bx
seg003:2BBD		    push    cx
seg003:2BBE		    call    sub_D9AC
seg003:2BC1		    pop	    bx
seg003:2BC2		    pop	    bx
seg003:2BC3		    mov	    [bp+8], ax
seg003:2BC6		    mov	    [bp+0Ah], dx
seg003:2BC9		    cmp	    ax,	[bp-8]
seg003:2BCC		    jnz	    short loc_C4EC
seg003:2BCE		    cmp	    dx,	[bp-6]
seg003:2BD1		    jnz	    short loc_C4EC
seg003:2BD3
seg003:2BD3 loc_C4E3:				    ; CODE XREF: seg003:2C45j
seg003:2BD3		    mov	    ax,	[bp-4]
seg003:2BD6		    mov	    dx,	[bp-2]
seg003:2BD9		    jmp	    loc_C61E
seg003:2BDC ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2BDC
seg003:2BDC loc_C4EC:				    ; CODE XREF: seg003:2BCCj
seg003:2BDC					    ; seg003:2BD1j
seg003:2BDC		    cmp	    [bp-6], dx
seg003:2BDF		    jl	    short loc_C529
seg003:2BE1		    jg	    short loc_C4F8
seg003:2BE3		    cmp	    [bp-8], ax
seg003:2BE6		    jbe	    short loc_C529
seg003:2BE8
seg003:2BE8 loc_C4F8:				    ; CODE XREF: seg003:2BE1j
seg003:2BE8		    mov	    cx,	[bp-8]
seg003:2BEB		    mov	    bx,	[bp-6]
seg003:2BEE		    sub	    cx,	ax
seg003:2BF0		    sbb	    bx,	dx
seg003:2BF2		    push    bx
seg003:2BF3		    push    cx
seg003:2BF4		    add	    ax,	[bp-4]
seg003:2BF7		    adc	    dx,	[bp-2]
seg003:2BFA		    push    dx
seg003:2BFB		    push    ax
seg003:2BFC		    call    sub_BE00
seg003:2BFF		    add	    sp,	8
seg003:2C02		    push    word ptr [bp+0Ah]
seg003:2C05		    push    word ptr [bp+8]
seg003:2C08		    push    0Ch
seg003:2C0A		    push    word ptr [bp+6]
seg003:2C0D		    push    word ptr [bp+4]
seg003:2C10		    call    sub_D957
seg003:2C13		    add	    sp,	0Ah
seg003:2C16		    jmp	    loc_C618
seg003:2C19 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2C19
seg003:2C19 loc_C529:				    ; CODE XREF: seg003:2BDFj
seg003:2C19					    ; seg003:2BE6j
seg003:2C19		    push    dx
seg003:2C1A		    push    ax
seg003:2C1B		    push    word ptr [bp-6]
seg003:2C1E		    push    word ptr [bp-8]
seg003:2C21		    push    word ptr [bp-2]
seg003:2C24		    push    word ptr [bp-4]
seg003:2C27		    call    sub_C08C
seg003:2C2A		    add	    sp,	0Ch
seg003:2C2D		    or	    ax,	ax
seg003:2C2F		    jz	    short loc_C557
seg003:2C31		    push    word ptr [bp+0Ah]
seg003:2C34		    push    word ptr [bp+8]
seg003:2C37		    push    0Ch
seg003:2C39		    push    word ptr [bp+6]
seg003:2C3C		    push    word ptr [bp+4]
seg003:2C3F		    call    sub_D957
seg003:2C42		    add	    sp,	0Ah
seg003:2C45		    jmp	    short loc_C4E3
seg003:2C47 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2C47
seg003:2C47 loc_C557:				    ; CODE XREF: seg003:2C2Fj
seg003:2C47		    push    word ptr [bp+0Ah]
seg003:2C4A		    push    word ptr [bp+8]
seg003:2C4D		    call    sub_C1B0
seg003:2C50		    pop	    bx
seg003:2C51		    pop	    bx
seg003:2C52		    mov	    [bp-0Ch], ax
seg003:2C55		    mov	    [bp-0Ah], dx
seg003:2C58		    or	    dx,	ax
seg003:2C5A		    jnz	    short loc_C56F
seg003:2C5C		    jmp	    loc_C487
seg003:2C5F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2C5F
seg003:2C5F loc_C56F:				    ; CODE XREF: seg003:2C5Aj
seg003:2C5F		    push    92h	; ''
seg003:2C62		    push    0FFFFh
seg003:2C64		    push    word ptr [bp-2]
seg003:2C67		    push    word ptr [bp-4]
seg003:2C6A		    push    word ptr ds:0C14h
seg003:2C6E		    call    sub_D884
seg003:2C71		    add	    sp,	0Ah
seg003:2C74		    push    92h	; ''
seg003:2C77		    push    0FFFFh
seg003:2C79		    push    word ptr [bp-0Ah]
seg003:2C7C		    push    word ptr [bp-0Ch]
seg003:2C7F		    push    60h	; '`'
seg003:2C81		    call    sub_D884
seg003:2C84		    add	    sp,	0Ah
seg003:2C87		    push    esi
seg003:2C89		    push    edi
seg003:2C8B		    push    ds
seg003:2C8C		    mov	    ecx, [bp-8]
seg003:2C90		    shl	    ecx, 3
seg003:2C94		    mov	    di,	60h ; '`'
seg003:2C97		    mov	    si,	ds:0C14h
seg003:2C9B		    push    8
seg003:2C9D		    pop	    ds
seg003:2C9E		    or	    byte ptr [di+6], 8Fh
seg003:2CA2		    or	    byte ptr [si+6], 8Fh
seg003:2CA6		    mov	    es,	di
seg003:2CA8		    assume es:nothing
seg003:2CA8		    mov	    ds,	si
seg003:2CAA		    assume ds:nothing
seg003:2CAA		    xor	    edi, edi
seg003:2CAD		    xor	    esi, esi
seg003:2CB0		    rep	movs word ptr es:[edi],	word ptr [esi]
seg003:2CB3		    db	    67h
seg003:2CB3		    nop
seg003:2CB5		    pop	    ds
seg003:2CB6		    push    ds
seg003:2CB7		    mov	    di,	60h ; '`'
seg003:2CBA		    mov	    si,	ds:0C14h
seg003:2CBE		    push    8
seg003:2CC0		    pop	    ds
seg003:2CC1		    assume ds:nothing
seg003:2CC1		    and	    byte ptr [di+6], 70h
seg003:2CC5		    and	    byte ptr [si+6], 70h
seg003:2CC9		    pop	    ds
seg003:2CCA		    assume ds:nothing
seg003:2CCA		    pop	    edi
seg003:2CCC		    pop	    esi
seg003:2CCE		    push    word ptr [bp-0Ah]
seg003:2CD1		    push    word ptr [bp-0Ch]
seg003:2CD4		    push    8
seg003:2CD6		    push    word ptr [bp+6]
seg003:2CD9		    push    word ptr [bp+4]
seg003:2CDC		    call    sub_D957
seg003:2CDF		    add	    sp,	0Ah
seg003:2CE2		    push    word ptr [bp+0Ah]
seg003:2CE5		    push    word ptr [bp+8]
seg003:2CE8		    push    0Ch
seg003:2CEA		    push    word ptr [bp+6]
seg003:2CED		    push    word ptr [bp+4]
seg003:2CF0		    call    sub_D957
seg003:2CF3		    add	    sp,	0Ah
seg003:2CF6		    push    word ptr [bp-6]
seg003:2CF9		    push    word ptr [bp-8]
seg003:2CFC		    push    word ptr [bp-2]
seg003:2CFF		    push    word ptr [bp-4]
seg003:2D02		    call    sub_BE00
seg003:2D05		    add	    sp,	8
seg003:2D08
seg003:2D08 loc_C618:				    ; CODE XREF: seg003:2C16j
seg003:2D08		    mov	    ax,	[bp-0Ch]
seg003:2D0B		    mov	    dx,	[bp-0Ah]
seg003:2D0E
seg003:2D0E loc_C61E:				    ; CODE XREF: seg003:2B7Aj
seg003:2D0E					    ; seg003:2BD9j
seg003:2D0E		    pop	    si
seg003:2D0F		    pop	    di
seg003:2D10		    leave
seg003:2D11		    retn
seg003:2D12
seg003:2D12 ;  S	U B R O	U T I N	E 
seg003:2D12
seg003:2D12 ; Attributes: bp-based frame
seg003:2D12
seg003:2D12 sub_C622	    proc near		    ; CODE XREF: sub_C64E+121p
seg003:2D12					    ; seg003:3543p
seg003:2D12
seg003:2D12 arg_0	    = word ptr	4
seg003:2D12
seg003:2D12		    push    bp
seg003:2D13		    mov	    bp,	sp
seg003:2D15		    cmp	    byte ptr ds:2Eh, 0
seg003:2D1A		    jz	    short loc_C645
seg003:2D1C		    mov	    ax,	[bp+arg_0]
seg003:2D1F		    cmp	    ds:97Ch, ax
seg003:2D23		    jbe	    short loc_C645
seg003:2D25		    and	    al,	0F8h
seg003:2D27		    mov	    bx,	ax
seg003:2D29		    mov	    cx,	8
seg003:2D2C		    mov	    es,	cx
seg003:2D2E		    assume es:nothing
seg003:2D2E		    cmp	    byte ptr es:[bx+5],	0
seg003:2D33		    jz	    short loc_C649
seg003:2D35
seg003:2D35 loc_C645:				    ; CODE XREF: sub_C622+8j
seg003:2D35					    ; sub_C622+11j
seg003:2D35		    sub	    ax,	ax
seg003:2D37		    leave
seg003:2D38		    retn
seg003:2D39 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2D39
seg003:2D39 loc_C649:				    ; CODE XREF: sub_C622+21j
seg003:2D39		    mov	    ax,	[bp+arg_0]
seg003:2D3C		    leave
seg003:2D3D		    retn
seg003:2D3D sub_C622	    endp
seg003:2D3D
seg003:2D3E
seg003:2D3E ;  S	U B R O	U T I N	E 
seg003:2D3E
seg003:2D3E ; Attributes: bp-based frame
seg003:2D3E
seg003:2D3E sub_C64E	    proc near		    ; CODE XREF: sub_A5AE+891p
seg003:2D3E					    ; seg003:3420p ...
seg003:2D3E
seg003:2D3E var_14	    = word ptr -14h
seg003:2D3E var_12	    = word ptr -12h
seg003:2D3E var_10	    = word ptr -10h
seg003:2D3E var_E	    = word ptr -0Eh
seg003:2D3E var_C	    = byte ptr -0Ch
seg003:2D3E var_B	    = byte ptr -0Bh
seg003:2D3E var_A	    = word ptr -0Ah
seg003:2D3E var_8	    = word ptr -8
seg003:2D3E var_6	    = word ptr -6
seg003:2D3E var_4	    = word ptr -4
seg003:2D3E var_2	    = word ptr -2
seg003:2D3E arg_0	    = dword ptr	 4
seg003:2D3E arg_4	    = word ptr	8
seg003:2D3E
seg003:2D3E		    enter   16h, 0
seg003:2D42		    push    di
seg003:2D43		    push    si
seg003:2D44		    mov	    word ptr ds:38h, 0
seg003:2D4A		    les	    bx,	[bp+arg_0]
seg003:2D4D		    assume es:nothing
seg003:2D4D		    mov	    word ptr es:[bx+16h], 18h
seg003:2D53		    or	    byte ptr es:[bx+26h], 1
seg003:2D58		    mov	    di,	es:[bx+10h]
seg003:2D5C		    or	    di,	di
seg003:2D5E		    jnz	    short loc_C671
seg003:2D60		    inc	    di
seg003:2D61
seg003:2D61 loc_C671:				    ; CODE XREF: sub_C64E+20j
seg003:2D61		    mov	    ax,	di
seg003:2D63		    shr	    ax,	0Ch
seg003:2D66		    mov	    [bp+var_6],	ax
seg003:2D69		    test    di,	0FFFh
seg003:2D6D		    jz	    short loc_C683
seg003:2D6F		    inc	    ax
seg003:2D70		    mov	    [bp+var_6],	ax
seg003:2D73
seg003:2D73 loc_C683:				    ; CODE XREF: sub_C64E+2Fj
seg003:2D73		    mov	    [bp+var_2],	92h ; ''
seg003:2D78		    mov	    al,	ds:980h
seg003:2D7B		    cbw
seg003:2D7C		    dec	    ax
seg003:2D7D		    jz	    short loc_C6DD
seg003:2D7F		    dec	    ax
seg003:2D80		    jz	    short loc_C6EF
seg003:2D82		    dec	    ax
seg003:2D83		    jz	    short loc_C6CE
seg003:2D85		    dec	    ax
seg003:2D86		    jnz	    short loc_C69B
seg003:2D88		    jmp	    loc_C72E
seg003:2D8B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2D8B
seg003:2D8B loc_C69B:				    ; CODE XREF: sub_C64E+48j
seg003:2D8B		    dec	    ax
seg003:2D8C		    jz	    short loc_C6F8
seg003:2D8E		    push    0
seg003:2D90		    push    di
seg003:2D91		    call    sub_BBCB
seg003:2D94		    pop	    bx
seg003:2D95		    pop	    bx
seg003:2D96		    mov	    [bp+var_A],	ax
seg003:2D99		    mov	    [bp+var_8],	dx
seg003:2D9C		    or	    dx,	ax
seg003:2D9E		    jz	    short loc_C6CE
seg003:2DA0
seg003:2DA0 loc_C6B0:				    ; CODE XREF: sub_C64E+8Dj
seg003:2DA0					    ; sub_C64E+9Fj ...
seg003:2DA0		    mov	    ax,	[bp+var_8]
seg003:2DA3		    or	    ax,	[bp+var_A]
seg003:2DA6		    jz	    short loc_C6BB
seg003:2DA8		    jmp	    loc_C75E
seg003:2DAB ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2DAB
seg003:2DAB loc_C6BB:				    ; CODE XREF: sub_C64E+68j
seg003:2DAB		    les	    bx,	[bp+arg_0]
seg003:2DAE		    mov	    word ptr es:[bx+16h], 8
seg003:2DB4		    mov	    ax,	ds:11FAh
seg003:2DB7		    mov	    es:[bx+10h], ax
seg003:2DBB		    jmp	    loc_C87A
seg003:2DBE ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2DBE
seg003:2DBE loc_C6CE:				    ; CODE XREF: sub_C64E+45j
seg003:2DBE					    ; sub_C64E+60j
seg003:2DBE		    push    word ptr [bp+arg_0]
seg003:2DC1		    call    sub_AE48
seg003:2DC4
seg003:2DC4 loc_C6D4:				    ; CODE XREF: sub_C64E+A8j
seg003:2DC4		    pop	    bx
seg003:2DC5		    mov	    [bp+var_A],	ax
seg003:2DC8		    mov	    [bp+var_8],	dx
seg003:2DCB		    jmp	    short loc_C6B0
seg003:2DCD ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2DCD
seg003:2DCD loc_C6DD:				    ; CODE XREF: sub_C64E+3Fj
seg003:2DCD		    push    bx
seg003:2DCE		    call    sub_AE48
seg003:2DD1		    pop	    bx
seg003:2DD2		    mov	    [bp+var_A],	ax
seg003:2DD5		    mov	    [bp+var_8],	dx
seg003:2DD8		    mov	    ax,	dx
seg003:2DDA		    or	    ax,	[bp+var_A]
seg003:2DDD		    jnz	    short loc_C6B0
seg003:2DDF
seg003:2DDF loc_C6EF:				    ; CODE XREF: sub_C64E+42j
seg003:2DDF		    push    0
seg003:2DE1		    push    di
seg003:2DE2		    call    sub_BBCB
seg003:2DE5		    pop	    bx
seg003:2DE6		    jmp	    short loc_C6D4
seg003:2DE8 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2DE8
seg003:2DE8 loc_C6F8:				    ; CODE XREF: sub_C64E+4Ej
seg003:2DE8		    cmp	    [bp+var_6],	1
seg003:2DEC		    jnz	    short loc_C734
seg003:2DEE		    lea	    ax,	[di+7]
seg003:2DF1		    mov	    bx,	word ptr [bp+arg_0]
seg003:2DF4		    mov	    es:[bx+10h], ax
seg003:2DF8		    mov	    bx,	ds:996h
seg003:2DFC		    mov	    [bx+10h], ax
seg003:2DFF		    push    word ptr [bp+arg_0]
seg003:2E02		    call    sub_AE48
seg003:2E05		    pop	    bx
seg003:2E06		    mov	    si,	ax
seg003:2E08		    lea	    ax,	[si+7]
seg003:2E0B		    and	    al,	0F8h
seg003:2E0D		    sub	    dx,	dx
seg003:2E0F		    mov	    [bp+var_A],	ax
seg003:2E12		    mov	    [bp+var_8],	dx
seg003:2E15		    push    si
seg003:2E16		    push    ax
seg003:2E17		    call    sub_D2CE
seg003:2E1A		    pop	    bx
seg003:2E1B		    pop	    bx
seg003:2E1C		    jmp	    short loc_C6B0
seg003:2E1E ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2E1E
seg003:2E1E loc_C72E:				    ; CODE XREF: sub_C64E+4Aj
seg003:2E1E		    cmp	    [bp+var_6],	1
seg003:2E22		    jz	    short loc_C737
seg003:2E24
seg003:2E24 loc_C734:				    ; CODE XREF: sub_C64E+AEj
seg003:2E24		    jmp	    loc_C87A
seg003:2E27 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2E27
seg003:2E27 loc_C737:				    ; CODE XREF: sub_C64E+E4j
seg003:2E27		    cmp	    di,	7
seg003:2E2A		    jnb	    short loc_C74A
seg003:2E2C		    mov	    ax,	7
seg003:2E2F		    mov	    es:[bx+10h], ax
seg003:2E33		    mov	    bx,	ds:996h
seg003:2E37		    mov	    [bx+10h], ax
seg003:2E3A
seg003:2E3A loc_C74A:				    ; CODE XREF: sub_C64E+ECj
seg003:2E3A		    push    word ptr [bp+arg_0]
seg003:2E3D		    call    sub_AE48
seg003:2E40		    pop	    bx
seg003:2E41		    mov	    [bp+var_A],	ax
seg003:2E44		    mov	    [bp+var_8],	dx
seg003:2E47		    or	    byte ptr [bp+var_2], 60h
seg003:2E4B		    jmp	    loc_C6B0
seg003:2E4E ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2E4E
seg003:2E4E loc_C75E:				    ; CODE XREF: sub_C64E+6Aj
seg003:2E4E		    mov	    si,	[bp+arg_4]
seg003:2E51		    or	    si,	si
seg003:2E53		    jnz	    short loc_C7B5
seg003:2E55		    cmp	    byte ptr ds:980h, 4
seg003:2E5A		    jl	    short loc_C774
seg003:2E5C		    push    [bp+var_A]
seg003:2E5F		    call    sub_C622
seg003:2E62		    jmp	    short loc_C77A
seg003:2E64 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2E64
seg003:2E64 loc_C774:				    ; CODE XREF: sub_C64E+11Cj
seg003:2E64		    push    [bp+var_6]
seg003:2E67		    call    sub_DADF
seg003:2E6A
seg003:2E6A loc_C77A:				    ; CODE XREF: sub_C64E+124j
seg003:2E6A		    pop	    bx
seg003:2E6B		    mov	    si,	ax
seg003:2E6D		    or	    si,	si
seg003:2E6F		    jnz	    short loc_C7B5
seg003:2E71		    test    [bp+var_8],	0FFFFh
seg003:2E76		    jz	    short loc_C798
seg003:2E78		    push    si
seg003:2E79		    push    di
seg003:2E7A		    push    [bp+var_8]
seg003:2E7D		    push    [bp+var_A]
seg003:2E80		    call    sub_BE00
seg003:2E83		    add	    sp,	8
seg003:2E86		    jmp	    short loc_C7A9
seg003:2E88 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2E88
seg003:2E88 loc_C798:				    ; CODE XREF: sub_C64E+138j
seg003:2E88		    mov	    ax,	[bp+var_A]
seg003:2E8B		    mov	    bx,	ds:996h
seg003:2E8F		    mov	    [bx+6], ax
seg003:2E92		    push    word ptr [bp+arg_0]
seg003:2E95		    call    sub_AE9F
seg003:2E98		    pop	    bx
seg003:2E99
seg003:2E99 loc_C7A9:				    ; CODE XREF: sub_C64E+148j
seg003:2E99		    les	    bx,	[bp+arg_0]
seg003:2E9C		    mov	    word ptr es:[bx+16h], 1Fh
seg003:2EA2		    jmp	    loc_C87A
seg003:2EA5 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2EA5
seg003:2EA5 loc_C7B5:				    ; CODE XREF: sub_C64E+115j
seg003:2EA5					    ; sub_C64E+131j
seg003:2EA5		    mov	    [bp+arg_4],	si
seg003:2EA8		    les	    bx,	[bp+arg_0]
seg003:2EAB		    mov	    es:[bx+16h], si
seg003:2EAF		    and	    byte ptr es:[bx+26h], 0FEh
seg003:2EB4
seg003:2EB4 loc_C7C4:				    ; CODE XREF: sub_C64E+216j
seg003:2EB4		    cmp	    di,	1000h
seg003:2EB8		    jb	    short loc_C7CE
seg003:2EBA		    sub	    si,	si
seg003:2EBC		    jmp	    short loc_C7D3
seg003:2EBE ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2EBE
seg003:2EBE loc_C7CE:				    ; CODE XREF: sub_C64E+17Aj
seg003:2EBE		    mov	    si,	di
seg003:2EC0		    shl	    si,	4
seg003:2EC3
seg003:2EC3 loc_C7D3:				    ; CODE XREF: sub_C64E+17Ej
seg003:2EC3		    dec	    si
seg003:2EC4		    mov	    [bp+var_10], si
seg003:2EC7		    mov	    al,	byte ptr [bp+var_2]
seg003:2ECA		    mov	    [bp+var_C],	al
seg003:2ECD		    mov	    [bp+var_B],	0
seg003:2ED1		    mov	    [bp+var_E],	0
seg003:2ED6		    mov	    ax,	[bp+var_A]
seg003:2ED9		    shl	    ax,	4
seg003:2EDC		    mov	    [bp+var_14], ax
seg003:2EDF		    mov	    ax,	[bp+var_8]
seg003:2EE2		    shl	    ax,	4
seg003:2EE5		    mov	    cx,	[bp+var_A]
seg003:2EE8		    shr	    cx,	0Ch
seg003:2EEB		    add	    ax,	cx
seg003:2EED		    mov	    [bp+var_12], ax
seg003:2EF0		    lea	    ax,	[bp+var_14]
seg003:2EF3		    push    ax
seg003:2EF4		    push    [bp+arg_4]
seg003:2EF7		    call    sub_DA18
seg003:2EFA		    pop	    bx
seg003:2EFB		    pop	    bx
seg003:2EFC		    or	    ax,	ax
seg003:2EFE		    jnz	    short loc_C817
seg003:2F00		    push    101h
seg003:2F03		    call    sub_D7B5
seg003:2F06		    pop	    bx
seg003:2F07
seg003:2F07 loc_C817:				    ; CODE XREF: sub_C64E+1C0j
seg003:2F07		    mov	    al,	ds:14h
seg003:2F0A		    and	    ax,	60h
seg003:2F0D		    mov	    [bp+var_4],	ax
seg003:2F10		    or	    ax,	ax
seg003:2F12		    jz	    short loc_C83C
seg003:2F14		    and	    ax,	20h
seg003:2F17		    cmp	    ax,	1
seg003:2F1A		    sbb	    ax,	ax
seg003:2F1C		    push    ax
seg003:2F1D		    lea	    ax,	[si+1]
seg003:2F20		    push    ax
seg003:2F21		    push    0
seg003:2F23		    push    [bp+arg_4]
seg003:2F26		    call    sub_D8C3
seg003:2F29		    add	    sp,	8
seg003:2F2C
seg003:2F2C loc_C83C:				    ; CODE XREF: sub_C64E+1D4j
seg003:2F2C		    add	    [bp+var_A],	1000h
seg003:2F31		    adc	    [bp+var_8],	0
seg003:2F35		    mov	    bx,	[bp+arg_4]
seg003:2F38		    shr	    bx,	3
seg003:2F3B		    add	    bx,	ds:0AA0h
seg003:2F3F		    mov	    es,	word ptr ds:0AA2h
seg003:2F43		    mov	    byte ptr es:[bx], 3
seg003:2F47		    add	    [bp+arg_4],	8
seg003:2F4B		    push    si
seg003:2F4C		    call    sub_D8E7
seg003:2F4F		    pop	    bx
seg003:2F50		    sub	    di,	ax
seg003:2F52		    jz	    short loc_C867
seg003:2F54		    jmp	    loc_C7C4
seg003:2F57 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2F57
seg003:2F57 loc_C867:				    ; CODE XREF: sub_C64E+214j
seg003:2F57		    mov	    bx,	[bp+arg_4]
seg003:2F5A		    shr	    bx,	3
seg003:2F5D		    add	    bx,	ds:0AA0h
seg003:2F61		    mov	    es,	word ptr ds:0AA2h
seg003:2F65		    and	    byte ptr es:[bx-1],	0FDh
seg003:2F6A
seg003:2F6A loc_C87A:				    ; CODE XREF: sub_C64E+7Dj
seg003:2F6A					    ; sub_C64E:loc_C734j ...
seg003:2F6A		    pop	    si
seg003:2F6B		    pop	    di
seg003:2F6C		    leave
seg003:2F6D		    retn
seg003:2F6D sub_C64E	    endp
seg003:2F6D
seg003:2F6E
seg003:2F6E ;  S	U B R O	U T I N	E 
seg003:2F6E
seg003:2F6E ; Attributes: bp-based frame
seg003:2F6E
seg003:2F6E sub_C87E	    proc near		    ; CODE XREF: sub_A5AE+911p
seg003:2F6E
seg003:2F6E var_1A	    = word ptr -1Ah
seg003:2F6E var_18	    = word ptr -18h
seg003:2F6E var_16	    = word ptr -16h
seg003:2F6E var_14	    = word ptr -14h
seg003:2F6E var_10	    = byte ptr -10h
seg003:2F6E var_E	    = word ptr -0Eh
seg003:2F6E var_C	    = word ptr -0Ch
seg003:2F6E var_A	    = word ptr -0Ah
seg003:2F6E var_8	    = word ptr -8
seg003:2F6E var_6	    = byte ptr -6
seg003:2F6E var_4	    = word ptr -4
seg003:2F6E var_2	    = word ptr -2
seg003:2F6E arg_0	    = dword ptr	 4
seg003:2F6E
seg003:2F6E		    enter   1Ah, 0
seg003:2F72		    push    di
seg003:2F73		    push    si
seg003:2F74		    mov	    word ptr ds:38h, 0
seg003:2F7A		    mov	    [bp+var_6],	0
seg003:2F7E		    les	    bx,	[bp+arg_0]
seg003:2F81		    mov	    word ptr es:[bx+16h], 1
seg003:2F87		    mov	    di,	es:[bx+10h]
seg003:2F8B		    cmp	    di,	1000h
seg003:2F8F		    ja	    short loc_C8C6
seg003:2F91		    or	    di,	di
seg003:2F93		    jz	    short loc_C8C6
seg003:2F95		    mov	    ax,	es:[bx+6]
seg003:2F99		    mov	    [bp+var_2],	ax
seg003:2F9C		    cmp	    ax,	ds:97Ch
seg003:2FA0		    jnb	    short loc_C8C6
seg003:2FA2		    lea	    cx,	[bp+var_18]
seg003:2FA5		    push    cx
seg003:2FA6		    push    ax
seg003:2FA7		    call    sub_DA7E
seg003:2FAA		    pop	    bx
seg003:2FAB		    pop	    bx
seg003:2FAC		    or	    ax,	ax
seg003:2FAE		    jz	    short loc_C8C6
seg003:2FB0		    test    [bp+var_10], 10h
seg003:2FB4		    jnz	    short loc_C8C9
seg003:2FB6
seg003:2FB6 loc_C8C6:				    ; CODE XREF: sub_C87E+21j
seg003:2FB6					    ; sub_C87E+25j ...
seg003:2FB6		    jmp	    loc_CAE3
seg003:2FB9 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2FB9
seg003:2FB9 loc_C8C9:				    ; CODE XREF: sub_C87E+46j
seg003:2FB9		    push    [bp+var_14]
seg003:2FBC		    call    sub_D8E7
seg003:2FBF		    pop	    bx
seg003:2FC0		    mov	    si,	ax
seg003:2FC2		    push    [bp+var_16]
seg003:2FC5		    push    [bp+var_18]
seg003:2FC8		    call    sub_D9AC
seg003:2FCB		    pop	    bx
seg003:2FCC		    pop	    bx
seg003:2FCD		    mov	    [bp+var_E],	ax
seg003:2FD0		    mov	    [bp+var_C],	dx
seg003:2FD3		    mov	    [bp+var_A],	ax
seg003:2FD6		    mov	    [bp+var_8],	dx
seg003:2FD9		    or	    dx,	ax
seg003:2FDB		    jz	    short loc_C904
seg003:2FDD		    mov	    bx,	[bp+var_2]
seg003:2FE0		    shr	    bx,	3
seg003:2FE3		    add	    bx,	ds:0AA0h
seg003:2FE7		    mov	    es,	word ptr ds:0AA2h
seg003:2FEB		    test    byte ptr es:[bx], 1
seg003:2FEF		    jnz	    short loc_C904
seg003:2FF1		    jmp	    loc_CAE3
seg003:2FF4 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:2FF4
seg003:2FF4 loc_C904:				    ; CODE XREF: sub_C87E+6Dj
seg003:2FF4					    ; sub_C87E+81j
seg003:2FF4		    les	    bx,	[bp+arg_0]
seg003:2FF7		    mov	    word ptr es:[bx+16h], 8
seg003:2FFD		    mov	    word ptr es:[bx+10h], 0
seg003:3003		    mov	    ax,	[bp+var_8]
seg003:3006		    or	    ax,	[bp+var_A]
seg003:3009		    jnz	    short loc_C922
seg003:300B		    cmp	    byte ptr ds:980h, 3
seg003:3010		    jl	    short loc_C92B
seg003:3012
seg003:3012 loc_C922:				    ; CODE XREF: sub_C87E+9Bj
seg003:3012		    cmp	    [bp+var_16], 10h
seg003:3016		    jnb	    short loc_C92B
seg003:3018		    jmp	    loc_CA0E
seg003:301B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:301B
seg003:301B loc_C92B:				    ; CODE XREF: sub_C87E+A2j
seg003:301B					    ; sub_C87E+A8j
seg003:301B		    cmp	    si,	di
seg003:301D		    jnz	    short loc_C94D
seg003:301F		    cmp	    byte ptr ds:980h, 3
seg003:3024		    jl	    short loc_C94D
seg003:3026		    push    word ptr [bp+arg_0]
seg003:3029		    call    sub_AE48
seg003:302C		    pop	    bx
seg003:302D		    mov	    [bp+var_A],	ax
seg003:3030		    mov	    [bp+var_8],	dx
seg003:3033		    mov	    ax,	dx
seg003:3035		    or	    ax,	[bp+var_A]
seg003:3038		    jnz	    short loc_C9C3
seg003:303A		    jmp	    loc_CAE3
seg003:303D ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:303D
seg003:303D loc_C94D:				    ; CODE XREF: sub_C87E+AFj
seg003:303D					    ; sub_C87E+B6j
seg003:303D		    cmp	    si,	di
seg003:303F		    jbe	    short loc_C96C
seg003:3041		    mov	    ax,	si
seg003:3043		    sub	    dx,	dx
seg003:3045		    sub	    cx,	cx
seg003:3047		    sub	    ax,	di
seg003:3049		    sbb	    dx,	cx
seg003:304B		    push    dx
seg003:304C		    push    ax
seg003:304D		    mov	    ax,	di
seg003:304F		    mov	    dx,	cx
seg003:3051		    add	    ax,	[bp+var_E]
seg003:3054		    adc	    dx,	[bp+var_C]
seg003:3057		    push    dx
seg003:3058		    push    ax
seg003:3059		    jmp	    loc_C9EE
seg003:305C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:305C
seg003:305C loc_C96C:				    ; CODE XREF: sub_C87E+D1j
seg003:305C		    cmp	    si,	di
seg003:305E		    jb	    short loc_C973
seg003:3060		    jmp	    loc_CA2F
seg003:3063 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3063
seg003:3063 loc_C973:				    ; CODE XREF: sub_C87E+F0j
seg003:3063		    push    0
seg003:3065		    push    di
seg003:3066		    push    0
seg003:3068		    push    si
seg003:3069		    push    [bp+var_C]
seg003:306C		    push    [bp+var_E]
seg003:306F		    call    sub_C08C
seg003:3072		    add	    sp,	0Ch
seg003:3075		    or	    ax,	ax
seg003:3077		    jz	    short loc_C98C
seg003:3079		    jmp	    loc_CA2F
seg003:307C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:307C
seg003:307C loc_C98C:				    ; CODE XREF: sub_C87E+109j
seg003:307C					    ; sub_C87E:loc_CA2Cj
seg003:307C		    push    0
seg003:307E		    push    di
seg003:307F		    call    sub_BBCB
seg003:3082		    pop	    bx
seg003:3083		    pop	    bx
seg003:3084		    mov	    [bp+var_A],	ax
seg003:3087		    mov	    [bp+var_8],	dx
seg003:308A		    or	    dx,	ax
seg003:308C		    jnz	    short loc_C9C3
seg003:308E		    cmp	    byte ptr ds:980h, 2
seg003:3093		    jz	    short loc_C9C0
seg003:3095		    mov	    bx,	ds:996h
seg003:3099		    mov	    [bx+10h], di
seg003:309C		    push    word ptr [bp+arg_0]
seg003:309F		    call    sub_AE48
seg003:30A2		    pop	    bx
seg003:30A3		    mov	    [bp+var_A],	ax
seg003:30A6		    mov	    [bp+var_8],	dx
seg003:30A9		    mov	    ax,	dx
seg003:30AB		    or	    ax,	[bp+var_A]
seg003:30AE		    jnz	    short loc_C9C3
seg003:30B0
seg003:30B0 loc_C9C0:				    ; CODE XREF: sub_C87E+125j
seg003:30B0		    jmp	    loc_CAE3
seg003:30B3 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:30B3
seg003:30B3 loc_C9C3:				    ; CODE XREF: sub_C87E+CAj
seg003:30B3					    ; sub_C87E+11Ej ...
seg003:30B3		    or	    si,	si
seg003:30B5		    jz	    short loc_CA2F
seg003:30B7		    push    0
seg003:30B9		    call    nullsub_5
seg003:30BC		    pop	    bx
seg003:30BD		    inc	    [bp+var_6]
seg003:30C0		    push    [bp+var_2]
seg003:30C3		    push    [bp+var_8]
seg003:30C6		    push    [bp+var_A]
seg003:30C9		    call    sub_D7BA
seg003:30CC		    add	    sp,	6
seg003:30CF		    cmp	    [bp+var_16], 10h
seg003:30D3		    jb	    short loc_C9F6
seg003:30D5		    push    0
seg003:30D7		    push    si
seg003:30D8		    push    [bp+var_C]
seg003:30DB		    push    [bp+var_E]
seg003:30DE
seg003:30DE loc_C9EE:				    ; CODE XREF: sub_C87E+EBj
seg003:30DE		    call    sub_BE00
seg003:30E1		    add	    sp,	8
seg003:30E4		    jmp	    short loc_CA2F
seg003:30E6 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:30E6
seg003:30E6 loc_C9F6:				    ; CODE XREF: sub_C87E+165j
seg003:30E6		    mov	    bx,	ds:996h
seg003:30EA		    mov	    word ptr [bx+16h], 4900h
seg003:30EF		    mov	    ax,	[bp+var_E]
seg003:30F2		    mov	    [bx+6], ax
seg003:30F5		    push    word ptr [bp+arg_0]
seg003:30F8		    call    sub_AE9F
seg003:30FB		    pop	    bx
seg003:30FC		    jmp	    short loc_CA2F
seg003:30FE ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:30FE
seg003:30FE loc_CA0E:				    ; CODE XREF: sub_C87E+AAj
seg003:30FE		    push    word ptr [bp+arg_0]
seg003:3101		    call    near ptr sub_AEC5
seg003:3104		    pop	    bx
seg003:3105		    mov	    [bp+var_A],	ax
seg003:3108		    mov	    [bp+var_8],	dx
seg003:310B		    mov	    ax,	dx
seg003:310D		    or	    ax,	[bp+var_A]
seg003:3110		    jnz	    short loc_CA2F
seg003:3112		    cmp	    byte ptr ds:980h, 3
seg003:3117		    jl	    short loc_CA2C
seg003:3119		    jmp	    loc_CAE3
seg003:311C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:311C
seg003:311C loc_CA2C:				    ; CODE XREF: sub_C87E+1A9j
seg003:311C		    jmp	    loc_C98C
seg003:311F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:311F
seg003:311F loc_CA2F:				    ; CODE XREF: sub_C87E+F2j
seg003:311F					    ; sub_C87E+10Bj ...
seg003:311F		    mov	    ax,	di
seg003:3121		    shl	    ax,	4
seg003:3124		    dec	    ax
seg003:3125		    mov	    [bp+var_14], ax
seg003:3128		    mov	    ax,	[bp+var_18]
seg003:312B		    mov	    dx,	[bp+var_16]
seg003:312E		    mov	    [bp+var_E],	ax
seg003:3131		    mov	    [bp+var_C],	dx
seg003:3134		    mov	    ax,	[bp+var_A]
seg003:3137		    shl	    ax,	4
seg003:313A		    mov	    [bp+var_18], ax
seg003:313D		    mov	    ax,	[bp+var_8]
seg003:3140		    shl	    ax,	4
seg003:3143		    mov	    cx,	[bp+var_A]
seg003:3146		    shr	    cx,	0Ch
seg003:3149		    add	    ax,	cx
seg003:314B		    mov	    [bp+var_16], ax
seg003:314E		    lea	    ax,	[bp+var_18]
seg003:3151		    push    ax
seg003:3152		    push    [bp+var_2]
seg003:3155		    call    sub_DA18
seg003:3158		    pop	    bx
seg003:3159		    pop	    bx
seg003:315A		    mov	    bx,	[bp+var_2]
seg003:315D		    shr	    bx,	3
seg003:3160		    add	    bx,	ds:0AA0h
seg003:3164		    mov	    es,	word ptr ds:0AA2h
seg003:3168		    or	    byte ptr es:[bx], 1
seg003:316C		    push    [bp+var_16]
seg003:316F		    push    [bp+var_18]
seg003:3172		    mov	    ax,	si
seg003:3174		    shl	    ax,	4
seg003:3177		    mov	    cx,	ax
seg003:3179		    dec	    ax
seg003:317A		    push    ax
seg003:317B		    push    [bp+var_C]
seg003:317E		    push    [bp+var_E]
seg003:3181		    push    [bp+var_2]
seg003:3184		    mov	    [bp+var_1A], cx
seg003:3187		    call    sub_D375
seg003:318A		    add	    sp,	0Ch
seg003:318D		    cmp	    si,	di
seg003:318F		    jnb	    short loc_CACB
seg003:3191		    mov	    al,	ds:14h
seg003:3194		    and	    ax,	60h
seg003:3197		    mov	    [bp+var_4],	ax
seg003:319A		    or	    ax,	ax
seg003:319C		    jz	    short loc_CACB
seg003:319E		    and	    ax,	20h
seg003:31A1		    cmp	    ax,	1
seg003:31A4		    sbb	    ax,	ax
seg003:31A6		    push    ax
seg003:31A7		    mov	    ax,	di
seg003:31A9		    sub	    ax,	si
seg003:31AB		    shl	    ax,	4
seg003:31AE		    push    ax
seg003:31AF		    push    [bp+var_1A]
seg003:31B2		    push    [bp+var_2]
seg003:31B5		    call    sub_D8C3
seg003:31B8		    add	    sp,	8
seg003:31BB
seg003:31BB loc_CACB:				    ; CODE XREF: sub_C87E+221j
seg003:31BB					    ; sub_C87E+22Ej
seg003:31BB		    les	    bx,	[bp+arg_0]
seg003:31BE		    and	    byte ptr es:[bx+26h], 0FEh
seg003:31C3		    mov	    es:[bx+10h], di
seg003:31C7		    cmp	    [bp+var_6],	0
seg003:31CB		    jz	    short loc_CAE3
seg003:31CD		    push    1
seg003:31CF		    call    nullsub_5
seg003:31D2		    pop	    bx
seg003:31D3
seg003:31D3 loc_CAE3:				    ; CODE XREF: sub_C87E:loc_C8C6j
seg003:31D3					    ; sub_C87E+83j ...
seg003:31D3		    pop	    si
seg003:31D4		    pop	    di
seg003:31D5		    leave
seg003:31D6		    retn
seg003:31D6 sub_C87E	    endp
seg003:31D6
seg003:31D7
seg003:31D7 ;  S	U B R O	U T I N	E 
seg003:31D7
seg003:31D7 ; Attributes: bp-based frame
seg003:31D7
seg003:31D7 sub_CAE7	    proc near		    ; CODE XREF: sub_A5AE+8CDp
seg003:31D7					    ; seg003:3453p ...
seg003:31D7
seg003:31D7 var_10	    = word ptr -10h
seg003:31D7 var_E	    = word ptr -0Eh
seg003:31D7 var_C	    = word ptr -0Ch
seg003:31D7 var_8	    = byte ptr -8
seg003:31D7 var_6	    = word ptr -6
seg003:31D7 var_4	    = word ptr -4
seg003:31D7 var_2	    = word ptr -2
seg003:31D7 arg_0	    = dword ptr	 4
seg003:31D7
seg003:31D7		    enter   10h, 0
seg003:31DB		    push    si
seg003:31DC		    mov	    [bp+var_4],	0
seg003:31E1		    les	    bx,	[bp+arg_0]
seg003:31E4		    mov	    word ptr es:[bx+16h], 1
seg003:31EA		    mov	    ax,	es:[bx+6]
seg003:31EE		    mov	    ds:38h, ax
seg003:31F1		    mov	    [bp+var_2],	ax
seg003:31F4
seg003:31F4 loc_CB04:				    ; CODE XREF: sub_CAE7+B3j
seg003:31F4		    lea	    ax,	[bp+var_10]
seg003:31F7		    push    ax
seg003:31F8		    push    [bp+var_2]
seg003:31FB		    call    sub_DA7E
seg003:31FE		    pop	    bx
seg003:31FF		    pop	    bx
seg003:3200		    test    [bp+var_8],	10h
seg003:3204		    jz	    short loc_CB31
seg003:3206		    mov	    ax,	[bp+var_2]
seg003:3209		    les	    bx,	[bp+arg_0]
seg003:320C		    cmp	    es:[bx+2], ax
seg003:3210		    jz	    short loc_CB31
seg003:3212		    mov	    bx,	ax
seg003:3214		    shr	    bx,	3
seg003:3217		    les	    si,	ds:0AA0h
seg003:321B		    test    byte ptr es:[bx+si], 1
seg003:321F		    jnz	    short loc_CB34
seg003:3221
seg003:3221 loc_CB31:				    ; CODE XREF: sub_CAE7+2Dj
seg003:3221					    ; sub_CAE7+39j
seg003:3221		    jmp	    loc_CC16
seg003:3224 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3224
seg003:3224 loc_CB34:				    ; CODE XREF: sub_CAE7+48j
seg003:3224		    cmp	    [bp+var_E],	10h
seg003:3228		    ja	    short loc_CB3C
seg003:322A		    jb	    short loc_CB9D
seg003:322C
seg003:322C loc_CB3C:				    ; CODE XREF: sub_CAE7+51j
seg003:322C		    push    [bp+var_C]
seg003:322F		    call    sub_D8E7
seg003:3232		    pop	    bx
seg003:3233		    push    0
seg003:3235		    push    ax
seg003:3236		    push    [bp+var_E]
seg003:3239		    push    [bp+var_10]
seg003:323C		    call    sub_D9AC
seg003:323F		    pop	    bx
seg003:3240		    pop	    bx
seg003:3241		    push    dx
seg003:3242		    push    ax
seg003:3243		    call    sub_BE00
seg003:3246		    add	    sp,	8
seg003:3249
seg003:3249 loc_CB59:				    ; CODE XREF: sub_CAE7+101j
seg003:3249		    mov	    bx,	[bp+var_2]
seg003:324C		    shr	    bx,	3
seg003:324F		    les	    si,	ds:0AA0h
seg003:3253		    mov	    al,	es:[bx+si]
seg003:3256		    cbw
seg003:3257		    mov	    [bp+var_6],	ax
seg003:325A		    push    [bp+var_2]
seg003:325D		    call    sub_DAF1
seg003:3260		    pop	    bx
seg003:3261		    test    byte ptr [bp+var_6], 10h
seg003:3265		    jz	    short loc_CB90
seg003:3267		    test    byte ptr ds:15h, 4
seg003:326C		    jnz	    short loc_CB90
seg003:326E		    push    [bp+var_C]
seg003:3271		    push    [bp+var_E]
seg003:3274		    push    [bp+var_10]
seg003:3277		    push    [bp+var_2]
seg003:327A		    call    sub_D409
seg003:327D		    add	    sp,	8
seg003:3280
seg003:3280 loc_CB90:				    ; CODE XREF: sub_CAE7+8Ej
seg003:3280					    ; sub_CAE7+95j
seg003:3280		    test    byte ptr [bp+var_6], 2
seg003:3284		    jz	    short loc_CBEB
seg003:3286		    add	    [bp+var_2],	8
seg003:328A		    jmp	    loc_CB04
seg003:328D ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:328D
seg003:328D loc_CB9D:				    ; CODE XREF: sub_CAE7+53j
seg003:328D		    push    [bp+var_E]
seg003:3290		    push    [bp+var_10]
seg003:3293		    call    sub_D9AC
seg003:3296		    pop	    bx
seg003:3297		    pop	    bx
seg003:3298		    mov	    bx,	ds:996h
seg003:329C		    mov	    [bx+6], ax
seg003:329F		    mov	    ax,	[bp+var_4]
seg003:32A2		    mov	    bx,	ds:996h
seg003:32A6		    cmp	    [bx+6], ax
seg003:32A9		    jz	    short loc_CBD7
seg003:32AB		    push    word ptr [bp+arg_0]
seg003:32AE		    call    sub_AE9F
seg003:32B1		    pop	    bx
seg003:32B2		    or	    ax,	ax
seg003:32B4		    jz	    short loc_CBD7
seg003:32B6		    mov	    bx,	ds:996h
seg003:32BA		    mov	    ax,	[bx+16h]
seg003:32BD		    les	    bx,	[bp+arg_0]
seg003:32C0		    mov	    es:[bx+16h], ax
seg003:32C4		    pop	    si
seg003:32C5		    leave
seg003:32C6		    retn
seg003:32C7 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:32C7
seg003:32C7 loc_CBD7:				    ; CODE XREF: sub_CAE7+D2j
seg003:32C7					    ; sub_CAE7+DDj
seg003:32C7		    push    [bp+var_C]
seg003:32CA		    call    sub_D8E7
seg003:32CD		    pop	    bx
seg003:32CE		    mov	    bx,	ds:996h
seg003:32D2		    add	    ax,	[bx+6]
seg003:32D5		    mov	    [bp+var_4],	ax
seg003:32D8		    jmp	    loc_CB59
seg003:32DB ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:32DB
seg003:32DB loc_CBEB:				    ; CODE XREF: sub_CAE7+ADj
seg003:32DB		    les	    bx,	[bp+arg_0]
seg003:32DE		    and	    byte ptr es:[bx+26h], 0FEh
seg003:32E3		    mov	    ax,	es:[bx+6]
seg003:32E7		    mov	    es:[bx+16h], ax
seg003:32EB		    mov	    word ptr es:[bx+6],	0
seg003:32F1		    mov	    ax,	ds:38h
seg003:32F4		    cmp	    es:[bx+4], ax
seg003:32F8		    jnz	    short loc_CC10
seg003:32FA		    mov	    word ptr es:[bx+4],	0
seg003:3300
seg003:3300 loc_CC10:				    ; CODE XREF: sub_CAE7+121j
seg003:3300		    push    1
seg003:3302		    call    nullsub_5
seg003:3305		    pop	    bx
seg003:3306
seg003:3306 loc_CC16:				    ; CODE XREF: sub_CAE7:loc_CB31j
seg003:3306		    pop	    si
seg003:3307		    leave
seg003:3308		    retn
seg003:3308 sub_CAE7	    endp
seg003:3308
seg003:3309 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3309		    enter   1Ah, 0
seg003:330D		    push    di
seg003:330E		    push    si
seg003:330F		    mov	    byte ptr [bp-4], 0
seg003:3313		    les	    bx,	[bp+4]
seg003:3316		    mov	    di,	es:[bx+6]
seg003:331A		    lea	    ax,	[bp-1Ah]
seg003:331D		    push    ax
seg003:331E		    push    word ptr es:[bx+6]
seg003:3322		    call    sub_DA7E
seg003:3325		    pop	    bx
seg003:3326		    pop	    bx
seg003:3327		    mov	    al,	[bp-12h]
seg003:332A		    sub	    ah,	ah
seg003:332C		    mov	    [bp-2], ax
seg003:332F		    mov	    bx,	di
seg003:3331		    shr	    bx,	3
seg003:3334		    add	    bx,	ds:0AA0h
seg003:3338		    mov	    es,	word ptr ds:0AA2h
seg003:333C		    mov	    al,	es:[bx]
seg003:333F		    cbw
seg003:3340		    mov	    [bp-6], ax
seg003:3343		    test    al,	1
seg003:3345		    jnz	    short loc_CC63
seg003:3347		    mov	    ax,	ds:0C26h
seg003:334A		    les	    bx,	[bp+4]
seg003:334D		    cmp	    es:[bx+22h], ax
seg003:3351		    jnz	    short loc_CC7A
seg003:3353
seg003:3353 loc_CC63:				    ; CODE XREF: seg003:3345j
seg003:3353		    mov	    al,	[bp-2]
seg003:3356		    and	    ax,	18h
seg003:3359		    cmp	    ax,	10h
seg003:335C		    jz	    short loc_CC94
seg003:335E		    cmp	    ax,	18h
seg003:3361		    jnz	    short loc_CC7A
seg003:3363		    cmp	    byte ptr ds:980h, 4
seg003:3368		    jl	    short loc_CC94
seg003:336A
seg003:336A loc_CC7A:				    ; CODE XREF: seg003:3351j
seg003:336A					    ; seg003:3361j ...
seg003:336A		    cmp	    byte ptr [bp-4], 0
seg003:336E		    jz	    short loc_CC83
seg003:3370		    jmp	    loc_CE42
seg003:3373 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3373
seg003:3373 loc_CC83:				    ; CODE XREF: seg003:336Ej
seg003:3373		    les	    bx,	[bp+4]
seg003:3376		    mov	    word ptr es:[bx+6],	0
seg003:337C		    or	    byte ptr es:[bx+26h], 1
seg003:3381		    jmp	    loc_CE42
seg003:3384 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3384
seg003:3384 loc_CC94:				    ; CODE XREF: seg003:335Cj
seg003:3384					    ; seg003:3368j
seg003:3384		    les	    bx,	[bp+4]
seg003:3387		    and	    byte ptr es:[bx+26h], 0FEh
seg003:338C		    cmp	    word ptr [bp-18h], 10h
seg003:3390		    jb	    short loc_CCC6
seg003:3392		    mov	    al,	ds:980h
seg003:3395		    cbw
seg003:3396		    jmp	    short loc_CCAD
seg003:3398 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3398
seg003:3398 loc_CCA8:				    ; CODE XREF: seg003:33A5j
seg003:3398					    ; DATA XREF: seg003:33ACo
seg003:3398		    inc	    byte ptr [bp-4]
seg003:339B		    jmp	    short loc_CD02
seg003:339D ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:339D
seg003:339D loc_CCAD:				    ; CODE XREF: seg003:3396j
seg003:339D		    cmp	    ax,	5
seg003:33A0		    ja	    short loc_CD02
seg003:33A2		    shl	    ax,	1
seg003:33A4		    xchg    ax,	bx
seg003:33A5		    jmp	    cs:off_CCBA[bx]
seg003:33A5 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:33AA off_CCBA	    dw offset loc_CE42	    ; DATA XREF: seg003:33A5r
seg003:33AC		    dw offset loc_CCA8
seg003:33AE		    dw offset loc_CE42
seg003:33B0		    dw offset loc_CD02
seg003:33B2		    dw offset loc_CD02
seg003:33B4		    dw offset loc_CD02
seg003:33B6 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:33B6
seg003:33B6 loc_CCC6:				    ; CODE XREF: seg003:3390j
seg003:33B6		    mov	    al,	ds:980h
seg003:33B9		    cbw
seg003:33BA		    jmp	    short loc_CCE9
seg003:33BC ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:33BC
seg003:33BC loc_CCCC:				    ; CODE XREF: seg003:33E1j
seg003:33BC					    ; DATA XREF: seg003:off_CCF6o
seg003:33BC		    inc	    byte ptr [bp-4]
seg003:33BF		    jmp	    short loc_CD02
seg003:33C1 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:33C1
seg003:33C1 loc_CCD1:				    ; CODE XREF: seg003:33E1j
seg003:33C1					    ; DATA XREF: seg003:33F0o
seg003:33C1		    test    di,	3
seg003:33C5		    jnz	    short loc_CD02
seg003:33C7
seg003:33C7 loc_CCD7:				    ; CODE XREF: seg003:33E1j
seg003:33C7					    ; DATA XREF: seg003:33EEo
seg003:33C7		    push    word ptr [bp-18h]
seg003:33CA		    push    word ptr [bp-1Ah]
seg003:33CD		    call    sub_D9AC
seg003:33D0		    pop	    bx
seg003:33D1		    pop	    bx
seg003:33D2		    cmp	    ax,	di
seg003:33D4		    jnz	    short loc_CD02
seg003:33D6		    jmp	    loc_CE42
seg003:33D9 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:33D9
seg003:33D9 loc_CCE9:				    ; CODE XREF: seg003:33BAj
seg003:33D9		    cmp	    ax,	5
seg003:33DC		    ja	    short loc_CD02
seg003:33DE		    shl	    ax,	1
seg003:33E0		    xchg    ax,	bx
seg003:33E1		    jmp	    cs:off_CCF6[bx]
seg003:33E1 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:33E6 off_CCF6	    dw offset loc_CCCC	    ; DATA XREF: seg003:33E1r
seg003:33E8		    dw offset loc_CE42
seg003:33EA		    dw offset loc_CD02
seg003:33EC		    dw offset loc_CE42
seg003:33EE		    dw offset loc_CCD7
seg003:33F0		    dw offset loc_CCD1
seg003:33F2 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:33F2
seg003:33F2 loc_CD02:				    ; CODE XREF: seg003:339Bj
seg003:33F2					    ; seg003:33A0j ...
seg003:33F2		    push    word ptr [bp-16h]
seg003:33F5		    call    sub_D8E7
seg003:33F8		    pop	    bx
seg003:33F9		    les	    bx,	[bp+4]
seg003:33FC		    mov	    es:[bx+10h], ax
seg003:3400		    mov	    bx,	ds:996h
seg003:3404		    mov	    [bx+10h], ax
seg003:3407		    mov	    ax,	4800h
seg003:340A		    les	    bx,	[bp+4]
seg003:340D		    mov	    es:[bx+16h], ax
seg003:3411		    mov	    bx,	ds:996h
seg003:3415		    mov	    [bx+16h], ax
seg003:3418		    push    0
seg003:341A		    push    word ptr [bp+6]
seg003:341D		    push    word ptr [bp+4]
seg003:3420		    call    sub_C64E
seg003:3423		    add	    sp,	6
seg003:3426		    les	    bx,	[bp+4]
seg003:3429		    test    byte ptr es:[bx+26h], 1
seg003:342E		    jz	    short loc_CD43
seg003:3430		    jmp	    loc_CC7A
seg003:3433 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3433
seg003:3433 loc_CD43:				    ; CODE XREF: seg003:342Ej
seg003:3433		    mov	    si,	es:[bx+16h]
seg003:3437		    test    byte ptr [bp-6], 0C0h
seg003:343B		    jz	    short loc_CD6B
seg003:343D		    push    word ptr [bp-6]
seg003:3440		    push    si
seg003:3441		    call    sub_A576
seg003:3444		    pop	    bx
seg003:3445		    pop	    bx
seg003:3446		    or	    ax,	ax
seg003:3448		    jnz	    short loc_CD6B
seg003:344A		    les	    bx,	[bp+4]
seg003:344D		    mov	    es:[bx+6], si
seg003:3451		    push    es
seg003:3452		    push    bx
seg003:3453		    call    sub_CAE7
seg003:3456		    pop	    bx
seg003:3457		    pop	    bx
seg003:3458		    jmp	    loc_CC7A
seg003:345B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:345B
seg003:345B loc_CD6B:				    ; CODE XREF: seg003:343Bj
seg003:345B					    ; seg003:3448j
seg003:345B		    push    0
seg003:345D		    call    nullsub_5
seg003:3460		    pop	    bx
seg003:3461		    lea	    ax,	[bp-10h]
seg003:3464		    push    ax
seg003:3465		    push    si
seg003:3466		    call    sub_DA7E
seg003:3469		    pop	    bx
seg003:346A		    pop	    bx
seg003:346B		    cmp	    byte ptr ds:980h, 4
seg003:3470		    jnz	    short loc_CD86
seg003:3472		    or	    byte ptr [bp-2], 60h
seg003:3476
seg003:3476 loc_CD86:				    ; CODE XREF: seg003:3470j
seg003:3476		    push    di
seg003:3477		    call    sub_CEEA
seg003:347A		    pop	    bx
seg003:347B		    les	    bx,	[bp+4]
seg003:347E		    mov	    es:[bx+6], ax
seg003:3482		    mov	    al,	[bp-6]
seg003:3485		    mov	    bx,	di
seg003:3487		    shr	    bx,	3
seg003:348A		    add	    bx,	ds:0AA0h
seg003:348E		    mov	    es,	word ptr ds:0AA2h
seg003:3492		    mov	    es:[bx], al
seg003:3495		    push    di
seg003:3496		    push    word ptr [bp-0Eh]
seg003:3499		    push    word ptr [bp-10h]
seg003:349C		    call    sub_D9AC
seg003:349F		    pop	    bx
seg003:34A0		    pop	    bx
seg003:34A1		    push    dx
seg003:34A2		    push    ax
seg003:34A3		    call    sub_D7BA
seg003:34A6		    add	    sp,	6
seg003:34A9		    cmp	    byte ptr ds:980h, 4
seg003:34AE		    jl	    short loc_CDDE
seg003:34B0		    mov	    al,	[bp-6]
seg003:34B3		    and	    al,	10h
seg003:34B5		    mov	    bx,	si
seg003:34B7		    shr	    bx,	3
seg003:34BA		    add	    bx,	ds:0AA0h
seg003:34BE		    mov	    es,	word ptr ds:0AA2h
seg003:34C2		    or	    es:[bx], al
seg003:34C5		    push    di
seg003:34C6		    call    sub_DAF1
seg003:34C9		    pop	    bx
seg003:34CA		    mov	    di,	si
seg003:34CC		    jmp	    short loc_CDE3
seg003:34CE ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:34CE
seg003:34CE loc_CDDE:				    ; CODE XREF: seg003:34AEj
seg003:34CE		    push    si
seg003:34CF		    call    sub_DAF1
seg003:34D2		    pop	    bx
seg003:34D3
seg003:34D3 loc_CDE3:				    ; CODE XREF: seg003:34CCj
seg003:34D3		    mov	    al,	[bp-2]
seg003:34D6		    mov	    [bp-8], al
seg003:34D9		    lea	    ax,	[bp-10h]
seg003:34DC		    push    ax
seg003:34DD		    push    di
seg003:34DE		    call    sub_DA18
seg003:34E1		    pop	    bx
seg003:34E2		    pop	    bx
seg003:34E3		    or	    ax,	ax
seg003:34E5		    jnz	    short loc_CDFE
seg003:34E7		    push    102h
seg003:34EA		    call    sub_D7B5
seg003:34ED		    pop	    bx
seg003:34EE
seg003:34EE loc_CDFE:				    ; CODE XREF: seg003:34E5j
seg003:34EE		    les	    bx,	[bp+4]
seg003:34F1		    mov	    bx,	es:[bx+6]
seg003:34F5		    shr	    bx,	3
seg003:34F8		    add	    bx,	ds:0AA0h
seg003:34FC		    mov	    es,	word ptr ds:0AA2h
seg003:3500		    mov	    byte ptr es:[bx], 1
seg003:3504		    push    word ptr [bp+6]
seg003:3507		    push    word ptr [bp+4]
seg003:350A		    call    sub_CAE7
seg003:350D		    pop	    bx
seg003:350E		    pop	    bx
seg003:350F		    push    word ptr [bp-0Eh]
seg003:3512		    push    word ptr [bp-10h]
seg003:3515		    push    word ptr [bp-16h]
seg003:3518		    push    word ptr [bp-18h]
seg003:351B		    push    word ptr [bp-1Ah]
seg003:351E		    push    di
seg003:351F		    call    sub_D375
seg003:3522		    add	    sp,	0Ch
seg003:3525		    push    1
seg003:3527		    call    nullsub_5
seg003:352A		    pop	    bx
seg003:352B		    les	    bx,	[bp+4]
seg003:352E		    mov	    es:[bx+6], di
seg003:3532
seg003:3532 loc_CE42:				    ; CODE XREF: seg003:3370j
seg003:3532					    ; seg003:3381j ...
seg003:3532		    pop	    si
seg003:3533		    pop	    di
seg003:3534		    leave
seg003:3535		    retn
seg003:3536 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3536		    enter   0Ah, 0
seg003:353A		    push    si
seg003:353B		    les	    bx,	[bp+4]
seg003:353E		    mov	    si,	es:[bx+10h]
seg003:3542		    push    si
seg003:3543		    call    sub_C622
seg003:3546		    pop	    bx
seg003:3547		    or	    ax,	ax
seg003:3549		    jz	    short loc_CE99
seg003:354B		    les	    bx,	[bp+4]
seg003:354E		    mov	    ax,	es:[bx+14h]
seg003:3552		    dec	    ax
seg003:3553		    mov	    [bp-6], ax
seg003:3556		    mov	    ax,	si
seg003:3558		    shl	    ax,	4
seg003:355B		    mov	    [bp-0Ah], ax
seg003:355E		    mov	    ax,	si
seg003:3560		    shr	    ax,	0Ch
seg003:3563		    mov	    [bp-8], ax
seg003:3566		    mov	    byte ptr [bp-2], 0F2h ; '๒'
seg003:356A		    mov	    byte ptr [bp-1], 0
seg003:356E		    mov	    word ptr [bp-4], 0
seg003:3573		    lea	    ax,	[bp-0Ah]
seg003:3576		    push    ax
seg003:3577		    push    si
seg003:3578		    call    sub_DA18
seg003:357B		    pop	    bx
seg003:357C		    pop	    bx
seg003:357D		    les	    bx,	[bp+4]
seg003:3580		    and	    byte ptr es:[bx+26h], 0FEh
seg003:3585		    mov	    es:[bx+6], si
seg003:3589
seg003:3589 loc_CE99:				    ; CODE XREF: seg003:3549j
seg003:3589		    pop	    si
seg003:358A		    leave
seg003:358B		    retn
seg003:358C
seg003:358C ;  S	U B R O	U T I N	E 
seg003:358C
seg003:358C ; Attributes: bp-based frame
seg003:358C
seg003:358C sub_CE9C	    proc near		    ; CODE XREF: sub_CEEA+9p
seg003:358C					    ; sub_CEFA+9p ...
seg003:358C
seg003:358C var_A	    = word ptr -0Ah
seg003:358C var_2	    = byte ptr -2
seg003:358C arg_0	    = word ptr	4
seg003:358C arg_2	    = byte ptr	6
seg003:358C
seg003:358C		    enter   0Ah, 0
seg003:3590		    push    di
seg003:3591		    push    si
seg003:3592		    sub	    si,	si
seg003:3594		    lea	    ax,	[bp+var_A]
seg003:3597		    push    ax
seg003:3598		    push    [bp+arg_0]
seg003:359B		    call    sub_DA7E
seg003:359E		    pop	    bx
seg003:359F		    pop	    bx
seg003:35A0		    or	    ax,	ax
seg003:35A2		    jz	    short loc_CEE4
seg003:35A4		    test    [bp+var_2],	7Fh
seg003:35A8		    jz	    short loc_CEE4
seg003:35AA		    push    1
seg003:35AC		    call    sub_DADF
seg003:35AF		    pop	    bx
seg003:35B0		    mov	    si,	ax
seg003:35B2		    or	    si,	si
seg003:35B4		    jz	    short loc_CEE4
seg003:35B6		    mov	    al,	[bp+arg_2]
seg003:35B9		    mov	    [bp+var_2],	al
seg003:35BC		    lea	    ax,	[bp+var_A]
seg003:35BF		    push    ax
seg003:35C0		    push    si
seg003:35C1		    call    sub_DA18
seg003:35C4		    pop	    bx
seg003:35C5		    pop	    bx
seg003:35C6		    mov	    bx,	[bp+arg_0]
seg003:35C9		    shr	    bx,	3
seg003:35CC		    les	    di,	ds:0AA0h
seg003:35D0		    or	    byte ptr es:[bx+di], 10h
seg003:35D4
seg003:35D4 loc_CEE4:				    ; CODE XREF: sub_CE9C+16j
seg003:35D4					    ; sub_CE9C+1Cj ...
seg003:35D4		    mov	    ax,	si
seg003:35D6		    pop	    si
seg003:35D7		    pop	    di
seg003:35D8		    leave
seg003:35D9		    retn
seg003:35D9 sub_CE9C	    endp
seg003:35D9
seg003:35DA
seg003:35DA ;  S	U B R O	U T I N	E 
seg003:35DA
seg003:35DA ; Attributes: bp-based frame
seg003:35DA
seg003:35DA sub_CEEA	    proc near		    ; CODE XREF: sub_A218+3p
seg003:35DA					    ; seg003:3477p
seg003:35DA
seg003:35DA arg_0	    = word ptr	4
seg003:35DA
seg003:35DA		    push    bp
seg003:35DB		    mov	    bp,	sp
seg003:35DD		    push    92h	; ''
seg003:35E0		    push    [bp+arg_0]
seg003:35E3		    call    sub_CE9C
seg003:35E6		    pop	    bx
seg003:35E7		    pop	    bx
seg003:35E8		    leave
seg003:35E9		    retn
seg003:35E9 sub_CEEA	    endp
seg003:35E9
seg003:35EA
seg003:35EA ;  S	U B R O	U T I N	E 
seg003:35EA
seg003:35EA ; Attributes: bp-based frame
seg003:35EA
seg003:35EA sub_CEFA	    proc near		    ; CODE XREF: sub_A224+3p
seg003:35EA
seg003:35EA arg_0	    = word ptr	4
seg003:35EA
seg003:35EA		    push    bp
seg003:35EB		    mov	    bp,	sp
seg003:35ED		    push    9Ah	; ''
seg003:35F0		    push    [bp+arg_0]
seg003:35F3		    call    sub_CE9C
seg003:35F6		    pop	    bx
seg003:35F7		    pop	    bx
seg003:35F8		    leave
seg003:35F9		    retn
seg003:35F9 sub_CEFA	    endp
seg003:35F9
seg003:35FA
seg003:35FA ;  S	U B R O	U T I N	E 
seg003:35FA
seg003:35FA ; Attributes: bp-based frame
seg003:35FA
seg003:35FA sub_CF0A	    proc near		    ; CODE XREF: sub_A22C+6p
seg003:35FA
seg003:35FA var_16	    = word ptr -16h
seg003:35FA var_14	    = word ptr -14h
seg003:35FA var_E	    = byte ptr -0Eh
seg003:35FA var_C	    = word ptr -0Ch
seg003:35FA var_A	    = word ptr -0Ah
seg003:35FA var_8	    = word ptr -8
seg003:35FA var_6	    = word ptr -6
seg003:35FA var_4	    = word ptr -4
seg003:35FA arg_0	    = word ptr	4
seg003:35FA
seg003:35FA		    enter   16h, 0
seg003:35FE		    push    di
seg003:35FF		    push    si
seg003:3600		    cmp	    [bp+arg_0],	80h ; ''
seg003:3605		    jb	    short loc_CF2D
seg003:3607		    lea	    ax,	[bp+var_16]
seg003:360A		    push    ax
seg003:360B		    push    [bp+arg_0]
seg003:360E		    call    sub_DA7E
seg003:3611		    pop	    bx
seg003:3612		    pop	    bx
seg003:3613		    or	    ax,	ax
seg003:3615		    jz	    short loc_CF2D
seg003:3617		    test    [bp+var_E],	10h
seg003:361B		    jnz	    short loc_CF30
seg003:361D
seg003:361D loc_CF2D:				    ; CODE XREF: sub_CF0A+Bj
seg003:361D					    ; sub_CF0A+1Bj
seg003:361D		    jmp	    loc_CFB5
seg003:3620 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3620
seg003:3620 loc_CF30:				    ; CODE XREF: sub_CF0A+21j
seg003:3620		    mov	    ax,	[bp+arg_0]
seg003:3623		    mov	    ds:38h, ax
seg003:3626		    mov	    bx,	ax
seg003:3628		    shr	    bx,	3
seg003:362B		    les	    di,	ds:0AA0h
seg003:362F		    test    byte ptr es:[bx+di], 1
seg003:3633		    jz	    short loc_CFA3
seg003:3635		    cmp	    byte ptr ds:2Eh, 0
seg003:363A		    jz	    short loc_CFA3
seg003:363C		    mov	    ax,	[bp+var_16]
seg003:363F		    mov	    dx,	[bp+var_14]
seg003:3642		    mov	    [bp+var_C],	ax
seg003:3645		    mov	    [bp+var_A],	dx
seg003:3648		    mov	    [bp+var_8],	0
seg003:364D		    mov	    [bp+var_6],	8
seg003:3652		    mov	    ax,	ds:97Ch
seg003:3655		    shr	    ax,	3
seg003:3658		    mov	    [bp+var_4],	ax
seg003:365B		    mov	    si,	10h
seg003:365E		    jmp	    short loc_CF9E
seg003:3660 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3660
seg003:3660 loc_CF70:				    ; CODE XREF: sub_CF0A+97j
seg003:3660		    mov	    ax,	[bp+var_C]
seg003:3663		    mov	    bx,	si
seg003:3665		    shl	    bx,	3
seg003:3668		    add	    bx,	[bp+var_8]
seg003:366B		    mov	    es,	[bp+var_6]
seg003:366E		    cmp	    es:[bx+2], ax
seg003:3672		    jnz	    short loc_CF9D
seg003:3674		    mov	    al,	es:[bx+4]
seg003:3678		    sub	    ah,	ah
seg003:367A		    cmp	    ax,	[bp+var_A]
seg003:367D		    jnz	    short loc_CF9D
seg003:367F		    cmp	    es:[bx+5], ah
seg003:3683		    jz	    short loc_CF9D
seg003:3685		    les	    bx,	ds:0AA0h
seg003:3689		    or	    byte ptr es:[bx+si], 1
seg003:368D
seg003:368D loc_CF9D:				    ; CODE XREF: sub_CF0A+78j
seg003:368D					    ; sub_CF0A+83j ...
seg003:368D		    inc	    si
seg003:368E
seg003:368E loc_CF9E:				    ; CODE XREF: sub_CF0A+64j
seg003:368E		    cmp	    [bp+var_4],	si
seg003:3691		    ja	    short loc_CF70
seg003:3693
seg003:3693 loc_CFA3:				    ; CODE XREF: sub_CF0A+39j
seg003:3693					    ; sub_CF0A+40j
seg003:3693		    push    [bp+arg_0]
seg003:3696		    call    sub_DAF1
seg003:3699		    pop	    bx
seg003:369A		    push    1
seg003:369C		    call    nullsub_5
seg003:369F		    pop	    bx
seg003:36A0		    mov	    ax,	1
seg003:36A3		    jmp	    short loc_CFB7
seg003:36A5 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:36A5
seg003:36A5 loc_CFB5:				    ; CODE XREF: sub_CF0A:loc_CF2Dj
seg003:36A5		    sub	    ax,	ax
seg003:36A7
seg003:36A7 loc_CFB7:				    ; CODE XREF: sub_CF0A+A9j
seg003:36A7		    pop	    si
seg003:36A8		    pop	    di
seg003:36A9		    leave
seg003:36AA		    retn
seg003:36AA sub_CF0A	    endp
seg003:36AA
seg003:36AB
seg003:36AB ;  S	U B R O	U T I N	E 
seg003:36AB
seg003:36AB ; Attributes: bp-based frame
seg003:36AB
seg003:36AB sub_CFBB	    proc near		    ; CODE XREF: sub_A24A+9p
seg003:36AB
seg003:36AB var_A	    = word ptr -0Ah
seg003:36AB var_8	    = word ptr -8
seg003:36AB var_6	    = word ptr -6
seg003:36AB var_2	    = byte ptr -2
seg003:36AB arg_0	    = word ptr	4
seg003:36AB arg_2	    = word ptr	6
seg003:36AB arg_4	    = word ptr	8
seg003:36AB
seg003:36AB		    enter   0Ch, 0
seg003:36AF		    lea	    ax,	[bp+var_A]
seg003:36B2		    push    ax
seg003:36B3		    push    [bp+arg_2]
seg003:36B6		    call    sub_DA7E
seg003:36B9		    pop	    bx
seg003:36BA		    pop	    bx
seg003:36BB		    mov	    al,	[bp+var_2]
seg003:36BE		    and	    al,	18h
seg003:36C0		    cmp	    al,	10h
seg003:36C2		    jnz	    short loc_CFEE
seg003:36C4		    mov	    ax,	[bp+var_6]
seg003:36C7		    cmp	    [bp+arg_0],	ax
seg003:36CA		    ja	    short loc_CFEE
seg003:36CC		    push    92h	; ''
seg003:36CF		    push    [bp+arg_2]
seg003:36D2		    call    sub_CE9C
seg003:36D5		    pop	    bx
seg003:36D6		    pop	    bx
seg003:36D7		    mov	    [bp+arg_2],	ax
seg003:36DA		    or	    ax,	ax
seg003:36DC		    jnz	    short loc_CFF2
seg003:36DE
seg003:36DE loc_CFEE:				    ; CODE XREF: sub_CFBB+17j
seg003:36DE					    ; sub_CFBB+1Fj
seg003:36DE		    sub	    ax,	ax
seg003:36E0		    leave
seg003:36E1		    retn
seg003:36E2 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:36E2
seg003:36E2 loc_CFF2:				    ; CODE XREF: sub_CFBB+31j
seg003:36E2		    lea	    ax,	[bp+var_A]
seg003:36E5		    push    ax
seg003:36E6		    push    [bp+arg_2]
seg003:36E9		    call    sub_DA7E
seg003:36EC		    pop	    bx
seg003:36ED		    pop	    bx
seg003:36EE		    dec	    [bp+arg_4]
seg003:36F1		    mov	    ax,	[bp+arg_4]
seg003:36F4		    mov	    cx,	[bp+arg_0]
seg003:36F7		    sub	    [bp+var_6],	cx
seg003:36FA		    cmp	    [bp+var_6],	ax
seg003:36FD		    jbe	    short loc_D012
seg003:36FF		    mov	    [bp+var_6],	ax
seg003:3702
seg003:3702 loc_D012:				    ; CODE XREF: sub_CFBB+52j
seg003:3702		    mov	    ax,	cx
seg003:3704		    sub	    dx,	dx
seg003:3706		    add	    [bp+var_A],	ax
seg003:3709		    adc	    [bp+var_8],	dx
seg003:370C		    lea	    ax,	[bp+var_A]
seg003:370F		    push    ax
seg003:3710		    push    [bp+arg_2]
seg003:3713		    call    sub_DA18
seg003:3716		    pop	    bx
seg003:3717		    pop	    bx
seg003:3718		    mov	    ax,	[bp+arg_2]
seg003:371B		    leave
seg003:371C		    retn
seg003:371C sub_CFBB	    endp
seg003:371C
seg003:371D
seg003:371D ;  S	U B R O	U T I N	E 
seg003:371D
seg003:371D ; Attributes: bp-based frame
seg003:371D
seg003:371D sub_D02D	    proc near		    ; CODE XREF: sub_A271+Cp
seg003:371D
seg003:371D var_A	    = word ptr -0Ah
seg003:371D var_8	    = word ptr -8
seg003:371D var_6	    = word ptr -6
seg003:371D var_4	    = word ptr -4
seg003:371D var_2	    = byte ptr -2
seg003:371D var_1	    = byte ptr -1
seg003:371D arg_0	    = word ptr	4
seg003:371D arg_2	    = word ptr	6
seg003:371D arg_4	    = word ptr	8
seg003:371D
seg003:371D		    enter   0Ah, 0
seg003:3721		    push    si
seg003:3722		    push    1
seg003:3724		    call    sub_DADF
seg003:3727		    pop	    bx
seg003:3728		    mov	    si,	ax
seg003:372A		    or	    si,	si
seg003:372C		    jz	    short loc_D068
seg003:372E		    mov	    ax,	[bp+arg_4]
seg003:3731		    dec	    ax
seg003:3732		    mov	    [bp+var_6],	ax
seg003:3735		    mov	    ax,	[bp+arg_0]
seg003:3738		    mov	    dx,	[bp+arg_2]
seg003:373B		    mov	    [bp+var_A],	ax
seg003:373E		    mov	    [bp+var_8],	dx
seg003:3741		    mov	    [bp+var_2],	92h ; ''
seg003:3745		    mov	    [bp+var_4],	0
seg003:374A		    mov	    [bp+var_1],	0
seg003:374E		    lea	    ax,	[bp+var_A]
seg003:3751		    push    ax
seg003:3752		    push    si
seg003:3753		    call    sub_DA18
seg003:3756		    pop	    bx
seg003:3757		    pop	    bx
seg003:3758
seg003:3758 loc_D068:				    ; CODE XREF: sub_D02D+Fj
seg003:3758		    mov	    ax,	si
seg003:375A		    pop	    si
seg003:375B		    leave
seg003:375C		    retn
seg003:375C sub_D02D	    endp
seg003:375C
seg003:375D
seg003:375D ;  S	U B R O	U T I N	E 
seg003:375D
seg003:375D ; Attributes: bp-based frame
seg003:375D
seg003:375D sub_D06D	    proc near		    ; CODE XREF: sub_A291+Cp
seg003:375D
seg003:375D var_34	    = word ptr -34h
seg003:375D var_32	    = word ptr -32h
seg003:375D var_30	    = word ptr -30h
seg003:375D var_2E	    = word ptr -2Eh
seg003:375D var_2C	    = word ptr -2Ch
seg003:375D var_2A	    = word ptr -2Ah
seg003:375D var_28	    = word ptr -28h
seg003:375D var_24	    = word ptr -24h
seg003:375D var_1A	    = word ptr -1Ah
seg003:375D var_4	    = word ptr -4
seg003:375D arg_0	    = word ptr	4
seg003:375D arg_2	    = word ptr	6
seg003:375D arg_4	    = word ptr	8
seg003:375D
seg003:375D		    enter   34h, 0
seg003:3761		    push    si
seg003:3762		    cmp	    [bp+arg_4],	0
seg003:3766		    jz	    short loc_D09C
seg003:3768		    lea	    ax,	[bp+var_30]
seg003:376B		    push    ax
seg003:376C		    push    [bp+arg_4]
seg003:376F		    push    [bp+arg_2]
seg003:3772		    push    [bp+arg_0]
seg003:3775		    call    sub_D9E2
seg003:3778		    add	    sp,	8
seg003:377B		    mov	    [bp+var_2E], ax
seg003:377E		    mov	    ax,	[bp+arg_4]
seg003:3781		    dec	    ax
seg003:3782		    push    ax
seg003:3783		    call    sub_D8E7
seg003:3786		    pop	    bx
seg003:3787		    mov	    [bp+arg_4],	ax
seg003:378A		    jmp	    short loc_D0AD
seg003:378C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:378C
seg003:378C loc_D09C:				    ; CODE XREF: sub_D06D+9j
seg003:378C		    mov	    ax,	[bp+arg_2]
seg003:378F		    mov	    [bp+var_2E], ax
seg003:3792		    mov	    ax,	[bp+arg_0]
seg003:3795		    mov	    [bp+var_30], ax
seg003:3798		    mov	    [bp+arg_4],	1000h
seg003:379D
seg003:379D loc_D0AD:				    ; CODE XREF: sub_D06D+2Dj
seg003:379D		    cmp	    [bp+var_30], 0
seg003:37A1		    jz	    short loc_D0B6
seg003:37A3		    inc	    [bp+var_2E]
seg003:37A6
seg003:37A6 loc_D0B6:				    ; CODE XREF: sub_D06D+44j
seg003:37A6		    cmp	    byte ptr ds:980h, 4
seg003:37AB		    jge	    short loc_D0D1
seg003:37AD		    cmp	    [bp+var_2E], 0
seg003:37B1		    jz	    short loc_D0D1
seg003:37B3		    push    [bp+var_2E]
seg003:37B6		    call    sub_DADF
seg003:37B9		    pop	    bx
seg003:37BA		    mov	    [bp+var_2C], ax
seg003:37BD		    or	    ax,	ax
seg003:37BF		    jnz	    short loc_D0D6
seg003:37C1
seg003:37C1 loc_D0D1:				    ; CODE XREF: sub_D06D+4Ej
seg003:37C1					    ; sub_D06D+54j ...
seg003:37C1		    sub	    ax,	ax
seg003:37C3		    pop	    si
seg003:37C4		    leave
seg003:37C5		    retn
seg003:37C6 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:37C6
seg003:37C6 loc_D0D6:				    ; CODE XREF: sub_D06D+62j
seg003:37C6		    mov	    [bp+var_32], 0
seg003:37CB		    mov	    [bp+var_4],	0
seg003:37D0
seg003:37D0 loc_D0E0:				    ; CODE XREF: sub_D06D+127j
seg003:37D0		    mov	    ax,	[bp+arg_4]
seg003:37D3		    mov	    [bp+var_1A], ax
seg003:37D6		    mov	    ax,	[bp+var_32]
seg003:37D9		    sub	    ax,	[bp+var_2E]
seg003:37DC		    cmp	    ax,	0FFFFh
seg003:37DF		    jnz	    short loc_D103
seg003:37E1		    cmp	    [bp+var_30], 0
seg003:37E5		    jz	    short loc_D103
seg003:37E7		    mov	    ax,	[bp+var_30]
seg003:37EA		    dec	    ax
seg003:37EB		    push    ax
seg003:37EC		    call    sub_D8E7
seg003:37EF		    pop	    bx
seg003:37F0		    mov	    [bp+var_1A], ax
seg003:37F3
seg003:37F3 loc_D103:				    ; CODE XREF: sub_D06D+82j
seg003:37F3					    ; sub_D06D+88j
seg003:37F3		    mov	    ax,	[bp+var_1A]
seg003:37F6		    mov	    bx,	ds:996h
seg003:37FA		    mov	    [bx+10h], ax
seg003:37FD		    mov	    ax,	[bp+var_32]
seg003:3800		    shl	    ax,	3
seg003:3803		    add	    ax,	[bp+var_2C]
seg003:3806		    push    ax
seg003:3807		    lea	    ax,	[bp+var_2A]
seg003:380A		    push    ss
seg003:380B		    push    ax
seg003:380C		    call    sub_C64E
seg003:380F		    add	    sp,	6
seg003:3812		    test    byte ptr [bp+var_4], 1
seg003:3816		    jz	    short loc_D160
seg003:3818		    mov	    [bp+var_28], 0
seg003:381D		    mov	    ax,	[bp+var_2C]
seg003:3820		    mov	    [bp+var_24], ax
seg003:3823		    cmp	    [bp+var_32], 0
seg003:3827		    jz	    short loc_D143
seg003:3829		    lea	    ax,	[bp+var_2A]
seg003:382C		    push    ss
seg003:382D		    push    ax
seg003:382E		    call    sub_CAE7
seg003:3831		    pop	    bx
seg003:3832
seg003:3832 loc_D142:				    ; CODE XREF: sub_D06D+F1j
seg003:3832		    pop	    bx
seg003:3833
seg003:3833 loc_D143:				    ; CODE XREF: sub_D06D+CAj
seg003:3833		    mov	    ax,	[bp+var_2E]
seg003:3836		    cmp	    [bp+var_32], ax
seg003:3839		    jnb	    short loc_D0D1
seg003:383B		    mov	    ax,	[bp+var_32]
seg003:383E		    mov	    [bp+var_34], ax
seg003:3841		    inc	    [bp+var_32]
seg003:3844		    shl	    ax,	3
seg003:3847		    add	    ax,	[bp+var_2C]
seg003:384A		    push    ax
seg003:384B		    call    sub_DAF1
seg003:384E		    jmp	    short loc_D142
seg003:3850 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3850
seg003:3850 loc_D160:				    ; CODE XREF: sub_D06D+B9j
seg003:3850		    mov	    ax,	[bp+var_2E]
seg003:3853		    inc	    [bp+var_32]
seg003:3856		    cmp	    [bp+var_32], ax
seg003:3859		    jnz	    short loc_D171
seg003:385B		    mov	    ax,	[bp+var_2C]
seg003:385E		    pop	    si
seg003:385F		    leave
seg003:3860		    retn
seg003:3861 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3861
seg003:3861 loc_D171:				    ; CODE XREF: sub_D06D+FCj
seg003:3861		    mov	    si,	[bp+var_32]
seg003:3864		    mov	    bx,	[bp+var_2C]
seg003:3867		    shr	    bx,	3
seg003:386A		    add	    bx,	ds:0AA0h
seg003:386E		    mov	    es,	word ptr ds:0AA2h
seg003:3872		    lea	    ax,	[bx-1]
seg003:3875		    mov	    cx,	bx
seg003:3877		    mov	    bx,	ax
seg003:3879		    mov	    al,	es:[bx+si]
seg003:387C		    or	    al,	2
seg003:387E		    mov	    bx,	cx
seg003:3880		    mov	    es:[bx+si-1], al
seg003:3884		    jmp	    loc_D0E0
seg003:3884 sub_D06D	    endp
seg003:3884
seg003:3887
seg003:3887 ;  S	U B R O	U T I N	E 
seg003:3887
seg003:3887 ; Attributes: bp-based frame
seg003:3887
seg003:3887 sub_D197	    proc near		    ; CODE XREF: sub_A35E+2p
seg003:3887
seg003:3887 var_22	    = word ptr -22h
seg003:3887 var_20	    = word ptr -20h
seg003:3887 var_1E	    = word ptr -1Eh
seg003:3887 var_1C	    = word ptr -1Ch
seg003:3887 var_1A	    = word ptr -1Ah
seg003:3887 var_18	    = word ptr -18h
seg003:3887 var_16	    = word ptr -16h
seg003:3887 var_6	    = word ptr -6
seg003:3887 var_4	    = word ptr -4
seg003:3887 var_2	    = word ptr -2
seg003:3887 arg_0	    = dword ptr	 4
seg003:3887
seg003:3887		    enter   22h, 0
seg003:388B		    push    di
seg003:388C		    push    si
seg003:388D		    mov	    [bp+var_1C], 0
seg003:3892		    mov	    [bp+var_1A], 8
seg003:3897		    mov	    bx,	8
seg003:389A		    mov	    es,	bx
seg003:389C		    assume es:nothing
seg003:389C		    mov	    ax,	es:[bx]
seg003:389F		    shr	    ax,	3
seg003:38A2		    mov	    [bp+var_22], ax
seg003:38A5		    mov	    [bp+var_20], ax
seg003:38A8		    jmp	    loc_D23F
seg003:38AB ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:38AB
seg003:38AB loc_D1BB:				    ; CODE XREF: sub_D197+B1j
seg003:38AB		    les	    bx,	ds:0AA0h
seg003:38AF		    assume es:nothing
seg003:38AF		    mov	    si,	[bp+var_22]
seg003:38B2		    mov	    al,	es:[bx+si]
seg003:38B5		    and	    al,	81h
seg003:38B7		    dec	    al
seg003:38B9		    jnz	    short loc_D23F
seg003:38BB		    shl	    si,	3
seg003:38BE		    add	    si,	[bp+var_1C]
seg003:38C1		    mov	    es,	[bp+var_1A]
seg003:38C4		    mov	    ax,	es:[si+2]
seg003:38C8		    mov	    dx,	es:[si+4]
seg003:38CC		    sub	    dh,	dh
seg003:38CE		    push    dx
seg003:38CF		    push    ax
seg003:38D0		    mov	    di,	es
seg003:38D2		    call    sub_D9AC
seg003:38D5		    pop	    bx
seg003:38D6		    pop	    bx
seg003:38D7		    mov	    [bp+var_4],	ax
seg003:38DA		    mov	    [bp+var_2],	dx
seg003:38DD		    test    dl,	0Fh
seg003:38E0		    jz	    short loc_D20C
seg003:38E2		    mov	    es,	di
seg003:38E4		    push    word ptr es:[si]
seg003:38E7		    call    sub_D8E7
seg003:38EA		    pop	    bx
seg003:38EB		    push    0
seg003:38ED		    push    ax
seg003:38EE		    push    [bp+var_2]
seg003:38F1		    push    [bp+var_4]
seg003:38F4		    call    sub_BE00
seg003:38F7		    add	    sp,	8
seg003:38FA		    jmp	    short loc_D224
seg003:38FC ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:38FC
seg003:38FC loc_D20C:				    ; CODE XREF: sub_D197+59j
seg003:38FC		    mov	    [bp+var_6],	4900h
seg003:3901		    mov	    [bp+var_16], ax
seg003:3904		    lea	    ax,	[bp+var_18]
seg003:3907		    push    ss
seg003:3908		    push    ax
seg003:3909		    push    ss
seg003:390A		    push    ax
seg003:390B		    push    21h	; '!'
seg003:390D		    call    dword ptr ds:22h
seg003:3911		    add	    sp,	0Ah
seg003:3914
seg003:3914 loc_D224:				    ; CODE XREF: sub_D197+73j
seg003:3914		    mov	    bx,	[bp+var_22]
seg003:3917		    shl	    bx,	3
seg003:391A		    add	    bx,	[bp+var_1C]
seg003:391D		    mov	    es,	[bp+var_1A]
seg003:3920		    mov	    al,	es:[bx+5]
seg003:3924		    sub	    ah,	ah
seg003:3926		    mov	    es:[bx+6], ax
seg003:392A		    mov	    byte ptr es:[bx+5],	80h ; ''
seg003:392F
seg003:392F loc_D23F:				    ; CODE XREF: sub_D197+21j
seg003:392F					    ; sub_D197+32j
seg003:392F		    dec	    [bp+var_22]
seg003:3932		    cmp	    [bp+var_22], 10h
seg003:3936		    jl	    short loc_D24B
seg003:3938		    jmp	    loc_D1BB
seg003:393B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:393B
seg003:393B loc_D24B:				    ; CODE XREF: sub_D197+AFj
seg003:393B		    les	    bx,	[bp+arg_0]
seg003:393E		    mov	    al,	es:[bx+16h]
seg003:3942		    sub	    ah,	ah
seg003:3944		    mov	    [bp+var_1E], ax
seg003:3947		    push    word ptr es:[bx+2]
seg003:394B		    push    word ptr es:[bx+10h]
seg003:394F		    push    word ptr es:[bx+2]
seg003:3953		    push    word ptr es:[bx+14h]
seg003:3957		    push    word ptr es:[bx+0Ah]
seg003:395B		    call    sub_D7F6
seg003:395E		    add	    sp,	0Ah
seg003:3961		    les	    bx,	[bp+arg_0]
seg003:3964		    mov	    es:[bx+16h], ax
seg003:3968		    mov	    ax,	[bp+var_20]
seg003:396B		    mov	    [bp+var_22], ax
seg003:396E		    jmp	    short loc_D2C1
seg003:3970 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3970
seg003:3970 loc_D280:				    ; CODE XREF: sub_D197+131j
seg003:3970		    les	    bx,	ds:0AA0h
seg003:3974		    mov	    si,	[bp+var_22]
seg003:3977		    mov	    al,	es:[bx+si]
seg003:397A		    and	    al,	81h
seg003:397C		    dec	    al
seg003:397E		    jnz	    short loc_D2C1
seg003:3980		    shl	    si,	3
seg003:3983		    add	    si,	[bp+var_1C]
seg003:3986		    mov	    es,	[bp+var_1A]
seg003:3989		    mov	    byte ptr es:[si+5],	92h ; ''
seg003:398E		    mov	    ax,	es:[si+6]
seg003:3992		    mov	    [bp+var_20], ax
seg003:3995		    mov	    word ptr es:[si+6],	0
seg003:399B		    push    es
seg003:399C		    push    si
seg003:399D		    push    [bp+var_1E]
seg003:39A0		    mov	    di,	es
seg003:39A2		    call    sub_D826
seg003:39A5		    add	    sp,	6
seg003:39A8		    mov	    al,	byte ptr [bp+var_20]
seg003:39AB		    mov	    es,	di
seg003:39AD		    mov	    es:[si+5], al
seg003:39B1
seg003:39B1 loc_D2C1:				    ; CODE XREF: sub_D197+E7j
seg003:39B1					    ; sub_D197+F7j
seg003:39B1		    dec	    [bp+var_22]
seg003:39B4		    cmp	    [bp+var_22], 10h
seg003:39B8		    jge	    short loc_D280
seg003:39BA		    pop	    si
seg003:39BB		    pop	    di
seg003:39BC		    leave
seg003:39BD		    retn
seg003:39BD sub_D197	    endp
seg003:39BD
seg003:39BE
seg003:39BE ;  S	U B R O	U T I N	E 
seg003:39BE
seg003:39BE ; Attributes: bp-based frame
seg003:39BE
seg003:39BE sub_D2CE	    proc near		    ; CODE XREF: sub_C64E+D9p
seg003:39BE
seg003:39BE var_12	    = word ptr -12h
seg003:39BE var_10	    = word ptr -10h
seg003:39BE var_8	    = word ptr -8
seg003:39BE var_6	    = word ptr -6
seg003:39BE var_4	    = word ptr -4
seg003:39BE var_2	    = word ptr -2
seg003:39BE arg_0	    = word ptr	4
seg003:39BE arg_2	    = word ptr	6
seg003:39BE
seg003:39BE		    enter   14h, 0
seg003:39C2		    push    di
seg003:39C3		    push    si
seg003:39C4		    mov	    ax,	[bp+arg_2]
seg003:39C7		    dec	    [bp+arg_2]
seg003:39CA		    cmp	    ax,	[bp+arg_0]
seg003:39CD		    jnz	    short loc_D2E2
seg003:39CF		    jmp	    loc_D371
seg003:39D2 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:39D2
seg003:39D2 loc_D2E2:				    ; CODE XREF: sub_D2CE+Fj
seg003:39D2		    lea	    ax,	[bp+var_12]
seg003:39D5		    push    ax
seg003:39D6		    mov	    cx,	ds:0C38h
seg003:39DA		    mov	    [bp+var_2],	cx
seg003:39DD		    push    cx
seg003:39DE		    call    sub_DA7E
seg003:39E1		    pop	    bx
seg003:39E2		    pop	    bx
seg003:39E3		    mov	    ax,	[bp+arg_2]
seg003:39E6		    shr	    ax,	0Ch
seg003:39E9		    mov	    cx,	[bp+arg_2]
seg003:39EC		    shl	    cx,	4
seg003:39EF		    mov	    [bp+var_12], cx
seg003:39F2		    mov	    [bp+var_10], ax
seg003:39F5		    lea	    ax,	[bp+var_12]
seg003:39F8		    push    ax
seg003:39F9		    push    [bp+var_2]
seg003:39FC		    call    sub_DA18
seg003:39FF		    pop	    bx
seg003:3A00		    pop	    bx
seg003:3A01		    mov	    ax,	[bp+var_2]
seg003:3A04		    sub	    bx,	bx
seg003:3A06		    mov	    es,	ax
seg003:3A08		    mov	    [bp+var_8],	bx
seg003:3A0B		    mov	    [bp+var_6],	es
seg003:3A0E		    cmp	    byte ptr es:[bx], 4Dh ; 'M'
seg003:3A12		    jz	    short loc_D32A
seg003:3A14		    cmp	    byte ptr es:[bx], 5Ah ; 'Z'
seg003:3A18		    jnz	    short loc_D371
seg003:3A1A
seg003:3A1A loc_D32A:				    ; CODE XREF: sub_D2CE+54j
seg003:3A1A		    mov	    ax,	[bp+arg_0]
seg003:3A1D		    sub	    ax,	[bp+arg_2]
seg003:3A20		    dec	    ax
seg003:3A21		    mov	    [bp+var_4],	ax
seg003:3A24		    shl	    ax,	4
seg003:3A27		    add	    ax,	[bp+var_8]
seg003:3A2A		    mov	    dx,	es
seg003:3A2C		    mov	    cx,	[bp+var_8]
seg003:3A2F		    mov	    bx,	es
seg003:3A31		    push    cx
seg003:3A32		    push    ds
seg003:3A33		    mov	    di,	ax
seg003:3A35		    mov	    si,	cx
seg003:3A37		    mov	    ds,	dx
seg003:3A39		    mov	    cx,	8
seg003:3A3C		    rep	movsw
seg003:3A3E		    pop	    ds
seg003:3A3F		    pop	    cx
seg003:3A40		    mov	    es,	bx
seg003:3A42		    mov	    si,	cx
seg003:3A44		    mov	    byte ptr es:[si], 4Dh ; 'M'
seg003:3A48		    mov	    di,	[bp+var_4]
seg003:3A4B		    dec	    di
seg003:3A4C		    mov	    es:[si+3], di
seg003:3A50		    mov	    word ptr es:[si+1],	0
seg003:3A56		    mov	    es,	dx
seg003:3A58		    mov	    si,	ax
seg003:3A5A		    mov	    ax,	[bp+var_4]
seg003:3A5D		    sub	    es:[si+3], ax
seg003:3A61
seg003:3A61 loc_D371:				    ; CODE XREF: sub_D2CE+11j
seg003:3A61					    ; sub_D2CE+5Aj
seg003:3A61		    pop	    si
seg003:3A62		    pop	    di
seg003:3A63		    leave
seg003:3A64		    retn
seg003:3A64 sub_D2CE	    endp
seg003:3A64
seg003:3A65
seg003:3A65 ;  S	U B R O	U T I N	E 
seg003:3A65
seg003:3A65 ; Attributes: bp-based frame
seg003:3A65
seg003:3A65 sub_D375	    proc near		    ; CODE XREF: sub_C87E+219p
seg003:3A65					    ; seg003:351Fp
seg003:3A65
seg003:3A65 var_C	    = word ptr -0Ch
seg003:3A65 var_A	    = word ptr -0Ah
seg003:3A65 var_4	    = byte ptr -4
seg003:3A65 var_2	    = byte ptr -2
seg003:3A65 arg_0	    = word ptr	4
seg003:3A65 arg_2	    = word ptr	6
seg003:3A65 arg_4	    = word ptr	8
seg003:3A65 arg_6	    = word ptr	0Ah
seg003:3A65 arg_8	    = word ptr	0Ch
seg003:3A65 arg_A	    = word ptr	0Eh
seg003:3A65
seg003:3A65		    enter   0Ch, 0
seg003:3A69		    push    di
seg003:3A6A		    push    si
seg003:3A6B		    mov	    bx,	[bp+arg_0]
seg003:3A6E		    shr	    bx,	3
seg003:3A71		    les	    di,	ds:0AA0h
seg003:3A75		    test    byte ptr es:[bx+di], 10h
seg003:3A79		    jz	    short loc_D405
seg003:3A7B		    mov	    si,	ds:97Ch
seg003:3A7F		    mov	    ax,	si
seg003:3A81		    xor	    al,	byte ptr [bp+arg_0]
seg003:3A84		    and	    ax,	7
seg003:3A87		    xor	    si,	ax
seg003:3A89		    mov	    [bp+var_2],	0
seg003:3A8D		    jmp	    short loc_D3E8
seg003:3A8F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3A8F
seg003:3A8F loc_D39F:				    ; CODE XREF: sub_D375+7Aj
seg003:3A8F		    lea	    ax,	[bp+var_C]
seg003:3A92		    push    ax
seg003:3A93		    push    si
seg003:3A94		    call    sub_DA7E
seg003:3A97		    pop	    bx
seg003:3A98		    pop	    bx
seg003:3A99		    or	    ax,	ax
seg003:3A9B		    jz	    short loc_D3E8
seg003:3A9D		    test    [bp+var_4],	10h
seg003:3AA1		    jz	    short loc_D3E8
seg003:3AA3		    mov	    ax,	[bp+var_C]
seg003:3AA6		    mov	    dx,	[bp+var_A]
seg003:3AA9		    sub	    ax,	[bp+arg_2]
seg003:3AAC		    sbb	    dx,	[bp+arg_4]
seg003:3AAF		    mov	    cx,	[bp+arg_6]
seg003:3AB2		    sub	    bx,	bx
seg003:3AB4		    cmp	    dx,	bx
seg003:3AB6		    ja	    short loc_D3E8
seg003:3AB8		    jb	    short loc_D3CE
seg003:3ABA		    cmp	    ax,	cx
seg003:3ABC		    ja	    short loc_D3E8
seg003:3ABE
seg003:3ABE loc_D3CE:				    ; CODE XREF: sub_D375+53j
seg003:3ABE		    add	    ax,	[bp+arg_8]
seg003:3AC1		    adc	    dx,	[bp+arg_A]
seg003:3AC4		    mov	    [bp+var_C],	ax
seg003:3AC7		    mov	    [bp+var_A],	dx
seg003:3ACA		    lea	    ax,	[bp+var_C]
seg003:3ACD		    push    ax
seg003:3ACE		    push    si
seg003:3ACF		    call    sub_DA18
seg003:3AD2		    pop	    bx
seg003:3AD3		    pop	    bx
seg003:3AD4		    mov	    [bp+var_2],	1
seg003:3AD8
seg003:3AD8 loc_D3E8:				    ; CODE XREF: sub_D375+28j
seg003:3AD8					    ; sub_D375+36j ...
seg003:3AD8		    sub	    si,	8
seg003:3ADB		    cmp	    si,	ds:0C34h
seg003:3ADF		    jnb	    short loc_D39F
seg003:3AE1		    cmp	    [bp+var_2],	0
seg003:3AE5		    jnz	    short loc_D405
seg003:3AE7		    mov	    bx,	[bp+arg_0]
seg003:3AEA		    shr	    bx,	3
seg003:3AED		    les	    di,	ds:0AA0h
seg003:3AF1		    and	    byte ptr es:[bx+di], 0EFh
seg003:3AF5
seg003:3AF5 loc_D405:				    ; CODE XREF: sub_D375+14j
seg003:3AF5					    ; sub_D375+80j
seg003:3AF5		    pop	    si
seg003:3AF6		    pop	    di
seg003:3AF7		    leave
seg003:3AF8		    retn
seg003:3AF8 sub_D375	    endp
seg003:3AF8
seg003:3AF9
seg003:3AF9 ;  S	U B R O	U T I N	E 
seg003:3AF9
seg003:3AF9 ; Attributes: bp-based frame
seg003:3AF9
seg003:3AF9 sub_D409	    proc near		    ; CODE XREF: sub_CAE7+A3p
seg003:3AF9
seg003:3AF9 var_A	    = word ptr -0Ah
seg003:3AF9 var_8	    = word ptr -8
seg003:3AF9 var_2	    = byte ptr -2
seg003:3AF9 arg_0	    = word ptr	4
seg003:3AF9 arg_2	    = word ptr	6
seg003:3AF9 arg_4	    = word ptr	8
seg003:3AF9 arg_6	    = word ptr	0Ah
seg003:3AF9
seg003:3AF9		    enter   0Ah, 0
seg003:3AFD		    push    si
seg003:3AFE		    mov	    si,	[bp+arg_0]
seg003:3B01		    xor	    si,	ds:97Ch
seg003:3B05		    and	    si,	7
seg003:3B08		    xor	    si,	ds:97Ch
seg003:3B0C		    jmp	    short loc_D452
seg003:3B0E ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3B0E
seg003:3B0E loc_D41E:				    ; CODE XREF: sub_D409+50j
seg003:3B0E		    lea	    ax,	[bp+var_A]
seg003:3B11		    push    ax
seg003:3B12		    push    si
seg003:3B13		    call    sub_DA7E
seg003:3B16		    pop	    bx
seg003:3B17		    pop	    bx
seg003:3B18		    or	    ax,	ax
seg003:3B1A		    jz	    short loc_D452
seg003:3B1C		    test    [bp+var_2],	10h
seg003:3B20		    jz	    short loc_D452
seg003:3B22		    mov	    ax,	[bp+var_A]
seg003:3B25		    mov	    dx,	[bp+var_8]
seg003:3B28		    sub	    ax,	[bp+arg_2]
seg003:3B2B		    sbb	    dx,	[bp+arg_4]
seg003:3B2E		    mov	    cx,	[bp+arg_6]
seg003:3B31		    sub	    bx,	bx
seg003:3B33		    cmp	    dx,	bx
seg003:3B35		    ja	    short loc_D452
seg003:3B37		    jb	    short loc_D44D
seg003:3B39		    cmp	    ax,	cx
seg003:3B3B		    ja	    short loc_D452
seg003:3B3D
seg003:3B3D loc_D44D:				    ; CODE XREF: sub_D409+3Ej
seg003:3B3D		    push    si
seg003:3B3E		    call    sub_DAF1
seg003:3B41		    pop	    bx
seg003:3B42
seg003:3B42 loc_D452:				    ; CODE XREF: sub_D409+13j
seg003:3B42					    ; sub_D409+21j ...
seg003:3B42		    sub	    si,	8
seg003:3B45		    cmp	    si,	ds:0C34h
seg003:3B49		    jnb	    short loc_D41E
seg003:3B4B		    pop	    si
seg003:3B4C		    leave
seg003:3B4D		    retn
seg003:3B4D sub_D409	    endp
seg003:3B4D
seg003:3B4E ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3B4E		    sub	    ax,	ax
seg003:3B50		    cwd
seg003:3B51		    retn
seg003:3B52
seg003:3B52 ;  S	U B R O	U T I N	E 
seg003:3B52
seg003:3B52 ; Attributes: bp-based frame
seg003:3B52
seg003:3B52 sub_D462	    proc near		    ; CODE XREF: sub_A488+8p
seg003:3B52					    ; sub_BBCB+219p ...
seg003:3B52
seg003:3B52 var_14	    = word ptr -14h
seg003:3B52 var_12	    = word ptr -12h
seg003:3B52 var_10	    = word ptr -10h
seg003:3B52 var_E	    = word ptr -0Eh
seg003:3B52 var_C	    = word ptr -0Ch
seg003:3B52 var_A	    = word ptr -0Ah
seg003:3B52 var_8	    = word ptr -8
seg003:3B52 var_6	    = word ptr -6
seg003:3B52 var_4	    = word ptr -4
seg003:3B52 var_2	    = word ptr -2
seg003:3B52 arg_0	    = word ptr	4
seg003:3B52 arg_2	    = word ptr	6
seg003:3B52 arg_4	    = word ptr	8
seg003:3B52
seg003:3B52		    enter   14h, 0
seg003:3B56		    cmp	    byte ptr ds:2Eh, 0
seg003:3B5B		    jz	    short loc_D4A8
seg003:3B5D		    cmp	    byte ptr ds:0A16h, 0
seg003:3B62		    jnz	    short loc_D4A8
seg003:3B64		    mov	    ax,	ds:9Ch
seg003:3B67		    mov	    dx,	ds:9Eh
seg003:3B6B		    mov	    [bp+var_4],	ax
seg003:3B6E		    mov	    [bp+var_2],	dx
seg003:3B71		    cmp	    byte ptr ds:2Eh, 0Bh
seg003:3B76		    jnz	    short loc_D491
seg003:3B78
seg003:3B78 loc_D488:				    ; CODE XREF: sub_D462+87j
seg003:3B78					    ; sub_D462+95j ...
seg003:3B78		    mov	    ax,	ds:0AA8h
seg003:3B7B		    mov	    dx,	ds:0AAAh
seg003:3B7F		    leave
seg003:3B80		    retn
seg003:3B81 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3B81
seg003:3B81 loc_D491:				    ; CODE XREF: sub_D462+24j
seg003:3B81		    mov	    ax,	[bp+var_4]
seg003:3B84		    mov	    dx,	[bp+var_2]
seg003:3B87		    sub	    ax,	ds:98h
seg003:3B8B		    sbb	    dx,	ds:9Ah
seg003:3B8F		    push    dx
seg003:3B90		    push    ax
seg003:3B91		    call    sub_D9C7
seg003:3B94		    pop	    bx
seg003:3B95		    pop	    bx
seg003:3B96		    leave
seg003:3B97		    retn
seg003:3B98 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3B98
seg003:3B98 loc_D4A8:				    ; CODE XREF: sub_D462+9j
seg003:3B98					    ; sub_D462+10j
seg003:3B98		    mov	    [bp+var_14], 3
seg003:3B9D
seg003:3B9D loc_D4AD:				    ; CODE XREF: sub_D462:loc_D622j
seg003:3B9D		    mov	    ax,	[bp+arg_0]
seg003:3BA0		    mov	    dx,	[bp+arg_2]
seg003:3BA3		    sub	    ax,	ds:0AA8h
seg003:3BA7		    sbb	    dx,	ds:0AAAh
seg003:3BAB		    add	    ax,	0FFFh
seg003:3BAE		    adc	    dx,	0
seg003:3BB1		    and	    ax,	0F000h
seg003:3BB4		    mov	    [bp+var_C],	ax
seg003:3BB7		    mov	    [bp+var_A],	dx
seg003:3BBA		    mov	    [bp+var_E],	3
seg003:3BBF
seg003:3BBF loc_D4CF:				    ; CODE XREF: sub_D462+C7j
seg003:3BBF		    call    word ptr ds:0AA4h
seg003:3BC3		    mov	    [bp+var_8],	ax
seg003:3BC6		    mov	    [bp+var_6],	dx
seg003:3BC9		    cmp	    dx,	[bp+var_A]
seg003:3BCC		    jg	    short loc_D4F1
seg003:3BCE		    jl	    short loc_D4E5
seg003:3BD0		    cmp	    ax,	[bp+var_C]
seg003:3BD3		    jnb	    short loc_D4F1
seg003:3BD5
seg003:3BD5 loc_D4E5:				    ; CODE XREF: sub_D462+7Cj
seg003:3BD5		    cmp	    [bp+arg_4],	0
seg003:3BD9		    jnz	    short loc_D488
seg003:3BDB		    mov	    [bp+var_C],	ax
seg003:3BDE		    mov	    [bp+var_A],	dx
seg003:3BE1
seg003:3BE1 loc_D4F1:				    ; CODE XREF: sub_D462+7Aj
seg003:3BE1					    ; sub_D462+81j
seg003:3BE1		    cmp	    [bp+var_A],	0
seg003:3BE5		    jg	    short loc_D4FF
seg003:3BE7		    jl	    short loc_D488
seg003:3BE9		    cmp	    [bp+var_C],	0
seg003:3BED		    jz	    short loc_D488
seg003:3BEF
seg003:3BEF loc_D4FF:				    ; CODE XREF: sub_D462+93j
seg003:3BEF		    push    [bp+var_A]
seg003:3BF2		    push    [bp+var_C]
seg003:3BF5		    call    word ptr ds:0AA6h
seg003:3BF9		    pop	    bx
seg003:3BFA		    pop	    bx
seg003:3BFB		    mov	    [bp+var_4],	ax
seg003:3BFE		    mov	    [bp+var_2],	dx
seg003:3C01		    or	    dx,	ax
seg003:3C03		    jnz	    short loc_D52B
seg003:3C05		    cmp	    [bp+arg_4],	0
seg003:3C09		    jz	    short loc_D523
seg003:3C0B		    dec	    [bp+var_E]
seg003:3C0E		    jns	    short loc_D523
seg003:3C10		    jmp	    loc_D488
seg003:3C13 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3C13
seg003:3C13 loc_D523:				    ; CODE XREF: sub_D462+B7j
seg003:3C13					    ; sub_D462+BCj
seg003:3C13		    sar	    [bp+var_A],	1
seg003:3C16		    rcr	    [bp+var_C],	1
seg003:3C19		    jmp	    short loc_D4CF
seg003:3C1B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3C1B
seg003:3C1B loc_D52B:				    ; CODE XREF: sub_D462+B1j
seg003:3C1B		    push    [bp+var_2]
seg003:3C1E		    push    ax
seg003:3C1F		    call    sub_D9AC
seg003:3C22		    pop	    bx
seg003:3C23		    pop	    bx
seg003:3C24		    mov	    [bp+var_12], ax
seg003:3C27		    mov	    [bp+var_10], dx
seg003:3C2A		    cli
seg003:3C2B		    mov	    ax,	[bp+var_12]
seg003:3C2E		    mov	    dx,	[bp+var_10]
seg003:3C31		    cmp	    ds:9Ah, dx
seg003:3C35		    ja	    short loc_D558
seg003:3C37		    jb	    short loc_D54F
seg003:3C39		    cmp	    ds:98h, ax
seg003:3C3D		    ja	    short loc_D558
seg003:3C3F
seg003:3C3F loc_D54F:				    ; CODE XREF: sub_D462+E5j
seg003:3C3F		    mov	    ax,	ds:9Ah
seg003:3C42		    or	    ax,	ds:98h
seg003:3C46		    jnz	    short loc_D5A4
seg003:3C48
seg003:3C48 loc_D558:				    ; CODE XREF: sub_D462+E3j
seg003:3C48					    ; sub_D462+EBj
seg003:3C48		    mov	    ax,	ds:98h
seg003:3C4B		    mov	    dx,	ds:9Ah
seg003:3C4F		    mov	    [bp+var_8],	ax
seg003:3C52		    mov	    [bp+var_6],	dx
seg003:3C55		    mov	    ax,	[bp+var_12]
seg003:3C58		    mov	    dx,	[bp+var_10]
seg003:3C5B		    mov	    ds:98h, ax
seg003:3C5E		    mov	    ds:9Ah, dx
seg003:3C62		    push    [bp+var_6]
seg003:3C65		    push    [bp+var_8]
seg003:3C68		    push    0
seg003:3C6A		    push    dx
seg003:3C6B		    push    ax
seg003:3C6C		    call    sub_D957
seg003:3C6F		    add	    sp,	0Ah
seg003:3C72		    push    0
seg003:3C74		    push    0
seg003:3C76		    push    4
seg003:3C78		    push    [bp+var_10]
seg003:3C7B		    push    [bp+var_12]
seg003:3C7E		    call    sub_D957
seg003:3C81		    add	    sp,	0Ah
seg003:3C84		    add	    [bp+var_12], 1
seg003:3C88		    adc	    [bp+var_10], 0
seg003:3C8C		    sub	    [bp+var_C],	10h
seg003:3C90		    sbb	    [bp+var_A],	0
seg003:3C94
seg003:3C94 loc_D5A4:				    ; CODE XREF: sub_D462+F4j
seg003:3C94		    push    [bp+var_A]
seg003:3C97		    push    [bp+var_C]
seg003:3C9A		    call    sub_D9AC
seg003:3C9D		    pop	    bx
seg003:3C9E		    pop	    bx
seg003:3C9F		    add	    ax,	[bp+var_12]
seg003:3CA2		    adc	    dx,	[bp+var_10]
seg003:3CA5		    mov	    [bp+var_4],	ax
seg003:3CA8		    mov	    [bp+var_2],	dx
seg003:3CAB		    cmp	    ds:9Eh, dx
seg003:3CAF		    ja	    short loc_D5D0
seg003:3CB1		    jb	    short loc_D5C9
seg003:3CB3		    cmp	    ds:9Ch, ax
seg003:3CB7		    jnb	    short loc_D5D0
seg003:3CB9
seg003:3CB9 loc_D5C9:				    ; CODE XREF: sub_D462+15Fj
seg003:3CB9		    mov	    ds:9Ch, ax
seg003:3CBC		    mov	    ds:9Eh, dx
seg003:3CC0
seg003:3CC0 loc_D5D0:				    ; CODE XREF: sub_D462+15Dj
seg003:3CC0					    ; sub_D462+165j
seg003:3CC0		    push    [bp+var_A]
seg003:3CC3		    push    [bp+var_C]
seg003:3CC6		    call    sub_D9AC
seg003:3CC9		    pop	    bx
seg003:3CCA		    pop	    bx
seg003:3CCB		    push    dx
seg003:3CCC		    push    ax
seg003:3CCD		    push    [bp+var_10]
seg003:3CD0		    push    [bp+var_12]
seg003:3CD3		    call    sub_BE00
seg003:3CD6		    add	    sp,	8
seg003:3CD9		    cmp	    byte ptr ds:2Eh, 0
seg003:3CDE		    jnz	    short loc_D601
seg003:3CE0		    push    word ptr ds:1204h
seg003:3CE4		    push    word ptr ds:1202h
seg003:3CE8		    push    [bp+var_10]
seg003:3CEB		    push    [bp+var_12]
seg003:3CEE		    call    sub_C226
seg003:3CF1
seg003:3CF1 loc_D601:				    ; CODE XREF: sub_D462+18Cj
seg003:3CF1		    cmp	    byte ptr ds:2Eh, 0Bh
seg003:3CF6		    jz	    short loc_D616
seg003:3CF8		    mov	    ax,	[bp+var_C]
seg003:3CFB		    mov	    dx,	[bp+var_A]
seg003:3CFE		    add	    ds:0AA8h, ax
seg003:3D02		    adc	    ds:0AAAh, dx
seg003:3D06
seg003:3D06 loc_D616:				    ; CODE XREF: sub_D462+1A4j
seg003:3D06		    dec	    [bp+var_14]
seg003:3D09		    cmp	    [bp+var_14], 0
seg003:3D0D		    jg	    short loc_D622
seg003:3D0F		    jmp	    loc_D488
seg003:3D12 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3D12
seg003:3D12 loc_D622:				    ; CODE XREF: sub_D462+1BBj
seg003:3D12		    jmp	    loc_D4AD
seg003:3D12 sub_D462	    endp
seg003:3D12
seg003:3D15 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3D15		    enter   4, 0
seg003:3D19		    push    si
seg003:3D1A		    call    sub_F18C
seg003:3D1D		    or	    ax,	ax
seg003:3D1F		    jz	    short loc_D637
seg003:3D21		    sub	    ax,	ax
seg003:3D23		    cwd
seg003:3D24		    pop	    si
seg003:3D25		    leave
seg003:3D26		    retn
seg003:3D27 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3D27
seg003:3D27 loc_D637:				    ; CODE XREF: seg003:3D1Fj
seg003:3D27		    cmp	    word ptr ds:0ADCh, 0
seg003:3D2C		    jz	    short loc_D64E
seg003:3D2E		    call    sub_D735
seg003:3D31		    mov	    [bp-2], dx
seg003:3D34		    or	    dx,	ax
seg003:3D36		    jz	    short loc_D64E
seg003:3D38		    mov	    dx,	[bp-2]
seg003:3D3B		    pop	    si
seg003:3D3C		    leave
seg003:3D3D		    retn
seg003:3D3E ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3D3E
seg003:3D3E loc_D64E:				    ; CODE XREF: seg003:3D2Cj
seg003:3D3E					    ; seg003:3D36j
seg003:3D3E		    push    word ptr ds:0AEh
seg003:3D42		    push    word ptr ds:0ACh
seg003:3D46		    call    sub_D9C7
seg003:3D49		    pop	    bx
seg003:3D4A		    pop	    bx
seg003:3D4B		    mov	    cx,	ds:0ECEh
seg003:3D4F		    shr	    cx,	6
seg003:3D52		    mov	    bx,	ax
seg003:3D54		    mov	    si,	dx
seg003:3D56		    mov	    dx,	cx
seg003:3D58		    mov	    cx,	ds:0ECEh
seg003:3D5C		    shl	    cx,	0Ah
seg003:3D5F		    mov	    ax,	cx
seg003:3D61		    sub	    ax,	bx
seg003:3D63		    sbb	    dx,	si
seg003:3D65		    pop	    si
seg003:3D66		    leave
seg003:3D67		    retn
seg003:3D68 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3D68		    enter   8, 0
seg003:3D6C		    mov	    ax,	ds:0ACh
seg003:3D6F		    mov	    dx,	ds:0AEh
seg003:3D73		    mov	    [bp-4], ax
seg003:3D76		    mov	    [bp-2], dx
seg003:3D79		    test    byte ptr ds:47h, 80h
seg003:3D7E		    jnz	    short loc_D697
seg003:3D80		    test    byte ptr ds:15h, 40h
seg003:3D85		    jz	    short loc_D69C
seg003:3D87
seg003:3D87 loc_D697:				    ; CODE XREF: seg003:3D7Ej
seg003:3D87					    ; seg003:3E22j
seg003:3D87		    sub	    ax,	ax
seg003:3D89		    cwd
seg003:3D8A		    leave
seg003:3D8B		    retn
seg003:3D8C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3D8C
seg003:3D8C loc_D69C:				    ; CODE XREF: seg003:3D85j
seg003:3D8C		    cmp	    word ptr ds:0ADCh, 0
seg003:3D91		    jz	    short loc_D6C7
seg003:3D93		    push    word ptr [bp+6]
seg003:3D96		    push    word ptr [bp+4]
seg003:3D99		    call    loc_D76A
seg003:3D9C		    pop	    bx
seg003:3D9D		    pop	    bx
seg003:3D9E		    mov	    [bp-6], dx
seg003:3DA1		    or	    dx,	ax
seg003:3DA3		    jz	    short loc_D6C7
seg003:3DA5		    push    word ptr [bp+6]
seg003:3DA8		    push    word ptr [bp+4]
seg003:3DAB		    push    word ptr [bp-6]
seg003:3DAE		    push    ax
seg003:3DAF		    call    sub_F193
seg003:3DB2		    add	    sp,	8
seg003:3DB5		    leave
seg003:3DB6		    retn
seg003:3DB7 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3DB7
seg003:3DB7 loc_D6C7:				    ; CODE XREF: seg003:3D91j
seg003:3DB7					    ; seg003:3DA3j
seg003:3DB7		    mov	    ax,	[bp+4]
seg003:3DBA		    mov	    dx,	[bp+6]
seg003:3DBD		    add	    ax,	3FFFh
seg003:3DC0		    adc	    dx,	0
seg003:3DC3		    push    dx
seg003:3DC4		    push    ax
seg003:3DC5		    call    sub_D9AC
seg003:3DC8		    pop	    bx
seg003:3DC9		    pop	    bx
seg003:3DCA		    add	    ax,	[bp-4]
seg003:3DCD		    adc	    dx,	[bp-2]
seg003:3DD0		    and	    ax,	0FC00h
seg003:3DD3		    mov	    ds:9Ch, ax
seg003:3DD6		    mov	    ds:9Eh, dx
seg003:3DDA		    sub	    ax,	1
seg003:3DDD		    sbb	    dx,	0
seg003:3DE0		    push    dx
seg003:3DE1		    push    ax
seg003:3DE2		    push    word ptr [bp-2]
seg003:3DE5		    push    word ptr [bp-4]
seg003:3DE8		    call    near ptr sub_F0C8
seg003:3DEB		    add	    sp,	8
seg003:3DEE		    mov	    ax,	ds:0ACh
seg003:3DF1		    mov	    dx,	ds:0AEh
seg003:3DF5		    cmp	    [bp-2], dx
seg003:3DF8		    ja	    short loc_D725
seg003:3DFA		    jb	    short loc_D711
seg003:3DFC		    cmp	    [bp-4], ax
seg003:3DFF		    jnb	    short loc_D725
seg003:3E01
seg003:3E01 loc_D711:				    ; CODE XREF: seg003:3DFAj
seg003:3E01		    mov	    ds:9Ch, ax
seg003:3E04		    mov	    ds:9Eh, dx
seg003:3E08		    push    word ptr [bp-2]
seg003:3E0B		    push    word ptr [bp-4]
seg003:3E0E		    call    sub_D9C7
seg003:3E11		    pop	    bx
seg003:3E12		    pop	    bx
seg003:3E13		    leave
seg003:3E14		    retn
seg003:3E15 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3E15
seg003:3E15 loc_D725:				    ; CODE XREF: seg003:3DF8j
seg003:3E15					    ; seg003:3DFFj
seg003:3E15		    mov	    ax,	[bp-4]
seg003:3E18		    mov	    dx,	[bp-2]
seg003:3E1B		    mov	    ds:9Ch, ax
seg003:3E1E		    mov	    ds:9Eh, dx
seg003:3E22		    jmp	    loc_D697
seg003:3E25
seg003:3E25 ;  S	U B R O	U T I N	E 
seg003:3E25
seg003:3E25
seg003:3E25 sub_D735	    proc near		    ; CODE XREF: seg003:3D2Ep
seg003:3E25
seg003:3E25 ; FUNCTION CHUNK AT	seg002:03D2 SIZE 0000003C BYTES
seg003:3E25
seg003:3E25		    push    si
seg003:3E26		    xor	    ax,	ax
seg003:3E28		    test    byte ptr ds:1582h, 1
seg003:3E2D		    jnz	    short loc_D78E
seg003:3E2F		    cmp	    byte ptr ds:2Eh, 0Bh
seg003:3E34		    jnz	    short loc_D74C
seg003:3E36		    call    sub_F245
seg003:3E39		    mov	    ds:0AF0h, ax
seg003:3E3C
seg003:3E3C loc_D74C:				    ; CODE XREF: sub_D735+Fj
seg003:3E3C		    xor	    dx,	dx
seg003:3E3E
seg003:3E3E loc_D74E:				    ; CODE XREF: sub_D735+57j
seg003:3E3E		    mov	    ax,	sp
seg003:3E40		    mov	    bx,	ss
seg003:3E42		    sub	    word ptr ds:996h, 180h
seg003:3E48		    push    20h	; ' '
seg003:3E4A		    pop	    ss
seg003:3E4B		    assume ss:nothing
seg003:3E4B		    mov	    sp,	ds:996h
seg003:3E4F		    sub	    sp,	10h
seg003:3E52		    push    bx
seg003:3E53		    push    ax
seg003:3E54		    push    dx
seg003:3E55		    jmp	    far	ptr 18h:1E22h
seg003:3E5A ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3E5A
seg003:3E5A loc_D76A:				    ; CODE XREF: seg003:3D99p
seg003:3E5A		    push    si
seg003:3E5B		    mov	    si,	0ADAh
seg003:3E5E		    xor	    ax,	ax
seg003:3E60
seg003:3E60 loc_D770:				    ; CODE XREF: sub_D735+45j
seg003:3E60		    inc	    si
seg003:3E61		    inc	    si
seg003:3E62		    cmp	    si,	0AECh
seg003:3E66		    jnb	    short loc_D78E
seg003:3E68		    cmp	    [si], ax
seg003:3E6A		    jnz	    short loc_D770
seg003:3E6C		    push    bp
seg003:3E6D		    mov	    bp,	sp
seg003:3E6F		    mov	    dx,	[bp+8]
seg003:3E72		    mov	    ax,	[bp+6]
seg003:3E75		    pop	    bp
seg003:3E76		    mov	    cx,	400h
seg003:3E79		    div	    cx
seg003:3E7B		    xchg    ax,	dx
seg003:3E7C		    jmp	    short loc_D74E
seg003:3E7E ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3E7E
seg003:3E7E loc_D78E:				    ; CODE XREF: sub_D735+8j
seg003:3E7E					    ; sub_D735+41j
seg003:3E7E		    cwd
seg003:3E7F		    pop	    si
seg003:3E80		    retn
seg003:3E80 sub_D735	    endp ; sp =	-14h
seg003:3E80
seg003:3E81 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3E81		    pop	    ax
seg003:3E82		    pop	    dx
seg003:3E83		    add	    word ptr ds:996h, 180h
seg003:3E89		    pop	    bx
seg003:3E8A		    pop	    ss
seg003:3E8B		    assume ss:nothing
seg003:3E8B		    mov	    sp,	bx
seg003:3E8D		    pop	    si
seg003:3E8E		    retn
seg003:3E8F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3E8F		    mov	    bx,	ds:0AFAh
seg003:3E93		    mov	    cx,	[bx]
seg003:3E95		    dec	    bx
seg003:3E96		    dec	    bx
seg003:3E97		    mov	    ds:0AFAh, bx
seg003:3E9B		    cmp	    bx,	0AFAh
seg003:3E9F		    jmp	    dword ptr ds:0AF6h
seg003:3EA3 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3EA3		    jmp	    cx
seg003:3EA5
seg003:3EA5 ;  S	U B R O	U T I N	E 
seg003:3EA5
seg003:3EA5 ; Attributes: thunk
seg003:3EA5
seg003:3EA5 sub_D7B5	    proc near		    ; CODE XREF: sub_BAF2+7Cp
seg003:3EA5					    ; sub_BBCB+136p ...
seg003:3EA5		    jmp	    far	ptr 18h:22ADh
seg003:3EA5 sub_D7B5	    endp
seg003:3EA5
seg003:3EAA
seg003:3EAA ;  S	U B R O	U T I N	E 
seg003:3EAA
seg003:3EAA ; Attributes: bp-based frame
seg003:3EAA
seg003:3EAA sub_D7BA	    proc near		    ; CODE XREF: sub_C87E+15Bp
seg003:3EAA					    ; seg003:34A3p
seg003:3EAA
seg003:3EAA arg_0	    = word ptr	4
seg003:3EAA arg_2	    = word ptr	6
seg003:3EAA arg_4	    = word ptr	8
seg003:3EAA
seg003:3EAA		    push    bp
seg003:3EAB		    mov	    bp,	sp
seg003:3EAD		    push    si
seg003:3EAE		    push    di
seg003:3EAF		    push    ds
seg003:3EB0		    call    sub_D972
seg003:3EB3		    xor	    si,	si
seg003:3EB5		    xor	    di,	di
seg003:3EB7		    lsl	    cx,	bx
seg003:3EBA		    jcxz    short loc_D7F1
seg003:3EBC		    push    ds
seg003:3EBD		    pop	    es
seg003:3EBE		    push    bx
seg003:3EBF		    pop	    ds
seg003:3EC0		    add	    cx,	1
seg003:3EC3		    rcr	    cx,	1
seg003:3EC5		    cld
seg003:3EC6		    rep	movsw
seg003:3EC8		    jnb	    short loc_D7DB
seg003:3ECA		    movsb
seg003:3ECB
seg003:3ECB loc_D7DB:				    ; CODE XREF: sub_D7BA+1Ej
seg003:3ECB		    mov	    bx,	ss
seg003:3ECD		    cmp	    bx,	[bp+arg_4]
seg003:3ED0		    jnz	    short loc_D7F1
seg003:3ED2		    mov	    cx,	[bp+arg_2]
seg003:3ED5		    mov	    dx,	[bp+arg_0]
seg003:3ED8		    mov	    ax,	6
seg003:3EDB		    push    cs
seg003:3EDC		    call    near ptr sub_A1A9
seg003:3EDF		    push    ss
seg003:3EE0		    pop	    ss
seg003:3EE1
seg003:3EE1 loc_D7F1:				    ; CODE XREF: sub_D7BA+10j
seg003:3EE1					    ; sub_D7BA+26j
seg003:3EE1		    pop	    ds
seg003:3EE2		    pop	    di
seg003:3EE3		    pop	    si
seg003:3EE4		    pop	    bp
seg003:3EE5		    retn
seg003:3EE5 sub_D7BA	    endp
seg003:3EE5
seg003:3EE6
seg003:3EE6 ;  S	U B R O	U T I N	E 
seg003:3EE6
seg003:3EE6 ; Attributes: bp-based frame
seg003:3EE6
seg003:3EE6 sub_D7F6	    proc near		    ; CODE XREF: sub_D197+D4p
seg003:3EE6
seg003:3EE6 arg_0	    = word ptr	4
seg003:3EE6 arg_2	    = dword ptr	 6
seg003:3EE6 arg_6	    = word ptr	0Ah
seg003:3EE6 arg_8	    = word ptr	0Ch
seg003:3EE6
seg003:3EE6		    push    bp
seg003:3EE7		    mov	    bp,	sp
seg003:3EE9		    mov	    cx,	6
seg003:3EEC
seg003:3EEC loc_D7FC:				    ; CODE XREF: sub_D7F6+8j
seg003:3EEC		    push    0
seg003:3EEE		    loop    loc_D7FC
seg003:3EF0		    push    [bp+arg_8]
seg003:3EF3		    push    [bp+arg_6]
seg003:3EF6		    push    [bp+arg_0]
seg003:3EF9		    mov	    bx,	sp
seg003:3EFB		    push    ss
seg003:3EFC		    pop	    es
seg003:3EFD		    lds	    dx,	[bp+arg_2]
seg003:3F00		    mov	    ax,	4B00h
seg003:3F03		    int	    21h		    ; DOS - 2+ - LOAD OR EXECUTE (EXEC)
seg003:3F03					    ; DS:DX -> ASCIZ filename
seg003:3F03					    ; ES:BX -> parameter block
seg003:3F03					    ; AL = subfunc: load & execute program
seg003:3F05		    leave
seg003:3F06		    push    20h	; ' '
seg003:3F08		    pop	    ds
seg003:3F09		    assume ds:nothing
seg003:3F09		    cld
seg003:3F0A		    jnb	    short loc_D81F
seg003:3F0C		    neg	    ax
seg003:3F0E		    retn
seg003:3F0F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3F0F
seg003:3F0F loc_D81F:				    ; CODE XREF: sub_D7F6+24j
seg003:3F0F		    mov	    ah,	4Dh
seg003:3F11		    int	    21h		    ; DOS - 2+ - GET EXIT CODE OF SUBPROGRAM (WAIT)
seg003:3F13		    xor	    ah,	ah
seg003:3F15		    retn
seg003:3F15 sub_D7F6	    endp
seg003:3F15
seg003:3F16
seg003:3F16 ;  S	U B R O	U T I N	E 
seg003:3F16
seg003:3F16 ; Attributes: bp-based frame
seg003:3F16
seg003:3F16 sub_D826	    proc near		    ; CODE XREF: sub_D197+11Bp
seg003:3F16
seg003:3F16 arg_0	    = word ptr	4
seg003:3F16 arg_2	    = dword ptr	 6
seg003:3F16
seg003:3F16		    push    bp
seg003:3F17		    mov	    bp,	sp
seg003:3F19		    lds	    bx,	[bp+arg_2]
seg003:3F1C		    assume ds:nothing
seg003:3F1C		    push    word ptr [bx]
seg003:3F1E		    call    sub_D8E7
seg003:3F21		    xchg    ax,	bx
seg003:3F22		    mov	    ah,	48h
seg003:3F24		    int	    21h		    ; DOS - 2+ - ALLOCATE MEMORY
seg003:3F24					    ; BX = number of 16-byte paragraphs	desired
seg003:3F26		    jb	    short loc_D87F
seg003:3F28		    xchg    ax,	bx
seg003:3F29		    mov	    ax,	[bx+2]
seg003:3F2C		    mov	    cl,	[bx+4]
seg003:3F2F		    mov	    byte ptr [bx+5], 0
seg003:3F33		    push    50h	; 'P'
seg003:3F35		    pop	    es
seg003:3F36		    assume es:nothing
seg003:3F36		    shr	    bx,	3
seg003:3F39		    mov	    byte ptr es:[bx], 0
seg003:3F3D		    mov	    bx,	word ptr [bp+arg_2]
seg003:3F40		    mov	    [bx+2], ax
seg003:3F43		    mov	    [bx+4], cl
seg003:3F46		    mov	    cx,	[bx]
seg003:3F48		    push    bx
seg003:3F49		    pop	    ds
seg003:3F4A		    xor	    dx,	dx
seg003:3F4C		    mov	    bx,	[bp+arg_0]
seg003:3F4F		    inc	    cx
seg003:3F50		    jz	    short loc_D864
seg003:3F52		    jns	    short loc_D874
seg003:3F54
seg003:3F54 loc_D864:				    ; CODE XREF: sub_D826+3Aj
seg003:3F54		    push    cx
seg003:3F55		    mov	    cx,	8000h
seg003:3F58		    mov	    ah,	3Fh
seg003:3F5A		    int	    21h		    ; DOS - 2+ - READ FROM FILE	WITH HANDLE
seg003:3F5A					    ; BX = file	handle,	CX = number of bytes to	read
seg003:3F5A					    ; DS:DX -> buffer
seg003:3F5C		    jb	    short loc_D87F
seg003:3F5E		    mov	    dh,	80h ; ''
seg003:3F60		    pop	    cx
seg003:3F61		    sub	    ch,	80h ; ''
seg003:3F64
seg003:3F64 loc_D874:				    ; CODE XREF: sub_D826+3Cj
seg003:3F64		    mov	    ah,	3Fh
seg003:3F66		    int	    21h		    ; DOS - 2+ - READ FROM FILE	WITH HANDLE
seg003:3F66					    ; BX = file	handle,	CX = number of bytes to	read
seg003:3F66					    ; DS:DX -> buffer
seg003:3F68		    push    20h	; ' '
seg003:3F6A		    pop	    ds
seg003:3F6B		    assume ds:nothing
seg003:3F6B		    jb	    short loc_D87F
seg003:3F6D		    leave
seg003:3F6E		    retn
seg003:3F6F ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:3F6F
seg003:3F6F loc_D87F:				    ; CODE XREF: sub_D826+10j
seg003:3F6F					    ; sub_D826+46j ...
seg003:3F6F		    mov	    ax,	4CFFh
seg003:3F72		    int	    21h		    ; DOS - 2+ - QUIT WITH EXIT	CODE (EXIT)
seg003:3F72 sub_D826	    endp		    ; AL = exit	code
seg003:3F72
seg003:3F74
seg003:3F74 ;  S	U B R O	U T I N	E 
seg003:3F74
seg003:3F74 ; Attributes: bp-based frame
seg003:3F74
seg003:3F74 sub_D884	    proc near		    ; CODE XREF: sub_BB92+23p
seg003:3F74					    ; seg003:2C6Ep ...
seg003:3F74
seg003:3F74 arg_0	    = word ptr	4
seg003:3F74 arg_2	    = word ptr	6
seg003:3F74 arg_4	    = word ptr	8
seg003:3F74 arg_6	    = word ptr	0Ah
seg003:3F74 arg_8	    = byte ptr	0Ch
seg003:3F74
seg003:3F74		    push    bp
seg003:3F75		    mov	    bp,	sp
seg003:3F77		    push    8
seg003:3F79		    pop	    ds
seg003:3F7A		    assume ds:nothing
seg003:3F7A		    pushf
seg003:3F7B		    cli
seg003:3F7C		    mov	    bx,	[bp+arg_0]
seg003:3F7F		    and	    bl,	0F8h
seg003:3F82		    mov	    ax,	[bp+arg_6]
seg003:3F85		    mov	    [bx], ax
seg003:3F87		    mov	    al,	[bp+arg_8]
seg003:3F8A		    mov	    [bx+5], al
seg003:3F8D		    mov	    ax,	[bp+arg_2]
seg003:3F90		    mov	    dx,	[bp+arg_4]
seg003:3F93		    mov	    cx,	4
seg003:3F96
seg003:3F96 loc_D8A6:				    ; CODE XREF: sub_D884+26j
seg003:3F96		    shl	    ax,	1
seg003:3F98		    rcl	    dx,	1
seg003:3F9A		    loop    loc_D8A6
seg003:3F9C		    mov	    [bx+2], ax
seg003:3F9F		    mov	    [bx+4], dl
seg003:3FA2		    mov	    [bx+7], dh
seg003:3FA5		    pop	    dx
seg003:3FA6		    pop	    bp
seg003:3FA7		    pop	    ax
seg003:3FA8		    mov	    cx,	ss
seg003:3FAA		    mov	    ss,	cx
seg003:3FAC		    push    20h	; ' '
seg003:3FAE		    pop	    ds
seg003:3FAF		    assume ds:nothing
seg003:3FAF		    push    dx
seg003:3FB0		    popf
seg003:3FB1		    jmp	    ax
seg003:3FB1 sub_D884	    endp
seg003:3FB1
seg003:3FB3
seg003:3FB3 ;  S	U B R O	U T I N	E 
seg003:3FB3
seg003:3FB3 ; Attributes: bp-based frame
seg003:3FB3
seg003:3FB3 sub_D8C3	    proc near		    ; CODE XREF: sub_C64E+1E8p
seg003:3FB3					    ; sub_C87E+247p
seg003:3FB3
seg003:3FB3 arg_0	    = word ptr	4
seg003:3FB3 arg_2	    = word ptr	6
seg003:3FB3 arg_4	    = word ptr	8
seg003:3FB3 arg_6	    = byte ptr	0Ah
seg003:3FB3
seg003:3FB3		    push    bp
seg003:3FB4		    mov	    bp,	sp
seg003:3FB6		    push    es
seg003:3FB7		    push    di
seg003:3FB8		    mov	    es,	[bp+arg_0]
seg003:3FBB		    assume es:nothing
seg003:3FBB		    mov	    di,	[bp+arg_2]
seg003:3FBE		    mov	    cx,	[bp+arg_4]
seg003:3FC1		    mov	    al,	[bp+arg_6]
seg003:3FC4		    mov	    ah,	al
seg003:3FC6		    cld
seg003:3FC7		    sub	    cx,	1
seg003:3FCA		    inc	    cx
seg003:3FCB		    rcr	    cx,	1
seg003:3FCD		    rep	stosw
seg003:3FCF		    rcl	    cx,	1
seg003:3FD1		    rep	stosb
seg003:3FD3		    pop	    di
seg003:3FD4		    pop	    es
seg003:3FD5		    pop	    bp
seg003:3FD6		    retn
seg003:3FD6 sub_D8C3	    endp
seg003:3FD6
seg003:3FD7
seg003:3FD7 ;  S	U B R O	U T I N	E 
seg003:3FD7
seg003:3FD7
seg003:3FD7 sub_D8E7	    proc near		    ; CODE XREF: sub_C64E+20Ep
seg003:3FD7					    ; sub_C87E+4Ep ...
seg003:3FD7		    mov	    bx,	sp
seg003:3FD9		    mov	    ax,	ss:[bx+2]
seg003:3FDD		    add	    ax,	10h
seg003:3FE0		    rcr	    ax,	1
seg003:3FE2		    mov	    cl,	3
seg003:3FE4		    shr	    ax,	cl
seg003:3FE6		    retn
seg003:3FE6 sub_D8E7	    endp
seg003:3FE6
seg003:3FE7
seg003:3FE7 ;  S	U B R O	U T I N	E 
seg003:3FE7
seg003:3FE7
seg003:3FE7 sub_D8F7	    proc near		    ; CODE XREF: sub_D941+8j
seg003:3FE7		    push    ebx
seg003:3FE9		    mov	    ebx, [bp+4]
seg003:3FED		    push    esi
seg003:3FEF		    shl	    ebx, 4
seg003:3FF3		    movzx   esi, word ptr [bp+8]
seg003:3FF8		    mov	    es,	word ptr ds:0C2Eh
seg003:3FFC		    assume es:nothing
seg003:3FFC		    mov	    ax,	es:[ebx+esi]
seg003:4001		    mov	    dx,	es:[ebx+esi+2]
seg003:4007		    pop	    esi
seg003:4009		    pop	    ebx
seg003:400B		    pop	    bp
seg003:400C		    retn
seg003:400C sub_D8F7	    endp ; sp =	 2
seg003:400C
seg003:400D ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:400D ; START OF FUNCTION	CHUNK FOR sub_D957
seg003:400D
seg003:400D loc_D91D:				    ; CODE XREF: sub_D957+8j
seg003:400D		    push    edi
seg003:400F		    mov	    edi, [bp+arg_0]
seg003:4013		    push    esi
seg003:4015		    shl	    edi, 4
seg003:4019		    movzx   esi, bp
seg003:401D		    add	    di,	[bp+arg_4]
seg003:4020		    add	    si,	0Ah
seg003:4023		    mov	    es,	word ptr ds:0C2Eh
seg003:4027		    movs    dword ptr es:[edi],	dword ptr ss:[esi]
seg003:402B		    pop	    esi
seg003:402D		    pop	    edi
seg003:402F		    pop	    bp
seg003:4030		    retn
seg003:4030 ; END OF FUNCTION CHUNK FOR	sub_D957
seg003:4031
seg003:4031 ;  S	U B R O	U T I N	E 
seg003:4031
seg003:4031 ; Attributes: bp-based frame
seg003:4031
seg003:4031 sub_D941	    proc near		    ; CODE XREF: sub_A5AE+5BDp
seg003:4031					    ; sub_BAF2+43p ...
seg003:4031		    push    bp
seg003:4032		    mov	    bp,	sp
seg003:4034		    cmp	    byte ptr ds:2Fh, 3
seg003:4039		    jnb	    short sub_D8F7
seg003:403B		    push    ds
seg003:403C		    call    sub_D972
seg003:403F		    mov	    ax,	[bx]
seg003:4041		    mov	    dx,	[bx+2]
seg003:4044
seg003:4044 loc_D954:				    ; CODE XREF: sub_D957+19j
seg003:4044		    pop	    ds
seg003:4045		    assume ds:nothing
seg003:4045		    pop	    bp
seg003:4046		    retn
seg003:4046 sub_D941	    endp
seg003:4046
seg003:4047
seg003:4047 ;  S	U B R O	U T I N	E 
seg003:4047
seg003:4047 ; Attributes: bp-based frame
seg003:4047
seg003:4047 sub_D957	    proc near		    ; CODE XREF: sub_BBCB+EDp
seg003:4047					    ; sub_BBCB+FBp ...
seg003:4047
seg003:4047 arg_0	    = dword ptr	 4
seg003:4047 arg_4	    = word ptr	8
seg003:4047 arg_6	    = word ptr	0Ah
seg003:4047 arg_8	    = word ptr	0Ch
seg003:4047
seg003:4047 ; FUNCTION CHUNK AT	seg003:400D SIZE 00000024 BYTES
seg003:4047
seg003:4047		    push    bp
seg003:4048		    mov	    bp,	sp
seg003:404A		    cmp	    byte ptr ds:2Fh, 3
seg003:404F		    jnb	    short loc_D91D
seg003:4051		    push    ds
seg003:4052		    call    sub_D972
seg003:4055		    mov	    ax,	[bp+arg_6]
seg003:4058		    mov	    dx,	[bp+arg_8]
seg003:405B		    mov	    [bx], ax
seg003:405D		    mov	    [bx+2], dx
seg003:4060		    jmp	    short loc_D954
seg003:4060 sub_D957	    endp
seg003:4060
seg003:4062
seg003:4062 ;  S	U B R O	U T I N	E 
seg003:4062
seg003:4062
seg003:4062 sub_D972	    proc near		    ; CODE XREF: sub_D7BA+6p
seg003:4062					    ; sub_D941+Bp ...
seg003:4062		    mov	    dx,	[bp+4]
seg003:4065		    mov	    cx,	[bp+6]
seg003:4068		    shl	    dx,	1
seg003:406A		    rcl	    cx,	1
seg003:406C		    shl	    dx,	1
seg003:406E		    rcl	    cx,	1
seg003:4070		    shl	    dx,	1
seg003:4072		    rcl	    cx,	1
seg003:4074		    shl	    dx,	1
seg003:4076		    rcl	    cx,	1
seg003:4078		    mov	    bx,	ds:0C38h
seg003:407C		    test    bl,	3
seg003:407F		    jnz	    short loc_D9A3
seg003:4081		    push    8
seg003:4083		    pop	    ds
seg003:4084		    assume ds:nothing
seg003:4084		    mov	    [bx+2], dx
seg003:4087		    mov	    [bx+4], cl
seg003:408A		    mov	    [bx+7], ch
seg003:408D
seg003:408D loc_D99D:				    ; CODE XREF: sub_D972+38j
seg003:408D		    mov	    ds,	bx
seg003:408F		    assume ds:nothing
seg003:408F		    mov	    bx,	[bp+8]
seg003:4092		    retn
seg003:4093 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:4093
seg003:4093 loc_D9A3:				    ; CODE XREF: sub_D972+1Dj
seg003:4093		    mov	    ax,	7
seg003:4096		    push    cs
seg003:4097		    call    near ptr sub_A1A9
seg003:409A		    jmp	    short loc_D99D
seg003:409A sub_D972	    endp
seg003:409A
seg003:409C
seg003:409C ;  S	U B R O	U T I N	E 
seg003:409C
seg003:409C
seg003:409C sub_D9AC	    proc near		    ; CODE XREF: seg003:29BFp
seg003:409C					    ; sub_C31D+28p ...
seg003:409C		    mov	    bx,	sp
seg003:409E		    mov	    ax,	ss:[bx+2]
seg003:40A2		    mov	    dx,	ss:[bx+4]
seg003:40A6		    shr	    dx,	1
seg003:40A8		    rcr	    ax,	1
seg003:40AA		    shr	    dx,	1
seg003:40AC		    rcr	    ax,	1
seg003:40AE		    shr	    dx,	1
seg003:40B0		    rcr	    ax,	1
seg003:40B2		    shr	    dx,	1
seg003:40B4		    rcr	    ax,	1
seg003:40B6		    retn
seg003:40B6 sub_D9AC	    endp
seg003:40B6
seg003:40B7
seg003:40B7 ;  S	U B R O	U T I N	E 
seg003:40B7
seg003:40B7
seg003:40B7 sub_D9C7	    proc near		    ; CODE XREF: sub_BBCB+1F1p
seg003:40B7					    ; sub_C31D+Ap ...
seg003:40B7		    mov	    bx,	sp
seg003:40B9		    mov	    ax,	ss:[bx+2]
seg003:40BD		    mov	    dx,	ss:[bx+4]
seg003:40C1		    shl	    ax,	1
seg003:40C3		    rcl	    dx,	1
seg003:40C5		    shl	    ax,	1
seg003:40C7		    rcl	    dx,	1
seg003:40C9		    shl	    ax,	1
seg003:40CB		    rcl	    dx,	1
seg003:40CD		    shl	    ax,	1
seg003:40CF		    rcl	    dx,	1
seg003:40D1		    retn
seg003:40D1 sub_D9C7	    endp
seg003:40D1
seg003:40D2
seg003:40D2 ;  S	U B R O	U T I N	E 
seg003:40D2
seg003:40D2 ; Attributes: bp-based frame
seg003:40D2
seg003:40D2 sub_D9E2	    proc near		    ; CODE XREF: sub_D06D+18p
seg003:40D2
seg003:40D2 arg_0	    = word ptr	4
seg003:40D2 arg_2	    = word ptr	6
seg003:40D2 arg_4	    = word ptr	8
seg003:40D2 arg_6	    = word ptr	0Ah
seg003:40D2
seg003:40D2		    push    bp
seg003:40D3		    mov	    bp,	sp
seg003:40D5		    mov	    ax,	[bp+arg_0]
seg003:40D8		    mov	    dx,	[bp+arg_2]
seg003:40DB		    div	    [bp+arg_4]
seg003:40DE		    mov	    bx,	[bp+arg_6]
seg003:40E1		    mov	    ss:[bx], dx
seg003:40E4		    pop	    bp
seg003:40E5		    retn
seg003:40E5 sub_D9E2	    endp
seg003:40E5
seg003:40E6
seg003:40E6 ;  S	U B R O	U T I N	E 
seg003:40E6
seg003:40E6
seg003:40E6 sub_D9F6	    proc near		    ; CODE XREF: sub_DA18+1Cp
seg003:40E6					    ; sub_DA18+31p
seg003:40E6		    cli
seg003:40E7		    mov	    ax,	[bp+4]
seg003:40EA		    stosw
seg003:40EB		    mov	    ax,	[bp+0]
seg003:40EE		    stosw
seg003:40EF		    mov	    al,	[bp+2]
seg003:40F2		    mov	    ah,	[bp+8]
seg003:40F5		    stosw
seg003:40F6		    mov	    al,	[bp+9]
seg003:40F9		    and	    al,	0F0h
seg003:40FB		    mov	    ah,	[bp+6]
seg003:40FE		    and	    ah,	0Fh
seg003:4101		    or	    al,	ah
seg003:4103		    mov	    ah,	[bp+3]
seg003:4106		    stosw
seg003:4107		    retn
seg003:4107 sub_D9F6	    endp
seg003:4107
seg003:4108
seg003:4108 ;  S	U B R O	U T I N	E 
seg003:4108
seg003:4108
seg003:4108 sub_DA18	    proc near		    ; CODE XREF: sub_C64E+1B9p
seg003:4108					    ; sub_C87E+1E7p ...
seg003:4108		    mov	    bx,	sp
seg003:410A		    push    bp
seg003:410B		    push    edi
seg003:410D		    mov	    bp,	ss:[bx+4]
seg003:4111		    mov	    bx,	ss:[bx+2]
seg003:4115		    cmp	    byte ptr ds:2Eh, 0
seg003:411A		    jz	    short loc_DA40
seg003:411C		    and	    bl,	0F8h
seg003:411F		    mov	    di,	bx
seg003:4121		    push    8
seg003:4123		    pop	    es
seg003:4124		    assume es:nothing
seg003:4124		    call    sub_D9F6
seg003:4127		    pop	    edi
seg003:4129		    pop	    bp
seg003:412A		    pop	    ax
seg003:412B		    push    ss
seg003:412C		    pop	    ss
seg003:412D		    sti
seg003:412E		    jmp	    ax
seg003:4130 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:4130
seg003:4130 loc_DA40:				    ; CODE XREF: sub_DA18+12j
seg003:4130		    push    ds
seg003:4131		    pop	    es
seg003:4132		    assume es:nothing
seg003:4132		    xor	    edi, edi
seg003:4135		    mov	    di,	8C0h
seg003:4138		    push    di
seg003:4139		    call    sub_D9F6
seg003:413C		    pop	    di
seg003:413D		    mov	    cx,	ds
seg003:413F		    test    byte ptr [bp+8], 8
seg003:4143		    jz	    short loc_DA57
seg003:4145		    mov	    cx,	cs
seg003:4147
seg003:4147 loc_DA57:				    ; CODE XREF: sub_DA18+3Bj
seg003:4147		    lar	    ax,	cx
seg003:414A		    and	    ah,	0FEh
seg003:414D		    mov	    es:[di+5], ah
seg003:4151		    pop	    edx
seg003:4153		    pop	    bp
seg003:4154		    pop	    cx
seg003:4155		    mov	    ax,	0Ch
seg003:4158		    push    cs
seg003:4159		    call    near ptr sub_A1A9
seg003:415C		    push    ss
seg003:415D		    pop	    ss
seg003:415E		    mov	    edi, edx
seg003:4161		    cmc
seg003:4162		    mov	    ax,	0
seg003:4165		    rcl	    ax,	1
seg003:4167		    sti
seg003:4168		    jmp	    cx
seg003:4168 sub_DA18	    endp
seg003:4168
seg003:416A ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:416A ; START OF FUNCTION	CHUNK FOR sub_DA7E
seg003:416A
seg003:416A loc_DA7A:				    ; CODE XREF: sub_DA7E+Bj
seg003:416A		    pop	    si
seg003:416B		    xor	    ax,	ax
seg003:416D		    retn
seg003:416D ; END OF FUNCTION CHUNK FOR	sub_DA7E
seg003:416E
seg003:416E ;  S	U B R O	U T I N	E 
seg003:416E
seg003:416E
seg003:416E sub_DA7E	    proc near		    ; CODE XREF: sub_C87E+39p
seg003:416E					    ; sub_CAE7+24p ...
seg003:416E
seg003:416E ; FUNCTION CHUNK AT	seg003:416A SIZE 00000004 BYTES
seg003:416E
seg003:416E		    mov	    bx,	sp
seg003:4170		    push    si
seg003:4171		    mov	    si,	ss:[bx+2]
seg003:4175		    cmp	    si,	ds:97Ch
seg003:4179		    jnb	    short loc_DA7A
seg003:417B		    push    ds
seg003:417C		    push    bp
seg003:417D		    mov	    bp,	ss:[bx+4]
seg003:4181		    cmp	    byte ptr ds:2Eh, 0
seg003:4186		    jz	    short loc_DAC0
seg003:4188		    push    8
seg003:418A		    pop	    ds
seg003:418B		    assume ds:nothing
seg003:418B		    and	    si,	0FFF8h
seg003:418E
seg003:418E loc_DA9E:				    ; CODE XREF: sub_DA7E+5Bj
seg003:418E		    lodsw
seg003:418F		    mov	    [bp+4], ax
seg003:4192		    lodsw
seg003:4193		    mov	    [bp+0], ax
seg003:4196		    lodsw
seg003:4197		    mov	    [bp+2], al
seg003:419A		    mov	    [bp+8], ah
seg003:419D		    lodsw
seg003:419E		    and	    al,	0F0h
seg003:41A0		    mov	    [bp+9], al
seg003:41A3		    mov	    [bp+3], ah
seg003:41A6		    mov	    word ptr [bp+6], 0
seg003:41AB		    inc	    ax
seg003:41AC
seg003:41AC loc_DABC:				    ; CODE XREF: sub_DA7E+5Fj
seg003:41AC		    pop	    bp
seg003:41AD		    pop	    ds
seg003:41AE		    assume ds:nothing
seg003:41AE		    pop	    si
seg003:41AF		    retn
seg003:41B0 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:41B0
seg003:41B0 loc_DAC0:				    ; CODE XREF: sub_DA7E+18j
seg003:41B0		    push    ds
seg003:41B1		    pop	    es
seg003:41B2		    push    edi
seg003:41B4		    xor	    edi, edi
seg003:41B7		    mov	    di,	8C0h
seg003:41BA		    mov	    si,	di
seg003:41BC		    mov	    bx,	ss:[bx+2]
seg003:41C0		    mov	    ax,	0Bh
seg003:41C3		    push    cs
seg003:41C4		    call    near ptr sub_A1A9
seg003:41C7		    pop	    edi
seg003:41C9		    jnb	    short loc_DA9E
seg003:41CB		    xor	    ax,	ax
seg003:41CD		    jmp	    short loc_DABC
seg003:41CD sub_DA7E	    endp
seg003:41CD
seg003:41CF
seg003:41CF ;  S	U B R O	U T I N	E 
seg003:41CF
seg003:41CF
seg003:41CF sub_DADF	    proc near		    ; CODE XREF: sub_C64E+129p
seg003:41CF					    ; sub_CE9C+20p ...
seg003:41CF		    xor	    ax,	ax
seg003:41D1		    mov	    bx,	sp
seg003:41D3		    mov	    cx,	ss:[bx+2]
seg003:41D7		    push    cs
seg003:41D8		    call    near ptr sub_A1A9
seg003:41DB
seg003:41DB loc_DAEB:				    ; CODE XREF: sub_DAF1+Dj
seg003:41DB		    cmc
seg003:41DC		    sbb	    bx,	bx
seg003:41DE		    and	    ax,	bx
seg003:41E0		    retn
seg003:41E0 sub_DADF	    endp
seg003:41E0
seg003:41E1
seg003:41E1 ;  S	U B R O	U T I N	E 
seg003:41E1
seg003:41E1
seg003:41E1 sub_DAF1	    proc near		    ; CODE XREF: sub_CAE7+86p
seg003:41E1					    ; seg003:34C6p ...
seg003:41E1		    mov	    bx,	sp
seg003:41E3		    mov	    bx,	ss:[bx+2]
seg003:41E7		    mov	    ax,	1
seg003:41EA		    push    cs
seg003:41EB		    call    near ptr sub_A1A9
seg003:41EE		    jmp	    short loc_DAEB
seg003:41EE sub_DAF1	    endp
seg003:41EE
seg003:41F0 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:41F0		    mov	    di,	ss
seg003:41F2		    lar	    edi, edi
seg003:41F6		    bt	    edi, 16h
seg003:41FB		    pop	    di
seg003:41FC		    push    large [dword ptr ds:0C18h]
seg003:4201		    push    word ptr ds:0C1Ch
seg003:4205		    mov	    ds:0C18h, esp
seg003:420A		    jb	    short loc_DB22
seg003:420C		    mov	    word ptr ds:0C1Ah, 0
seg003:4212
seg003:4212 loc_DB22:				    ; CODE XREF: seg003:420Aj
seg003:4212		    mov	    word ptr ds:0C1Ch, ss
seg003:4216		    sub	    word ptr ds:996h, 180h
seg003:421C		    push    ds
seg003:421D		    pop	    ss
seg003:421E		    movzx   esp, word ptr ds:996h
seg003:4224		    sub	    sp,	10h
seg003:4227		    jmp	    di
seg003:4227 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:4229		    db 4 dup(0), 70h, 0, 0EAh, 3Dh, 42h, 70h, 2	dup(0),	51h
seg003:4229		    db 0B9h, 0,	1, 0E8h, 28h, 11h, 59h,	66h, 0EAh, 4 dup(0)
seg003:4229		    db 70h, 5 dup(0), 70h, 0, 0EAh, 59h, 42h, 70h, 2 dup(0)
seg003:4229		    db 51h, 0B9h, 1, 2,	0E8h, 0Ch, 11h,	59h, 66h, 0EAh,	4
seg003:4229		    db 3 dup(0), 70h, 5	dup(0),	70h, 0,	0EAh, 75h, 42h,	70h
seg003:4229		    db 2 dup(0), 51h, 0B9h, 2, 4, 0E8h,	0F0h, 10h, 59h,	66h
seg003:4229		    db 0EAh, 8,	3 dup(0), 70h, 5 dup(0), 70h, 0, 0EAh, 91h
seg003:4229		    db 42h, 70h, 2 dup(0), 51h,	0B9h, 3, 8, 0E8h, 0D4h,	10h
seg003:4229		    db 59h, 66h, 0EAh, 0Ch, 3 dup(0), 70h, 5 dup(0), 70h, 0
seg003:4229		    db 0EAh, 0ADh, 42h,	70h, 2 dup(0), 51h, 0B9h, 4, 10h, 0E8h
seg003:4229		    db 0B8h, 10h, 59h, 66h, 0EAh, 10h, 3 dup(0), 70h, 5	dup(0)
seg003:4229		    db 70h, 0, 0EAh, 50h, 0Ch, 18h, 2 dup(0), 51h, 0B9h, 5
seg003:4229		    db 20h, 0E8h, 34h, 10h, 59h, 66h, 0EAh, 14h, 3 dup(0)
seg003:4229		    db 70h, 5 dup(0), 70h, 0, 0EAh, 0E5h, 42h, 70h, 2 dup(0)
seg003:4229		    db 51h, 0B9h, 6, 40h, 0E8h,	80h, 10h, 59h, 66h, 0EAh, 18h
seg003:4229		    db 3 dup(0), 70h, 5	dup(0),	70h, 0,	0EAh, 1, 43h, 70h
seg003:4229		    db 2 dup(0), 51h, 0B9h, 7, 80h, 0E8h, 64h, 10h, 59h, 66h
seg003:4229		    db 0EAh, 1Ch, 3 dup(0), 70h, 5 dup(0), 70h,	0, 0EAh, 5Ch
seg003:4229		    db 0Ch, 18h, 2 dup(0), 51h,	0B9h, 8, 1, 0E8h, 48h, 10h
seg003:4229		    db 59h, 66h, 0EAh, 20h, 3 dup(0), 70h, 5 dup(0), 70h, 0
seg003:4229		    db 0EAh, 60h, 0Ch, 18h, 2 dup(0), 51h, 0B9h, 9, 2, 0E8h
seg003:4229		    db 2Ch, 10h, 59h, 66h, 0EAh, 24h, 3	dup(0),	70h, 5 dup(0)
seg003:4229		    db 70h, 0, 0EAh, 64h, 0Ch, 18h, 2 dup(0), 51h, 0B9h, 0Ah
seg003:4229		    db 4, 0E8h,	2 dup(10h), 59h, 66h, 0EAh, 28h, 3 dup(0)
seg003:4229		    db 70h, 5 dup(0), 70h, 0, 0EAh, 68h, 0Ch, 18h, 2 dup(0)
seg003:4229		    db 51h, 0B9h, 0Bh, 8, 0E8h,	0F4h, 0Fh, 59h,	66h, 0EAh
seg003:4229		    db 2Ch, 3 dup(0), 70h, 5 dup(0), 70h, 0, 0EAh, 6Ch,	0Ch
seg003:4229		    db 18h, 2 dup(0), 51h, 0B9h, 0Ch, 10h, 0E8h, 0D8h, 0Fh
seg003:4229		    db 59h, 66h, 0EAh, 30h, 3 dup(0), 70h, 5 dup(0), 70h, 0
seg003:4229		    db 0EAh, 0E2h, 1Eh,	70h, 2 dup(0), 51h, 0B9h, 0Dh, 20h
seg003:4229		    db 0E8h, 0BCh, 0Fh,	59h, 66h, 0EAh,	34h, 3 dup(0), 70h
seg003:4229		    db 5 dup(0), 70h, 0, 0EAh, 0DEh, 2Ch, 18h, 2 dup(0), 51h
seg003:4229		    db 0B9h, 0Eh, 40h, 0E8h, 0A0h, 0Fh,	59h, 66h, 0EAh,	38h
seg003:4229		    db 3 dup(0), 70h, 5	dup(0),	70h, 0,	0EAh, 0E1h, 43h, 70h
seg003:4229		    db 2 dup(0), 51h, 0B9h, 0Fh, 80h, 0E8h, 82h, 0Fh, 59h
seg003:4229		    db 66h, 0EAh, 3Ch, 3 dup(0), 70h, 5	dup(0),	70h, 0,	0EAh
seg003:4229		    db 0FDh, 43h, 70h, 2 dup(0), 51h, 0B9h, 10h, 1, 0E8h, 68h
seg003:4229		    db 0Fh, 59h, 66h, 0EAh, 40h, 3 dup(0), 70h,	0, 21h,	20h
seg003:4229		    db 31h, 32h, 18h, 0, 4, 0, 20h, 21h, 20h, 32h, 70h,	0
seg003:4229		    db 18h, 55h, 1, 2 dup(21h),	2 dup(1), 2 dup(9), 31h, 20h
seg003:4229		    db 0, 0Dh, 89h, 45h, 40h, 46h, 99h,	46h, 0E8h, 46h,	0F1h
seg003:4229		    db 46h, 1, 47h, 11h, 47h, 2Ah, 47h,	45h, 47h, 96h, 47h
seg003:4229		    db 0BFh, 47h, 0DEh,	47h, 0EFh, 47h,	0, 3, 82h, 49h,	0C9h
seg003:4229		    db 49h, 21h, 4Ah, 34h, 45h,	70h, 0,	1, 6, 11h, 48h,	2Ch
seg003:4229		    db 48h, 47h, 48h, 75h, 48h,	0B5h, 48h, 0FEh, 48h, 34h
seg003:4229		    db 45h, 70h, 0, 1, 7, 8Ah, 4Ch, 0A2h, 4Ch, 0B0h, 4Ch, 90h
seg003:4229		    db 4Eh, 0ECh, 4Eh, 0FDh, 4Fh, 23h, 50h, 34h, 45h, 70h
seg003:4229		    db 0, 2 dup(1), 60h, 50h, 34h, 45h,	70h, 0,	1, 4, 3Eh
seg003:4229		    db 4Ah, 14h, 4Bh, 65h, 4Bh,	98h, 4Bh, 34h, 45h, 70h, 0
seg003:4229		    db 1, 4, 47h, 45h, 47h, 45h, 47h, 45h, 47h,	45h, 34h, 45h
seg003:4229		    db 70h, 0, 1, 0, 34h, 45h, 70h, 0, 1, 2, 8Ah, 50h, 0A0h
seg003:4229		    db 51h, 0, 3, 17h, 52h, 2Fh, 52h, 3Ah, 52h,	34h
seg003:44A5		    db 45h, 70h, 0, 1, 0, 34h, 45h, 70h, 0, 1, 2 dup(0), 2
seg003:44A5		    db 48h, 52h, 7Fh, 52h, 2 dup(0), 20h, 44h, 3Ch, 44h, 48h
seg003:44A5		    db 44h, 5Ah, 44h, 6Eh, 44h,	76h, 44h
seg003:44C4 word_DDD4	    dw 4484h		    ; DATA XREF: sub_A3C9+2Er
seg003:44C6 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:44C6		    xchg    ax,	dx
seg003:44C7		    inc	    sp
seg003:44C8		    cbw
seg003:44C9		    inc	    sp
seg003:44CA		    sahf
seg003:44CB		    inc	    sp
seg003:44CC		    stosb
seg003:44CD		    inc	    sp
seg003:44CE		    mov	    ax,	0B844h
seg003:44D1		    inc	    sp
seg003:44D2		    mov	    al,	44h ; 'D'
seg003:44D4		    mov	    dl,	44h ; 'D'
seg003:44D6
seg003:44D6 ;  S	U B R O	U T I N	E 
seg003:44D6
seg003:44D6 ; Attributes: bp-based frame
seg003:44D6
seg003:44D6 sub_DDE6	    proc near		    ; CODE XREF: sub_A1A9+17p
seg003:44D6
seg003:44D6 var_4	    = dword ptr	-4
seg003:44D6 arg_26	    = word ptr	28h
seg003:44D6 arg_2A	    = byte ptr	2Ch
seg003:44D6
seg003:44D6		    pushad
seg003:44D8		    push    es
seg003:44D9		    push    ds
seg003:44DA		    mov	    bx,	ss
seg003:44DC		    mov	    ebp, esp
seg003:44DF		    lar	    ebx, ebx
seg003:44E3		    bt	    ebx, 16h
seg003:44E8		    jb	    short loc_DE00
seg003:44EA		    movzx   ebp, sp
seg003:44EE		    xchg    bx,	bx
seg003:44F0
seg003:44F0 loc_DE00:				    ; CODE XREF: sub_DDE6+12j
seg003:44F0		    mov	    bx,	[ebp+arg_26]
seg003:44F4		    cmp	    bx,	71h ; 'q'
seg003:44F7		    jb	    short loc_DE14
seg003:44F9		    lar	    ebx, ebx
seg003:44FD		    bt	    ebx, 16h
seg003:4502		    xchg    bx,	bx
seg003:4504
seg003:4504 loc_DE14:				    ; CODE XREF: sub_DDE6+21j
seg003:4504		    sbb	    bx,	bx
seg003:4506		    push    bx
seg003:4507		    push    0FFFFh
seg003:4509		    and	    esi, [ebp+var_4]
seg003:450E		    and	    edi, [ebp+var_4]
seg003:4513		    cmp	    ah,	0Fh
seg003:4516		    jnb	    short loc_DE52
seg003:4518		    and	    [ebp+arg_2A], 0FEh
seg003:451D		    xor	    bx,	bx
seg003:451F		    mov	    bl,	ah
seg003:4521		    shl	    bx,	1
seg003:4523		    mov	    si,	cs:[bx+44B8h]
seg003:4528		    xor	    ah,	ah
seg003:452A		    mov	    bx,	ax
seg003:452C		    mov	    ax,	cs:[si-2]
seg003:4530		    test    al,	al
seg003:4532		    js	    short loc_DE4E
seg003:4534		    cmp	    bl,	ah
seg003:4536		    jnb	    short loc_DE52
seg003:4538		    shl	    bx,	1
seg003:453A		    cld
seg003:453B		    jmp	    word ptr cs:[bx+si]
seg003:453E ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:453E
seg003:453E loc_DE4E:				    ; CODE XREF: sub_DDE6+5Cj
seg003:453E		    jmp	    dword ptr cs:[si-6]
seg003:4542 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:4542
seg003:4542 loc_DE52:				    ; CODE XREF: sub_DDE6+40j
seg003:4542					    ; sub_DDE6+60j ...
seg003:4542		    or	    [ebp+arg_2A], 1
seg003:4547
seg003:4547 loc_DE57:				    ; CODE XREF: seg003:loc_DFA6j
seg003:4547		    mov	    esp, ebp
seg003:454A		    pop	    ds
seg003:454B		    pop	    es
seg003:454C		    popad
seg003:454E		    iretd
seg003:454E sub_DDE6	    endp ; sp =	 24h
seg003:454E
seg003:4550
seg003:4550 ;  S	U B R O	U T I N	E 
seg003:4550
seg003:4550
seg003:4550 sub_DE60	    proc near		    ; CODE XREF: seg003:4640p
seg003:4550		    movzx   ebx, word ptr [ebp+14h]
seg003:4556		    mov	    ax,	8
seg003:4559		    mov	    ds,	ax
seg003:455B		    assume ds:nothing
seg003:455B		    cmp	    bx,	ds:8
seg003:455F		    jnb	    short loc_DE52
seg003:4561		    and	    bx,	0FFF8h
seg003:4564		    jz	    short loc_DE52
seg003:4566		    xor	    cx,	cx
seg003:4568		    mov	    cl,	[bx+5]
seg003:456B		    test    cl,	80h
seg003:456E		    jz	    short loc_DE95
seg003:4570		    push    es
seg003:4571		    push    50h	; 'P'
seg003:4573		    pop	    es
seg003:4574		    assume es:nothing
seg003:4574		    push    si
seg003:4575		    mov	    si,	bx
seg003:4577		    shr	    si,	3
seg003:457A		    mov	    al,	es:[si]
seg003:457D		    pop	    si
seg003:457E		    pop	    es
seg003:457F		    assume es:nothing
seg003:457F		    and	    al,	0F0h
seg003:4581		    cmp	    al,	0F0h ; '๐'
seg003:4583		    jz	    short loc_DE97
seg003:4585
seg003:4585 loc_DE95:				    ; CODE XREF: sub_DE60+1Ej
seg003:4585		    clc
seg003:4586		    retn
seg003:4587 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:4587
seg003:4587 loc_DE97:				    ; CODE XREF: sub_DE60+33j
seg003:4587		    stc
seg003:4588		    retn
seg003:4588 sub_DE60	    endp
seg003:4588
seg003:4589 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:4589		    mov	    si,	[ebp+1Ch]
seg003:458D		    or	    si,	si
seg003:458F		    jle	    short loc_DE52
seg003:4591		    push    4547h
seg003:4594		    push    20h	; ' '
seg003:4596		    pop	    es
seg003:4597		    assume es:nothing
seg003:4597		    push    8
seg003:4599		    pop	    ds
seg003:459A
seg003:459A loc_DEAA:				    ; CODE XREF: seg003:462Aj
seg003:459A					    ; seg003:463Dj
seg003:459A		    mov	    cx,	ds:8
seg003:459E		    mov	    bx,	ds:2
seg003:45A2		    shl	    bx,	3
seg003:45A5		    test    byte ptr es:14h, 80h
seg003:45AB		    jz	    short loc_DEC2
seg003:45AD		    mov	    bx,	es:0C0Eh
seg003:45B2
seg003:45B2 loc_DEC2:				    ; CODE XREF: seg003:45ABj
seg003:45B2		    add	    bx,	5
seg003:45B5		    sub	    cx,	bx
seg003:45B7		    jbe	    short loc_DF2D
seg003:45B9		    shr	    cx,	3
seg003:45BC		    xor	    ax,	ax
seg003:45BE
seg003:45BE loc_DECE:				    ; CODE XREF: seg003:45D7j
seg003:45BE					    ; seg003:4613j
seg003:45BE		    xor	    dx,	dx
seg003:45C0
seg003:45C0 loc_DED0:				    ; CODE XREF: seg003:45C5j
seg003:45C0		    add	    bx,	8
seg003:45C3		    cmp	    [bx], al
seg003:45C5		    loopne  loc_DED0
seg003:45C7		    jcxz    short loc_DF25
seg003:45C9
seg003:45C9 loc_DED9:				    ; CODE XREF: seg003:45D3j
seg003:45C9		    inc	    dx
seg003:45CA		    cmp	    dx,	si
seg003:45CC		    jz	    short loc_DEE9
seg003:45CE		    add	    bx,	8
seg003:45D1		    cmp	    [bx], al
seg003:45D3		    loope   loc_DED9
seg003:45D5		    jcxz    short loc_DF25
seg003:45D7		    jmp	    short loc_DECE
seg003:45D9 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:45D9
seg003:45D9 loc_DEE9:				    ; CODE XREF: seg003:45CCj
seg003:45D9					    ; seg003:45FAj
seg003:45D9		    and	    bl,	0F8h
seg003:45DC		    mov	    es:0C0Eh, bx
seg003:45E1		    mov	    ah,	93h ; ''
seg003:45E3		    xchg    ax,	[bx+4]
seg003:45E6		    test    ah,	ah
seg003:45E8		    jnz	    short loc_DF11
seg003:45EA		    xor	    al,	al
seg003:45EC		    mov	    [bx], ax
seg003:45EE		    mov	    [bx+2], ax
seg003:45F1		    mov	    [bx+6], ax
seg003:45F4		    dec	    dx
seg003:45F5		    jz	    short loc_DF0C
seg003:45F7		    sub	    bx,	8
seg003:45FA		    jmp	    short loc_DEE9
seg003:45FC ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:45FC
seg003:45FC loc_DF0C:				    ; CODE XREF: seg003:45F5j
seg003:45FC		    mov	    [ebp+20h], bx
seg003:4600		    retn
seg003:4601 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:4601
seg003:4601 loc_DF11:				    ; CODE XREF: seg003:45E8j
seg003:4601					    ; seg003:460Ej
seg003:4601		    mov	    [bx+4], ax
seg003:4604		    add	    bx,	8
seg003:4607		    cmp	    dx,	si
seg003:4609		    jz	    short loc_DF20
seg003:460B		    inc	    dx
seg003:460C		    xor	    ax,	ax
seg003:460E		    jmp	    short loc_DF11
seg003:4610 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:4610
seg003:4610 loc_DF20:				    ; CODE XREF: seg003:4609j
seg003:4610		    add	    bx,	5
seg003:4613		    jmp	    short loc_DECE
seg003:4615 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:4615
seg003:4615 loc_DF25:				    ; CODE XREF: seg003:45C7j
seg003:4615					    ; seg003:45D5j
seg003:4615		    test    byte ptr es:14h, 80h
seg003:461B		    jz	    short loc_DF40
seg003:461D
seg003:461D loc_DF2D:				    ; CODE XREF: seg003:45B7j
seg003:461D		    mov	    ax,	78h ; 'x'
seg003:4620		    xchg    ax,	es:0C0Eh
seg003:4625		    cmp	    ax,	80h ; ''
seg003:4628		    jb	    short loc_DF3D
seg003:462A		    jmp	    loc_DEAA
seg003:462D ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:462D
seg003:462D loc_DF3D:				    ; CODE XREF: seg003:4628j
seg003:462D					    ; seg003:4635j ...
seg003:462D		    jmp	    loc_DE52
seg003:4630 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:4630
seg003:4630 loc_DF40:				    ; CODE XREF: seg003:461Bj
seg003:4630		    cmp	    word ptr ds:2, 10h
seg003:4635		    jbe	    short loc_DF3D
seg003:4637		    mov	    word ptr ds:2, 10h
seg003:463D		    jmp	    loc_DEAA
seg003:4640 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:4640		    call    sub_DE60
seg003:4643		    jb	    short loc_DF3D
seg003:4645		    jcxz    short loc_DF3D
seg003:4647		    cmp	    bx,	80h ; ''
seg003:464B		    jb	    short loc_DF3D
seg003:464D		    xor	    ax,	ax
seg003:464F		    mov	    [bx+5], al
seg003:4652		    push    50h	; 'P'
seg003:4654		    pop	    ds
seg003:4655		    assume ds:nothing
seg003:4655		    shr	    bx,	3
seg003:4658		    mov	    [bx], al
seg003:465A		    mov	    cx,	[ebp+0]
seg003:465E		    shr	    cx,	3
seg003:4661		    xor	    cx,	bx
seg003:4663		    jnz	    loc_DF7B
seg003:4667		    mov	    [ebp+0], cx
seg003:466B
seg003:466B loc_DF7B:				    ; CODE XREF: seg003:4663j
seg003:466B		    mov	    cx,	[ebp+2]
seg003:466F		    shr	    cx,	3
seg003:4672		    xor	    cx,	bx
seg003:4674		    jnz	    loc_DF8C
seg003:4678		    mov	    [ebp+2], cx
seg003:467C
seg003:467C loc_DF8C:				    ; CODE XREF: seg003:4674j
seg003:467C		    mov	    cx,	fs
seg003:467E		    shr	    cx,	3
seg003:4681		    xor	    cx,	bx
seg003:4683		    jnz	    loc_DF99
seg003:4687		    mov	    fs,	cx
seg003:4689
seg003:4689 loc_DF99:				    ; CODE XREF: seg003:4683j
seg003:4689		    mov	    cx,	gs
seg003:468B		    shr	    cx,	3
seg003:468E		    xor	    cx,	bx
seg003:4690		    jnz	    loc_DFA6
seg003:4694		    mov	    gs,	cx
seg003:4696
seg003:4696 loc_DFA6:				    ; CODE XREF: seg003:4690j
seg003:4696		    jmp	    loc_DE57
seg003:4696 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:4699 aJp		    db 'jPธ',8,0
seg003:469E		    db 7, 0Fh, 3, 0C8h,	33h, 0FFh, 8Eh,	0D8h, 0C1h, 0E9h, 3
seg003:469E		    db 67h, 8Bh, 45h, 14h, 0BAh, 10h, 0, 0F7h, 0E2h, 93h, 0B0h
seg003:469E		    db 0F0h, 0F2h, 0AEh, 75h, 17h, 8Bh,	0F7h, 4Eh, 0C1h, 0E6h
seg003:469E		    db 3, 39h, 5Ch, 2, 75h, 0F1h, 38h, 54h, 4, 75h, 0ECh, 67h
seg003:469E		    db 89h, 75h, 20h, 0E9h, 77h, 0FEh, 52h, 53h, 0BEh, 1, 0
seg003:469E		    db 0E8h, 0BCh, 0FEh, 0C7h, 7, 2 dup(0FFh), 8Fh, 47h, 2
seg003:469E		    db 5Ah, 88h, 57h, 4, 0B0h, 0F0h, 0E9h, 6Ah,	0FFh, 67h
seg003:469E		    db 0C7h, 45h, 20h, 8, 0, 0E9h, 56h,	0FEh, 67h, 8Bh,	5Dh
seg003:469E		    db 14h, 6Ah, 50h, 1Fh, 0C1h, 0EBh, 3, 80h, 0Fh, 80h, 0E9h
seg003:469E		    db 46h, 0FEh, 67h, 8Bh, 5Dh, 14h, 6Ah, 50h,	1Fh, 0C1h
seg003:469E		    db 0EBh, 3,	80h, 27h, 7Fh, 0E9h, 36h, 0FEh,	0E8h, 3Ch
seg003:469E		    db 0FEh, 0E3h, 7Dh,	8Bh, 47h, 2, 67h, 89h, 45h, 18h, 8Ah
seg003:469E		    db 47h, 4, 8Ah, 67h, 7, 67h, 89h, 45h, 1Ch,	0E9h, 1Dh
seg003:469E		    db 0FEh, 0E8h, 23h,	0FEh, 72h, 64h,	0E3h, 62h, 67h,	8Bh
seg003:469E		    db 45h, 18h, 89h, 47h, 2, 67h, 8Bh,	45h, 1Ch, 88h, 47h
seg003:469E		    db 4, 88h, 67h, 7, 0E9h, 2,	0FEh, 0E8h, 8, 0FEh, 0Fh, 82h
seg003:469E		    db 47h, 0, 0E3h, 45h, 6Ah, 20h, 7, 26h, 80h, 3Eh, 2Fh
seg003:469E		    db 0, 3, 72h, 31h, 66h, 50h, 67h, 8Bh, 45h,	1Ch, 8Bh, 0C8h
seg003:469E		    db 66h, 0C1h, 0E0h,	10h, 67h, 8Bh, 45h, 18h, 8Ah, 57h
seg003:469E		    db 6, 80h, 0E2h, 70h, 0F7h,	0C1h, 0F0h, 0FFh, 74h, 7, 66h
seg003:469E		    db 0C1h, 0E8h, 0Ch,	80h, 0CAh, 80h,	89h, 7,	66h, 0C1h
seg003:469E		    db 0E8h, 10h, 0Ah, 0C2h, 88h, 47h, 6, 0E9h,	0BDh, 0FDh
seg003:469E		    db 67h, 8Bh, 45h, 18h, 89h,	7, 0E9h, 0B4h, 0FDh, 0E9h
seg003:469E		    db 0ACh, 0FDh, 8Bh,	0C1h, 0A8h, 80h, 75h, 3, 25h, 10h
seg003:469E		    db 0, 25h, 10h, 2Fh, 3Dh, 10h, 0, 75h, 0ECh, 51h, 0E8h
seg003:469E		    db 0A5h, 0FDh, 59h,	72h, 0E5h, 8Bh,	47h, 5,	25h, 0,	0Fh
seg003:469E		    db 80h, 0E5h, 0F0h,	0Bh, 0C1h, 89h,	47h, 5,	0E9h, 88h
seg003:469E		    db 0FDh, 0E8h, 8Eh,	0FDh, 0E3h, 0CFh, 0BEh,	1, 0, 53h
seg003:469E		    db 0E8h, 0C9h, 0FDh, 5Eh, 8Bh, 0FBh, 1Eh, 7, 2 dup(0A5h)
seg003:469E		    db 0ADh, 80h, 0E4h,	0E0h, 80h, 0CCh, 12h, 0ABh, 0A5h, 0E9h
seg003:469E		    db 69h, 0FDh, 0E8h,	6Fh, 0FDh, 0E3h, 0B0h, 66h, 8Bh, 0F3h
seg003:469E		    db 67h, 66h, 0A5h, 67h, 66h, 0A5h, 0E9h, 58h, 0FDh,	0E8h
seg003:469E		    db 5Eh, 0FDh, 72h, 9Fh, 0E3h, 9Dh, 66h, 8Bh, 0F7h, 66h
seg003:469E		    db 8Bh, 0FBh, 6, 1Eh, 7, 1Fh, 67h, 0F6h, 46h, 5, 10h, 75h
seg003:469E		    db 0DFh, 67h, 0F6h,	46h, 5,	7Fh, 74h, 0D8h,	0E9h, 31h
seg003:469E		    db 0FDh, 6Ah, 38h, 1Fh, 67h, 8Bh, 75h, 14h,	81h, 0E6h
seg003:469E		    db 0FFh, 0,	0C1h, 0E6h, 2, 0ADh, 67h, 89h, 45h, 18h, 0ADh
seg003:469E		    db 67h, 89h, 45h, 1Ch, 0E9h, 1Bh, 0FDh, 6Ah, 38h, 7, 67h
seg003:469E		    db 8Bh, 7Dh, 14h, 81h, 0E7h, 0FFh, 0, 0C1h,	0E7h, 2, 67h
seg003:469E		    db 8Bh, 45h, 18h, 0ABh, 67h, 8Bh, 45h, 1Ch,	0ABh, 0E9h
seg003:469E		    db 0, 0FDh,	67h, 80h, 7Dh, 14h, 10h, 77h, 24h, 0E8h, 0F7h
seg003:469E		    db 4, 0E8h,	0E4h, 5, 67h, 8Ah, 5Dh,	14h, 32h, 0FFh,	6Bh
seg003:469E		    db 0DBh, 1Ch, 66h, 8Bh, 87h, 29h, 42h, 67h,	66h, 89h, 45h
seg003:469E		    db 18h, 8Bh, 87h, 2Dh, 42h,	67h, 89h, 45h, 1Ch, 0E9h, 0D5h
seg003:469E		    db 0FCh, 0E9h, 0CDh, 0FCh, 67h, 8Ah, 5Dh, 14h, 80h,	0FBh
seg003:469E		    db 10h, 77h, 0F4h, 6Ah, 20h, 1Fh, 32h, 0FFh, 53h, 6Ah
seg003:469E		    db 0, 0E8h,	0BFh, 4, 0E8h, 0ACh, 5,	5Bh, 5Fh, 6Bh, 0FFh
seg003:469E		    db 1Ch, 67h, 66h, 8Bh, 45h,	18h, 66h, 89h, 81h, 29h, 42h
seg003:469E		    db 67h, 8Bh, 45h, 1Ch, 89h
seg003:48A0		    db 81h, 2Dh, 42h, 66h, 0Fh,	2, 0C0h, 66h, 0Fh, 0BAh, 0E0h
seg003:48A0		    db 16h, 1Bh, 0C9h, 21h, 89h, 2Bh, 42h, 0E9h, 92h, 0FCh
seg003:48A0		    db 67h, 8Ah, 45h, 14h, 32h,	0E4h, 8Bh, 0F0h, 3Ch, 10h
seg003:48A0		    db 76h, 1Ah, 6Ah, 10h, 1Fh,	0C1h, 0E6h, 3, 0ADh, 67h, 89h
seg003:48A0		    db 45h, 18h, 8Bh, 44h, 4, 67h, 89h,	45h, 1Ah, 0ADh,	67h
seg003:48A0		    db 89h, 45h, 1Ch, 0E9h, 6Ch, 0FCh, 0E8h, 6Ah, 4, 6Bh, 0F6h
seg003:48A0		    db 1Ch, 66h, 8Bh, 84h, 3Fh,	42h, 67h, 66h, 89h, 45h, 18h
seg003:48A0		    db 8Bh, 84h, 43h, 42h, 67h,	89h, 45h, 1Ch, 0E9h, 51h, 0FCh
seg003:48A0		    db 57h, 6Ah, 16h, 0E8h, 4Ch, 4, 0EBh, 8Eh, 67h, 8Ah, 45h
seg003:48A0		    db 14h, 32h, 0E4h, 8Bh, 0F8h, 3Ch, 10h, 76h, 0ECh, 6Ah
seg003:48A0		    db 10h, 7, 0C1h, 0E7h, 3, 67h, 8Bh,	45h, 18h, 0ABh,	67h
seg003:48A0		    db 8Bh, 45h, 1Ch, 0ABh, 66h, 0Fh, 2, 0C0h, 66h, 0Fh, 0BAh
seg003:48A0		    db 0E0h, 16h, 1Bh, 0C9h, 67h, 23h, 4Dh, 1Ah, 26h, 89h
seg003:48A0		    db 4Dh, 2, 0E9h, 17h, 0FCh,	0FEh, 6, 82h, 11h, 66h,	57h
seg003:48A0		    db 0E8h, 0B7h, 0F8h, 66h, 9Ch, 66h,	0Eh, 6Ah, 0, 0E8h
seg003:48A0		    db 5Ch, 0C3h, 66h, 0Fh, 0B2h, 26h, 18h, 0Ch, 9Ch, 81h
seg003:48A0		    db 6, 96h, 9, 80h, 1, 9Dh, 8Fh, 6, 1Ch, 0Ch, 66h, 8Fh
seg003:48A0		    db 6, 18h, 0Ch, 66h, 5Fh, 0FEh, 0Eh, 82h, 11h, 0C3h, 6Ah
seg003:48A0		    db 20h, 1Fh, 0B1h, 3, 86h, 0Eh, 80h, 9, 67h, 8Bh, 5Dh
seg003:48A0		    db 14h, 0E8h, 0C0h,	0FFh, 88h, 0Eh,	80h, 9,	72h, 1,	0C3h
seg003:48A0		    db 67h, 89h, 45h, 20h, 67h,	89h, 5Dh, 14h, 0E9h, 0C0h
seg003:48A0		    db 0FBh, 0B4h, 48h,	0E8h, 0D9h, 0FFh, 67h, 89h, 45h, 18h
seg003:48A0		    db 93h, 6Ah, 8, 1Fh, 8Ah, 57h, 4, 8Bh, 47h,	2, 0B6h, 0
seg003:48A0		    db 0B9h, 10h, 0, 0F7h, 0F1h, 67h, 89h, 45h,	20h, 6Ah, 50h
seg003:48A0		    db 1Fh, 0C1h, 0EBh,	3, 80h,	0Fh, 0F0h, 43h,	0F6h, 47h
seg003:48A0		    db 0FFh, 2,	75h, 0F6h, 0E9h, 94h, 0FBh, 67h, 8Bh, 5Dh
seg003:48A0		    db 18h, 0E8h, 9Ch, 0FBh, 73h, 0C3h,	6Ah, 50h, 1Fh, 67h
seg003:48A0		    db 8Eh, 45h, 18h, 8Ch, 0C3h, 0C1h, 0EBh, 3,	0C3h, 0E8h
seg003:48A0		    db 0E7h, 0FFh, 80h,	27h, 0Fh, 43h, 0F6h, 47h, 0FFh,	2
seg003:48A0		    db 75h, 0F6h, 0B4h,	49h, 0E8h, 85h,	0FFh, 67h, 8Bh,	5Dh
seg003:48A0		    db 18h, 0C1h, 0EBh,	3, 67h,	8Bh, 4Dh, 0, 0C1h, 0E9h, 3
seg003:48A0		    db 33h, 0CBh, 0Fh, 85h, 4, 0, 67h, 89h, 4Dh, 0, 67h, 8Bh
seg003:48A0		    db 4Dh, 2, 0C1h, 0E9h, 3, 33h, 0CBh, 0Fh, 85h, 4, 0, 67h
seg003:48A0		    db 89h, 4Dh, 2, 8Ch, 0E1h, 0C1h, 0E9h, 3, 33h, 0CBh, 0Fh
seg003:48A0		    db 85h, 2, 0, 8Eh, 0E1h, 8Ch, 0E9h,	0C1h, 0E9h, 3, 33h
seg003:48A0		    db 0CBh, 0Fh, 85h, 2, 0, 8Eh, 2 dup(0E9h), 26h, 0FBh, 0E8h
seg003:48A0		    db 8Fh, 0FFh, 0F6h,	7, 2, 75h, 12h,	67h, 8Bh, 5Dh, 14h
seg003:48A0		    db 81h, 0FBh, 0, 10h, 77h, 8, 0B4h,	4Ah, 0E8h, 28h,	0FFh
seg003:48A0		    db 0E9h, 0Ch, 0FBh,	0E9h, 41h, 0FFh, 6Ah, 20h, 1Fh,	66h
seg003:48A0		    db 57h, 0E8h, 0AAh,	0F7h, 0E8h, 99h, 0D7h, 66h, 0Fh, 0B2h
seg003:48A0		    db 26h, 18h, 0Ch, 81h, 6, 96h, 9, 80h, 1, 8Fh, 6, 1Ch
seg003:48A0		    db 0Ch, 66h, 8Fh, 6, 18h, 0Ch, 66h,	5Fh, 8Ah, 0DCh,	8Ah
seg003:48A0		    db 0FAh, 8Ah, 0CEh,	0B5h, 0, 51h, 53h, 8Bh,	16h, 0FCh
seg003:48A0		    db 11h, 0A1h, 0FAh,	11h, 8Ah, 0DCh,	8Ah, 0FAh, 8Ah,	0CEh
seg003:48A0		    db 0E8h, 90h, 0, 67h, 8Eh, 45h, 2, 67h, 0ABh, 8Bh, 0C2h
seg003:48A0		    db 67h, 0ABh, 8Bh, 0C3h, 67h, 0ABh,	8Bh, 0C1h, 67h,	0ABh
seg003:48A0		    db 8Bh, 0C3h, 67h, 0ABh, 8Bh, 0C1h,	67h, 0ABh, 0A1h, 9Dh
seg003:48A0		    db 0, 2Bh, 6, 99h, 0, 8Ah, 16h, 9Fh, 0, 1Ah, 16h
seg003:4AA1		    db 9Bh, 0, 0B6h, 0,	67h, 0ABh, 8Bh,	0C2h, 67h, 0ABh, 8Bh
seg003:4AA1		    db 0C3h, 67h, 0ABh,	5Bh, 59h, 8Bh, 0C1h, 67h, 0ABh,	8Bh
seg003:4AA1		    db 0C3h, 67h, 0ABh,	8Bh, 0C1h, 67h,	0ABh, 0A1h, 9Dh, 0
seg003:4AA1		    db 2Bh, 6, 99h, 0, 8Ah, 16h, 9Fh, 0, 1Ah, 16h, 9Bh,	0
seg003:4AA1		    db 0B6h, 0,	67h, 0ABh, 8Bh,	0C2h, 67h, 0ABh, 8Bh, 0C3h
seg003:4AA1		    db 67h, 0ABh, 8Bh, 0C1h, 67h, 0ABh,	0B8h, 2	dup(0FFh)
seg003:4AA1		    db 66h, 0B9h, 8, 3 dup(0), 0F3h, 67h, 0ABh,	0E9h, 5Ch
seg003:4AA1		    db 0FAh, 6Ah, 8, 7,	0BBh, 60h, 0, 26h, 89h,	47h, 2,	26h
seg003:4AA1		    db 88h, 57h, 4, 26h, 88h, 77h, 7, 8Eh, 2 dup(0C3h),	0B9h
seg003:4AA1		    db 4, 0, 0D1h, 0EAh, 0D1h, 0D8h, 0E2h, 0FAh, 0C3h, 0B9h
seg003:4AA1		    db 4, 0, 0D1h, 0E0h, 0D1h, 0D2h, 0E2h, 0FAh, 0C3h, 6Ah
seg003:4AA1		    db 20h, 1Fh, 67h, 8Bh, 55h,	14h, 67h, 8Bh, 45h, 1Ch, 66h
seg003:4AA1		    db 57h, 0E8h, 0CCh,	0F6h, 52h, 50h,	0E8h, 70h, 0DEh, 66h
seg003:4AA1		    db 0Fh, 0B2h, 26h, 18h, 0Ch, 81h, 6, 96h, 9, 80h, 1, 8Fh
seg003:4AA1		    db 6, 1Ch, 0Ch, 66h, 8Fh, 6, 18h, 0Ch, 66h,	5Fh, 8Bh, 0CAh
seg003:4AA1		    db 0Bh, 0C8h, 74h, 1Ch, 0E8h, 0C1h,	0FFh, 67h, 89h,	55h
seg003:4AA1		    db 14h, 67h, 89h, 45h, 1Ch,	0A1h, 10h, 0Ch,	67h, 89h, 45h
seg003:4AA1		    db 4, 0A1h,	12h, 0Ch, 67h, 89h, 45h, 8, 0E9h, 0E5h,	0F9h
seg003:4AA1		    db 0E9h, 0DDh, 0F9h, 6Ah, 20h, 1Fh,	67h, 8Bh, 55h, 8, 67h
seg003:4AA1		    db 8Bh, 45h, 4, 66h, 57h, 0E8h, 7Bh, 0F6h, 52h, 50h, 0E8h
seg003:4AA1		    db 67h, 0DFh, 66h, 0Fh, 0B2h, 26h, 18h, 0Ch, 81h, 6, 96h
seg003:4AA1		    db 9, 80h, 1, 8Fh, 6, 1Ch, 0Ch, 66h, 8Fh, 6, 18h, 0Ch
seg003:4AA1		    db 66h, 5Fh, 0Bh, 0C0h, 74h, 0CDh, 0E9h, 0AFh, 0F9h, 6Ah
seg003:4AA1		    db 20h, 1Fh, 67h, 8Bh, 75h,	8, 67h,	8Bh, 4Dh, 4, 67h, 8Bh
seg003:4AA1		    db 55h, 14h, 67h, 8Bh, 45h,	1Ch, 66h, 57h, 0E8h, 40h, 0F6h
seg003:4AA1		    db 52h, 50h, 56h, 51h, 0E8h, 88h, 0DFh, 66h, 0Fh, 0B2h
seg003:4AA1		    db 26h, 18h, 0Ch, 81h, 6, 96h, 9, 80h, 1, 8Fh, 6, 1Ch
seg003:4AA1		    db 0Ch, 66h, 8Fh, 6, 18h, 0Ch, 66h,	5Fh, 8Bh, 0C8h,	0Bh
seg003:4AA1		    db 0CAh, 74h, 8Eh, 0E8h, 33h, 0FFh,	67h, 89h, 55h, 14h
seg003:4AA1		    db 67h, 89h, 45h, 1Ch, 0E9h, 65h, 0F9h, 0B9h, 20h, 0, 8Eh
seg003:4AA1		    db 0D9h, 0A1h, 96h,	9, 8Bh,	0D8h, 81h, 0EBh, 56h, 1, 89h
seg003:4AA1		    db 7, 89h, 1Eh, 96h, 9, 8Ch, 57h, 2, 66h, 89h, 6Fh,	0Ch
seg003:4AA1		    db 8Ch, 47h, 6, 66h, 89h, 7Fh, 8, 0C7h, 47h, 22h, 2	dup(0FFh)
seg003:4AA1		    db 26h, 67h, 8Bh, 4Fh, 30h,	66h, 8Bh, 0F7h,	0E3h, 18h
seg003:4AA1		    db 51h, 0B8h, 10h, 0, 0F7h,	0E1h, 26h, 67h,	66h, 0Fh, 0B7h
seg003:4AA1		    db 7Fh, 2Eh, 53h, 0E8h, 0C7h, 0FEh,	5Bh, 5Ah, 0EBh,	0Fh
seg003:4AA1		    db 0E9h, 17h, 0F9h,	83h, 0EBh, 10h,	66h, 0Fh, 0B7h,	0FBh
seg003:4AA1		    db 1Eh, 7, 0BAh
seg003:4C35		    dw seg seg000
seg003:4C37		    db 67h, 66h, 0Fh, 0B7h, 4Dh, 1Ch, 3, 0C9h, 83h, 0F9h, 40h
seg003:4C37		    db 77h, 0E4h, 2Bh, 0D9h, 0E3h, 15h,	66h, 56h, 0FDh,	67h
seg003:4C37		    db 66h, 8Dh, 75h, 2Fh, 66h,	3, 0F1h, 4Fh, 0F3h, 67h, 36h
seg003:4C37		    db 0A4h, 67h, 47h, 0FCh, 66h, 5Eh, 8Dh, 7Dh, 0CEh, 0C3h
seg003:4C37		    db 67h, 8Eh, 5Dh, 2, 67h, 8Bh, 46h,	2Ch, 26h, 89h, 45h
seg003:4C37		    db 28h, 67h, 8Bh, 46h, 2Ah,	26h, 89h, 45h, 26h, 0B9h, 0CFh
seg003:4C37		    db 90h, 5Dh, 6Ah, 20h, 17h,	8Dh, 67h, 0CEh,	52h, 57h, 67h
seg003:4C37		    db 8Bh, 56h, 20h, 80h, 0E6h, 0FEh, 0FFh, 0E5h, 0E8h, 55h
seg003:4C37		    db 0FFh, 83h, 0C3h,	0Ch, 83h, 0C7h,	0Ch, 0B1h, 0CDh, 67h
seg003:4C37		    db 8Ah, 6Dh, 14h, 67h, 8Eh,	5Dh, 2,	68h, 0CFh, 4Ch,	0EBh
seg003:4C37		    db 0D6h, 0E8h, 3Dh,	0FFh, 83h, 0C3h, 2, 83h, 0C7h, 2, 68h
seg003:4C37		    db 0BAh, 4Ch, 0EBh,	0B1h, 0E8h, 2Fh, 0FFh, 0E8h, 0ABh
seg003:4C37		    db 0FFh, 26h, 89h, 55h, 30h, 80h, 0E6h, 0FDh, 26h, 89h
seg003:4C37		    db 55h, 2Ah, 26h, 0C7h, 45h, 2Ch, 0BDh, 1Fh, 36h, 0A1h
seg003:4C37		    db 0B6h, 9,	26h, 89h, 45h, 2Eh, 26h, 89h, 55h, 24h,	67h
seg003:4C37		    db 8Bh, 46h, 24h, 0ABh, 67h, 8Bh, 46h, 22h,	0ABh, 91h
seg003:4C37		    db 66h, 0B9h, 8, 3 dup(0), 66h, 0Fh, 0B7h, 0FFh, 0F3h
seg003:4C37		    db 67h, 66h, 0A5h, 67h, 91h, 16h, 1Fh, 8Bh,	2Eh, 96h, 9
seg003:4C37		    db 0EAh, 0A6h, 1Fh,	18h, 0,	8Bh, 2Eh, 96h, 9, 8Eh, 5Eh
seg003:4C37		    db 6, 66h, 8Bh, 7Eh, 8, 67h, 89h, 47h, 20h,	67h, 8Fh, 47h
seg003:4C37		    db 24h, 67h, 8Fh, 47h, 22h,	67h, 66h, 8Fh, 7, 67h, 66h
seg003:4C37		    db 8Fh, 47h, 4, 67h, 66h, 8Fh, 47h,	8, 66h,	83h, 0C4h
seg003:4C37		    db 4, 67h, 66h, 8Fh, 47h, 10h, 67h,	66h, 8Fh, 47h, 14h
seg003:4C37		    db 67h, 66h, 8Fh, 47h, 18h,	67h, 66h, 8Fh, 47h, 1Ch, 26h
seg003:4C37		    db 8Fh, 6, 96h, 9, 66h, 8Bh, 46h, 0Ch, 17h,	66h, 94h, 66h
seg003:4C37		    db 8Bh, 0ECh, 0E9h,	0FFh, 0F7h
seg003:4D48
seg003:4D48 ;  S	U B R O	U T I N	E 
seg003:4D48
seg003:4D48
seg003:4D48 sub_E658	    proc near		    ; CODE XREF: sub_A4E2+3p
seg003:4D48		    push    20h	; ' '
seg003:4D4A		    pop	    ds
seg003:4D4B		    assume es:nothing, ds:nothing
seg003:4D4B		    push    word ptr ds:0C14h
seg003:4D4F		    push    8
seg003:4D51		    pop	    ds
seg003:4D52		    assume ds:nothing
seg003:4D52		    mov	    bx,	cs
seg003:4D54		    mov	    cx,	[bx+2]
seg003:4D57		    mov	    al,	[bx+4]
seg003:4D5A		    mov	    ah,	[bx+7]
seg003:4D5D		    pop	    bx
seg003:4D5E		    add	    bx,	8
seg003:4D61		    mov	    [bx+2], cx
seg003:4D64		    mov	    [bx+4], al
seg003:4D67		    mov	    [bx+7], ah
seg003:4D6A		    mov	    word ptr [bx], 0FFFFh
seg003:4D6E		    mov	    byte ptr [bx+5], 92h ; ''
seg003:4D72		    mov	    ds,	bx
seg003:4D74		    assume ds:nothing
seg003:4D74		    retn
seg003:4D74 sub_E658	    endp
seg003:4D74
seg003:4D74 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:4D75		    db 90h, 0C2h dup(0), 83h, 3Eh, 76h,	4Dh, 0,	75h, 4Dh, 1Eh
seg003:4D75		    db 6Ah, 20h, 1Fh, 0B1h, 0, 86h, 0Eh, 80h, 9, 0B4h, 48h
seg003:4D75		    db 0BBh, 0,	4, 0E8h, 0DFh, 0FAh, 88h, 0Eh, 80h, 9, 1Eh
seg003:4D75		    db 7, 1Fh, 72h, 33h, 8Bh, 0F0h, 26h, 8Bh, 3Eh, 14h,	0Ch
seg003:4D75		    db 83h, 0C7h, 10h, 89h, 3Eh, 76h, 4Dh, 6Ah,	8, 7, 0B9h
seg003:4D75		    db 4, 0, 0F3h, 26h,	0A5h, 26h, 80h,	4Dh, 0FEh, 40h,	0B1h
seg003:4D75		    db 8, 2Bh, 0F1h, 0F3h, 26h,	0A4h, 26h, 88h,	4Ch, 0FDh
seg003:4D75		    db 6Ah, 50h, 7, 0C1h, 0EFh,	3, 26h,	0C6h, 45h, 0FFh, 0E1h
seg003:4D75		    db 0C3h, 0E9h, 0B2h, 0F6h, 0E8h, 0B5h, 0FEh, 0E8h, 0A2h
seg003:4D75		    db 0FFh, 0BBh, 6Ch,	4Dh, 83h, 0C3h,	0Ch, 81h, 0FBh,	38h
seg003:4D75		    db 4Eh, 73h, 0EBh, 83h, 7Fh, 4, 0, 75h, 0F1h, 67h, 66h
seg003:4D75		    db 8Bh, 45h, 8, 66h, 89h, 7, 67h, 8Bh, 45h,	0, 89h,	47h
seg003:4D75		    db 4, 67h, 66h, 8Bh, 45h, 4, 67h, 66h, 23h,	45h, 0FCh
seg003:4D75		    db 66h, 89h, 47h, 6, 67h, 8Bh, 45h,	2, 89h,	47h, 0Ah, 81h
seg003:4D75		    db 0EBh, 78h, 4Dh, 93h, 0B1h, 0Ch, 0F6h, 0F1h, 0C1h, 0E0h
seg003:4D75		    db 2, 5, 60h, 1Fh, 67h, 89h, 45h, 18h, 6Ah,	20h, 1Fh, 0A1h
seg003:4D75		    db 0B6h, 9,	67h, 89h, 45h, 1Ch, 0E9h, 5Bh, 0F6h, 6Ah, 20h
seg003:4D75		    db 1Fh, 3Bh, 0Eh, 0B6h, 9, 75h, 19h, 81h, 0EAh, 60h, 1Fh
seg003:4D75		    db 83h, 0FAh, 3Dh, 73h, 10h, 0E8h, 47h, 0FEh, 8Bh, 0DAh
seg003:4D75		    db 3, 0DBh,	0C7h, 87h, 7Ch,	4Dh, 2 dup(0), 0E9h, 39h, 0F6h
seg003:4D75		    db 0E9h, 31h, 0F6h,	0E8h, 34h, 0FEh, 5Bh, 32h, 0FFh, 8Bh
seg003:4D75		    db 0D3h, 6Bh, 0DBh,	0Ch, 0C1h, 0E2h, 3, 66h, 0C4h, 0BFh
seg003:4D75		    db 7Eh, 4Dh, 5Dh, 2	dup(45h), 26h, 67h, 89h, 6Fh, 2Eh
seg003:4D75		    db 58h, 26h, 67h, 89h, 47h,	30h, 26h, 67h, 8Fh, 47h, 20h
seg003:4D75		    db 26h, 67h, 8Fh, 47h, 24h,	26h, 67h, 8Fh, 47h, 22h, 66h
seg003:4D75		    db 0Fh, 0B7h, 0F4h,	66h, 0B9h, 8, 3	dup(0),	0F3h, 67h
seg003:4D75		    db 66h, 36h, 0A5h, 67h, 66h, 8Dh, 7Fh, 0E0h, 8Ch, 0DEh
seg003:4D75		    db 3, 0F2h,	83h, 0C6h, 18h,	0B9h, 10h, 0, 0F7h, 0E1h, 6Ah
seg003:4D75		    db 8, 1Fh, 89h, 44h, 2, 88h, 54h, 4, 88h, 74h, 7, 6Ah
seg003:4D75		    db 20h, 1Fh, 81h, 6, 16h, 0Ch, 0, 4, 2Eh, 8Eh, 16h,	76h
seg003:4D75		    db 4Dh, 66h, 0Fh, 0B7h, 26h, 16h, 0Ch, 8Eh,	0DEh, 66h
seg003:4D75		    db 0Fh, 0B7h, 0F5h,	66h, 9Ch, 6Ah, 0, 0Eh, 6Ah, 0, 68h
seg003:4D75		    db 97h, 4Fh, 66h, 2Eh, 0FFh, 0AFh, 78h, 4Dh, 0FAh, 0BBh
seg003:4D75		    db 20h, 0, 8Eh, 0D3h, 36h, 8Bh, 26h, 96h, 9, 81h, 0ECh
seg003:4D75		    db 80h, 1, 36h, 81h, 2Eh, 16h, 0Ch,	0, 4, 6, 1Fh, 67h
seg003:4D75		    db 66h, 0FFh, 77h, 1Ch, 67h, 66h, 0FFh, 77h, 18h, 67h
seg003:4D75		    db 66h, 0FFh, 77h, 14h, 67h, 66h, 0FFh, 77h, 10h, 66h
seg003:4D75		    db 83h, 0ECh, 4, 67h, 66h, 0FFh, 77h, 8, 67h, 66h, 0FFh
seg003:4D75		    db 77h, 4, 67h, 66h, 0FFh, 37h, 67h, 0FFh, 77h, 22h, 67h
seg003:4D75		    db 0FFh, 77h, 24h, 67h, 0FFh, 77h, 20h, 67h, 0FFh, 77h
seg003:4D75		    db 2Ch, 67h, 0FFh, 77h, 2Ah, 67h, 8Bh, 77h,	2Eh, 67h, 8Bh
seg003:4D75		    db 7Fh, 30h, 83h, 0EEh, 6, 8Eh, 0DBh, 0EAh,	26h, 20h, 18h
seg003:4D75		    db 0, 66h, 0CBh, 67h, 0C7h,	45h, 20h, 2 dup(0), 6Ah, 20h
seg003:4D75		    db 1Fh, 0A1h, 0B6h,	9, 67h,	89h, 45h, 14h, 67h, 0C7h, 45h
seg003:4D75		    db 1Ch, 4Ch, 20h, 67h, 8Ch,	4Dh, 8,	67h, 66h, 0C7h,	45h
seg003:4D75		    db 4, 0FBh,	4Fh, 2 dup(0), 0E9h, 24h, 0F5h,	6Ah, 20h, 1Fh
seg003:4D75		    db 0A1h, 0B6h, 9, 67h, 89h,	45h, 14h, 67h, 0C7h, 45h, 1Ch
seg003:4D75		    db 4Dh, 20h, 67h, 8Ch, 4Dh,	8, 67h,	66h, 0C7h, 45h,	4
seg003:503C		    db 43h, 50h, 2 dup(0), 0E9h, 4, 0F5h, 9Ch, 0FAh, 6Ah, 48h
seg003:503C		    db 1Fh, 8Fh, 6, 0A4h, 1Fh, 6Ah, 20h, 17h, 36h, 8Bh,	26h
seg003:503C		    db 96h, 9, 81h, 0ECh, 80h, 0, 16h, 1Fh, 60h, 0EAh, 78h
seg003:503C		    db 20h, 18h, 0, 6Ah, 20h, 1Fh, 67h,	0C7h, 45h, 20h,	5Ah
seg003:503C		    db 0, 0B9h,	1, 0, 0A1h, 2Eh, 0, 3Ch, 0Bh, 74h, 3, 80h
seg003:503C		    db 0C9h, 2,	67h, 89h, 4Dh, 14h, 67h, 88h, 65h, 1Ch,	0A1h
seg003:503C		    db 50h, 0, 86h, 0E0h, 67h, 89h, 45h, 18h, 0E9h, 0BDh, 0F4h
seg003:503C		    db 6Ah, 20h, 1Fh, 80h, 3Eh,	2Eh, 0,	0Bh, 75h, 0F3h,	0BBh
seg003:503C		    db 0FFh, 0Fh, 66h, 33h, 0C9h, 67h, 8Bh, 45h, 4, 3, 0C3h
seg003:503C		    db 67h, 8Bh, 55h, 8, 13h, 0D1h, 0F6h, 0C6h,	0FCh, 0Fh
seg003:503C		    db 85h, 0F0h, 0, 43h, 0F7h,	0F3h, 67h, 89h,	45h, 10h, 6Ah
seg003:503C		    db 38h, 7, 92h, 0C1h, 0EAh,	0Ah, 83h, 0C2h,	2, 66h,	0Fh
seg003:503C		    db 0B7h, 3Eh, 0AAh,	0, 66h,	0C1h, 0E7h, 4, 66h, 33h, 0C0h
seg003:503C		    db 81h, 0C7h, 0, 1,	8Bh, 0CBh, 2Bh,	0CFh, 80h, 0E5h, 0Fh
seg003:503C		    db 0C1h, 0E9h, 2, 2Bh, 0CAh, 0Fh, 86h, 0BEh, 0, 0F2h, 67h
seg003:503C		    db 66h, 0AFh, 8Bh, 0CAh, 0F3h, 67h,	66h, 0AFh, 75h,	0E4h
seg003:503C		    db 0C1h, 0E2h, 2, 2Bh, 0FAh, 66h, 57h, 67h,	8Bh, 4Dh, 10h
seg003:503C		    db 0C1h, 0E1h, 2, 33h, 0DBh, 0B8h, 1, 5, 0CDh, 31h,	56h
seg003:503C		    db 57h, 66h, 58h, 66h, 5Fh,	0Fh, 82h, 93h, 0, 66h, 0C1h
seg003:503C		    db 0E0h, 4,	26h, 67h, 66h, 89h, 47h, 0FCh, 66h, 57h, 8Bh
seg003:503C		    db 0FBh, 66h, 0C1h,	0E7h, 10h, 8Bh,	0F9h, 66h, 57h,	67h
seg003:503C		    db 8Bh, 45h, 14h, 66h, 0C1h, 0E0h, 10h, 67h, 8Bh, 45h
seg003:503C		    db 1Ch, 80h, 0E4h, 0F0h, 0B0h, 1Fh,	67h, 8Bh, 4Dh, 10h
seg003:503C		    db 8Bh, 0D1h, 67h, 66h, 0ABh, 67h, 66h, 5, 0, 10h, 2 dup(0)
seg003:503C		    db 0E2h, 0F4h, 8Bh,	0CAh, 0F7h, 0D9h, 80h, 0E5h, 3,	33h
seg003:503C		    db 0C0h, 0F3h, 67h,	66h, 0ABh, 66h,	0B8h, 0, 0F0h, 3Fh
seg003:503C		    db 0, 66h, 5Eh, 66h, 0C1h, 0EEh, 0Ah, 66h, 81h, 3Eh, 98h
seg003:503C		    db 3 dup(0), 4, 0, 77h, 0Ch, 66h, 0Fh, 0B7h, 6, 0AAh, 0
seg003:503C		    db 0FEh, 0C4h, 66h,	0C1h, 0E0h, 4, 66h, 3, 0F0h, 66h, 5Fh
seg003:503C		    db 8Bh, 0CAh, 81h, 0C1h, 0FFh, 3, 0C1h, 0E9h, 0Ah, 8Bh
seg003:503C		    db 0C7h, 0F3h, 67h,	66h, 26h, 0A5h,	0C1h, 0E0h, 4, 67h
seg003:503C		    db 89h, 45h, 14h, 67h, 81h,	65h, 1Ch, 0FFh,	0Fh, 0F8h
seg003:503C		    db 0Fh, 82h, 0A8h, 0F3h, 0E9h, 0AAh, 0F3h, 0F9h, 0EBh
seg003:503C		    db 0F6h, 6Ah, 20h, 1Fh, 80h, 3Eh, 2Eh, 0, 0Bh, 75h,	2 dup(67h)
seg003:503C		    db 66h, 0Fh, 0B7h, 45h, 14h, 3Dh, 0, 10h, 72h, 5Fh,	0A8h
seg003:503C		    db 3Fh, 75h, 5Bh, 67h, 0F6h, 45h, 1Dh, 0F0h, 75h, 54h
seg003:503C		    db 66h, 0Fh, 0B7h, 3Eh, 0AAh, 0, 66h, 0C1h,	0E7h, 4, 0C1h
seg003:503C		    db 0E8h, 4,	67h, 66h, 8Dh, 7Ch, 38h, 0FCh, 6Ah, 38h, 7
seg003:503C		    db 26h, 67h, 66h, 8Bh, 7, 0A8h, 0Fh, 75h, 35h, 26h,	67h
seg003:503C		    db 66h, 81h, 78h, 4, 0ADh, 0DEh, 0ADh, 0DEh, 75h, 29h
seg003:503C		    db 26h, 67h, 66h, 0Fh, 0B7h, 48h, 0Ch, 66h,	0C1h, 0E8h
seg003:503C		    db 4, 66h, 50h, 81h, 0C1h, 0, 2, 0C1h, 0E9h, 8, 66h, 33h
seg003:503C		    db 0C0h, 0F3h, 67h,	66h, 0ABh, 5Fh,	5Eh, 0B8h, 2, 5, 0CDh
seg003:503C		    db 31h, 0Fh, 82h, 31h, 0F3h, 0E9h, 33h, 0F3h, 0F9h,	0EBh
seg003:503C		    db 0F6h, 67h, 8Ah, 45h, 2Dh, 8Ah, 0E0h, 80h, 0E4h, 0FDh
seg003:503C		    db 67h, 88h, 65h, 2Dh, 0D0h, 0E8h, 24h, 1, 67h, 88h, 45h
seg003:503C		    db 20h, 0E9h, 18h, 0F3h, 67h, 8Ah, 45h, 2Dh, 8Ah, 0E0h
seg003:503C		    db 80h, 0CCh, 2, 0EBh, 0E6h, 67h, 8Ah, 45h,	2Dh, 0EBh
seg003:503C		    db 0E4h, 0Fh
seg003:5241		    db 1, 0E0h,	24h, 2,	0A2h, 1Eh, 0Ch,	6Ah, 20h, 1Fh, 0A1h
seg003:5241		    db 40h, 0, 25h, 4, 0, 38h, 26h, 1Eh, 0Ch, 7Ch, 0E9h, 0Ah
seg003:5241		    db 6, 1Eh, 0Ch, 0D1h, 0E8h,	38h, 26h, 3Eh, 0, 74h, 15h
seg003:5241		    db 0Ch, 4, 0Fh, 1, 0E1h, 0B5h, 2, 0F6h, 0C1h, 10h, 74h
seg003:5241		    db 4, 8Ah, 2Eh, 2Fh, 0, 0C0h, 0E5h,	4, 0Ah,	0C5h, 67h
seg003:5241		    db 89h, 45h, 20h, 0E9h, 0C8h, 0F2h,	6Ah, 20h, 1Fh, 67h
seg003:5241		    db 8Bh, 45h, 14h, 0D1h, 0E0h, 8Ah, 0D8h, 24h, 2, 0A2h
seg003:5241		    db 1Eh, 0Ch, 80h, 0E3h, 4, 0A1h, 40h, 0, 24h, 0FBh,	0Ah
seg003:5241		    db 0C3h, 0A3h, 40h,	0, 0Fh,	1, 0E1h, 80h, 0E1h, 0FBh, 0Ah
seg003:5241		    db 0C8h, 0Fh, 1, 0F1h, 0E9h, 9Dh, 0F2h, 61h, 2Eh, 83h
seg003:5241		    db 3Eh, 76h, 4Dh, 0, 74h, 3, 0E9h, 0EBh, 0F0h, 0E9h, 29h
seg003:5241		    db 0CCh, 83h, 0C4h,	8, 0E8h, 9, 2, 0C3h, 83h, 0C4h,	8
seg003:5241		    db 0E8h, 2 dup(2), 0C2h, 4,	0, 0CDh, 2, 66h, 0CFh, 66h
seg003:5241		    db 53h, 1Eh, 8Ch, 0D3h, 66h, 0Fh, 2, 0DBh, 66h, 0C1h, 0EBh
seg003:5241		    db 17h, 73h, 1, 66h, 8Bh, 0DCh, 36h, 67h, 66h, 0C5h, 5Bh
seg003:5241		    db 0Ah, 67h, 8Ah, 1Bh, 80h,	0FBh, 9Bh, 74h,	6, 80h,	0E3h
seg003:5241		    db 0F8h, 80h, 0FBh,	0D8h, 1Fh, 66h,	5Bh, 74h, 1, 0C3h
seg003:5241		    db 0E9h, 0F2h, 0, 66h, 53h,	8Ch, 0D3h, 66h,	0Fh, 2,	0DBh
seg003:5241		    db 66h, 0C1h, 0EBh,	17h, 73h, 1, 66h, 8Bh, 0DCh, 1Eh, 36h
seg003:5241		    db 67h, 66h, 0C5h, 5Bh, 8, 67h, 80h, 3Bh, 62h, 1Fh,	66h
seg003:5241		    db 5Bh, 74h, 0DCh, 0C3h, 8Bh, 16h, 4Ch, 0, 0EBh, 28h, 1Fh
seg003:5241		    db 5Ah, 58h, 0C3h, 0F6h, 0C1h, 0C0h, 74h, 37h, 50h,	8Ah
seg003:5241		    db 0C1h, 52h, 24h, 1Fh, 0BAh, 18h, 0, 1Eh, 8Eh, 0DAh, 3Ah
seg003:5241		    db 6, 8, 0,	74h, 0E5h, 0B8h, 20h, 0, 8Eh, 0D8h, 84h, 0C9h
seg003:5241		    db 78h, 0D6h, 8Bh, 16h, 4Ah, 0, 0F6h, 6, 82h, 15h, 1, 75h
seg003:5241		    db 0D1h, 0B0h, 0Bh,	0EEh, 1Fh, 0EBh, 0, 0EBh, 0, 0ECh
seg003:5241		    db 5Ah, 84h, 0C5h, 58h, 74h, 2, 0C3h, 90h, 83h, 0E1h, 3Fh
seg003:5241		    db 66h, 55h, 66h, 50h, 8Ch,	0D5h, 66h, 0Fh,	2, 0EDh, 66h
seg003:5241		    db 0C1h, 0EDh, 17h,	73h, 1,	66h, 8Bh, 0ECh,	67h, 66h, 8Bh
seg003:5241		    db 45h, 0Ch, 67h, 66h, 8Bh,	6Dh, 10h, 80h, 0F9h, 8,	75h
seg003:5241		    db 0Ah, 66h, 0Bh, 0C0h, 74h, 5Ch, 66h, 58h,	66h, 5Dh, 0C3h
seg003:5241		    db 66h, 56h, 66h, 8Bh, 0F0h, 66h, 83h, 0FEh, 2, 0Fh, 82h
seg003:5241		    db 48h, 0, 0Fh, 2, 0C5h, 0Fh, 85h, 41h, 0, 8Ah, 0C4h, 24h
seg003:5241		    db 8Ah, 3Ch, 8Ah, 0Fh, 85h,	37h, 0,	0C0h, 0ECh, 5, 80h
seg003:5241		    db 0E4h, 3,	53h, 8Ch, 0CBh,	80h, 0E3h, 3, 8Ah, 0C3h, 5Bh
seg003:5241		    db 3Ah, 0C4h, 0Fh, 87h, 22h, 0, 66h, 0Fh, 3, 0C5h, 66h
seg003:5241		    db 3Bh, 0F0h, 0Fh, 87h, 17h, 0, 8Ah, 0E1h, 80h, 0E4h, 1Fh
seg003:5241		    db 0B0h, 0CDh, 1Eh,	8Eh, 0DDh, 67h,	3Bh, 46h, 0FEh,	1Fh
seg003:5241		    db 66h, 5Eh, 0Fh, 85h, 4, 0, 0EBh, 0A6h, 66h, 5Eh, 66h
seg003:5241		    db 58h, 66h, 5Dh, 0F6h, 0C1h, 20h, 74h, 2, 66h, 50h, 66h
seg003:5241		    db 60h, 1Eh, 8Ch, 0D3h, 6, 66h, 0Fh, 2, 0C3h, 66h, 8Bh
seg003:5241		    db 0ECh, 66h, 0Fh, 0BAh, 0E0h, 16h,	72h, 4,	66h, 0Fh, 0B7h
seg003:5241		    db 0ECh, 67h, 8Bh, 55h, 26h, 66h, 83h, 0E1h, 20h, 74h
seg003:5241		    db 13h, 67h, 66h, 87h, 45h,	24h, 67h, 66h, 87h, 45h, 28h
seg003:5241		    db 67h, 66h, 87h, 45h, 24h,	67h, 8Bh, 55h, 26h, 67h, 89h
seg003:5241		    db 55h, 1Ch, 0FCh, 2Eh, 8Bh, 0Eh, 76h, 4Dh,	67h, 8Bh, 75h
seg003:5241		    db 24h, 0E3h, 78h, 8Eh, 0C1h, 6Ah, 20h, 1Fh, 81h, 6, 16h
seg003:5442		    db 0Ch, 0, 4, 66h, 0Fh, 0B7h, 3Eh, 16h, 0Ch, 81h, 0FFh
seg003:5442		    db 0, 40h, 77h, 5Bh, 83h, 0EFh, 2Eh, 8Dh, 44h, 0F3h, 26h
seg003:5442		    db 89h, 45h, 2Ah, 26h, 89h,	45h, 28h, 66h, 0Fh, 0B7h, 0C7h
seg003:5442		    db 67h, 87h, 45h, 4, 0ABh, 46h, 67h, 89h, 75h, 24h,	83h
seg003:5442		    db 0C6h, 0ECh, 0B9h, 4, 0, 0F3h, 2Eh, 0A5h,	0B8h, 0A3h
seg003:5442		    db 54h, 66h, 0ABh, 8Ch, 0C8h, 66h, 0ABh, 0B1h, 4, 67h
seg003:5442		    db 66h, 8Dh, 75h, 28h, 0F3h, 67h, 66h, 36h,	0A5h, 67h
seg003:5442		    db 66h, 96h, 66h, 0ABh, 8Ch, 0D0h, 0ABh, 7,	1Fh, 66h, 61h
seg003:5442		    db 2Eh, 8Eh, 16h, 76h, 4Dh,	66h, 0Fh, 0B7h,	0E7h, 5Fh
seg003:5442		    db 66h, 0CBh, 0E8h,	22h, 0,	66h, 83h, 0C4h,	6, 66h,	0CFh
seg003:5442		    db 81h, 2Eh, 16h, 0Ch, 0, 4, 67h, 83h, 45h,	24h, 0F3h
seg003:5442		    db 2Eh, 0F6h, 44h, 0FBh, 20h, 7, 1Fh, 66h, 61h, 74h, 3
seg003:5442		    db 0C2h, 6,	0, 0C2h, 2, 0, 0FAh, 0FCh, 66h,	60h, 6,	8Bh
seg003:5442		    db 0ECh, 66h, 0C4h,	7Eh, 34h, 66h, 83h, 0EFh, 18h, 66h
seg003:5442		    db 8Bh, 0C7h, 66h, 87h, 46h, 2, 67h, 66h, 0ABh, 67h, 90h
seg003:5442		    db 8Bh, 46h, 3Ch, 8Bh, 46h,	3Ah, 66h, 8Dh, 76h, 22h, 66h
seg003:5442		    db 0B9h, 4,	3 dup(0), 67h, 36h, 0A5h, 67h, 0ABh, 0F3h
seg003:5442		    db 67h, 66h, 36h, 0A5h, 6Ah, 20h, 7, 26h, 81h, 2Eh,	16h
seg003:5442		    db 0Ch, 0, 4, 7, 66h, 61h, 83h, 0C4h, 16h, 17h, 66h, 8Bh
seg003:5442		    db 0E7h, 66h, 5Fh, 0C3h, 66h, 43h, 0EBh, 1Ah, 50h, 66h
seg003:5442		    db 53h, 1Eh, 66h, 55h, 8Ch,	0D5h, 66h, 0Fh,	2, 0EDh, 66h
seg003:5442		    db 0C1h, 0EDh, 17h,	73h, 1,	66h, 8Bh, 0ECh,	67h, 66h, 0C5h
seg003:5442		    db 5Dh, 0Ch, 67h, 8Bh, 3, 3Ch, 26h,	74h, 0DBh, 3Ch,	36h
seg003:5442		    db 74h, 0D7h, 3Ch, 2Eh, 74h, 0D3h, 3Ch, 3Eh, 74h, 0CFh
seg003:5442		    db 3Ch, 64h, 72h, 4, 3Ch, 67h, 76h,	0C7h, 3Dh, 0DBh, 0E3h
seg003:5442		    db 74h, 25h, 3Dh, 0DFh, 0E0h, 74h, 20h, 0Ch, 4, 3Ch, 0DDh
seg003:5442		    db 75h, 2Bh, 8Ah, 0C4h, 80h, 0E4h, 38h, 80h, 0FCh, 38h
seg003:5442		    db 75h, 21h, 3Ch, 3Eh, 74h,	8, 24h,	0C0h, 74h, 8, 7Ah
seg003:5442		    db 6, 79h, 2, 66h, 43h, 66h, 43h, 66h, 43h,	66h, 43h, 67h
seg003:5442		    db 66h, 89h, 5Dh, 0Ch, 66h,	5Dh, 1Fh, 66h, 5Bh, 58h, 66h
seg003:5442		    db 0CFh, 66h, 5Dh, 1Fh, 66h, 5Bh, 58h, 0EAh, 7Dh, 20h
seg003:5442		    db 18h, 0, 56h, 57h, 1Eh, 0B8h, 6, 0, 8Ch, 0CBh, 0CDh
seg003:5442		    db 31h, 40h, 0BBh, 60h, 0, 0CDh, 31h, 0A1h,	50h, 0,	8Eh
seg003:5442		    db 0DBh, 93h, 0BEh,	5, 44h,	0BFh, 29h, 42h,	33h, 0C9h
seg003:5442		    db 0ACh, 92h, 8Ah, 0F2h, 80h, 0E2h,	20h, 0B8h, 0C0h, 52h
seg003:5442		    db 75h, 3, 0B8h, 0B9h, 52h,	89h, 5,	0C7h, 45h, 2, 2	dup(0)
seg003:5442		    db 8Ch, 4Dh, 4, 0B4h, 40h, 8Ah, 0C1h, 2Ah, 0C3h, 3Ch, 8
seg003:5442		    db 72h, 8, 8Ah, 0C1h, 2Ah, 0C7h, 0D0h, 0E4h, 75h, 0F4h
seg003:5442		    db 0Ah, 0D4h, 0Ah, 0D1h, 88h, 55h, 0Eh, 80h, 0F9h, 8, 72h
seg003:5442		    db 17h, 80h, 0F9h, 0Fh, 74h, 12h, 84h, 0E4h, 0B8h, 28h
seg003:5442		    db 53h, 75h, 3, 0B8h, 0EEh,	53h, 2Bh, 0C7h,	2Dh, 13h, 0
seg003:5442		    db 89h, 45h, 11h, 6Bh, 0C1h, 4, 0F6h, 0C6h,	1, 0Fh,	85h
seg003:5442		    db 14h, 0, 0F6h, 0C6h, 2, 0Fh, 84h,	5, 0, 0ADh, 92h, 0ADh
seg003:5442		    db 0EBh, 0Dh, 5, 3Ch, 0Ch, 0BAh, 18h, 0, 0EBh, 2 dup(5)
seg003:5442		    db 2 dup(0), 8Ch, 0CAh, 89h, 45h, 16h, 0C7h, 45h, 18h
seg003:5442		    db 2 dup(0), 89h, 55h, 1Ah,	41h, 83h, 0C7h,	1Ch, 83h, 0F9h
seg003:5442		    db 10h, 0Fh, 86h, 79h, 0FFh, 1Eh, 7, 1Fh, 0F6h, 6, 47h
seg003:5442		    db 0, 1, 74h, 17h, 0BFh, 0F0h, 43h,	0B8h, 0C9h, 52h
seg003:5648		    db 0ABh, 0B8h, 70h,	0, 0ABh, 0BFh, 0FAh, 43h, 0B8h,	0D1h
seg003:5648		    db 0Eh, 0ABh, 0B8h,	83h, 1Ah, 0EBh,	8, 80h,	0FFh, 10h
seg003:5648		    db 75h, 0Dh, 0B8h, 80h, 7Dh, 0BFh, 0FFh, 43h, 0ABh,	2 dup(47h)
seg003:5648		    db 0B8h, 70h, 0, 0ABh, 5Fh,	5Eh, 0EAh, 89h,	20h, 18h, 0Fh dup(0)
seg003:5680 word_EF90	    dw 20h		    ; DATA XREF: sub_A1A9+1r
seg003:5680					    ; seg003:0C0Fr ...
seg003:5682 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:5682		    call    sub_D462
seg003:5685		    add	    sp,	6
seg003:5688		    pop	    cx
seg003:5689		    sub	    sp,	4
seg003:568C		    push    word ptr ds:0C26h
seg003:5690		    push    cx
seg003:5691		    retf
seg003:5691 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:5692		    db 6, 1Eh, 60h, 6Ah, 0, 6Ah, 0, 8Bh, 0ECh, 16h, 55h, 16h
seg003:5692		    db 55h, 8Bh, 5Eh, 18h, 2Eh,	8Ah, 7,	32h, 0E4h, 50h,	2Eh
seg003:5692		    db 8Eh, 1Eh, 80h, 56h, 0FFh, 1Eh, 22h, 0, 83h, 0C4h, 0Eh
seg003:5692		    db 89h, 46h, 20h, 61h, 1Fh,	7, 2 dup(44h), 66h, 0CFh, 9Ch
seg003:5692		    db 83h, 0ECh, 8, 55h, 53h, 50h, 1Eh, 8Bh, 0ECh, 8Bh, 5Eh
seg003:5692		    db 12h, 8Bh, 46h, 10h, 89h,	46h, 12h, 89h, 46h, 0Ch, 8Ch
seg003:5692		    db 4Eh, 10h, 0C7h, 46h, 0Eh, 0F2h, 56h, 2Eh, 8Eh, 1Eh
seg003:5692		    db 80h, 56h, 8Bh, 47h, 3, 89h, 46h,	0Ah, 8Bh, 47h, 1, 89h
seg003:5692		    db 46h, 8, 1Fh, 58h, 5Bh, 5Dh, 0CFh, 66h, 0CFh
seg003:56F4 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:56F4		    push    bp
seg003:56F5		    mov	    bp,	sp
seg003:56F7		    mov	    bx,	[bp+6]
seg003:56FA		    mov	    cx,	[bp+4]
seg003:56FD		    pop	    bp
seg003:56FE		    mov	    ax,	501h
seg003:5701		    push    esi
seg003:5703		    push    edi
seg003:5705		    int	    31h		    ; DPMI Services   ax=func xxxxh
seg003:5705					    ; ALLOCATE MEMORY BLOCK
seg003:5705					    ; BX:CX = size in bytes
seg003:5705					    ; Return: CF set on	error
seg003:5705					    ; CF clear if successful
seg003:5707		    mov	    ds:1202h, di
seg003:570B		    mov	    ds:1204h, si
seg003:570F		    pop	    edi
seg003:5711		    pop	    esi
seg003:5713		    jb	    short loc_F029
seg003:5715		    mov	    dx,	bx
seg003:5717		    xchg    ax,	cx
seg003:5718		    retn
seg003:5719 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:5719
seg003:5719 loc_F029:				    ; CODE XREF: seg003:5713j
seg003:5719		    xor	    ax,	ax
seg003:571B		    cwd
seg003:571C		    retn
seg003:571C ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:571D		    db 66h, 57h, 66h, 33h, 0FFh, 83h, 0ECh, 30h, 8Bh, 0FCh
seg003:571D		    db 16h, 7, 0B8h, 0,	5, 0CDh, 31h, 36h, 8Bh,	4Dh, 8,	36h
seg003:571D		    db 8Bh, 5, 36h, 8Bh, 55h, 2, 83h, 0C4h, 30h, 66h, 5Fh
seg003:571D		    db 72h, 0D9h, 89h, 0Eh, 0DEh, 11h, 0C3h, 0Bh dup(0)
seg003:5750
seg003:5750 ;  S	U B R O	U T I N	E 
seg003:5750
seg003:5750
seg003:5750 sub_F060	    proc far		    ; CODE XREF: sub_F0C8-Ep
seg003:5750		    push    cx
seg003:5751		    mov	    cx,	ds:0DEEh
seg003:5755		    dec	    cx
seg003:5756		    jnz	    short loc_F0AB
seg003:5758		    mov	    ax,	0DE04h
seg003:575B
seg003:575B loc_F06B:				    ; CODE XREF: sub_F060+4Ej
seg003:575B		    call    large [fword ptr ds:0D5Ah]
seg003:5760		    cli
seg003:5761		    or	    ah,	ah
seg003:5763		    mov	    ax,	0
seg003:5766		    jnz	    short loc_F0A9
seg003:5768
seg003:5768 loc_F078:				    ; CODE XREF: sub_F060+29j
seg003:5768		    cmp	    edi, ebx
seg003:576B		    jnb	    short loc_F0A9
seg003:576D		    test    byte ptr es:[edi+1], 8
seg003:5773		    jz	    short loc_F08B
seg003:5775		    add	    edi, 4
seg003:5779		    jmp	    short loc_F078
seg003:577B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:577B
seg003:577B loc_F08B:				    ; CODE XREF: sub_F060+23j
seg003:577B		    xchg    eax, edx
seg003:577D		    mov	    edx, 1000h
seg003:5783		    or	    ax,	807h
seg003:5786
seg003:5786 loc_F096:				    ; CODE XREF: sub_F060+47j
seg003:5786		    stos    dword ptr es:[edi]
seg003:5789		    db	    67h
seg003:5789		    add	    eax, edx
seg003:578D		    inc	    word ptr ds:0DF6h
seg003:5791		    add	    ds:0AA8h, edx
seg003:5796		    dec	    cx
seg003:5797		    jns	    short loc_F096
seg003:5799
seg003:5799 loc_F0A9:				    ; CODE XREF: sub_F060+16j
seg003:5799					    ; sub_F060+1Bj
seg003:5799		    pop	    cx
seg003:579A		    retf
seg003:579B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:579B
seg003:579B loc_F0AB:				    ; CODE XREF: sub_F060+6j
seg003:579B		    mov	    ax,	0DF00h
seg003:579E		    jmp	    short loc_F06B
seg003:579E sub_F060	    endp
seg003:579E
seg003:57A0 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:57A0 ; START OF FUNCTION	CHUNK FOR sub_F0C8
seg003:57A0
seg003:57A0 loc_F0B0:				    ; CODE XREF: sub_F0C8+5Dj
seg003:57A0		    test    byte ptr ds:1582h, 1
seg003:57A5		    jnz	    loc_F141
seg003:57A9		    push    cs
seg003:57AA		    call    near ptr sub_F060
seg003:57AD		    or	    ax,	ax
seg003:57AF		    jz	    loc_F13E
seg003:57B3		    pop	    ax
seg003:57B4		    inc	    ax
seg003:57B5		    push    ax
seg003:57B6		    jmp	    short loc_F12B
seg003:57B6 ; END OF FUNCTION CHUNK FOR	sub_F0C8
seg003:57B8
seg003:57B8 ;  S	U B R O	U T I N	E 
seg003:57B8
seg003:57B8 ; Attributes: bp-based frame
seg003:57B8
seg003:57B8 sub_F0C8	    proc far		    ; CODE XREF: sub_BBCB+A5p
seg003:57B8					    ; sub_C08C+9Bp ...
seg003:57B8
seg003:57B8 var_4	    = word ptr -4
seg003:57B8 arg_2	    = dword ptr	 6
seg003:57B8 arg_6	    = dword ptr	 0Ah
seg003:57B8
seg003:57B8 ; FUNCTION CHUNK AT	seg003:57A0 SIZE 00000018 BYTES
seg003:57B8
seg003:57B8		    pop	    ax
seg003:57B9		    push    cs
seg003:57BA		    push    ax
seg003:57BB		    push    bp
seg003:57BC		    mov	    bp,	sp
seg003:57BE		    pushad
seg003:57C0		    push    fs
seg003:57C2		    push    gs
seg003:57C4		    push    0
seg003:57C6		    call    far	ptr 18h:2AEBh
seg003:57CB		    mov	    edi, [bp+arg_2]
seg003:57CF		    shr	    edi, 6
seg003:57D3		    add	    edi, esi
seg003:57D6		    mov	    ecx, [bp+arg_6]
seg003:57DA		    shr	    ecx, 6
seg003:57DE		    add	    ecx, esi
seg003:57E1		    mov	    ebx, ds:9Ch
seg003:57E6		    movsx   eax, word ptr ds:0DF0h
seg003:57EC		    not	    eax
seg003:57EF		    add	    ebx, eax
seg003:57F2		    and	    bx,	ds:0DF0h
seg003:57F6		    shr	    ebx, 6
seg003:57FA		    add	    ebx, esi
seg003:57FD		    cmp	    ecx, ebx
seg003:5800		    jnb	    short loc_F141
seg003:5802		    mov	    ax,	0FFFCh
seg003:5805		    and	    di,	ax
seg003:5807		    and	    cx,	ax
seg003:5809
seg003:5809 loc_F119:				    ; CODE XREF: sub_F0C8+66j
seg003:5809		    mov	    ax,	es:[edi]
seg003:580D		    and	    ax,	ds:0DF2h
seg003:5811		    cmp	    ax,	ds:0DF2h
seg003:5815		    jnz	    short loc_F0B0
seg003:5817		    add	    edi, 4
seg003:581B
seg003:581B loc_F12B:				    ; CODE XREF: sub_F0C8-2j
seg003:581B		    cmp	    edi, ecx
seg003:581E		    jbe	    short loc_F119
seg003:5820		    call    sub_F146
seg003:5823
seg003:5823 loc_F133:				    ; CODE XREF: sub_F0C8+7Cj
seg003:5823		    pop	    [bp+var_4]
seg003:5826		    pop	    gs
seg003:5828		    pop	    fs
seg003:582A		    popad
seg003:582C		    pop	    bp
seg003:582D		    retf
seg003:582E ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:582E
seg003:582E loc_F13E:				    ; CODE XREF: sub_F0C8-9j
seg003:582E		    call    sub_F146
seg003:5831
seg003:5831 loc_F141:				    ; CODE XREF: sub_F0C8-13j
seg003:5831					    ; sub_F0C8+48j
seg003:5831		    pop	    ax
seg003:5832		    push    0FFFFh
seg003:5834		    jmp	    short loc_F133
seg003:5834 sub_F0C8	    endp
seg003:5834
seg003:5836
seg003:5836 ;  S	U B R O	U T I N	E 
seg003:5836
seg003:5836
seg003:5836 sub_F146	    proc near		    ; CODE XREF: sub_F0C8+68p
seg003:5836					    ; sub_F0C8:loc_F13Ep
seg003:5836		    sub	    edi, esi
seg003:5839		    shl	    edi, 6
seg003:583D		    movzx   eax, word ptr ds:0A2h
seg003:5843		    shl	    eax, 4
seg003:5847		    movzx   ebx, word ptr ds:0A0h
seg003:584D		    lea	    ebx, [eax+ebx+14h]
seg003:5853		    mov	    esi, es:[ebx]
seg003:5858		    mov	    eax, ds:0ACh
seg003:585C		    cmp	    eax, esi
seg003:585F		    ja	    short loc_F173
seg003:5861		    xchg    eax, esi
seg003:5863
seg003:5863 loc_F173:				    ; CODE XREF: sub_F146+29j
seg003:5863		    cmp	    eax, edi
seg003:5866		    ja	    short loc_F17A
seg003:5868		    xchg    eax, edi
seg003:586A
seg003:586A loc_F17A:				    ; CODE XREF: sub_F146+30j
seg003:586A		    mov	    es:[ebx], eax
seg003:586F		    mov	    ds:0ACh, eax
seg003:5873		    retn
seg003:5873 sub_F146	    endp
seg003:5873
seg003:5874
seg003:5874 ;  S	U B R O	U T I N	E 
seg003:5874
seg003:5874
seg003:5874 sub_F184	    proc near		    ; CODE XREF: sub_BE00+275p
seg003:5874
seg003:5874 ; FUNCTION CHUNK AT	seg002:10F7 SIZE 00000020 BYTES
seg003:5874
seg003:5874		    pop	    ax
seg003:5875		    push    cs
seg003:5876		    push    ax
seg003:5877		    jmp	    far	ptr 18h:2B47h
seg003:5877 sub_F184	    endp
seg003:5877
seg003:587C
seg003:587C ;  S	U B R O	U T I N	E 
seg003:587C
seg003:587C
seg003:587C sub_F18C	    proc near		    ; CODE XREF: sub_BBCB+8Ap
seg003:587C					    ; seg003:3D1Ap
seg003:587C		    mov	    al,	ds:1582h
seg003:587F		    and	    al,	1
seg003:5881		    cbw
seg003:5882		    retn
seg003:5882 sub_F18C	    endp
seg003:5882
seg003:5883
seg003:5883 ;  S	U B R O	U T I N	E 
seg003:5883
seg003:5883 ; Attributes: bp-based frame
seg003:5883
seg003:5883 sub_F193	    proc near		    ; CODE XREF: seg003:3DAFp
seg003:5883
seg003:5883 arg_12	    = word ptr	14h
seg003:5883 arg_1A	    = word ptr	1Ch
seg003:5883 arg_20	    = dword ptr	 22h
seg003:5883 arg_24	    = dword ptr	 26h
seg003:5883
seg003:5883		    pushad
seg003:5885		    mov	    bp,	sp
seg003:5887		    push    38h	; '8'
seg003:5889		    pop	    es
seg003:588A		    assume es:nothing
seg003:588A		    movzx   ebx, word ptr ds:0AAh
seg003:5890		    shl	    ebx, 4
seg003:5894		    mov	    esi, 3FF000h
seg003:589A		    cmp	    byte ptr ds:0DFFh, 0
seg003:589F		    jnz	    short loc_F1BB
seg003:58A1		    mov	    esi, ebx
seg003:58A4		    add	    esi, 1000h
seg003:58AB
seg003:58AB loc_F1BB:				    ; CODE XREF: sub_F193+1Cj
seg003:58AB		    mov	    edi, ds:0ACh
seg003:58B0		    inc	    edi
seg003:58B2		    shr	    edi, 6
seg003:58B6		    mov	    ecx, [bp+arg_24]
seg003:58BA		    shr	    ecx, 0Ah
seg003:58BE		    add	    cx,	di
seg003:58C0		    mov	    eax, [bp+arg_20]
seg003:58C4		    add	    eax, 1000h
seg003:58CA		    dec	    eax
seg003:58CC		    and	    ax,	0F000h
seg003:58CF		    or	    ax,	0C07h
seg003:58D2
seg003:58D2 loc_F1E2:				    ; CODE XREF: sub_F193+96j
seg003:58D2		    cmp	    di,	cx
seg003:58D4		    jnb	    short loc_F22B
seg003:58D6		    mov	    edx, edi
seg003:58D9		    shr	    edx, 0Ch
seg003:58DD		    test    byte ptr es:[ebx+edx*4], 1
seg003:58E3		    jnz	    short loc_F211
seg003:58E5		    sub	    cx,	4
seg003:58E8		    mov	    es:[ebx+edx*4], eax
seg003:58EE		    cmp	    byte ptr ds:0DFFh, 0
seg003:58F3		    jz	    short loc_F223
seg003:58F5		    mov	    es:[esi+edx*4+0FFCh], eax
seg003:58FF		    jmp	    short loc_F223
seg003:5901 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:5901
seg003:5901 loc_F211:				    ; CODE XREF: sub_F193+60j
seg003:5901		    mov	    es:[esi+edi], eax
seg003:5907		    add	    di,	4
seg003:590A		    add	    dword ptr ds:0AA8h,	1000h
seg003:5913
seg003:5913 loc_F223:				    ; CODE XREF: sub_F193+70j
seg003:5913					    ; sub_F193+7Cj
seg003:5913		    add	    eax, 1000h
seg003:5919		    jmp	    short loc_F1E2
seg003:591B ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:591B
seg003:591B loc_F22B:				    ; CODE XREF: sub_F193+51j
seg003:591B		    shl	    edi, 6
seg003:591F		    xchg    edi, ds:0ACh
seg003:5924		    shl	    edi, 4
seg003:5928		    mov	    [bp+arg_1A], di
seg003:592B		    shr	    edi, 10h
seg003:592F		    mov	    [bp+arg_12], di
seg003:5932		    popad
seg003:5934		    retn
seg003:5934 sub_F193	    endp
seg003:5934
seg003:5935
seg003:5935 ;  S	U B R O	U T I N	E 
seg003:5935
seg003:5935
seg003:5935 sub_F245	    proc near		    ; CODE XREF: sub_D735+11p
seg003:5935		    xor	    cx,	cx
seg003:5937		    mov	    ch,	ds:0E00h
seg003:593B		    jcxz    short loc_F264
seg003:593D		    cmp	    ds:0DFFh, cl
seg003:5941		    jz	    short loc_F256
seg003:5943		    mov	    cx,	0FFF8h
seg003:5946
seg003:5946 loc_F256:				    ; CODE XREF: sub_F245+Cj
seg003:5946		    push    eax
seg003:5948		    mov	    eax, ds:0ACh
seg003:594C		    shr	    eax, 6
seg003:5950		    sub	    cx,	ax
seg003:5952		    pop	    eax
seg003:5954
seg003:5954 loc_F264:				    ; CODE XREF: sub_F245+6j
seg003:5954		    xchg    ax,	cx
seg003:5955		    retn
seg003:5955 sub_F245	    endp
seg003:5955
seg003:5955 ; ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
seg003:5956		    align 10h
seg003:5960		    db 0E8h, 9Dh, 0AAh,	67h
seg003:5960 seg003	    ends
seg003:5960
seg004:0000 ; อออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออ
seg004:0000
seg004:0000 ; Segment type: Zero-length
seg004:0000 seg004	    segment byte public	'' use16
seg004:0000 seg004	    ends
seg004:0000
seg004:0000
seg004:0000		    end	start
